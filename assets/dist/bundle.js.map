{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./src/array.test.ts","webpack:///./src/basic.test.ts","webpack:///./src/child.test.ts","webpack:///./src/content.test.ts","webpack:///./src/counters.test.ts","webpack:///./src/elmSelectors.ts","webpack:///./src/expect.html.ts","webpack:///./src/expect.ts","webpack:///./src/funInProps.test.ts","webpack:///./src/last.test.ts","webpack:///./src/mirror.test.ts","webpack:///./src/oneRender.test.ts","webpack:///./src/props.test.ts","webpack:///./src/providers.test.ts","webpack:///./src/start.test.ts","webpack:///./src/tagSwitch.test.ts","webpack:///./src/todos.test.ts","webpack:///./src/watch.test.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./node_modules/taggedjs/js/tag/ValueTypes.enum.js","webpack:///./node_modules/taggedjs/js/isInstance.js","webpack:///./node_modules/taggedjs/js/subject/combineLatest.function.js","webpack:///./node_modules/taggedjs/js/subject/subject.utils.js","webpack:///./node_modules/taggedjs/js/subject/Subject.class.js","webpack:///./node_modules/taggedjs/js/tag/update/getNewGlobal.function.js","webpack:///./node_modules/taggedjs/js/subject/ValueSubject.js","webpack:///./node_modules/taggedjs/js/state/setUse.function.js","webpack:///./node_modules/taggedjs/js/errors.js","webpack:///./node_modules/taggedjs/js/state/state.utils.js","webpack:///./node_modules/taggedjs/js/state/state.function.js","webpack:///./node_modules/taggedjs/js/state/syncStates.function.js","webpack:///./node_modules/taggedjs/js/state/watch.function.js","webpack:///./node_modules/taggedjs/js/state/subject.function.js","webpack:///./node_modules/taggedjs/js/state/letState.function.js","webpack:///./node_modules/taggedjs/js/state/providers.js","webpack:///./node_modules/taggedjs/js/deepFunctions.js","webpack:///./node_modules/taggedjs/js/tag/isLikeTags.function.js","webpack:///./node_modules/taggedjs/js/tag/tagRunner.js","webpack:///./node_modules/taggedjs/js/tag/getValueType.function.js","webpack:///./node_modules/taggedjs/js/tag/cloneValueArray.function.js","webpack:///./node_modules/taggedjs/js/tag/destroy.support.js","webpack:///./node_modules/taggedjs/js/tag/TemplaterResult.class.js","webpack:///./node_modules/taggedjs/js/tag/textNode.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/elementInitCheck.js","webpack:///./node_modules/taggedjs/js/tag/update/afterChildrenBuilt.function.js","webpack:///./node_modules/taggedjs/js/tag/paint.function.js","webpack:///./node_modules/taggedjs/js/interpolations/subscribeToTemplate.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTag.function.js","webpack:///./node_modules/taggedjs/js/updateBeforeTemplate.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTagResult.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processFirstSubjectComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/update/validateTemplater.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processFirstSubjectValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/oneRenderToSupport.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processNewValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTagArray.js","webpack:///./node_modules/taggedjs/js/tag/hasPropChanges.function.js","webpack:///./node_modules/taggedjs/js/tag/destroyTag.function.js","webpack:///./node_modules/taggedjs/js/alterProp.function.js","webpack:///./node_modules/taggedjs/js/tag/update/updateExistingTagComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/hasSupportChanged.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processRegularValue.function.js","webpack:///./node_modules/taggedjs/js/tag/checkDestroyPrevious.function.js","webpack:///./node_modules/taggedjs/js/tag/update/updateExistingValue.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/specialAttribute.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/howToSetInputValue.function.js","webpack:///./node_modules/taggedjs/js/state/handleProviderChanges.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/getUpTags.function.js","webpack:///./node_modules/taggedjs/js/state/providersChangeCheck.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/renderTagArray.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/bindSubjectCallback.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/processNameValueAttribute.function.js","webpack:///./node_modules/taggedjs/js/interpolations/attributes/processAttribute.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/metaAttachDomElements.function.js","webpack:///./node_modules/taggedjs/js/tag/Support.class.js","webpack:///./node_modules/taggedjs/js/tag/domMetaCollector.js","webpack:///./node_modules/taggedjs/js/tag/getStringsId.function.js","webpack:///./node_modules/taggedjs/js/tag/isLastRunMatched.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/htmlInterpolationToDomMeta.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/restorePlaceholders.function.js","webpack:///./node_modules/taggedjs/js/tag/elementDestroyCheck.function.js","webpack:///./node_modules/taggedjs/js/tag/update/updateContextItem.function.js","webpack:///./node_modules/taggedjs/js/tag/html.js","webpack:///./node_modules/taggedjs/js/tag/getTagWrap.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderTagOnly.function.js","webpack:///./node_modules/taggedjs/js/tag/render/softDestroySupport.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderWithSupport.function.js","webpack:///./node_modules/taggedjs/js/tag/render/destroyUnlikeTags.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderExistingTag.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderSupport.function.js","webpack:///./node_modules/taggedjs/js/state/callbackStateUpdate.function.js","webpack:///./node_modules/taggedjs/js/state/callbackMaker.function.js","webpack:///./node_modules/taggedjs/js/state/onInit.js","webpack:///./node_modules/taggedjs/js/state/onDestroy.js","webpack:///./node_modules/taggedjs/js/tag/getSupportInCycle.function.js","webpack:///./node_modules/taggedjs/js/tag/Tag.class.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/replacePlaceholders.function.js","webpack:///./node_modules/taggedjs/js/tag/tag.utils.js","webpack:///./node_modules/taggedjs/js/tag/tag.js","webpack:///./node_modules/taggedjs/js/tag/key.js","webpack:///./node_modules/taggedjs/js/tag/tagElement.js","webpack:///./node_modules/taggedjs/js/index.js","webpack:///./src/attributeDebug.component.ts","webpack:///./src/ContentDebug.component.ts","webpack:///./node_modules/taggedjs/js/subject/will.functions.js","webpack:///./src/tableDebug.component.ts","webpack:///./src/intervalDebug.ts","webpack:///./node_modules/taggedjs-animate-css/js/createFx.function.js","webpack:///./node_modules/taggedjs-animate-css/js/index.js","webpack:///./src/tagJsDebug.ts","webpack:///./src/renderCount.component.ts","webpack:///./src/tagSwitchDebug.component.ts","webpack:///./src/mirroring.tag.ts","webpack:///./src/innerHtmlTests.ts","webpack:///./src/childTests.ts","webpack:///./src/mouseover.tag.ts","webpack:///./src/countersDebug.ts","webpack:///./src/providerDialog.tag.ts","webpack:///./src/providerDebug.ts","webpack:///./src/watchTesting.tag.ts","webpack:///./src/oneRender.tag.ts","webpack:///./src/arrayFun.tag.ts","webpack:///./src/funInPropsChild.tag.ts","webpack:///./src/addArrayComponent.tag.ts","webpack:///./src/funInProps.tag.ts","webpack:///./src/todo/components/input.ts","webpack:///./src/todo/constants.ts","webpack:///./src/todo/components/header.ts","webpack:///./src/todo/components/item.ts","webpack:///./src/todo/components/main.ts","webpack:///./src/todo/components/footer.ts","webpack:///./src/todo/reducer.ts","webpack:///./src/todo/todos.app.ts","webpack:///./src/statePropDebug.tag.ts","webpack:///./src/PropsDebug.tag.ts","webpack:///./node_modules/taggedjs/js/state/letProp.function.js","webpack:///./src/arrayScoreData.tag.ts","webpack:///./src/arrayTests.ts","webpack:///./src/app.tag.ts","webpack:///./src/tests.ts","webpack:///./src/isolatedApp.ts","webpack:///./src/isolatedApp.test.ts","webpack:///./src/app.function.ts"],"sourcesContent":["import { byId, elmCount } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\ndescribe('array testing', () => {\n    it('array basics', () => {\n        expect(elmCount('#array-test-push-item')).toBe(1);\n        const insideCount = elmCount('#score-data-0-1-inside-button');\n        expect(insideCount).toBe(0);\n        expect(elmCount('#score-data-0-1-outside-button')).toBe(0);\n        // add player 0\n        byId('array-test-push-item').click();\n        expect(elmCount('#score-data-0-1-inside-button')).toBe(1);\n        expect(elmCount('#score-data-0-1-outside-button')).toBe(1);\n        const insideElm = byId('score-data-0-1-inside-button');\n        const insideDisplay = byId('score-data-0-1-inside-display');\n        let indexValue = insideDisplay.innerText;\n        const outsideElm = byId('score-data-0-1-outside-button');\n        const outsideDisplay = byId('score-data-0-1-outside-display');\n        const outsideValue = outsideDisplay.innerText;\n        expect(indexValue).toBe(outsideValue);\n        // score for player 0\n        insideElm.click();\n        expect(insideDisplay.innerText).toBe(outsideDisplay.innerText);\n        expect(insideDisplay).toBe(byId('score-data-0-1-inside-display'), 'test element #score-data-0-1-inside-display was not redrawn');\n        expect(indexValue).toBe((Number(insideDisplay.innerText) - 1).toString());\n        expect(indexValue).toBe((Number(outsideDisplay.innerText) - 1).toString());\n        // score for player 0\n        outsideElm.click();\n        expect(insideDisplay.innerText).toBe(outsideDisplay.innerText);\n        expect(indexValue).toBe((Number(insideDisplay.innerText) - 2).toString());\n        expect(indexValue).toBe((Number(outsideDisplay.innerText) - 2).toString());\n    });\n    it(' deletes', async () => {\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(0);\n        expect(elmCount('#player-edit-btn-0')).toBe(1);\n        await byId('player-edit-btn-0').onclick();\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(1);\n        const result = await byId('player-remove-promise-btn-0').onclick();\n        expect(result).toBe('promise-no-data-ever');\n        await delay(1000); // animation\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(0);\n        expect(elmCount('#player-edit-btn-0')).toBe(0);\n    });\n});\nfunction delay(time) {\n    return new Promise((res) => setTimeout(res, time));\n}\n","import { byId } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nit('elements exists', () => {\n    expect(byId('h1-app')).toBeDefined();\n    const toggleTest = byId('toggle-test');\n    expect(toggleTest).toBeDefined();\n    expect(toggleTest.innerText).toBe('toggle test');\n});\nit('toggle test', () => {\n    const toggleTest = byId('toggle-test');\n    toggleTest.click();\n    expect(toggleTest.innerText).toBe('toggle test true');\n    toggleTest.click();\n    expect(toggleTest.innerText).toBe('toggle test');\n    const propsTextarea = byId('props-debug-textarea');\n    expect(propsTextarea.value.replace(/\\s/g, '')).toBe(`{\"test\":33,\"x\":\"y\"}`);\n});\n","import { it } from \"./expect\";\nimport { testCounterElements, testDuelCounterElements } from \"./expect.html\";\nit('child tests', () => {\n    testCounterElements('#innerHtmlPropsTest-button', '#innerHtmlPropsTest-display');\n    testCounterElements('#innerHtmlTest-counter-button', '#innerHtmlTest-counter-display');\n    testDuelCounterElements(['#childTests-button', '#childTests-display'], ['#child-as-prop-test-button', '#child-as-prop-test-display'], ['#innerHtmlPropsTest-childTests-button', '#innerHtmlPropsTest-childTests-display']);\n    testDuelCounterElements(['#childTests-button', '#childTests-display'], ['#innerHtmlTest-childTests-button', '#innerHtmlTest-childTests-display']);\n});\n","import { click, html, query } from \"./elmSelectors\";\nimport { expect, describe, it } from \"./expect\";\nimport { expectMatchedHtml } from \"./expect.html\";\ndescribe('content', () => {\n    it('basic', () => {\n        expectMatchedHtml('#content-subject-pipe-display0', '#content-subject-pipe-display1');\n        expectMatchedHtml('#content-combineLatest-pipe-display0', '#content-combineLatest-pipe-display1');\n        expect(html('#content-dom-parse-0-0')).toBe(html('#content-dom-parse-0-1'));\n    });\n    it('html', () => {\n        expectMatchedHtml('#content-combineLatest-pipeHtml-display0', '#content-combineLatest-pipeHtml-display1');\n    });\n    it('spacing', () => {\n        expect(html('#hello-big-dom-world')).toBe('hello <b>big</b> world');\n        expect(html('#hello-big-string-world')).toBe('hello <b>big</b> world');\n        expect(html('#hello-spacing-dom-world')).toBe('54 hello worlds');\n    });\n    it('style.', async () => {\n        expect(query('#style-simple-border-orange')[0].style.border).toBe('3px solid orange');\n        expect(query('#style-var-border-orange')[0].style.border).toBe('3px solid orange');\n        expect(query('#style-toggle-border-orange')[0].style.border).toBe('3px solid orange');\n        await click('#toggle-border-orange');\n        expect(query('#style-toggle-border-orange')[0].style.border).toBe('3px solid green');\n        await click('#toggle-border-orange');\n        expect(query('#style-toggle-border-orange')[0].style.border).toBe('3px solid orange');\n    });\n});\n","import { byId, html, htmlById } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectElmCount, testCounterElements } from \"./expect.html\";\ndescribe('counters', () => {\n    const slowCount = html('#-slowChangeCount');\n    // tests can be run multiple times. Only the first time will this expect below work\n    const firstRun = slowCount === '0';\n    it('basics', () => {\n        const counterInput = byId('set-main-counter-input');\n        expect(counterInput).toBeDefined();\n        counterInput.value = '0';\n        counterInput.onkeyup({ target: counterInput });\n        const beforeRenderCount = Number(html('#counters_render_count'));\n        const beforeInnerRenderCount = Number(html('#inner_counters_render_count'));\n        expectElmCount('#conditional-counter', 0);\n        const currentSubs = htmlById('-counter-sub-count');\n        testCounterElements('#-increase-counter', '#-counter-display');\n        expect(htmlById('-counter-sub-count')).toBe(currentSubs);\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + 2).toString());\n        // the parent changed a value passed to child as a prop\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 2).toString());\n        testCounterElements('#-inner-counter', '#-inner-display');\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + 4).toString());\n        // the child changed a value passed from parent as a prop\n        // expect(html('#inner_counters_render_count')).toBe( (beforeInnerRenderCount + 1).toString() )\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 4).toString());\n        testCounterElements('#-standalone-counter', '#-standalone-display');\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + (firstRun ? 6 : 6)).toString(), 'render count check failed');\n        // the child was not rendered again because props did not change so value should be less\n        // expect(html('#inner_counters_render_count')).toBe( (beforeInnerRenderCount + 1).toString() )\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 4).toString());\n        expectElmCount('#conditional-counter', 1);\n        expectElmCount('#conditional-display', 1);\n        if (firstRun) {\n            expect(html('#conditional-display')).toBe('2');\n        }\n        testCounterElements('#conditional-counter', '#conditional-display');\n        // test again after higher elements have had reruns\n        testCounterElements('#-inner-counter', '#-inner-display');\n    });\n    /* TODO - bring this back\n      it.skip('piped subject', () => {\n        if(firstRun) {\n          expect(html('#-pipedSubject')).toBe('')\n          expect(html('#-pipedSubject-2')).toBe('')\n        }\n        \n        click('#-subject-increase-counter')\n    \n        const pipedSubDisplay = html('#-pipedSubject')\n        const subjectCountDisplay = html('#-standalone-display')\n        expect(pipedSubDisplay).toBe(subjectCountDisplay, `Expected #-pipedSubject value(${pipedSubDisplay}) to match #-standalone-display value(${subjectCountDisplay})`)\n        expect(html('#-pipedSubject-2')).toBe(html('#-standalone-display') )\n      })\n    */\n});\n","export function elmCount(selector) {\n    return document.querySelectorAll(selector).length;\n}\nexport function query(query) {\n    return document.querySelectorAll(query); // allow .style to just work\n}\nexport function focus(q) {\n    return query(q).forEach(elm => elm.focus());\n}\nexport function click(q) {\n    const items = [...query(q)];\n    return new Promise(res => {\n        requestAnimationFrame(() => {\n            items.map(elm => elm.click());\n            res();\n        });\n    });\n}\nexport function clickOne(q, index = 0) {\n    const element = query(q)[index];\n    return new Promise(res => {\n        requestAnimationFrame(() => {\n            element.click();\n            res();\n        });\n    });\n}\nexport function html(q) {\n    let html = '';\n    query(q).forEach(elm => html = html + elm.innerHTML);\n    return html;\n}\nexport function byId(id) {\n    return document.getElementById(id);\n}\nexport function htmlById(id) {\n    return document.getElementById(id).innerHTML;\n}\nexport function lastById(id) {\n    const elms = document.querySelectorAll('#' + id);\n    return elms[elms.length - 1];\n}\n","import { expect } from \"./expect\";\n/* all elements in each query must have the same html */\nexport function expectMatchedHtml(...queries) {\n    const elements = queries.reduce((all, query) => {\n        const elements = document.querySelectorAll(query);\n        all.push(...elements);\n        return all;\n    }, []);\n    expect(elements.length).toBeGreaterThan(0, 'Expected elements to be present in expectMatchedHtml() query but found none');\n    const lastElm = elements.pop();\n    const lastHtml = lastElm.innerHTML;\n    elements.every(elm => expect(lastHtml).toBe(elm.innerHTML, () => `expectMatchedHtml unmatched html - queries: ${queries.join(' - ')}`));\n}\nexport function expectHTML(query, innerHTML) {\n    const elements = document.querySelectorAll(query);\n    elements.forEach(element => expect(element.innerHTML).toBe(innerHTML, () => `Expected element ${query} innerHTML to be -->${innerHTML}<-- but it was -->${element.innerHTML}<--`));\n}\nexport function expectElmCount(query, count, message) {\n    const elements = document.querySelectorAll(query);\n    const found = elements.length;\n    message = message || `Expected ${count} elements to match query ${query} but found ${found}`;\n    expect(found).toBe(count, message);\n    return elements;\n}\nexport function testDuelCounterElements(...sets\n// [button0, display0]: [string, string], // button, display\n// [button1, display1]: [string, string], // button, display\n) {\n    const [button0, display0] = sets.shift();\n    let query = expectElmCount(display0, 1);\n    let buttonQuery = expectElmCount(button0, 1);\n    const display0Element = query[0];\n    const ip0 = display0Element.innerText;\n    testCounterSelectedElements(buttonQuery, query, { elementCountExpected: 1 }, button0, display0);\n    let increase = 2;\n    sets.forEach(([button1, display1], index) => {\n        query = expectElmCount(display1, 1);\n        buttonQuery = expectElmCount(button1, 1);\n        let display1Element = query[0];\n        let ip1Check = display1Element.innerText;\n        const value = (Number(ip0) + increase).toString();\n        expect(ip1Check).toBe(value, () => `Expected second ${display1} increase provider to be increased to ${ip0} but got ${ip1Check}`);\n        testCounterSelectedElements(buttonQuery, query, { elementCountExpected: 1 }, button0, display0, index + 2);\n        display1Element = query[0];\n        ip1Check = display1Element.innerText;\n        const secondIncrease = increase + 2;\n        expect(ip1Check).toBe((Number(ip0) + secondIncrease).toString(), () => `Expected ${display1} innerText to be ${Number(ip0) + secondIncrease} but instead it is ${ip1Check}`);\n        increase = increase + 2;\n    });\n}\nfunction testCounterSelectedElements(counterButtons, counterDisplays, { elementCountExpected } = {\n    elementCountExpected: 1\n}, counterButtonSelect, counterDisplaySelect, testQuantifier = 0) {\n    expect(counterButtons.length).toBe(elementCountExpected, () => `Expected ${counterButtonSelect} to be ${elementCountExpected} elements but is instead ${counterButtons.length}`);\n    expect(counterDisplays.length).toBe(elementCountExpected, () => `Expected ${counterDisplaySelect} to be ${elementCountExpected} elements but is instead ${counterDisplays.length}`);\n    counterButtons.forEach((increaseCounter, index) => {\n        const counterDisplay = document.querySelectorAll(counterDisplaySelect)[index]; // counterDisplays[index]\n        expect(document.body.contains(counterDisplay)).toBe(true, `The selected element ${counterDisplaySelect} is no longer an element on the document body BEFORE clicking ${counterButtonSelect}`);\n        let counterValue = Number(counterDisplay?.innerText);\n        expect(typeof increaseCounter.click).toBe('function');\n        increaseCounter.click();\n        expect(counterDisplay).toBeDefined();\n        expect(document.body.contains(counterDisplay)).toBe(true, `The selected element ${counterDisplaySelect} is no longer an element on the document body AFTER clicking ${counterButtonSelect}`);\n        let newCounterValue = counterValue + 1;\n        counterValue = Number(counterDisplay.innerText);\n        expect(document.body.contains(counterDisplay)).toBe(true);\n        expect(newCounterValue).toBe(counterValue, () => `After click ${counterButtonSelect}, counter test ${testQuantifier + 1} of ${testQuantifier + 2} expected ${counterDisplaySelect} to be value ${newCounterValue} but it is ${counterValue}`);\n        increaseCounter.click();\n        counterValue = Number(counterDisplay?.innerText);\n        ++newCounterValue;\n        expect(newCounterValue).toBe(counterValue, () => `Counter test ${testQuantifier + 2} of ${testQuantifier + 2} expected ${counterDisplaySelect} to increase value to ${newCounterValue} but it is ${counterValue}`);\n    });\n}\n/** increases counter by two */\nexport function testCounterElements(counterButtonSelect, counterDisplaySelect, { elementCountExpected } = {\n    elementCountExpected: 1\n}) {\n    const increaseCounters = document.querySelectorAll(counterButtonSelect);\n    const counterDisplays = document.querySelectorAll(counterDisplaySelect);\n    return testCounterSelectedElements(increaseCounters, counterDisplays, { elementCountExpected }, counterButtonSelect, counterDisplaySelect);\n}\n","const onlyTests = [];\nlet tests = [];\nlet tab = 0;\nexport function describe(label, run) {\n    tests.push(async () => {\n        const oldTests = tests;\n        tests = [];\n        try {\n            console.debug('  '.repeat(tab) + ' ' + label);\n            ++tab;\n            await run();\n            await runTests(tests);\n            --tab;\n        }\n        catch (error) {\n            --tab;\n            // console.debug(' '.repeat(tab) + ' ' + label)\n            throw error;\n        }\n        finally {\n            tests = oldTests;\n        }\n    });\n}\ndescribe.skip = (label, run) => {\n    console.debug(' Skipped ' + label);\n};\ndescribe.only = (label, run) => {\n    onlyTests.push(async () => {\n        const oldTests = tests;\n        tests = [];\n        try {\n            console.debug('  '.repeat(tab) + ' ' + label);\n            ++tab;\n            await run();\n            await runTests(tests);\n            --tab;\n        }\n        catch (error) {\n            --tab;\n            // console.debug(' '.repeat(tab) + ' ' + label)\n            throw error;\n        }\n        finally {\n            tests = oldTests;\n        }\n    });\n};\nexport function it(label, run) {\n    tests.push(async () => {\n        try {\n            const start = Date.now();\n            await run();\n            const time = Date.now() - start;\n            console.debug(' '.repeat(tab) + ` ${label} - ${time}ms`);\n        }\n        catch (error) {\n            console.debug(' '.repeat(tab) + ' ' + label);\n            throw error;\n        }\n    });\n}\nit.only = (label, run) => {\n    onlyTests.push(async () => {\n        try {\n            const start = Date.now();\n            await run();\n            const time = Date.now() - start;\n            console.debug(` ${label} - ${time}ms`);\n        }\n        catch (error) {\n            console.debug(' ' + label);\n            throw error;\n        }\n    });\n};\nit.skip = (label, run) => {\n    console.debug(' Skipped ' + label);\n};\nfunction clearTests() {\n    onlyTests.length = 0;\n    tests.length = 0;\n}\nexport async function execute() {\n    if (onlyTests.length) {\n        return runTests(onlyTests);\n    }\n    return runTests(tests);\n}\nasync function runTests(tests) {\n    for (const test of tests) {\n        try {\n            await test();\n        }\n        catch (err) {\n            console.error(`Error testing ${test.name}`);\n            clearTests();\n            throw err;\n        }\n    }\n    clearTests();\n}\nexport function expect(expected) {\n    return {\n        toBeDefined: (customMessage) => {\n            if (expected !== undefined && expected !== null) {\n                return;\n            }\n            if (customMessage instanceof Function) {\n                customMessage = customMessage();\n            }\n            const message = customMessage || `Expected ${JSON.stringify(expected)} to be defined`;\n            console.error(message, { expected });\n            throw new Error(message);\n        },\n        toBe: (received, customMessage) => {\n            if (expected === received) {\n                return;\n            }\n            if (customMessage instanceof Function) {\n                customMessage = customMessage();\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be ${typeof (received)} ${JSON.stringify(received)}`;\n            console.error(message, { toBe: received, expected });\n            throw new Error(message);\n        },\n        toBeGreaterThan: (amount, customMessage) => {\n            const expectNum = expected;\n            if (!isNaN(expectNum) && expectNum > amount) {\n                return;\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be greater than amount`;\n            console.error(message, { amount, expected });\n            throw new Error(message);\n        },\n        toBeLessThan: (amount, customMessage) => {\n            const expectNum = expected;\n            if (!isNaN(expectNum) && expectNum < amount) {\n                return;\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be less than amount`;\n            console.error(message, { amount, expected });\n            throw new Error(message);\n        }\n    };\n}\n","import { click, html } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { testCounterElements } from \"./expect.html\";\nit('function in props', async () => {\n    testCounterElements('#fun_in_prop1', '#fun_in_prop_display');\n    testCounterElements('#fun_in_prop2', '#fun_in_prop_display');\n    testCounterElements('#fun_in_prop3', '#fun_in_prop_display');\n    expect(html('#main_wrap_state')).toBe('taggjedjs-wrapped');\n    click('#toggle-fun-in-child');\n    await click('#fun-parent-button');\n    expect(html('#main_wrap_state')).toBe('nowrap');\n    click('#toggle-fun-in-child');\n    await click('#fun-parent-button');\n    expect(html('#main_wrap_state')).toBe('taggjedjs-wrapped');\n});\n","import { expect, it } from \"./expect\";\nit('has no templates', () => {\n    expect(document.getElementsByTagName('template').length).toBe(0, 'expected no templates on document');\n});\n","import { byId, htmlById } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { expectElmCount, expectMatchedHtml } from \"./expect.html\";\nit(' mirror testing', () => {\n    expectElmCount('#mirror-counter-display', 2);\n    expectElmCount('#mirror-counter-button', 2);\n    const counter = Number(htmlById('mirror-counter-display'));\n    byId('mirror-counter-button').click();\n    expect(counter + 1).toBe(Number(htmlById('mirror-counter-display')));\n    expectElmCount('#mirror-counter-display', 2);\n    expectMatchedHtml('#mirror-counter-display');\n});\n","import { html } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { testCounterElements } from \"./expect.html\";\nit('oneRender', () => {\n    expect(html('#oneRender_tag_ts_render_count')).toBe('1');\n    testCounterElements('#-counter-button', '#-counter-display');\n    testCounterElements('#-counter-button', '#-counter-display');\n    testCounterElements('#-counter-button', '#-counter-subject-display');\n    expect(html('#oneRender_tag_ts_render_count')).toBe('1');\n});\n","import { byId, html, htmlById, query } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectHTML, expectMatchedHtml, testCounterElements, testDuelCounterElements } from \"./expect.html\";\ndescribe('props', () => {\n    it('test duels', () => {\n        testDuelCounterElements(['#propsDebug--0-button', '#propsDebug--0-display'], ['#propsDebug--1-button', '#propsDebug--1-display']);\n    });\n    it('child prop communications', () => {\n        testDuelCounterElements(['#propsDebug--1-button', '#propsDebug--1-display'], ['#propsOneLevelFunUpdate--button', '#propsOneLevelFunUpdate--display']);\n    });\n    it('letProp', () => {\n        // local and outside currently match\n        expectMatchedHtml('#propsDebug--0-display', '#propsDebug--2-display');\n        const propCounter = Number(html('#propsDebug--0-display'));\n        const result = query('#propsDebug--2-button')[0].onclick();\n        expect(result).toBe('no-data-ever');\n        // outer should not have changed\n        expect(html('#propsDebug--0-display')).toBe(propCounter.toString());\n        expect(html('#propsDebug--2-display')).toBe((propCounter + 1).toString());\n    });\n    it('basics', () => {\n        // the number of times the watch counted a change happens to match that increase counter\n        const funUpdateValue = byId('propsOneLevelFunUpdate--display').innerHTML;\n        const changed = html('#propsDebug--change-display');\n        // test that watch runs onInit\n        expect(changed).toBe((Number(funUpdateValue) + 1).toString());\n        // expect(changed).toBe( (Number(funUpdateValue) - 4).toString() )\n        const ownerHTML = byId('propsDebug--0-display').innerHTML;\n        const parentHTML = byId('propsDebug--1-display').innerHTML;\n        const childHTML = byId('propsOneLevelFunUpdate--display').innerHTML;\n        const ownerNum = Number(ownerHTML);\n        const parentNum = Number(parentHTML);\n        const childNum = Number(childHTML);\n        expect(parentNum).toBe(childNum);\n        expect(ownerNum + 2).toBe(parentNum); // testing of setProp() doesn't change owner\n        byId('propsDebug--1-button').click();\n    });\n    it('props as functions', () => {\n        const syncCounter = Number(htmlById('sync-prop-number-display'));\n        // const syncCounter = Number( htmlById('sync-prop-child-display') )\n        expectMatchedHtml('#sync-prop-number-display', '#sync-prop-child-display');\n        byId('sync-prop-child-button').click();\n        expectHTML('#sync-prop-number-display', (syncCounter + 2).toString());\n        testCounterElements('#nothing-prop-counter-button', '#nothing-prop-counter-display');\n        expectHTML('#sync-prop-number-display', (syncCounter + 2).toString());\n        expectMatchedHtml('#sync-prop-counter-display', '#nothing-prop-counter-display');\n    });\n});\n","import { describe, it } from \"./expect\";\nimport { testDuelCounterElements } from \"./expect.html\";\ndescribe('providers', () => {\n    it('basics', () => {\n        testDuelCounterElements(['#increase-provider--0-button', '#increase-provider--0-display'], ['#increase-provider--1-button', '#increase-provider--1-display']);\n        testDuelCounterElements(['#increase-provider-upper--0-button', '#increase-provider-upper--0-display'], ['#increase-provider-upper--1-button', '#increase-provider-upper--1-display']);\n        testDuelCounterElements(['#increase-provider--0-button', '#increase-provider--0-display'], ['#increase-provider--1-button', '#increase-provider--1-display']);\n    });\n    it('inner outer debug', () => {\n        testDuelCounterElements(['#increase-prop--0-button', '#increase-prop--0-display'], ['#increase-prop--1-button', '#increase-prop--1-display']);\n        // change a counter in the parent element\n        testDuelCounterElements(['#increase-provider--0-button', '#increase-provider--0-display'], ['#increase-provider--1-button', '#increase-provider--1-display']);\n        // now ensure that this inner tag still operates correctly even though parent just rendered but i did not from that change\n        testDuelCounterElements(['#increase-prop--0-button', '#increase-prop--0-display'], ['#increase-prop--1-button', '#increase-prop--1-display']);\n    });\n});\n","import { expect, it } from \"./expect\";\nit('no template tags', () => {\n    const templateTags = document.getElementsByTagName('template');\n    expect(templateTags.length).toBe(0, 'Expected no templates to be on document');\n});\n","import { byId, elmCount } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectElmCount } from \"./expect.html\";\ndescribe('tagSwitching', () => {\n    it('0', () => {\n        expect(elmCount('#select-tag-above')).toBe(1, 'Expected select-tag-above element to be defined');\n        expect(elmCount('#tag-switch-dropdown')).toBe(1, 'Expected one #tag-switch-dropdown');\n        expect(elmCount('#tagSwitch-1-hello')).toBe(2, 'Expected two #tagSwitch-1-hello elements');\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n    });\n    it('1', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"1\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#tagSwitch-1-hello', 5);\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('2', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"2\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#tagSwitch-1-hello', 2);\n        expectElmCount('#tagSwitch-2-hello', 4);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('3', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"3\";\n        dropdown.onchange({ target: dropdown });\n        expect(elmCount('#tagSwitch-1-hello')).toBe(0, 'Expected no hello 1s');\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0, 'Expected no #tagSwitch-2-hello elements');\n        expectElmCount('#tagSwitch-3-hello', 7);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('4', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#select-tag-above', 1);\n        expectElmCount('#tag-switch-dropdown', 1);\n        expectElmCount('#tagSwitch-1-hello', 2);\n        expectElmCount('#tagSwitch-2-hello', 0);\n        expectElmCount('#tagSwitch-3-hello', 0);\n    });\n});\n","import { byId, click, clickOne, focus, query } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\ndescribe('todos', () => {\n    const todoInput = byId('todo-input');\n    it('add one remove one', async () => {\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0);\n        todoInput.value = 'one';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(1, 'expected one new todo');\n        // delete it\n        await click('button[data-testid=\"todo-item-button\"]');\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0);\n    });\n    it('basic', async () => {\n        todoInput.value = 'one';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        // checkbox toggle\n        click('input[data-testid=\"todo-item-toggle\"]');\n        // delete it\n        await click('button[data-testid=\"todo-item-button\"]');\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0, 'expected todo 0 deleted');\n        todoInput.value = 'one';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        todoInput.value = 'two';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        const todoToggle2 = query('input[data-testid=\"todo-item-toggle\"]')[1];\n        await todoToggle2.click();\n        expect(todoToggle2.checked).toBe(true);\n        todoInput.value = 'three';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(3);\n        // delete 0\n        await clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(2);\n        // delete 0\n        await clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(1);\n        // delete 0\n        await clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(0);\n    });\n    it('editing', async () => {\n        // create todo\n        todoInput.value = 'one';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        // prepare to make new todo become editable\n        let event = new MouseEvent('dblclick', {\n            bubbles: true, // Event will bubble up through the DOM\n            cancelable: true, // Event can be cancelled\n            view: window // Default view (window)\n        });\n        // Dispatch the event on the specified element\n        query('label[data-testid=\"todo-item-label\"]')[0].dispatchEvent(event);\n        const parentNode = query('button[data-testid=\"todo-item-button\"]')[0].parentNode;\n        expect(parentNode.style.display).toBe('none', 'expect the delete button hidden');\n        // should have two inputs, the main and the edit\n        expect(query('input[data-testid=\"text-input\"]').length).toBe(2);\n        focus('input[data-testid=\"text-input\"]');\n        const editInput = query('input[data-testid=\"text-input\"]')[1];\n        editInput.value = 'two';\n        editInput.onkeyup({ key: 'Enter', target: editInput }); // cause save\n        // expect one delete button\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(1);\n        // main input + array input\n        expect(query('input[data-testid=\"text-input\"]').length).toBe(2);\n        // delete 0\n        await clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('label[data-testid=\"todo-item-label\"]').length).toBe(0);\n    });\n});\n","import { click, html, htmlById } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectMatchedHtml } from \"./expect.html\";\ndescribe(' watch tests', () => {\n    const slowCount = html('#-slowChangeCount');\n    // tests can be run multiple times. Only the first time will this expect below work\n    const firstRun = slowCount === '0';\n    it('basic', async () => {\n        const startCount = Number(htmlById('watch-testing-num-display'));\n        expectMatchedHtml('#watch-testing-num-display', '#-slowChangeCount');\n        // always starts at \"false\"\n        expect(html('#-truthChange')).toBe('false');\n        if (firstRun) {\n            expect(html('#-watchPropNumSlow')).toBe('');\n            expect(html('#-watchTruth')).toBe('false');\n            expect(html('#-watchTruthAsSub')).toBe('undefined');\n        }\n        else {\n            expect(html('#-watchPropNumSlow')).toBe(slowCount);\n            expect(Number(html('#-watchTruth'))).toBeGreaterThan(Number(slowCount));\n            expect(html('#-watchTruthAsSub')).toBe(html('#-truthSubChangeCount'));\n        }\n        await click('#watch-testing-num-button');\n        expectMatchedHtml('#watch-testing-num-display', '#-slowChangeCount');\n        expectMatchedHtml('#-watchPropNumSlow', '#-slowChangeCount');\n        expect(html('#-subjectChangeCount')).toBe((startCount + 2).toString());\n        expectMatchedHtml('#-subjectChangeCount', '#-watchPropNumSubject');\n        const truthStartCount = Number(html('#-truthChangeCount'));\n        await click('#-truthChange-button');\n        let newCount = (truthStartCount + 1).toString();\n        // its been changed to \"true\", that causes a change watch count increase\n        expect(html('#-truthChange')).toBe('true');\n        expect(html('#-watchTruth')).toBe(newCount);\n        expect(html('#-truthChangeCount')).toBe(newCount);\n        await click('#-truthChange-button');\n        newCount = (truthStartCount + 1).toString();\n        // its been changed to back to \"false\", that does NOT cause a change watch count increase\n        expect(html('#-truthChange')).toBe('false');\n        expect(html('#-watchTruth')).toBe(newCount);\n        expect(html('#-truthChangeCount')).toBe(newCount);\n        await click('#-truthChange-button');\n        // its been changed to \"true\", that causes a change watch count increase\n        newCount = (truthStartCount + 2).toString();\n        expect(html('#-truthChange')).toBe('true');\n        expect(html('#-watchTruth')).toBe(newCount);\n        expect(html('#-truthChangeCount')).toBe(newCount);\n        click('#-truthChange-button'); // reset so tests can pass every time\n        click('#-reset-button'); // reset so tests can pass every time\n        expect(html('#-watchTruthAsSub')).toBe(html('#-watchTruth'));\n    });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const empty = '';\nexport var ImmutableTypes;\n(function (ImmutableTypes) {\n    ImmutableTypes[\"string\"] = \"string\";\n    ImmutableTypes[\"number\"] = \"number\";\n    ImmutableTypes[\"boolean\"] = \"boolean\";\n    ImmutableTypes[\"undefined\"] = \"undefined\";\n})(ImmutableTypes || (ImmutableTypes = {}));\nexport var BasicTypes;\n(function (BasicTypes) {\n    BasicTypes[\"function\"] = \"function\";\n    BasicTypes[\"date\"] = \"date\";\n    BasicTypes[\"unknown\"] = \"unknown\";\n    BasicTypes[\"object\"] = \"object\";\n})(BasicTypes || (BasicTypes = {}));\nexport const ValueTypes = {\n    tag: ['html'], // html'' aka StringTag | DomTag\n    dom: ['dom'], // compiled version of html''\n    templater: ['templater'],\n    tagComponent: ['tag-component'],\n    tagArray: ['tag-array'],\n    subject: ['subject'],\n    tagJsSubject: ['tagJsSubject'],\n    oneRender: ['oneRender'],\n    stateRender: ['stateRender'],\n};\n//# sourceMappingURL=ValueTypes.enum.js.map","import { ImmutableTypes, ValueTypes } from './tag/ValueTypes.enum.js';\nexport function isSimpleType(value) {\n    return [\n        ImmutableTypes.string,\n        ImmutableTypes.number,\n        ImmutableTypes.boolean,\n    ].includes(value);\n}\nexport function isStaticTag(value) {\n    return [\n        ValueTypes.dom,\n        ValueTypes.tag,\n        ValueTypes.templater,\n    ].includes(value?.tagJsType);\n}\nexport function isTagTemplater(value) {\n    return value?.tagJsType === ValueTypes.templater;\n}\n// TODO: whats the difference between isTagClass and isTagComponent\nexport function isTagComponent(value) {\n    const tagType = value?.tagJsType;\n    return tagType && [ValueTypes.tagComponent, ValueTypes.stateRender].includes(tagType);\n}\nexport function isTagClass(value) {\n    const tagJsType = value?.tagJsType;\n    return tagJsType && [ValueTypes.tag, ValueTypes.dom].includes(tagJsType);\n}\n// isSubjectLike\nexport function isSubjectInstance(subject) {\n    const isSubject = subject?.isSubject === true;\n    return (isSubject || subject?.subscribe) ? true : false; // subject?.isSubject === true || \n}\nexport function isTagArray(value) {\n    return value instanceof Array; /* && value.every(x => [\n      ValueTypes.tag,\n      ValueTypes.templater,\n      ValueTypes.dom,\n      ValueTypes.tagComponent\n      ValueTypes.stateRender\n    ].includes( x?.tagJsType ))*/\n}\n//# sourceMappingURL=isInstance.js.map","import { Subject } from './Subject.class.js';\nexport function combineLatest(subjects) {\n    const output = new Subject();\n    const subscribe = (callback) => {\n        const valuesSeen = [];\n        const values = [];\n        const setValue = (x, index) => {\n            valuesSeen[index] = true;\n            values[index] = x;\n            const countMatched = valuesSeen.length === subjects.length;\n            if (!countMatched) {\n                return;\n            }\n            for (const item of valuesSeen) {\n                if (!item) {\n                    return;\n                }\n            }\n            // everyone has reported values\n            callback(values, subscription);\n        };\n        const clones = [...subjects];\n        const firstSub = clones.shift();\n        const subscription = firstSub.subscribe(x => setValue(x, 0));\n        const subscriptions = clones.map((subject, index) => {\n            return subject.subscribe(x => setValue(x, index + 1));\n        });\n        subscription.subscriptions = subscriptions;\n        return subscription;\n    };\n    output.subscribeWith = subscribe;\n    return output;\n}\n//# sourceMappingURL=combineLatest.function.js.map","import { Subject } from './Subject.class.js';\nfunction removeSubFromArray(subscribers, callback) {\n    const index = subscribers.findIndex(sub => sub.callback === callback);\n    if (index !== -1) {\n        subscribers.splice(index, 1);\n    }\n}\nexport function getSubscription(subject, callback, subscribers) {\n    const countSubject = Subject.globalSubCount$;\n    Subject.globalSubCount$.next(countSubject.value + 1);\n    const subscription = function () {\n        subscription.unsubscribe();\n    };\n    subscription.callback = callback;\n    subscription.subscriptions = [];\n    // Return a function to unsubscribe from the BehaviorSubject\n    subscription.unsubscribe = function () {\n        return unsubscribe(subscription, subscribers, callback);\n    };\n    subscription.add = (sub) => {\n        subscription.subscriptions.push(sub);\n        return subscription;\n    };\n    subscription.next = (value) => {\n        callback(value, subscription);\n    };\n    return subscription;\n}\nexport function runPipedMethods(value, methods, onComplete) {\n    const cloneMethods = [...methods];\n    const firstMethod = cloneMethods.shift();\n    const next = (newValue) => {\n        if (cloneMethods.length) {\n            return runPipedMethods(newValue, cloneMethods, onComplete);\n        }\n        onComplete(newValue);\n    };\n    let handler = next;\n    const setHandler = (x) => handler = x;\n    const pipeUtils = { setHandler, next };\n    const methodResponse = firstMethod(value, pipeUtils);\n    handler(methodResponse);\n}\nfunction unsubscribe(subscription, subscribers, callback) {\n    removeSubFromArray(subscribers, callback); // each will be called when update comes in\n    const valSub = Subject.globalSubCount$;\n    Subject.globalSubCount$.next(valSub.value - 1);\n    // any double unsubscribes will be ignored\n    subscription.unsubscribe = () => subscription;\n    // unsubscribe from any combined subjects\n    const subscriptions = subscription.subscriptions;\n    for (const sub of subscriptions) {\n        sub.unsubscribe();\n    }\n    return subscription;\n}\n//# sourceMappingURL=subject.utils.js.map","import { isSubjectInstance } from '../isInstance.js';\nimport { combineLatest } from './combineLatest.function.js';\nimport { getSubscription, runPipedMethods } from './subject.utils.js';\nexport class Subject {\n    value;\n    onSubscription;\n    // private?\n    methods = [];\n    isSubject = true;\n    // private?\n    subscribers = [];\n    subscribeWith;\n    constructor(value, \n    // private? - only used by extending classes\n    onSubscription) {\n        this.value = value;\n        this.onSubscription = onSubscription;\n        // defineValueOn(this)\n    }\n    subscribe(callback) {\n        const subscription = getSubscription(this, callback, this.subscribers);\n        // are we within a pipe?\n        const subscribeWith = this.subscribeWith;\n        if (subscribeWith) {\n            // are we in a pipe?\n            if (this.methods.length) {\n                const orgCallback = callback;\n                callback = (value) => {\n                    runPipedMethods(value, this.methods, lastValue => orgCallback(lastValue, subscription));\n                };\n            }\n            return subscribeWith(callback);\n        }\n        this.subscribers.push(subscription);\n        if (this.onSubscription) {\n            this.onSubscription(subscription);\n        }\n        return subscription;\n    }\n    next(value) {\n        this.value = value;\n        this.emit();\n    }\n    set = this.next.bind(this);\n    emit() {\n        const value = this.value;\n        // Notify all subscribers with the new value\n        // const subs = [...this.subscribers] // subs may change as we call callbacks\n        const subs = this.subscribers; // subs may change as we call callbacks\n        // const length = subs.length\n        for (const sub of subs) {\n            sub.callback(value, sub);\n        }\n    }\n    toPromise() {\n        return new Promise(res => {\n            this.subscribe((x, subscription) => {\n                subscription.unsubscribe();\n                res(x);\n            });\n        });\n    }\n    /** like toPromise but faster */\n    toCallback(callback) {\n        const subscription = this.subscribe((x, _subscription) => {\n            subscription.unsubscribe();\n            callback(x);\n        });\n        return this;\n    }\n    pipe(...operations) {\n        const subject = new Subject(this.value);\n        subject.setMethods(operations);\n        subject.subscribeWith = (x) => this.subscribe(x);\n        subject.next = x => this.next(x);\n        return subject;\n    }\n    setMethods(operations) {\n        this.methods = operations;\n    }\n    static all(args) {\n        const switched = args.map(arg => {\n            if (isSubjectInstance(arg))\n                return arg;\n            // Call the callback immediately with the current value\n            const x = new Subject(arg, subscription => {\n                subscription.next(arg);\n                return subscription;\n            });\n            return x;\n        });\n        return combineLatest(switched);\n    }\n    static globalSubCount$ = new Subject(0); // for ease of debugging}\n}\nexport class Subjective extends Subject {\n    value;\n    onSubscription;\n    _value;\n    constructor(value, \n    // private?\n    onSubscription) {\n        super(value, onSubscription);\n        this.value = value;\n        this.onSubscription = onSubscription;\n        this._value = value;\n        defineValueOn(this);\n    }\n    next(value) {\n        this._value = value;\n        this.emit();\n    }\n    emit() {\n        const value = this._value;\n        // Notify all subscribers with the new value\n        // const subs = [...this.subscribers] // subs may change as we call callbacks\n        const subs = this.subscribers; // subs may change as we call callbacks\n        // const length = subs.length\n        for (const sub of subs) {\n            sub.callback(value, sub);\n        }\n    }\n}\nexport function defineValueOn(subject) {\n    Object.defineProperty(subject, 'value', {\n        // supports subject.value = x\n        set(value) {\n            subject._value = value;\n            subject.emit();\n        },\n        // supports subject.value\n        get() {\n            return subject._value;\n        }\n    });\n}\n//# sourceMappingURL=Subject.class.js.map","import { Subject } from '../../subject/Subject.class.js';\nexport function getNewGlobal() {\n    return {\n        isAttr: false,\n        destroy$: new Subject(),\n        context: [], // populated after reading interpolated.values array converted to an object {variable0, variable:1}\n        providers: [],\n        /** Indicator of re-rending. Saves from double rending something already rendered */\n        renderCount: 0,\n        subscriptions: [],\n        oldest: undefined, // TODO: This needs to addressed\n        blocked: [], // renders that did not occur because an event was processing\n        childTags: [], // tags on me\n        // htmlDomMeta: [],\n    };\n}\n//# sourceMappingURL=getNewGlobal.function.js.map","import { Subject, defineValueOn } from './Subject.class.js';\nexport class ValueSubject extends Subject {\n    value;\n    constructor(value) {\n        super(value);\n        this.value = value;\n    }\n    subscribe(callback) {\n        const subscription = super.subscribe(callback);\n        // Call the callback immediately with the current value\n        callback(this.value, subscription);\n        return subscription;\n    }\n}\nexport class ValueSubjective extends Subject {\n    value;\n    constructor(value) {\n        super(value);\n        this.value = value;\n        this._value = value;\n        defineValueOn(this); // if you extend this AND have a constructor, you must call this in your extension\n    }\n    subscribe(callback) {\n        const subscription = super.subscribe(callback);\n        // Call the callback immediately with the current value\n        callback(this._value, subscription);\n        return subscription;\n    }\n}\n//# sourceMappingURL=ValueSubject.js.map","const tagUse = [];\nexport function setUse(use) {\n    // must provide defaults\n    const useMe = {\n        beforeRender: use.beforeRender || (() => undefined),\n        beforeRedraw: use.beforeRedraw || (() => undefined),\n        afterRender: use.afterRender || (() => undefined),\n        beforeDestroy: use.beforeDestroy || (() => undefined),\n    };\n    setUse.tagUse.push(useMe);\n}\nsetUse.tagUse = tagUse;\nsetUse.memory = {};\n//# sourceMappingURL=setUse.function.js.map","export class TagError extends Error {\n    details;\n    constructor(message, errorCode, details = {}) {\n        super(message);\n        this.name = TagError.name;\n        this.details = { ...details, errorCode };\n    }\n}\nexport class ArrayNoKeyError extends TagError {\n    constructor(message, details) {\n        super(message, 'array-no-key-error', details);\n        this.name = ArrayNoKeyError.name;\n    }\n}\nexport class StateMismatchError extends TagError {\n    constructor(message, details) {\n        super(message, 'state-mismatch-error', details);\n        this.name = StateMismatchError.name;\n    }\n}\nexport class SyncCallbackError extends TagError {\n    constructor(message, details) {\n        super(message, 'sync-callback-error', details);\n        this.name = SyncCallbackError.name;\n    }\n}\n//# sourceMappingURL=errors.js.map","import { StateMismatchError } from '../errors.js';\nimport { setUse } from './setUse.function.js';\nconst badLetState = 'letState function incorrectly used. Second item in array is not setting expected value.\\n\\n' +\n    'For \"let\" state use `let name = state(default)(x => [name, name = x])`\\n\\n' +\n    'For \"const\" state use `const name = state(default)()`\\n\\n' +\n    'Problem state:\\n';\nsetUse.memory.stateConfig = {\n    array: [], // state memory on the first render\n    // rearray: [] as State,\n};\nsetUse({\n    beforeRender: (support) => initState(support),\n    beforeRedraw: (support) => reState(support),\n    afterRender: (support) => {\n        const state = support.state;\n        const config = setUse.memory.stateConfig;\n        const rearray = config.rearray;\n        if (rearray.length) {\n            if (rearray.length !== config.array.length) {\n                const message = `States lengths have changed ${rearray.length} !== ${config.array.length}. State tracking requires the same amount of function calls every render. Typically this errors is thrown when a state like function call occurs only for certain conditions or when a function is intended to be wrapped with a tag() call`;\n                const wrapper = support.templater?.wrapper;\n                const details = {\n                    oldStates: config.array,\n                    newStates: config.rearray,\n                    tagFunction: wrapper.parentWrap.original,\n                };\n                const error = new StateMismatchError(message, details);\n                console.warn(message, details);\n                throw error;\n            }\n        }\n        delete config.rearray; // clean up any previous runs\n        delete config.support;\n        state.length = 0;\n        state.push(...config.array);\n        config.array = [];\n    }\n});\nexport function getStateValue(state) {\n    const callback = state.callback;\n    // state()\n    if (!callback) {\n        return state.defaultValue;\n    }\n    // letState()\n    const [value, checkValue] = getCallbackValue(callback);\n    // TODO: not needed in production\n    if (checkValue !== StateEchoBack) {\n        const message = badLetState + (callback ? callback.toString() : JSON.stringify(state)) + '\\n';\n        console.error(message, { state, callback, value, checkValue });\n        throw new Error(message);\n    }\n    return value;\n}\nexport class StateEchoBack {\n}\nfunction initState(support) {\n    const config = setUse.memory.stateConfig;\n    config.rearray = [];\n    config.support = support;\n}\nfunction reState(support) {\n    const state = support.state;\n    const config = setUse.memory.stateConfig;\n    config.rearray = [];\n    for (const item of state) {\n        getStateValue(item);\n    }\n    config.rearray.push(...state);\n    config.support = support;\n}\n// sends a fake value and then sets back to received value\nexport function getCallbackValue(callback) {\n    const oldState = callback(StateEchoBack); // get value and set to undefined\n    const [value] = oldState;\n    const [checkValue] = callback(value); // set back to original value\n    return [value, checkValue];\n}\n//# sourceMappingURL=state.utils.js.map","import { setUse } from './setUse.function.js';\nimport { getStateValue } from './state.utils.js';\n/** Used for variables that need to remain the same variable during render passes */\nexport function state(defaultValue) {\n    const config = setUse.memory.stateConfig;\n    const rearray = config.rearray;\n    if (rearray.length && rearray.length >= config.array.length) {\n        const restate = rearray[config.array.length];\n        config.array.push(restate);\n        return restate.defaultValue;\n    }\n    // State first time run\n    const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue;\n    let initValue = defaultFn();\n    // the state is actually intended to be a function\n    if (initValue instanceof Function) {\n        const original = initValue;\n        initValue = ((...args) => {\n            const result = original(...args);\n            return result;\n        });\n        initValue.original = original;\n    }\n    const push = {\n        get: () => getStateValue(push),\n        defaultValue: initValue,\n    };\n    config.array.push(push);\n    return initValue;\n}\n//# sourceMappingURL=state.function.js.map","export function syncStates(stateFrom, stateTo) {\n    for (let index = stateFrom.length - 1; index >= 0; --index) {\n        const state = stateFrom[index];\n        const fromValue = state.get();\n        const s = stateTo[index];\n        setState(s, fromValue);\n    }\n}\nfunction setState(s, fromValue) {\n    const callback = s.callback;\n    if (callback) {\n        callback(fromValue); // set the value\n    }\n}\n//# sourceMappingURL=syncStates.function.js.map","import { ValueSubject } from '../subject/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nimport { syncStates } from './syncStates.function.js';\n/**\n * When an item in watch array changes, callback function will be triggered. Triggers on initial watch setup. TIP: try watch.noInit()\n * @param currentValues T[]\n * @param callback WatchCallback\n * @returns T[]\n */\nexport const watch = ((currentValues, callback) => {\n    return setupWatch(currentValues, callback);\n});\nconst defaultFinally = (x) => x;\nfunction newWatch(setup) {\n    const method = (currentValues, callback) => {\n        return setupWatch(currentValues, callback, setup);\n    };\n    method.setup = setup;\n    defineOnMethod(() => method, method);\n    return method;\n}\n/**\n * puts above functionality together\n * @param currentValues values being watched\n * @param callback (currentValue, previousValues) => resolveToValue\n * @param param2\n * @returns\n */\nconst setupWatch = (currentValues, callback, { init, before, final = defaultFinally, } = {}) => {\n    const previous = state({\n        pastResult: undefined,\n        values: undefined,\n    });\n    const previousValues = previous.values;\n    // First time running watch?\n    if (previousValues === undefined) {\n        if (before && !before(currentValues)) {\n            previous.values = currentValues;\n            return previous.pastResult; // do not continue\n        }\n        const castedInit = init || callback;\n        const result = castedInit(currentValues, previousValues);\n        previous.pastResult = final(result);\n        previous.values = currentValues;\n        return previous.pastResult;\n    }\n    const allExact = currentValues.every((item, index) => item === previousValues[index]);\n    if (allExact) {\n        return previous.pastResult;\n    }\n    if (before && !before(currentValues)) {\n        previous.values = currentValues;\n        return previous.pastResult; // do not continue\n    }\n    const result = callback(currentValues, previousValues);\n    previous.pastResult = final(result);\n    previousValues.length = 0;\n    previousValues.push(...currentValues);\n    return previous.pastResult;\n};\nfunction defineOnMethod(getWatch, attachTo) {\n    Object.defineProperty(attachTo, 'noInit', {\n        get() {\n            const watch = getWatch();\n            watch.setup.init = () => undefined;\n            return watch;\n        },\n    });\n    Object.defineProperty(attachTo, 'asSubject', {\n        get() {\n            const oldWatch = getWatch();\n            const firstSupport = state(() => getSupportInCycle());\n            const subject = state(() => new ValueSubject(undefined));\n            const method = (currentValues, callback) => {\n                setupWatch(currentValues, (currentValues, previousValues) => {\n                    const nowSupport = getSupportInCycle();\n                    const setTo = callback(currentValues, previousValues);\n                    if (nowSupport !== firstSupport) {\n                        const newestState = setUse.memory.stateConfig.array;\n                        syncStates(newestState, firstSupport.state);\n                    }\n                    subject.next(setTo);\n                }, oldWatch.setup);\n                return subject;\n            };\n            method.setup = oldWatch.setup;\n            defineOnMethod(() => method, method);\n            return method;\n        },\n    });\n    Object.defineProperty(attachTo, 'truthy', {\n        get() {\n            const watch = getWatch();\n            watch.setup.before = (currentValues) => currentValues.every(x => x);\n            return watch;\n        },\n    });\n    return attachTo;\n}\ndefineOnMethod(() => newWatch({}), watch);\n//# sourceMappingURL=watch.function.js.map","import { Subject, ValueSubject } from '../subject/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nimport { syncStates } from './syncStates.function.js';\n/** Create a Subject that on updates will sync state values to keep chained functions using latest variables */\nexport function subject(value, onSubscription) {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return state(() => {\n        const subject = new Subject(value, onSubscription).pipe(x => {\n            syncStates(nowSupport.state, oldestState);\n            return x;\n        });\n        return subject;\n    });\n}\nsubject._value = (value) => {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return state(() => {\n        const subject = new ValueSubject(value).pipe(x => {\n            syncStates(nowSupport.state, oldestState);\n            return x;\n        });\n        return subject;\n    });\n};\nfunction all(args) {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return Subject.all(args).pipe(x => {\n        syncStates(nowSupport.state, oldestState);\n        return x;\n    });\n}\nsubject.all = all;\n//# sourceMappingURL=subject.function.js.map","import { getStateValue } from './state.utils.js';\nimport { setUse } from './setUse.function.js';\n/** Used for variables that need to remain the same variable during render passes. If defaultValue is a function it is called only once, its return value is first state, and let value can changed */\nexport function letState(defaultValue) {\n    const config = setUse.memory.stateConfig;\n    const rearray = config.rearray;\n    if (rearray.length) {\n        const restate = rearray[config.array.length];\n        let oldValue = getStateValue(restate);\n        const push = {\n            get: () => getStateValue(push),\n            defaultValue: restate.defaultValue,\n        };\n        config.array.push(push);\n        return makeStateResult(oldValue, push);\n    }\n    // State first time run\n    const initValue = defaultValue instanceof Function ? defaultValue() : defaultValue;\n    const push = {\n        get: () => getStateValue(push),\n        defaultValue: initValue,\n    };\n    config.array.push(push);\n    return makeStateResult(initValue, push);\n}\nfunction makeStateResult(initValue, push) {\n    const result = (y) => {\n        push.callback = y; // || (x => [initValue, initValue = x])\n        return initValue;\n    };\n    return result;\n}\n//# sourceMappingURL=letState.function.js.map","import { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nexport const providers = {\n    create: (constructMethod) => {\n        const stateDiffMemory = state(() => ({ stateDiff: 0, provider: undefined }));\n        // mimic how many states were called the first time\n        if (stateDiffMemory.stateDiff) {\n            let x = stateDiffMemory.stateDiff;\n            while (x--) {\n                state(undefined);\n            }\n            const result = state(undefined);\n            return result;\n        }\n        const result = state(() => {\n            const memory = setUse.memory;\n            const stateConfig = memory.stateConfig;\n            const oldStateCount = stateConfig.array.length;\n            // Providers with provider requirements just need to use providers.create() and providers.inject()\n            const instance = 'prototype' in constructMethod ? new constructMethod() : constructMethod();\n            const support = stateConfig.support;\n            const stateDiff = stateConfig.array.length - oldStateCount;\n            const provider = {\n                constructMethod,\n                instance,\n                // clone: deepClone(instance),\n                stateDiff,\n                owner: support,\n                children: [],\n            };\n            stateDiffMemory.provider = provider;\n            support.subject.global.providers.push(provider);\n            stateDiffMemory.stateDiff = stateDiff;\n            return instance;\n        });\n        const cm = constructMethod;\n        const compareTo = cm.compareTo = cm.toString();\n        stateDiffMemory.provider.constructMethod.compareTo = compareTo;\n        return result;\n    },\n    /**\n     * @template T\n     * @param {(new (...args: any[]) => T) | () => T} constructor\n     * @returns {T}\n     */\n    inject: (constructor) => {\n        // find once, return same every time after\n        return state(() => {\n            // const memory = setUse.memory\n            const cm = constructor;\n            const compareTo = cm.compareTo = cm.compareTo || constructor.toString();\n            const support = getSupportInCycle(); // memory.stateConfig.support as Support\n            const providers = [];\n            let owner = {\n                ownerSupport: support.ownerSupport\n            };\n            while (owner.ownerSupport) {\n                const ownerProviders = owner.ownerSupport.subject.global.providers;\n                const provider = ownerProviders.find(provider => {\n                    providers.push(provider);\n                    const constructorMatch = provider.constructMethod.compareTo === compareTo;\n                    if (constructorMatch) {\n                        return true;\n                    }\n                });\n                if (provider) {\n                    // provider.clone = deepClone(provider.instance) // keep a copy of the latest before any change occur\n                    // const support = memory.stateConfig.support as Support\n                    support.subject.global.providers.push(provider);\n                    provider.children.push(support);\n                    return provider.instance;\n                }\n                owner = owner.ownerSupport; // cause reloop checking next parent\n            }\n            const msg = `Could not inject provider: ${constructor.name} ${constructor}`;\n            console.warn(`${msg}. Available providers`, providers);\n            throw new Error(msg);\n        });\n    }\n};\n//# sourceMappingURL=providers.js.map","import { BasicTypes } from './tag/ValueTypes.enum.js';\nexport function deepClone(obj, maxDepth = 15) {\n    // return makeDeepClone(obj, new WeakMap())\n    return makeDeepClone(obj, maxDepth);\n}\nfunction makeDeepClone(obj, \n// visited: WeakMap<any, any>\nmaxDepth) {\n    // If obj is a primitive type or null, return it directly\n    if (obj === null || typeof obj !== BasicTypes.object) {\n        return obj;\n    }\n    // If obj is already visited, return the cloned reference\n    /*\n    if (visited.has(obj)) {\n      return visited.get(obj)\n    }\n    */\n    if (maxDepth < 0) {\n        return obj;\n    }\n    // Handle special cases like Date and RegExp\n    if (obj instanceof Date) {\n        return new Date(obj);\n    }\n    if (obj instanceof RegExp) {\n        return new RegExp(obj);\n    }\n    // Create an empty object or array with the same prototype\n    const clone = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n    // Register the cloned object to avoid cyclic references\n    // visited.set(obj, clone)\n    // Clone each property or element of the object or array\n    if (Array.isArray(obj)) {\n        for (let i = 0; i < obj.length; i++) {\n            // clone[i] = makeDeepClone(obj[i], visited)\n            clone[i] = makeDeepClone(obj[i], maxDepth - 1);\n        }\n    }\n    else {\n        for (const key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                // clone[key] = makeDeepClone(obj[key], visited)\n                clone[key] = makeDeepClone(obj[key], maxDepth - 1);\n            }\n        }\n    }\n    return clone;\n}\nexport function deepEqual(obj1, obj2, maxDepth = 15) {\n    // return isDeepEqual(obj1, obj2, new WeakMap())\n    return isDeepEqual(obj1, obj2, maxDepth);\n}\nfunction isDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\nmaxDepth) {\n    const directEqual = obj1 === obj2;\n    if (directEqual || isSameFunctions(obj1, obj2)) {\n        return true;\n    }\n    // If obj is already visited, return the cloned reference\n    // if (visited.has(obj1)) {\n    if (maxDepth < 0) {\n        return true;\n    }\n    if (typeof obj1 === BasicTypes.object && typeof obj2 === BasicTypes.object) {\n        // both are dates and were already determined not the same\n        if (obj1 instanceof Date && obj2 instanceof Date) {\n            return obj1.getTime() === obj2.getTime();\n        }\n        // Register the cloned object to avoid cyclic references\n        // visited.set(obj1, 0)\n        // Check if obj1 and obj2 are both arrays\n        if (Array.isArray(obj1) && Array.isArray(obj2)) {\n            // return isArrayDeepEqual(obj1, obj2, visited)\n            return isArrayDeepEqual(obj1, obj2, maxDepth - 1);\n        }\n        else if (Array.isArray(obj1) || Array.isArray(obj2)) {\n            // One is an array, and the other is not\n            return false;\n        }\n        // return isObjectDeepEqual(obj1, obj2, visited)\n        return isObjectDeepEqual(obj1, obj2, maxDepth - 1);\n    }\n    return false;\n}\nfunction isObjectDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\nmaxDepth) {\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length === 0 && keys2.length === 0) {\n        return true;\n    }\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const keyFound = keys2.includes(key);\n        if (!keyFound || !isDeepEqual(obj1[key], obj2[key], maxDepth - 1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isArrayDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\nmaxDepth) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    for (let i = 0; i < obj1.length; i++) {\n        // if (!isDeepEqual(obj1[i], obj2[i], visited)) {\n        if (!isDeepEqual(obj1[i], obj2[i], maxDepth - 1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isSameFunctions(fn0, fn1) {\n    const bothFunction = fn0 instanceof Function && fn1 instanceof Function;\n    return bothFunction && fn0.toString() === fn1.toString();\n}\n//# sourceMappingURL=deepFunctions.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nexport function isLikeTags(support0, // new\nsupport1) {\n    const templater0 = support0.templater;\n    const templater1 = support1.templater;\n    const tag0 = templater0?.tag || support0;\n    const tag1 = templater1.tag;\n    if (tag0.tagJsType === ValueTypes.dom) {\n        return isLikeDomTags(tag0, tag1);\n    }\n    const like = isLikeStringTags(tag0, tag1, support0, support1);\n    return like;\n}\nexport function isLikeDomTags(tag0, tag1) {\n    const domMeta0 = tag0.dom;\n    const domMeta1 = tag1.dom;\n    return domMeta0 === domMeta1;\n}\nfunction isLikeStringTags(tag0, tag1, support0, // new\nsupport1) {\n    const strings0 = tag0.strings;\n    const strings1 = tag1.strings || support1.strings;\n    if (strings0.length !== strings1.length) {\n        return false;\n    }\n    const everyStringMatched = strings0.every((string, index) => strings1[index].length === string.length // performance, just compare length of strings // TODO: Document this\n    // strings1[index] === string // slower\n    );\n    if (!everyStringMatched) {\n        return false;\n    }\n    const values0 = support0.values || tag0.values;\n    const values1 = support1.values || tag1.values;\n    return isLikeValueSets(values0, values1);\n}\nexport function isLikeValueSets(values0, values1) {\n    const valuesLengthsMatch = values0.length === values1.length;\n    if (!valuesLengthsMatch) {\n        return false;\n    }\n    const allVarsMatch = values1.every((value, index) => {\n        const compareTo = values0[index];\n        const isFunctions = value instanceof Function && compareTo instanceof Function;\n        if (isFunctions) {\n            const stringMatch = value.toString() === compareTo.toString();\n            if (stringMatch) {\n                return true;\n            }\n            return false;\n        }\n        return true; // deepEqual(value, compareTo)\n    });\n    if (allVarsMatch) {\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=isLikeTags.function.js.map","import { setUse } from '../state/index.js';\nimport { Subject } from '../subject/index.js';\nimport { getSupportInCycle } from './getSupportInCycle.function.js';\n// Emits event at the end of a tag being rendered. Use tagClosed$.toPromise() to render a tag after a current tag is done rendering\nsetUse.memory.tagClosed$ = new Subject(undefined, subscription => {\n    if (!getSupportInCycle()) {\n        subscription.next(); // we are not currently processing so process now\n    }\n});\n// Life cycle 1\nexport function runBeforeRender(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeRender(support, ownerSupport);\n    }\n}\n// Life cycle 2\nexport function runAfterRender(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].afterRender(support, ownerSupport);\n    }\n    setUse.memory.tagClosed$.next(ownerSupport);\n}\n// Life cycle 3\nexport function runBeforeRedraw(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeRedraw(support, ownerSupport);\n    }\n}\n// Life cycle 4 - end of life\nexport function runBeforeDestroy(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeDestroy(support, ownerSupport);\n    }\n    support.subject.global.deleted = true;\n    support.hasLiveElements = false;\n    // remove me from my parents\n    if (ownerSupport) {\n        const global = support.subject.global;\n        global.providers.forEach(provider => provider.children.forEach((child, index) => {\n            if (child.subject.global === global) {\n                provider.children.splice(index, 1);\n            }\n        }));\n    }\n}\n//# sourceMappingURL=tagRunner.js.map","import { BasicTypes, ImmutableTypes, ValueTypes } from './ValueTypes.enum.js';\nimport { isSimpleType, isSubjectInstance, isTagArray } from '../isInstance.js';\nexport function getValueType(value) {\n    if (value === undefined || value === null) {\n        return ImmutableTypes.undefined;\n    }\n    const tagJsType = value.tagJsType;\n    if (tagJsType) {\n        return tagJsType; // oneRender, stateRender\n    }\n    if (value instanceof Function) {\n        return BasicTypes.function;\n    }\n    const type = typeof (value);\n    if (isSimpleType(type)) {\n        return type;\n    }\n    if (type === BasicTypes.object) {\n        if (value instanceof Date) {\n            return BasicTypes.date;\n        }\n        if (isTagArray(value)) {\n            return ValueTypes.tagArray;\n        }\n        if (isSubjectInstance(value)) {\n            return ValueTypes.subject;\n        }\n    }\n    return BasicTypes.unknown;\n}\n//# sourceMappingURL=getValueType.function.js.map","import { deepClone } from '../deepFunctions.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { getValueType } from './getValueType.function.js';\nexport function cloneValueArray(values) {\n    return values.map(cloneTagJsValue);\n}\n/** clones only what is needed to compare differences later */\nexport function cloneTagJsValue(value) {\n    const tag = value;\n    switch (getValueType(value)) {\n        case ValueTypes.stateRender:\n            return undefined;\n        case ValueTypes.tagComponent:\n            const tagComponent = value;\n            return deepClone(tagComponent.props);\n        case ValueTypes.dom:\n        case ValueTypes.tag:\n        case ValueTypes.templater:\n            return cloneValueArray(tag.values);\n        case ValueTypes.tagArray:\n            return cloneValueArray(tag);\n    }\n    return deepClone(value);\n}\n//# sourceMappingURL=cloneValueArray.function.js.map","export function getChildTagsToDestroy(childTags, allTags = [], subs = []) {\n    for (const cTag of childTags) {\n        allTags.push(cTag);\n        const iSubs = cTag.subject.global.subscriptions;\n        subs.push(...iSubs);\n        iSubs.length = 0;\n        const subTags = cTag.subject.global.childTags;\n        getChildTagsToDestroy(subTags, allTags, subs);\n    }\n    childTags.length = 0;\n    return { tags: allTags, subs };\n}\n//# sourceMappingURL=destroy.support.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nexport class TemplaterResult {\n    props;\n    tagJsType = ValueTypes.templater;\n    tagged;\n    wrapper;\n    tag;\n    constructor(props) {\n        this.props = props;\n    }\n    // ??? TODO: removed as it create arrayValue = undefined which then make `'arrayValue' in` pass as true\n    // arrayValue?: unknown // used for tag components used in arrays\n    key(arrayValue) {\n        ;\n        this.arrayValue = arrayValue;\n        return this;\n    }\n}\n//# sourceMappingURL=TemplaterResult.class.js.map","import { empty } from \"./ValueTypes.enum.js\";\nexport const textNode = typeof document === 'undefined' ? getTestTextNode() : document.createTextNode(empty);\nfunction getTestTextNode() {\n    return {\n        textContent: empty,\n        cloneNode: (_children) => getTestTextNode()\n    };\n}\n//# sourceMappingURL=textNode.js.map","export function elementInitCheck(nextSibling, counts) {\n    const onInitDoubleWrap = nextSibling.oninit;\n    if (!onInitDoubleWrap) {\n        return counts.added;\n    }\n    const onInitWrap = onInitDoubleWrap.tagFunction;\n    if (!onInitWrap) {\n        return counts.added;\n    }\n    const onInit = onInitWrap.tagFunction;\n    if (!onInit) {\n        return counts.added;\n    }\n    const event = { target: nextSibling, stagger: counts.added };\n    onInit(event);\n    return ++counts.added;\n}\n//# sourceMappingURL=elementInitCheck.js.map","import { elementInitCheck } from '../../interpolations/attributes/elementInitCheck.js';\n/** This is the function that enhances elements such as [class.something] and [style.color] OR it fixes elements that alter innerHTML */\nexport function afterChildrenBuilt(children, // HTMLCollection // Element[],\nsubject, ownerSupport) {\n    const kids = children;\n    const len = kids.length;\n    let index = 0;\n    while (index < len) {\n        const elmMeta = kids[index];\n        const attributes = elmMeta.attributes;\n        if (!attributes) {\n            ++index;\n            continue;\n        }\n        const domElm = elmMeta.domElement;\n        elmMeta.attributes.forEach(attribute => {\n            const name = attribute[0];\n            switch (name) {\n                case 'oninit':\n                    elementInitCheck(domElm, { added: 0, removed: 0 });\n                    break;\n                case 'autofocus':\n                    domElm.focus();\n                    break;\n                case 'autoselect':\n                    domElm.select();\n                    break;\n            }\n        });\n        const children = elmMeta.children;\n        if (children) {\n            afterChildrenBuilt(children, subject, ownerSupport);\n        }\n        ++index;\n    }\n}\n//# sourceMappingURL=afterChildrenBuilt.function.js.map","export const paintContent = [];\nexport const paintAppends = [];\nexport const painting = {\n    paintContent,\n    paintAppends,\n    locks: 0\n};\nexport function paint() {\n    if (painting.locks > 0) {\n        return;\n    }\n    while (paintContent.length) {\n        paintContent.shift()();\n    }\n    while (paintAppends.length) {\n        const now = paintAppends.shift();\n        if (now.isAppend) {\n            now.relative.appendChild(now.element);\n            continue;\n        }\n        const parentNode = now.relative.parentNode;\n        parentNode.insertBefore(now.element, now.relative);\n    }\n}\n//# sourceMappingURL=paint.function.js.map","import { processFirstSubjectValue } from '../tag/update/processFirstSubjectValue.function.js';\nimport { updateExistingValue } from '../tag/update/updateExistingValue.function.js';\nimport { paint } from '../tag/paint.function.js';\nimport { setUse } from '../state/setUse.function.js';\nexport function subscribeToTemplate({ subject, support, counts, contextItem, }) {\n    let onValue = function onSubValue(value) {\n        const templater = value;\n        processFirstSubjectValue(templater, contextItem, support, {\n            counts: { ...counts },\n        });\n        if (!syncRun && !setUse.memory.stateConfig.support) {\n            paint();\n        }\n        // from now on just run update\n        onValue = (value) => {\n            updateExistingValue(contextItem, value, support);\n            if (!setUse.memory.stateConfig.support) {\n                paint();\n            }\n            return;\n        };\n    };\n    const callback = (value) => onValue(value);\n    let syncRun = true;\n    const sub = subject.subscribe(callback);\n    syncRun = false;\n    support.subject.global.subscriptions.push(sub);\n}\n//# sourceMappingURL=subscribeToTemplate.function.js.map","import { Support } from '../Support.class.js';\nimport { afterChildrenBuilt } from './afterChildrenBuilt.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { paintAppends } from '../paint.function.js';\nimport { subscribeToTemplate } from '../../interpolations/subscribeToTemplate.function.js';\n/** When first time render, adds to owner childTags\n * Used for BOTH inserts & updates to values that were something else\n*/\nexport function processTag(templater, ownerSupport, // owner\nsubject) {\n    let support = subject.support;\n    const firstTime = !support || subject.global.renderCount === 0;\n    // first time seeing this tag?\n    if (firstTime) {\n        support = newSupportByTemplater(templater, ownerSupport, subject);\n    }\n    subject.support = support;\n    support.ownerSupport = ownerSupport;\n    let appendIndex = paintAppends.length;\n    const result = support.buildBeforeElement({ counts: { added: 0, removed: 0 } });\n    const ph = subject.global.placeholder;\n    if (subject.global.deleted) {\n        throw new Error('working with something deleted');\n    }\n    result.dom.forEach(dom => {\n        if (dom.marker) {\n            paintAppends.splice(appendIndex++, 0, {\n                element: dom.marker,\n                relative: ph,\n            });\n        }\n        if (dom.domElement) {\n            paintAppends.splice(appendIndex++, 0, {\n                element: dom.domElement,\n                relative: ph,\n            });\n        }\n    });\n    let index = -1;\n    const length = result.subs.length - 1;\n    //++painting.locks\n    while (index++ < length) {\n        const sub = result.subs[index];\n        subscribeToTemplate(sub);\n    }\n    //--painting.locks\n    afterChildrenBuilt(subject.global.htmlDomMeta, subject, ownerSupport);\n    return { support };\n}\nexport function tagFakeTemplater(tag) {\n    const templater = getFakeTemplater();\n    templater.tag = tag;\n    tag.templater = templater;\n    return templater;\n}\nexport function getFakeTemplater() {\n    const fake = {\n        // children: new ValueSubject<StringTag[]>([]), // no children\n        // props: {} as Props,\n        props: [],\n        isTag: true,\n        tagJsType: ValueTypes.templater,\n        tagged: false,\n        html: () => fake,\n        dom: () => fake,\n        key: () => fake,\n        type: 'fake-templater',\n    };\n    return fake;\n}\n/** Create Support for a tag component */\nexport function newSupportByTemplater(templater, ownerSupport, subject) {\n    const support = new Support(templater, ownerSupport, subject);\n    setupNewSupport(support, ownerSupport, subject);\n    return support;\n}\nexport function setupNewSupport(support, ownerSupport, subject) {\n    support.subject = subject;\n    subject.support = support;\n    subject.global.oldest = support;\n    subject.global.newest = support;\n    // asking me to render will cause my parent to render\n    support.ownerSupport = ownerSupport;\n}\n//# sourceMappingURL=processTag.function.js.map","import { paintAppends } from './tag/paint.function.js';\nimport { empty } from './tag/ValueTypes.enum.js';\n// Function to update the value of x\nexport function updateBeforeTemplate(value, // value should be casted before calling here\nlastFirstChild) {\n    const textNode = document.createTextNode(value); // never innerHTML\n    paintAppends.push({\n        element: textNode,\n        relative: lastFirstChild,\n    });\n    return textNode;\n}\nconst negatives = [undefined, false, null];\nexport function castTextValue(value) {\n    // mimic React skipping to display EXCEPT for true does display on page\n    if (negatives.includes(value)) { // || value === true\n        return empty;\n    }\n    return value;\n}\n//# sourceMappingURL=updateBeforeTemplate.function.js.map","import { paintAppends } from '../paint.function.js';\nimport { subscribeToTemplate } from '../../interpolations/subscribeToTemplate.function.js';\n/** checks if previous support exists on subject or as a last global support. If first render, calls builder. Otherwise calls support.updateBy()\n * Being used for FIRST and UPDATE renders\n*/\nexport function processTagResult(support, subject, // used for recording past and current value\n{ counts, }) {\n    // *if appears we already have seen\n    const subjectTag = subject;\n    const lastSupport = subjectTag.support;\n    const prevSupport = lastSupport?.subject.global.oldest || undefined;\n    const justUpdate = prevSupport;\n    if (prevSupport && justUpdate) {\n        return processTagResultUpdate(support, subjectTag, prevSupport);\n    }\n    return processFirstTagResult(support, counts, subjectTag);\n}\nexport function processFirstTagResult(support, counts, subjectTag) {\n    let appendIndex = paintAppends.length;\n    const result = support.buildBeforeElement({ counts });\n    const global = subjectTag.global;\n    const ph = global.placeholder;\n    let domIndex = -1;\n    const domLen = result.dom.length - 1;\n    while (domIndex++ < domLen) {\n        const dom = result.dom[domIndex];\n        if (dom.domElement) {\n            paintAppends.splice(appendIndex++, 0, {\n                element: dom.domElement,\n                relative: ph\n            });\n        }\n        if (dom.marker) {\n            paintAppends.splice(appendIndex++, 0, {\n                element: dom.marker,\n                relative: ph,\n            });\n        }\n    }\n    let index = -1;\n    const len = result.subs.length - 1;\n    // ++painting.locks\n    while (index++ < len) {\n        subscribeToTemplate(result.subs[index]);\n    }\n    // --painting.locks\n    return support;\n}\nfunction processTagResultUpdate(support, subject, // used for recording past and current value\nprevSupport) {\n    // components\n    if (subject instanceof Function) {\n        const newSupport = subject(prevSupport);\n        prevSupport.updateBy(newSupport);\n        subject.support = newSupport;\n        return newSupport;\n    }\n    subject.global.oldest.updateBy(support);\n    subject.support = support;\n    return support;\n}\n//# sourceMappingURL=processTagResult.function.js.map","import { processFirstTagResult } from './processTagResult.function.js';\nimport { Support } from '../Support.class.js';\nimport { setupNewSupport } from './processTag.function.js';\nimport { renderWithSupport } from '../render/renderWithSupport.function.js';\nimport { validateTemplater } from './validateTemplater.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getCastedProps } from '../getTagWrap.function.js';\nexport function processFirstSubjectComponent(templater, subject, ownerSupport, options) {\n    // TODO: This below check not needed in production mode\n    validateTemplater(templater);\n    const newSupport = new Support(templater, ownerSupport, subject);\n    const castedProps = templater.tagJsType !== ValueTypes.tagComponent ? [] : getCastedProps(templater, newSupport);\n    newSupport.propsConfig.castProps = castedProps;\n    setupNewSupport(newSupport, ownerSupport, subject);\n    const { support } = renderWithSupport(newSupport, subject.global.newest, // subject.support, // existing tag\n    subject, ownerSupport);\n    processFirstTagResult(support, options.counts, subject);\n    ownerSupport.subject.global.childTags.push(newSupport);\n    return support;\n}\n//# sourceMappingURL=processFirstSubjectComponent.function.js.map","import { ValueTypes } from '../ValueTypes.enum.js';\nexport function validateTemplater(templater) {\n    // Check if function component is wrapped in a tag() call\n    const notTag = templater.tagJsType !== ValueTypes.stateRender && templater.tagged !== true;\n    if (notTag) {\n        const wrapper = templater.wrapper;\n        const original = wrapper?.parentWrap.original || templater;\n        let name = original.name || original.constructor?.name;\n        if (name === 'Function') {\n            name = undefined;\n        }\n        const label = name || original.toString().substring(0, 120);\n        const error = new Error(`Not a tag component. Wrap your function with tag(). Example tag(props => html\\`\\`) on component:\\n\\n${label}\\n\\n`);\n        throw error;\n    }\n}\n//# sourceMappingURL=validateTemplater.function.js.map","import { processTagArray } from './processTagArray.js';\nimport { processTag, tagFakeTemplater } from './processTag.function.js';\nimport { renderTagOnly } from '../render/renderTagOnly.function.js';\nimport { BasicTypes, ValueTypes } from '../ValueTypes.enum.js';\nimport { oneRenderToSupport } from './oneRenderToSupport.function.js';\nimport { getValueType } from '../getValueType.function.js';\nimport { castTextValue, updateBeforeTemplate } from '../../updateBeforeTemplate.function.js';\nimport { processFirstSubjectComponent } from './processFirstSubjectComponent.function.js';\nexport function processFirstSubjectValue(value, subject, // could be tag via result.tag\nownerSupport, // owning support\noptions) {\n    const valueType = getValueType(value);\n    switch (valueType) {\n        case ValueTypes.subject: {\n            return {}; // its managed on its own\n        }\n        case ValueTypes.templater:\n            return processTag(value, ownerSupport, subject);\n        case ValueTypes.dom:\n        case ValueTypes.tag:\n            const tag = value;\n            let templater = tag.templater;\n            if (!templater) {\n                templater = tagFakeTemplater(tag);\n            }\n            return processTag(templater, ownerSupport, subject);\n        case ValueTypes.tagArray:\n            processTagArray(subject, value, ownerSupport, options);\n            return {};\n        case ValueTypes.stateRender:\n        case ValueTypes.tagComponent:\n            const processResult = processFirstSubjectComponent(value, subject, ownerSupport, options);\n            return { support: processResult };\n        case BasicTypes.function:\n        case ValueTypes.oneRender:\n            const v = value;\n            if (valueType === ValueTypes.oneRender) {\n                const support = oneRenderToSupport(v, subject, ownerSupport);\n                renderTagOnly(support, undefined, // support,\n                subject, ownerSupport);\n                return processTag(support.templater, ownerSupport, subject);\n            }\n            break;\n    }\n    processFirstRegularValue(value, subject, subject.global.placeholder);\n    return {};\n}\nfunction processFirstRegularValue(value, subject, // could be tag via subject.tag\ninsertBefore) {\n    subject.lastValue = value;\n    const castedValue = castTextValue(value);\n    const clone = updateBeforeTemplate(castedValue, insertBefore);\n    subject.global.simpleValueElm = clone;\n}\n//# sourceMappingURL=processFirstSubjectValue.function.js.map","import { TemplaterResult } from '../TemplaterResult.class.js';\nimport { newSupportByTemplater } from './processTag.function.js';\nexport function oneRenderToSupport(wrapper, subject, ownerSupport) {\n    const templater = new TemplaterResult([]);\n    templater.tagJsType = wrapper.tagJsType;\n    const support = newSupportByTemplater(templater, ownerSupport, subject);\n    let tag;\n    const wrap = () => {\n        templater.tag = tag || (wrapper());\n        return support;\n    };\n    templater.wrapper = wrap;\n    wrap.parentWrap = wrap;\n    wrap.tagJsType = wrapper.tagJsType;\n    wrap.parentWrap.original = wrapper;\n    return support;\n}\n//# sourceMappingURL=oneRenderToSupport.function.js.map","import { TemplaterResult } from '../TemplaterResult.class.js';\nimport { Support } from '../Support.class.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getValueType } from '../getValueType.function.js';\nexport function processNewValue(value, ownerSupport, contextItem) {\n    const valueType = getValueType(value);\n    if (contextItem.global.isAttr) {\n        contextItem.support = ownerSupport;\n        // contextItem.global.lastValue = value\n        contextItem.value = value;\n        return contextItem;\n    }\n    switch (valueType) {\n        case ValueTypes.stateRender:\n        case ValueTypes.tagComponent:\n            contextItem.tagJsType = ValueTypes.tagJsSubject;\n            break;\n        case ValueTypes.templater:\n            const templater = value;\n            const tag = templater.tag;\n            processNewTag(tag, ownerSupport, contextItem);\n            break;\n        case ValueTypes.tag:\n        case ValueTypes.dom:\n            processNewTag(value, ownerSupport, contextItem);\n            break;\n        // its already a subject\n        case ValueTypes.subject:\n            contextItem.tagJsType = ValueTypes.subject;\n            break;\n    }\n    // after processing\n    contextItem.value = value;\n    contextItem.tagJsType = valueType;\n    contextItem.global.lastValue = value;\n    contextItem.global.nowValueType = valueType;\n    return contextItem;\n}\nfunction processNewTag(value, ownerSupport, contextItem) {\n    const tag = value;\n    let templater = tag.templater;\n    // TODO: Can this ever happen?\n    if (!templater) {\n        templater = new TemplaterResult([]);\n        templater.tag = tag;\n        tag.templater = templater;\n    }\n    contextItem.value = templater,\n        contextItem.tagJsType = getValueType(templater);\n    contextItem.support = new Support(templater, ownerSupport, contextItem);\n    contextItem.global.oldest = contextItem.support;\n    ownerSupport.subject.global.childTags.push(contextItem.support);\n    return contextItem;\n}\n//# sourceMappingURL=processNewValue.function.js.map","// taggedjs-no-compile\nimport { ArrayNoKeyError } from '../../errors.js';\nimport { isTagClass } from '../../isInstance.js';\nimport { textNode } from '../textNode.js';\nimport { processFirstSubjectValue } from './processFirstSubjectValue.function.js';\nimport { updateExistingValue } from './updateExistingValue.function.js';\nimport { paintAppends } from '../paint.function.js';\nimport { getNewGlobal } from './getNewGlobal.function.js';\nimport { processNewValue } from './processNewValue.function.js';\nexport function processTagArray(subject, value, // arry of Tag classes\n// insertBefore: InsertBefore, // <template end interpolate />\nownerSupport, options) {\n    const global = subject.global;\n    ++global.renderCount;\n    const existed = subject.lastArray ? true : false;\n    const lastArray = subject.lastArray = subject.lastArray || { array: [] };\n    let lastFragment;\n    const runtimeInsertBefore = global.placeholder;\n    let removed = 0;\n    /**  remove previous items first */\n    lastArray.array = lastArray.array.filter((item, index) => {\n        const { newRemoved, same } = reviewLastArrayItem(item, value, index, lastArray, removed, options);\n        removed = removed + newRemoved;\n        return same;\n    });\n    const length = value.length;\n    for (let index = 0; index < length; ++index) {\n        lastFragment = reviewArrayItem(value, index, lastArray, ownerSupport, existed, runtimeInsertBefore, options);\n    }\n    return lastFragment;\n}\nfunction reviewArrayItem(value, index, lastArray, ownerSupport, existed, runtimeInsertBefore, options) {\n    const item = value[index];\n    const previous = lastArray.array[index];\n    const previousSupport = previous?.support;\n    const subTag = item;\n    // const tagClass = isTagClass(subTag)\n    const itemSubject = previousSupport?.subject || {\n        tagJsType: item,\n        value: value,\n        global: getNewGlobal(),\n    };\n    const templater = subTag.templater;\n    // check for html``.key()\n    const tag = templater?.tag || subTag;\n    const keySet = 'arrayValue' in tag;\n    if (existed && lastArray.array.length != value.length && !keySet) {\n        const details = {\n            // template: support.getTemplate().string,\n            array: value,\n        };\n        const message = 'Found Tag in array without key value, during array update. Be sure to use \"html`...`.key(unique)\" OR import TaggedJs \"key\" \"key(unique).html = CustomTag(props)\"';\n        console.error(message, details);\n        const err = new ArrayNoKeyError(message, details);\n        throw err;\n    }\n    const couldBeSame = lastArray.array.length > index;\n    if (couldBeSame) {\n        updateExistingValue(itemSubject, item, ownerSupport);\n        return;\n    }\n    const { newFragment, newSupport } = processAddTagArrayItem(item, runtimeInsertBefore, // thisInsert as any,\n    itemSubject, index, ownerSupport, options, lastArray.array);\n    if (newSupport) {\n        ownerSupport.subject.global.childTags.push(newSupport);\n    }\n    return newFragment;\n}\nfunction setPlaceholderElm(subject) {\n    const elm = textNode.cloneNode(false);\n    return subject.global.placeholder = elm;\n}\nfunction processAddTagArrayItem(item, before, itemSubject, index, ownerSupport, options, lastArray) {\n    options.counts.added = options.counts.added + 1; // index\n    const subPlaceholder = setPlaceholderElm(itemSubject);\n    paintAppends.push({\n        element: subPlaceholder,\n        relative: before,\n    });\n    processNewValue(item, ownerSupport, itemSubject);\n    const { support } = processFirstSubjectValue(item, itemSubject, ownerSupport, // support,\n    options);\n    // Added to previous array\n    lastArray.push({\n        support: support, index\n    });\n    return { newSupport: support };\n}\n/** compare two values. If both values are arrays then the items will be compared */\nfunction areLikeValues(valueA, valueB) {\n    if (valueA === valueB) {\n        return true;\n    }\n    const bothArrays = valueA instanceof Array && valueB instanceof Array;\n    const matchLengths = bothArrays && valueA.length == valueB.length;\n    if (matchLengths) {\n        return valueA.every((item, index) => item === valueB[index]);\n    }\n    return false;\n}\nexport function destroyArrayItem(lastArray, index, options) {\n    const last = lastArray[index];\n    const support = last.support;\n    destroyArrayTag(support, options.counts);\n    last.deleted = true;\n    ++options.counts.removed;\n}\n/** Destroys one item in an array of items */\nfunction destroyArrayTag(support, counts) {\n    const global = support.subject.global;\n    const ph = global.placeholder;\n    const parentNode = ph.parentNode;\n    parentNode.removeChild(ph);\n    delete global.placeholder;\n    support.destroy({\n        stagger: counts.removed++,\n    });\n}\nfunction reviewLastArrayItem(item, value, index, lastArray, removed, options) {\n    const newLength = value.length - 1;\n    const at = index - removed;\n    const lessLength = at < 0 || newLength < at;\n    if (lessLength) {\n        destroyArrayItem(lastArray.array, index, options);\n        ++removed;\n        return { same: false, newRemoved: removed };\n    }\n    const subTag = value[index - removed];\n    const tagClass = isTagClass(subTag);\n    const tag = subTag;\n    let templater = tag.templater; // || subTag\n    let prevArrayValue;\n    if (tagClass) {\n        prevArrayValue = tag.arrayValue;\n    }\n    else {\n        templater = subTag;\n        // tag = templater.tag as StringTag | DomTag\n        prevArrayValue = templater.arrayValue;\n    }\n    // const tag = subTag?.templater.tag as Tag\n    const lateTemp = item.support.templater;\n    const lastTag = lateTemp?.tag || lateTemp;\n    const lastArrayValue = lastTag.arrayValue;\n    const destroyItem = !areLikeValues(prevArrayValue, lastArrayValue);\n    if (destroyItem) {\n        destroyArrayItem(lastArray.array, index, options);\n        ++removed;\n        return { same: false, newRemoved: removed };\n    }\n    return { same: true, newRemoved: removed };\n}\n//# sourceMappingURL=processTagArray.js.map","import { deepEqual } from '../deepFunctions.js';\nimport { BasicTypes } from './ValueTypes.enum.js';\n/**\n *\n * @param props\n * @param pastCloneProps\n * @returns WHEN number then props have changed. WHEN false props have not changed\n */\nexport function hasPropChanges(props, // natural props\npastCloneProps) {\n    /*\n    const isCommonEqual = props === undefined && props === compareToProps\n    if(isCommonEqual) {\n      return false\n    }\n    */\n    let castedProps = props;\n    let castedPastProps = pastCloneProps;\n    // check all prop functions match\n    if (typeof (props) === BasicTypes.object) {\n        if (!pastCloneProps) {\n            return 3;\n        }\n        castedProps = [...props];\n        castedPastProps = [...(pastCloneProps || [])];\n        const allFunctionsMatch = castedProps.every((value, index) => {\n            const compare = castedPastProps[index];\n            if (value && typeof (value) === BasicTypes.object) {\n                const subCastedProps = { ...value };\n                const subCompareProps = { ...compare || {} };\n                const matched = Object.entries(subCastedProps).every(([key, value]) => compareProps(value, subCompareProps[key], () => {\n                    delete subCastedProps[key]; // its a function and not needed to be compared\n                    delete subCompareProps[key]; // its a function and not needed to be compared\n                }));\n                return matched;\n            }\n            return compareProps(value, compare, () => {\n                castedProps.splice(index, 1);\n                castedPastProps.splice(index, 1);\n            });\n        });\n        if (!allFunctionsMatch) {\n            return 'functions-changed'; // a change has been detected by function comparisons\n        }\n    }\n    // const isEqual = deepEqual(castedPastProps, castedProps)\n    // return isEqual ? false : 7 // if equal then no changes\n    return false;\n}\n/** returning a number means true good comparison */\nfunction compareProps(value, compare, onDelete) {\n    if (!(value instanceof Function)) {\n        return deepEqual(value, compare) ? 4 : false;\n    }\n    const compareFn = compare;\n    if (!(compareFn instanceof Function)) {\n        return false; // its a function now but was not before\n    }\n    // ensure we are comparing apples to apples as function get wrapped\n    const compareOriginal = compare?.original;\n    if (compareOriginal) {\n        compare = compareOriginal;\n    }\n    const original = value.original;\n    if (original) {\n        value = value.original;\n    }\n    const valueString = value.toString();\n    const compareString = compare.toString();\n    if (valueString === compareString) {\n        onDelete();\n        return 3; // both are function the same\n    }\n    onDelete();\n    return 5;\n}\n//# sourceMappingURL=hasPropChanges.function.js.map","export function destroyTagMemory(oldSupport) {\n    const subject = oldSupport.subject;\n    const global = subject.global;\n    const oldest = global.oldest;\n    delete subject.support;\n    oldest.destroy();\n}\n//# sourceMappingURL=destroyTag.function.js.map","import { isStaticTag } from './isInstance.js';\nimport { isInlineHtml, renderInlineHtml } from './tag/render/renderSupport.function.js';\nimport { setUse } from './state/index.js';\nimport { getSupportInCycle } from './tag/getSupportInCycle.function.js';\nimport { renderExistingTag } from './tag/render/renderExistingTag.function.js';\nexport function castProps(props, newSupport, depth) {\n    return props.map(prop => alterProp(prop, newSupport.ownerSupport, newSupport, depth));\n}\n/* Used to rewrite props that are functions. When they are called it should cause parent rendering */\nexport function alterProp(prop, ownerSupport, newSupport, depth) {\n    if (isStaticTag(prop) || !prop) {\n        return prop;\n    }\n    if (!ownerSupport) {\n        return prop; // no one above me\n    }\n    return checkProp(prop, ownerSupport, newSupport, depth);\n}\nexport function checkProp(value, ownerSupport, newSupport, depth) {\n    if (!value) {\n        return value;\n    }\n    if (value.tagJsType) {\n        return value;\n    }\n    if (value instanceof Function) {\n        return getPropWrap(value, ownerSupport);\n    }\n    // if(seen.includes(value)) {\n    if (depth === 15) {\n        return value;\n    }\n    // seen.push(value)\n    const skip = isSkipPropValue(value);\n    if (skip) {\n        return value; // no children to crawl through\n    }\n    if (value instanceof Array) {\n        for (let index = value.length - 1; index >= 0; --index) {\n            const subValue = value[index];\n            value[index] = checkProp(subValue, ownerSupport, newSupport, depth + 1);\n            if (subValue instanceof Function) {\n                if (subValue.toCall) {\n                    continue;\n                }\n                afterCheckProp(depth + 1, index, subValue, value, newSupport);\n            }\n        }\n        return value;\n    }\n    const keys = Object.keys(value);\n    for (const name of keys) {\n        const subValue = value[name];\n        const result = checkProp(subValue, ownerSupport, newSupport, depth + 1);\n        if (value[name] === result) {\n            continue;\n        }\n        const getset = Object.getOwnPropertyDescriptor(value, name);\n        const hasSetter = getset?.get || getset?.set;\n        if (hasSetter) {\n            continue;\n        }\n        value[name] = result;\n        if (result instanceof Function) {\n            if (subValue.toCall) {\n                continue;\n            }\n            afterCheckProp(depth + 1, name, subValue, value, newSupport);\n        }\n    }\n    return value;\n}\nfunction afterCheckProp(depth, index, originalValue, newProp, newSupport) {\n    // restore object to have original function on destroy\n    if (depth > 0) {\n        const global = newSupport.subject.global;\n        newProp[index].subscription = global.destroy$.toCallback(() => {\n            newProp[index] = originalValue;\n        });\n    }\n}\nexport function getPropWrap(value, ownerSupport) {\n    const toCall = value.toCall;\n    // already previously converted by a parent?\n    if (toCall) {\n        return value;\n    }\n    const wrap = (...args) => wrap.toCall(...args); // what gets called can switch over parent state changes\n    // Currently, call self but over parent state changes, I may need to call a newer parent tag owner\n    wrap.toCall = (...args) => {\n        return callbackPropOwner(wrap.mem.prop, args, ownerSupport);\n    };\n    wrap.original = value;\n    wrap.mem = {\n        prop: value,\n        // stateArray: stateArray\n    };\n    // copy data properties that maybe on source function\n    Object.assign(wrap, value);\n    return wrap;\n}\n/** Function shared by alterProps() and updateExistingTagComponent... TODO: May want to have to functions to reduce cycle checking?  */\nexport function callbackPropOwner(toCall, callWith, ownerSupport) {\n    const global = ownerSupport.subject.global;\n    const newest = global.newest;\n    const supportInCycle = getSupportInCycle();\n    const noCycle = supportInCycle === undefined;\n    /*\n    if(supportInCycle) {\n      supportInCycle.subject.global.locked = true\n    }\n    */\n    const callbackResult = toCall(...callWith);\n    /*\n    if(supportInCycle) {\n      const blocked = supportInCycle?.subject.global.blocked\n      if(supportInCycle && blocked?.length) {\n        setUse.memory.tagClosed$.toCallback(() => {\n          delete supportInCycle.subject.global.locked\n          const lastResult = runBlocked(supportInCycle) as Support\n        \n          renderSupport(\n            lastResult,\n            false, // renderUp - callback may have changed props so also check to render up\n          )\n        })\n  \n        return callbackResult\n      }\n      \n      delete supportInCycle.subject.global.locked\n    }\n    */\n    const run = () => {\n        const global = newest.subject.global;\n        // are we in a rendering cycle? then its being called by alterProps\n        if (noCycle === false) {\n            const allMatched = global.locked === true;\n            if (allMatched) {\n                return callbackResult; // owner did not change\n            }\n        }\n        const oldest = global.oldest;\n        const wasInstant = oldest === newest && global.renderCount === 0;\n        if (wasInstant) {\n            return; // prop was called immediately\n        }\n        safeRenderSupport(newest, ownerSupport);\n        return callbackResult;\n    };\n    if (noCycle) {\n        return run();\n    }\n    setUse.memory.tagClosed$.toCallback(run);\n    return callbackResult;\n}\nexport function isSkipPropValue(value) {\n    return typeof (value) !== 'object' || !value || value.tagJsType; // || isSubjectInstance(value)\n}\nexport function safeRenderSupport(newest, ownerSupport) {\n    const isInline = isInlineHtml(newest.templater);\n    if (isInline) {\n        const result = renderInlineHtml(ownerSupport, newest);\n        delete newest.subject.global.locked;\n        return result;\n    }\n    // ??? new removed\n    newest.subject.global.locked = true;\n    const oldest = newest.subject.global.oldest;\n    /*\n    renderExistingReadyTag(\n      newest.subject.support as Support,\n      oldest,\n      newest,\n      ownerSupport,\n      newest.subject,\n      newest.subject.global.newest,\n    )\n    */\n    renderExistingTag(oldest, newest, ownerSupport, // useSupport,\n    newest.subject);\n    // ??? new removed\n    delete newest.subject.global.locked;\n}\nexport function safeRenderSupportTwo(newest, ownerSupport) {\n    if (isInlineHtml(newest.templater)) {\n        const result = renderInlineHtml(ownerSupport, newest);\n        delete newest.subject.global.locked;\n        return result;\n    }\n    newest.subject.global.locked = true;\n    const oldest = newest.subject.global.oldest;\n    renderExistingTag(oldest, newest, ownerSupport, // useSupport,\n    newest.subject);\n    delete newest.subject.global.locked;\n}\n//# sourceMappingURL=alterProp.function.js.map","import { hasSupportChanged } from '../hasSupportChanged.function.js';\nimport { destroyTagMemory } from '../destroyTag.function.js';\nimport { renderSupport } from '../render/renderSupport.function.js';\nimport { castProps, isSkipPropValue } from '../../alterProp.function.js';\nimport { isLikeTags } from '../isLikeTags.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { processFirstSubjectComponent } from './processFirstSubjectComponent.function.js';\nexport function updateExistingTagComponent(ownerSupport, support, // lastest\nsubject) {\n    const lastSupport = subject.global.newest;\n    const oldWrapper = lastSupport.templater.wrapper;\n    const newWrapper = support.templater.wrapper;\n    let isSameTag = false;\n    if (oldWrapper && newWrapper) {\n        const oldFunction = oldWrapper.parentWrap.original;\n        const newFunction = newWrapper.parentWrap.original;\n        // string compare both functions\n        isSameTag = oldFunction === newFunction;\n    }\n    else if (support.templater.tagJsType === ValueTypes.stateRender) {\n        isSameTag = lastSupport.dom === support.dom;\n    }\n    const templater = support.templater;\n    if (!isSameTag) {\n        const newSupport = swapTags(subject, templater, ownerSupport);\n        return { subject, support: newSupport, rendered: true };\n    }\n    const hasChanged = templater.tagJsType === ValueTypes.stateRender || hasSupportChanged(lastSupport, support, templater);\n    // everyhing has matched, no display needs updating.\n    if (!hasChanged) {\n        syncSupports(templater, support, lastSupport, ownerSupport);\n        return { subject, rendered: false, support: lastSupport };\n    }\n    if (subject.global.locked) {\n        subject.global.blocked.push(support);\n        return { subject, support, rendered: false };\n    }\n    const previous = subject.global.newest;\n    const newSupport = renderSupport(support, false);\n    return { subject, support: afterTagRender(subject, previous, newSupport, isSameTag), rendered: true };\n    //return support\n}\nfunction afterTagRender(subject, previous, newSupport, isSameTag) {\n    // detect if both the function is the same and the return is the same\n    const isLikeTag = isSameTag && isLikeTags(previous, newSupport);\n    if (isLikeTag) {\n        subject.support = newSupport;\n        return newSupport;\n    }\n    return newSupport;\n}\nexport function syncFunctionProps(newSupport, lastSupport, ownerSupport, newPropsArray, // templater.props\ndepth = -1) {\n    const newest = lastSupport.subject.global.newest;\n    if (!newest) {\n        // newPropsArray.length = 0\n        const castedProps = castProps(newPropsArray, newSupport, depth);\n        newPropsArray.push(...castedProps);\n        newSupport.propsConfig.castProps = castedProps;\n        return newPropsArray;\n    }\n    lastSupport = newest || lastSupport;\n    const priorPropConfig = lastSupport.propsConfig;\n    const priorPropsArray = priorPropConfig.castProps;\n    const newArray = [];\n    for (let index = 0; index < newPropsArray.length; ++index) {\n        const prop = newPropsArray[index];\n        const priorProp = priorPropsArray[index];\n        const newValue = syncPriorPropFunction(priorProp, prop, newSupport, ownerSupport, depth + 1, index);\n        newArray.push(newValue);\n    }\n    newSupport.propsConfig.castProps = newArray;\n    return newArray;\n}\nfunction syncPriorPropFunction(priorProp, prop, newSupport, ownerSupport, depth, index) {\n    if (priorProp instanceof Function) {\n        // the prop i am receiving, is already being monitored/controlled by another parent\n        if (prop.mem) {\n            priorProp.mem.prop = prop.mem.prop;\n            priorProp.mem.stateArray = prop.mem.stateArray;\n            return prop;\n        }\n        const ownerGlobal = ownerSupport.subject.global;\n        const newest = ownerGlobal.newest;\n        const oldOwnerState = newest.state;\n        priorProp.mem = {\n            prop,\n            stateArray: oldOwnerState,\n        };\n        return priorProp;\n    }\n    // prevent infinite recursion\n    // if(seen.includes(prop)) {\n    if (depth === 15) {\n        return prop;\n    }\n    // seen.push(prop)\n    if (isSkipPropValue(prop)) {\n        return prop; // no children to crawl through\n    }\n    if (prop instanceof Array) {\n        for (let index = prop.length - 1; index >= 0; --index) {\n            const x = prop[index];\n            prop[index] = syncPriorPropFunction(priorProp[index], x, newSupport, ownerSupport, depth + 1, index);\n        }\n        return prop;\n    }\n    if (priorProp === undefined) {\n        return prop;\n    }\n    const keys = Object.keys(prop);\n    for (const name of keys) {\n        const subValue = prop[name];\n        const result = syncPriorPropFunction(priorProp[name], subValue, newSupport, ownerSupport, depth + 1, name);\n        if (prop[name] === result) {\n            continue;\n        }\n        const hasSetter = Object.getOwnPropertyDescriptor(prop, name)?.set;\n        if (hasSetter) {\n            continue;\n        }\n        prop[name] = result;\n    }\n    return prop;\n}\nexport function moveProviders(lastSupport, newSupport) {\n    const global = lastSupport.subject.global;\n    let pIndex = -1;\n    const pLen = global.providers.length - 1;\n    while (pIndex++ < pLen) {\n        const provider = global.providers[pIndex];\n        let index = -1;\n        const pcLen = provider.children.length - 1;\n        while (index++ < pcLen) {\n            const child = provider.children[index];\n            const wasSameGlobals = global.destroy$ === child.subject.global.destroy$;\n            if (wasSameGlobals) {\n                provider.children.splice(index, 1);\n                provider.children.push(newSupport);\n                return;\n            }\n        }\n    }\n}\nfunction syncSupports(templater, support, lastSupport, ownerSupport) {\n    // update function refs to use latest references\n    const newProps = templater.props;\n    const castedProps = syncFunctionProps(support, lastSupport, ownerSupport, newProps);\n    // When new support actually makes call to real function, use these pre casted props\n    support.propsConfig.castProps = castedProps;\n    // update support to think it has different cloned props\n    lastSupport.propsConfig.latestCloned = support.propsConfig.latestCloned;\n    return lastSupport; // its the same tag component  \n}\nfunction swapTags(subject, templater, ownerSupport) {\n    const global = subject.global;\n    const oldestSupport = global.oldest;\n    destroyTagMemory(oldestSupport);\n    delete subject.global.deleted;\n    const newSupport = processFirstSubjectComponent(templater, subject, ownerSupport, {\n        counts: { added: 0, removed: 0 },\n    });\n    return newSupport;\n}\n//# sourceMappingURL=updateExistingTagComponent.function.js.map","import { hasPropChanges } from './hasPropChanges.function.js';\nexport function hasSupportChanged(lastSupport, newSupport, newTemplater) {\n    const latestProps = newTemplater.props; // newSupport.propsConfig.latest\n    const pastCloneProps = lastSupport.propsConfig.latestCloned;\n    const propsChanged = hasPropChanges(latestProps, pastCloneProps);\n    // if no changes detected, no need to continue to rendering further tags\n    if (propsChanged) {\n        return propsChanged;\n    }\n    const propsChanged2 = hasPropChanges(lastSupport.propsConfig.latestCloned, newSupport.propsConfig.latestCloned);\n    if (propsChanged2) {\n        return propsChanged2;\n    }\n    return false;\n}\n//# sourceMappingURL=hasSupportChanged.function.js.map","import { castTextValue, updateBeforeTemplate } from '../../updateBeforeTemplate.function.js';\nimport { paintContent } from '../paint.function.js';\n/** Used during update value process */\nexport function processRegularValue(value, subject) {\n    const before = subject.global.placeholder; // || insertBefore // Either the template is on the doc OR its the first element we last put on doc\n    // matches but also was defined at some point\n    const skip = subject.lastValue === value && 'lastValue' in subject;\n    if (skip) {\n        return; // no need to update display, its the same\n    }\n    subject.lastValue = value;\n    const castedValue = castTextValue(value);\n    // replace existing string?\n    const oldClone = subject.global.simpleValueElm; // placeholder\n    if (oldClone) {\n        paintContent.push(() => {\n            oldClone.textContent = castedValue;\n        });\n        return;\n    }\n    // Processing of regular values\n    subject.global.simpleValueElm = updateBeforeTemplate(castedValue, before);\n}\n//# sourceMappingURL=processRegularValue.function.js.map","import { isSimpleType, isStaticTag } from '../isInstance.js';\nimport { destroyArrayItem } from './update/processTagArray.js';\nimport { isLikeTags } from './isLikeTags.function.js';\nimport { destroyTagMemory } from './destroyTag.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { paintContent } from './paint.function.js';\nconst tagTypes = [ValueTypes.tagComponent, ValueTypes.stateRender, ValueTypes.oneRender];\nexport function checkDestroyPrevious(subject, // existing.value is the old value\nnewValue, valueType) {\n    const displaySubject = subject;\n    const hasLastValue = 'lastValue' in displaySubject;\n    const lastValue = displaySubject.lastValue; // TODO: we maybe able to use displaySubject.value and remove concept of lastValue\n    // was simple value but now something bigger\n    if (hasLastValue && lastValue !== newValue) {\n        // below is faster than using getValueType\n        const newType = typeof (newValue);\n        if (isSimpleType(newType) && typeof (lastValue) === newType) {\n            return false;\n        }\n        if (newValue instanceof Function && lastValue instanceof Function) {\n            return false;\n        }\n        destroySimpleValue(displaySubject);\n        subject.global.renderCount = 0;\n        return 'changed-simple-value';\n    }\n    const arraySubject = subject;\n    const wasArray = arraySubject.lastArray;\n    // no longer an array\n    if (wasArray && valueType !== ValueTypes.tagArray) {\n        delete arraySubject.lastArray;\n        const counts = { added: 0, removed: 0 };\n        for (let index = 0; index < wasArray.array.length; ++index) {\n            const { support } = wasArray.array[index];\n            destroyArrayItem(wasArray.array, index, { counts });\n            // destroyArrayTag(support, )\n        }\n        subject.global.renderCount = 0;\n        return 'array';\n    }\n    const tagSubject = subject;\n    const global = subject.global;\n    const lastSupport = tagSubject.support;\n    // no longer tag or component?\n    if (lastSupport && !global.deleted) {\n        const isValueTag = isStaticTag(newValue);\n        const isSubjectTag = isStaticTag(newValue);\n        const newTag = newValue;\n        if (isSubjectTag && isValueTag) {\n            // its a different tag now\n            const likeTags = isLikeTags(newTag, lastSupport);\n            if (!likeTags) {\n                destroyTagMemory(lastSupport);\n                delete subject.global.deleted;\n                subject.global.renderCount = 0;\n                return 'tag-swap';\n            }\n            return false;\n        }\n        const isTag = tagTypes.includes(valueType);\n        if (isTag) {\n            return false; // its still a tag component\n        }\n        // destroy old component, value is not a component\n        destroyTagMemory(lastSupport);\n        subject.global.renderCount = 0;\n        delete subject.global.deleted; // prevent replacing tag from thinking it was deleted\n        return 'different-tag';\n    }\n    return false;\n}\nfunction destroySimpleValue(subject) {\n    delete subject.lastValue;\n    const elm = subject.global.simpleValueElm;\n    paintContent.push(() => {\n        const parentNode = elm.parentNode;\n        parentNode.removeChild(elm);\n    });\n    delete subject.global.simpleValueElm;\n}\n//# sourceMappingURL=checkDestroyPrevious.function.js.map","import { Support } from '../Support.class.js';\nimport { TemplaterResult } from '../TemplaterResult.class.js';\nimport { isTagClass, isTagTemplater } from '../../isInstance.js';\nimport { processTagArray } from './processTagArray.js';\nimport { updateExistingTagComponent } from './updateExistingTagComponent.function.js';\nimport { processRegularValue } from './processRegularValue.function.js';\nimport { checkDestroyPrevious } from '../checkDestroyPrevious.function.js';\nimport { isLikeTags } from '../isLikeTags.function.js';\nimport { getFakeTemplater, processTag, setupNewSupport } from './processTag.function.js';\nimport { BasicTypes, ValueTypes } from '../ValueTypes.enum.js';\nimport { getValueType } from '../getValueType.function.js';\nimport { processFirstSubjectComponent } from './processFirstSubjectComponent.function.js';\nconst tagTypes = [ValueTypes.tagComponent, ValueTypes.stateRender];\nexport function updateExistingValue(subject, // InterpolateSubject,\nvalue, ownerSupport) {\n    const nowValueType = subject.global.nowValueType;\n    const fetchType = !nowValueType || nowValueType === ValueTypes.subject;\n    const valueType = fetchType ? getValueType(value) : nowValueType;\n    checkDestroyPrevious(subject, value, valueType);\n    // handle already seen tag components\n    const isStateTag = tagTypes.includes(valueType);\n    if (isStateTag) {\n        return prepareUpdateToComponent(value, subject, ownerSupport);\n    }\n    // was component but no longer\n    const support = subject.support;\n    if (support) {\n        const oneRender = [BasicTypes.function, ValueTypes.oneRender].includes(valueType);\n        if (oneRender) {\n            return { subject, rendered: false }; // its a oneRender tag\n        }\n        handleStillTag(subject, value, ownerSupport);\n        return { subject, rendered: true };\n    }\n    switch (valueType) {\n        case ValueTypes.tagArray:\n            processTagArray(subject, value, ownerSupport, { counts: {\n                    added: 0,\n                    removed: 0,\n                } });\n            return { subject, rendered: true };\n        case ValueTypes.templater:\n            processTag(value, ownerSupport, subject);\n            return { subject, rendered: true };\n        case ValueTypes.tag:\n        case ValueTypes.dom:\n            const tag = value;\n            let templater = tag.templater;\n            if (!templater) {\n                templater = getFakeTemplater();\n                tag.templater = templater;\n                templater.tag = tag;\n            }\n            processTag(templater, ownerSupport, subject);\n            return { subject, rendered: true };\n        // TODO: This don't look right?\n        case ValueTypes.subject:\n            subject.value = value;\n            return { subject, rendered: false };\n        // now its a useless function (we don't automatically call functions)\n        case BasicTypes.function:\n            return { subject, rendered: false };\n    }\n    // This will cause all other values to render\n    processRegularValue(value, subject);\n    return { subject, rendered: true };\n}\nfunction handleStillTag(subject, value, ownerSupport) {\n    const lastSupport = subject.support;\n    let templater = value;\n    const isClass = isTagClass(value);\n    if (isClass) {\n        const tag = value;\n        templater = tag.templater;\n        if (!templater) {\n            templater = new TemplaterResult([]);\n            templater.tag = tag;\n            tag.templater = templater;\n        }\n    }\n    const valueSupport = new Support(templater, ownerSupport, subject);\n    const isSameTag = value && isLikeTags(lastSupport, valueSupport);\n    if (isTagTemplater(value)) {\n        setupNewSupport(valueSupport, ownerSupport, subject);\n    }\n    if (isSameTag) {\n        lastSupport.subject.global.oldest.updateBy(valueSupport);\n        return;\n    }\n    return processRegularValue(value, subject);\n}\nfunction prepareUpdateToComponent(templater, subjectTag, ownerSupport) {\n    // When last value was not a component\n    if (!subjectTag.support) {\n        processFirstSubjectComponent(templater, subjectTag, ownerSupport, { counts: { added: 0, removed: 0 } });\n        return { subject: subjectTag, rendered: true };\n    }\n    const support = new Support(templater, ownerSupport, subjectTag);\n    const subjectSup = subjectTag.support;\n    const prevSupport = subjectSup.subject.global.newest;\n    const newestState = prevSupport.state;\n    support.state.length = 0;\n    support.state.push(...newestState);\n    subjectTag.global = subjectSup.subject.global;\n    subjectTag.support = support;\n    return updateExistingTagComponent(ownerSupport, support, // latest value\n    subjectTag);\n}\n//# sourceMappingURL=updateExistingValue.function.js.map","import { paintContent } from \"../../tag/paint.function.js\";\nconst style = 'style';\nconst classS = 'class';\nexport function specialAttribute(name, value, element) {\n    const names = name.split('.');\n    const firstName = names[0];\n    // style.position = \"absolute\"\n    if (firstName === style) {\n        paintContent.push(() => element.style[names[1]] = value); // attribute changes should come first\n        return;\n    }\n    // Example: class.width-full = \"true\"\n    if (firstName === classS) {\n        names.shift();\n        // truthy\n        if (value) {\n            for (const name of names) {\n                /*\n                if(element.classList.contains(name)) {\n                  continue\n                }\n                */\n                paintContent.push(() => element.classList.add(name));\n            }\n            return;\n        }\n        // falsy\n        for (const name of names) {\n            paintContent.push(() => element.classList.remove(name));\n        }\n    }\n}\n//# sourceMappingURL=specialAttribute.js.map","import { paintContent } from \"../../tag/paint.function.js\";\nexport function howToSetInputValue(element, name, value) {\n    paintContent.push(() => {\n        if (value === undefined || value === false || value === null) {\n            element.removeAttribute(name);\n            return;\n        }\n        element.setAttribute(name, value);\n    });\n}\n//# sourceMappingURL=howToSetInputValue.function.js.map","import { safeRenderSupportTwo } from '../alterProp.function.js';\nexport function handleProviderChanges(appSupport, provider, skip) {\n    let hadChanged = false;\n    const tagsWithProvider = getTagsWithProvider(appSupport, provider);\n    return tagsWithProvider;\n    /*\n    const unlocked = tagsWithProvider.filter(x => x.provider.locked === undefined)\n    const supports = unlocked.map(x => {\n      x.provider.locked = true\n      return x.support\n    })\n    */\n    // renderTagUpdateArray(supports, false)\n    for (let index = tagsWithProvider.length - 1; index >= 0; --index) {\n        const { support, renderCount, provider } = tagsWithProvider[index];\n        const global = support.subject.global;\n        if (skip.subject.global === global) {\n            continue;\n        }\n        if (global.deleted) {\n            continue; // i was deleted after another tag processed\n        }\n        const notRendered = renderCount === global.renderCount;\n        const locked = global.locked;\n        const render = notRendered && !locked;\n        if (render) {\n            hadChanged = true;\n            const newSupport = global.newest;\n            // provider.clone = deepClone(provider.instance)\n            safeRenderSupportTwo(newSupport, newSupport.ownerSupport);\n            continue;\n        }\n    }\n    //unlocked.forEach(unlocked => delete unlocked.provider.locked)\n    //return hadChanged\n}\n/** Updates and returns memory of tag providers */\nfunction getTagsWithProvider(support, provider, memory = []) {\n    memory.push({\n        support,\n        renderCount: support.subject.global.renderCount,\n        provider,\n    });\n    const childTags = provider.children;\n    for (let index = childTags.length - 1; index >= 0; --index) {\n        const child = childTags[index];\n        memory.push({\n            support: child,\n            renderCount: child.subject.global.renderCount,\n            provider,\n        });\n    }\n    return memory;\n}\n//# sourceMappingURL=handleProviderChanges.function.js.map","import { providersChangeCheck } from \"../../state/providersChangeCheck.function.js\";\nimport { checkRenderUp, isInlineHtml } from \"../../tag/render/renderSupport.function.js\";\nexport function getUpTags(support, supports = []) {\n    const global = support.subject.global;\n    const templater = support.templater;\n    const inlineHtml = isInlineHtml(templater);\n    const ownerSupport = support.ownerSupport;\n    // is it just a vanilla tag, not component?\n    if (inlineHtml) {\n        return getUpTags(ownerSupport, supports);\n    }\n    if (global.locked) {\n        supports.push(support);\n        return supports;\n    }\n    // const subject = support.subject\n    // const oldest = global.oldest\n    const newSupport = global.newest;\n    const continueUp = ownerSupport && checkRenderUp(ownerSupport, newSupport.templater, newSupport);\n    if (continueUp) {\n        getUpTags(ownerSupport, supports);\n    }\n    const proSupports = providersChangeCheck(newSupport);\n    supports.push(...proSupports);\n    supports.push(newSupport);\n    return supports;\n}\n//# sourceMappingURL=getUpTags.function.js.map","import { handleProviderChanges } from './handleProviderChanges.function.js';\nexport function providersChangeCheck(support) {\n    const global = support.subject.global;\n    const providersWithChanges = global.providers; // .filter(provider => !deepEqual(provider.instance, provider.clone))\n    const prosWithChanges = [];\n    // reset clones\n    for (const provider of providersWithChanges) {\n        const owner = provider.owner;\n        const hasChange = handleProviderChanges(owner, provider, support);\n        prosWithChanges.push(...hasChange.map(x => x.support));\n    }\n    return prosWithChanges;\n}\n//# sourceMappingURL=providersChangeCheck.function.js.map","import { paint, painting } from '../../tag/paint.function.js';\nimport { renderSupport } from '../../tag/render/renderSupport.function.js';\nexport function renderTagUpdateArray(supports) {\n    ++painting.locks;\n    supports.map(support => {\n        return { support, renderCount: support.subject.global.renderCount };\n    }).forEach(({ support, renderCount }) => {\n        const global = support.subject.global;\n        const newCount = global.renderCount;\n        // ??? not sure if used\n        if (renderCount !== newCount) {\n            return; // already rendered\n        }\n        // ??? not sure if used\n        if (global.deleted) {\n            return; // deleted\n        }\n        const newest = support.subject.global.newest;\n        renderSupport(newest, false);\n    });\n    --painting.locks;\n    paint();\n}\n//# sourceMappingURL=renderTagArray.function.js.map","/** File largely responsible for reacting to element events, such as onclick */\nimport { updateExistingTagComponent } from '../../tag/update/updateExistingTagComponent.function.js';\nimport { getUpTags } from './getUpTags.function.js';\nimport { renderTagUpdateArray } from './renderTagArray.function.js';\nconst noData = 'no-data-ever';\nconst promiseNoData = 'promise-no-data-ever';\nexport function bindSubjectCallback(value, support) {\n    const state = support.state;\n    const subjectFunction = (element, args) => {\n        return runTagCallback(subjectFunction.tagFunction, subjectFunction.support.subject.global.newest, // subjectFunction.support\n        element, args, state);\n    };\n    // link back to original. Mostly used for <div oninit ondestroy> animations\n    subjectFunction.tagFunction = value;\n    subjectFunction.support = support;\n    return subjectFunction;\n}\nexport function runTagCallback(value, support, bindTo, args, state) {\n    // ??? todo: restore this?\n    // const tag = support.templater.tag?.ownerSupport || support\n    const tag = support;\n    const global = tag.subject.global;\n    // ??? not sure if needed\n    /*\n    const newest = global.newest as Support\n    const newState = newest.state\n    if(newState.length === state.length) {\n      syncStates(newState, state)\n    }\n    */\n    const method = value.bind(bindTo);\n    global.locked = true; // prevent another render from re-rendering this tag\n    const callbackResult = method(...args);\n    /*\n    if(newState.length === state.length) {\n      syncStates(state, newState)\n    }\n    */\n    return afterTagCallback(tag, callbackResult);\n}\nexport function afterTagCallback(tag, callbackResult) {\n    const global = tag.subject.global;\n    /*\n    if (global.deleted) {\n      return noData;\n    }\n    */\n    delete global.locked;\n    const blocked = global.blocked;\n    if (blocked.length) {\n        const lastResult = runBlocked(tag);\n        return checkAfterCallbackPromise(callbackResult, lastResult, global);\n    }\n    const result = renderCallbackSupport(global.newest, callbackResult, global);\n    return result;\n}\nfunction renderCallbackSupport(last, callbackResult, global) {\n    /*\n    if(global.deleted) {\n      return noData // || last.global.deleted\n    }\n    */\n    const tagsToUpdate = getUpTags(last);\n    renderTagUpdateArray(tagsToUpdate);\n    /*\n    renderSupport(\n      last,\n      true, // renderUp - callback may have changed props so also check to render up\n    )\n    */\n    return checkAfterCallbackPromise(callbackResult, last, global);\n}\nexport function checkAfterCallbackPromise(callbackResult, last, global) {\n    if (callbackResult instanceof Promise) {\n        last.subject.global.locked = true;\n        return callbackResult.then(() => {\n            // delete last.subject.global.locked\n            if (global.deleted) {\n                return promiseNoData; // tag was deleted during event processing\n            }\n            delete last.subject.global.locked;\n            const tagsToUpdate = getUpTags(last);\n            renderTagUpdateArray(tagsToUpdate);\n            /*\n            renderSupport(\n              global.newest as Support,\n              true,\n            )\n            */\n            return promiseNoData;\n        });\n    }\n    return noData;\n}\nexport function runBlocked(tag) {\n    const global = tag.subject.global;\n    const blocked = global.blocked;\n    while (blocked.length > 0) {\n        const block = blocked[0];\n        blocked.splice(0, 1);\n        const lastResult = updateExistingTagComponent(block.ownerSupport, block, block.subject);\n        global.newest = lastResult.support;\n    }\n    return global.newest;\n}\n//# sourceMappingURL=bindSubjectCallback.function.js.map","import { specialAttribute } from './specialAttribute.js';\nimport { isSpecialAttr, processTagCallbackFun } from './processAttribute.function.js';\nexport function processNameValueAttribute(attrName, value, element, howToSet, support) {\n    const global = value?.global;\n    if (global) {\n        const contextItem = value;\n        const isFun = contextItem.value instanceof Function;\n        global.attrName = attrName;\n        global.element = element;\n        global.howToSet = howToSet;\n        if (isFun) {\n            return processTagCallbackFun(contextItem, contextItem.value, support, attrName, element);\n        }\n        value = value.value;\n        // TODO: enhance this condition\n        if (global) {\n            global.attrName = attrName;\n            global.element = element;\n            global.howToSet = howToSet;\n            global.isSpecial = isSpecialAttr(attrName);\n        }\n    }\n    return processNonDynamicAttr(attrName, value, element, howToSet);\n}\nfunction processNonDynamicAttr(attrName, value, element, howToSet) {\n    const isSpecial = isSpecialAttr(attrName);\n    if (isSpecial) {\n        return specialAttribute(attrName, value, element);\n    }\n    howToSet(element, attrName, value);\n}\n//# sourceMappingURL=processNameValueAttribute.function.js.map","import { specialAttribute } from './specialAttribute.js';\nimport { isSubjectInstance } from '../../isInstance.js';\nimport { howToSetInputValue } from './howToSetInputValue.function.js';\nimport { bindSubjectCallback } from './bindSubjectCallback.function.js';\nimport { ImmutableTypes, ValueTypes, empty } from '../../tag/ValueTypes.enum.js';\nimport { paint, paintContent } from '../../tag/paint.function.js';\nimport { processNameValueAttribute } from './processNameValueAttribute.function.js';\n/** Sets attribute value, subscribes to value updates  */\nexport function processAttribute(attrs, element, support, howToSet = howToSetInputValue) {\n    const attrName = attrs[0];\n    const value = attrs[1];\n    const nameVar = getTagJsVar(attrName);\n    // const isNameVar = (attrs as any).length === 1 || nameVar >= 0 // isTagVar(attrName)\n    const isNameVar = nameVar >= 0; // isTagVar(attrName)\n    if (isNameVar) {\n        const contextItem = support.subject.global.context[nameVar];\n        contextItem.global.isAttr = true;\n        contextItem.global.element = element;\n        return processNameOnlyAttr(support, contextItem, element, howToSet);\n    }\n    const valueVar = getTagJsVar(value);\n    if (valueVar >= 0) {\n        const contextItem = support.subject.global.context[valueVar];\n        contextItem.global.isAttr = true;\n        contextItem.global.element = element;\n        contextItem.global.attrName = attrName;\n        const isSubject = isSubjectInstance(contextItem.value);\n        if (isSubject) {\n            return processNameValueAttributeAttrSubject(attrName, contextItem, element, support, howToSet);\n        }\n        return processNameValueAttribute(attrName, contextItem, element, howToSet, support);\n    }\n    return processNameValueAttribute(attrName, value, element, howToSet, support);\n}\nfunction processNameOnlyAttr(support, contextValue, element, howToSet) {\n    contextValue.global.element = element;\n    contextValue.global.howToSet = howToSet;\n    contextValue.global.isNameOnly = true;\n    // the above callback gets called immediately since its a ValueSubject()\n    const contextValueSubject = contextValue.value;\n    if (isSubjectInstance(contextValueSubject)) {\n        const sub = contextValueSubject.subscribe((value) => {\n            processNameOnlyEmit(value, support, contextValue, element, howToSet);\n            paint();\n        });\n        support.subject.global.subscriptions.push(sub); // this is where unsubscribe is picked up\n        return;\n    }\n    processNameOnlyEmit(contextValue.value, support, contextValue, element, howToSet);\n}\nexport function processNameOnlyEmit(value, support, subject, element, howToSet) {\n    const global = subject.global;\n    if (value === global.lastValue) {\n        return; // value did not change\n    }\n    processNameOnlyAttrValue(value, subject.global.lastValue, element, support, howToSet);\n}\nfunction processNameOnlyAttrValue(attrValue, lastValue, element, ownerSupport, howToSet) {\n    // check to remove previous attribute(s)\n    if (lastValue) {\n        if (lastValue instanceof Object) {\n            const isObStill = attrValue instanceof Object;\n            if (isObStill) {\n                for (const name in lastValue) {\n                    if (name in attrValue) {\n                        continue;\n                    }\n                    paintContent.push(() => element.removeAttribute(name));\n                    // delete element[name]\n                }\n            }\n            else {\n                for (const name in lastValue) {\n                    paintContent.push(() => element.removeAttribute(name));\n                    // delete element[name]\n                }\n            }\n        }\n        if (attrValue === undefined || attrValue === null || attrValue === false) {\n            element.removeAttribute(lastValue);\n            return;\n        }\n    }\n    // process an object of attributes ${{class:'something, checked:true}}\n    if (attrValue instanceof Object) {\n        for (const name in attrValue) {\n            processAttribute([name, attrValue[name]], element, ownerSupport, howToSet);\n        }\n    }\n    // regular attributes\n    if (typeof (attrValue) === ImmutableTypes.string) {\n        if (!attrValue.length) {\n            return; // ignore, do not set at this time\n        }\n        howToSet(element, attrValue, empty);\n        return;\n    }\n}\n/** Processor for flat attributes and object attributes */\nfunction processNameValueAttributeAttrSubject(attrName, result, element, support, howToSet) {\n    const isSpecial = isSpecialAttr(attrName);\n    if (isSpecial) {\n        paintContent.push(() => element.removeAttribute(attrName));\n    }\n    const contextValueSubject = result.value;\n    if (isSubjectInstance(contextValueSubject)) {\n        const callback = (newAttrValue) => {\n            processAttributeEmit(isSpecial, newAttrValue, attrName, result, element, support, howToSet);\n        };\n        //  Subscribe. Above callback called immediately since its a ValueSubject()\n        const sub = contextValueSubject.subscribe(callback);\n        // Record subscription for later unsubscribe when element destroyed\n        result.global.subscriptions.push(sub);\n    }\n    processAttributeEmit(isSpecial, result.value, attrName, result, element, support, howToSet);\n    return;\n}\nexport function processAttributeEmit(isSpecial, newAttrValue, attrName, subject, element, support, howToSet) {\n    // should the function be wrapped so every time its called we re-render?\n    if (newAttrValue instanceof Function) {\n        return callbackFun(support, newAttrValue, element, attrName, isSpecial, howToSet, subject);\n    }\n    return processAttributeSubjectValue(newAttrValue, element, attrName, isSpecial, howToSet, support, subject);\n}\nexport function processAttributeSubjectValue(newAttrValue, element, attrName, isSpecial, howToSet, support, subject) {\n    if (newAttrValue instanceof Function) {\n        return processAttributeFunction(element, newAttrValue, support, attrName);\n    }\n    // its already the same value\n    if (subject.global.lastValue === newAttrValue) {\n        return subject.global.lastValue;\n    }\n    if (isSpecial) {\n        specialAttribute(attrName, newAttrValue, element);\n        return;\n    }\n    const isDeadValue = [undefined, false, null].includes(newAttrValue);\n    if (isDeadValue) {\n        paintContent.push(() => element.removeAttribute(attrName));\n        return;\n    }\n    // value is 0\n    howToSet(element, attrName, newAttrValue);\n}\nfunction processAttributeFunction(element, newAttrValue, support, attrName) {\n    const fun = function (...args) {\n        return fun.tagFunction(element, args);\n    };\n    // access to original function\n    fun.tagFunction = newAttrValue;\n    fun.support = support;\n    return applyFunToElm(attrName, element, fun);\n}\nexport function applyFunToElm(attrName, element, fun) {\n    element[attrName] = fun;\n    return attrName;\n}\n/** Looking for (class | style) followed by a period */\nexport function isSpecialAttr(attrName) {\n    return attrName.search(/^(class|style)(\\.)/) >= 0;\n}\nfunction callbackFun(support, newAttrValue, element, attrName, isSpecial, howToSet, subject) {\n    const wrapper = support.templater.wrapper;\n    const parentWrap = wrapper?.parentWrap;\n    const tagJsType = wrapper?.tagJsType || parentWrap?.tagJsType;\n    const oneRender = tagJsType === ValueTypes.oneRender;\n    if (!oneRender) {\n        return processTagCallbackFun(subject, newAttrValue, support, attrName, element);\n    }\n    return processAttributeSubjectValue(newAttrValue, element, attrName, isSpecial, howToSet, support, subject);\n}\nexport function processTagCallbackFun(subject, newAttrValue, support, attrName, element) {\n    const prevFun = subject.global.lastValue;\n    if (prevFun && prevFun.tagFunction && prevFun.support) {\n        prevFun.tagFunction = newAttrValue;\n        prevFun.support = support;\n        return prevFun;\n    }\n    // tag has state and will need all functions wrapped to cause re-renders\n    newAttrValue = bindSubjectCallback(newAttrValue, support);\n    subject.global.lastValue = newAttrValue;\n    return processAttributeFunction(element, newAttrValue, support, attrName);\n}\nfunction getTagJsVar(attrPart) {\n    if (attrPart && attrPart instanceof Object && 'tagJsVar' in attrPart)\n        return attrPart.tagJsVar;\n    return -1;\n}\n//# sourceMappingURL=processAttribute.function.js.map","import { isSubjectInstance } from \"../../isInstance.js\";\nimport { paintAppends } from \"../../tag/paint.function.js\";\nimport { empty } from \"../../tag/ValueTypes.enum.js\";\nimport { processAttribute } from \"../attributes/processAttribute.function.js\";\nimport { processFirstSubjectValue } from \"../../tag/update/processFirstSubjectValue.function.js\";\n// ??? TODO: This could be done within exchangeParsedForValues to reduce loops\nexport function attachDomElement(nodes, scope, support, counts, // used for animation stagger computing\nowner, subs = []) {\n    const x = document.createElement('div');\n    const dom = [];\n    for (const node of nodes) {\n        const newNode = {}; // DomObjectText\n        dom.push(newNode);\n        const value = node.value;\n        const isNum = !isNaN(value);\n        if (isNum) {\n            const marker = newNode.marker = node.marker || document.createTextNode(empty); // textNode.cloneNode(false) as Text\n            if (owner) {\n                paintAppends.push({\n                    relative: owner,\n                    element: marker,\n                    isAppend: true,\n                });\n            }\n            const subject = scope[value];\n            subject.global.placeholder = marker;\n            // delete (node as any).marker // delete so that the marker is not destroyed with tag\n            const subVal = subject.value;\n            if (isSubjectInstance(subVal)) {\n                subs.push({\n                    // fragment: owner,\n                    insertBefore: marker,\n                    subject: subVal,\n                    support, // ownerSupport,\n                    counts,\n                    contextItem: subject,\n                });\n                continue;\n            }\n            processFirstSubjectValue(subject.value, subject, support, {\n                counts: { ...counts },\n            });\n            continue;\n        }\n        if (node.nodeName === 'text') {\n            const textNode = newNode;\n            const string = textNode.textContent = node.textContent;\n            // PARSE things like &nbsp; and <!-- -->\n            // const newString = string // domParseString(string)\n            x.innerHTML = string;\n            const domElement = textNode.domElement = document.createTextNode(x.innerText);\n            if (owner) {\n                paintAppends.push({\n                    isAppend: true,\n                    element: domElement,\n                    relative: owner,\n                });\n            }\n            continue;\n        }\n        const domElement = newNode.domElement = document.createElement(node.nodeName);\n        // attributes that may effect style, come first\n        if (node.attributes) {\n            node.attributes.map(attr => processAttribute(attr, domElement, support));\n        }\n        if (owner) {\n            paintAppends.push({\n                element: domElement,\n                relative: owner,\n                isAppend: true,\n            });\n        }\n        if (node.children) {\n            newNode.children = attachDomElement(node.children, scope, support, counts, domElement, subs).dom;\n        }\n    }\n    return { subs, dom };\n}\n// parse things like &nbsp; and <!-- -->\nfunction domParseString(string) {\n    const text = new DOMParser().parseFromString(string, 'text/html');\n    return getLeadingSpaces(string) + text.documentElement.textContent;\n}\nfunction getLeadingSpaces(str) {\n    const match = str.match(/^\\s+/);\n    return match ? match[0] : '';\n}\n//# sourceMappingURL=metaAttachDomElements.function.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nimport { isTagComponent } from '../isInstance.js';\nimport { cloneTagJsValue } from './cloneValueArray.function.js';\nimport { runBeforeDestroy } from './tagRunner.js';\nimport { getChildTagsToDestroy } from './destroy.support.js';\nimport { elementDestroyCheck } from './elementDestroyCheck.function.js';\nimport { updateContextItem } from './update/updateContextItem.function.js';\nimport { getNewGlobal } from './update/getNewGlobal.function.js';\nimport { attachDomElement } from '../interpolations/optimizers/metaAttachDomElements.function.js';\nimport { getDomMeta } from './domMetaCollector.js';\nimport { paint, paintContent, painting } from './paint.function.js';\nimport { getValueType } from './getValueType.function.js';\nimport { processAttributeEmit, processNameOnlyEmit } from '../interpolations/attributes/processAttribute.function.js';\nlet testCount = 0;\n/** used only for apps, otherwise use Support */\n// TODO: We need to split Support and simple tag support apart\nexport class BaseSupport {\n    templater;\n    subject;\n    appElement; // only seen on this.getAppSupport().appElement\n    strings;\n    dom; // ??? is this in use?\n    values;\n    propsConfig;\n    // stays with current render\n    state = [];\n    hasLiveElements = false;\n    constructor(templater, subject, castedProps) {\n        this.templater = templater;\n        this.subject = subject;\n        const props = templater.props; // natural props\n        this.propsConfig = this.clonePropsBy(props, castedProps);\n    }\n    clonePropsBy(props, castedProps) {\n        if (this.templater.tagJsType === ValueTypes.stateRender) {\n            return this.propsConfig = {\n                latest: [],\n                latestCloned: [],\n            };\n        }\n        const latestCloned = props.map(props => cloneTagJsValue(props));\n        return this.propsConfig = {\n            latest: props,\n            latestCloned, // assume its HTML children and then detect\n            castProps: castedProps,\n        };\n    }\n    getHtmlDomMeta(\n    // fragment: DocumentFragment,\n    options = {\n        counts: { added: 0, removed: 0 },\n    }) {\n        const domMeta = this.loadDomMeta();\n        const context = this.buildContext();\n        const result = attachDomElement(domMeta, context, this, options.counts);\n        processContext(this, context);\n        return result;\n    }\n    loadDomMeta() {\n        const templater = this.templater;\n        const thisTag = templater.tag; // || templater\n        if (thisTag.tagJsType === ValueTypes.dom) {\n            return thisTag.dom;\n        }\n        return getDomMeta(thisTag.strings, thisTag.values);\n    }\n    /** Function that kicks off actually putting tags down as HTML elements */\n    buildBeforeElement(\n    // fragment = document.createDocumentFragment(),\n    options) {\n        const subject = this.subject;\n        const global = this.subject.global;\n        global.oldest = this;\n        global.newest = this;\n        subject.support = this;\n        this.hasLiveElements = true;\n        ++painting.locks;\n        const result = this.getHtmlDomMeta(options);\n        global.htmlDomMeta = result.dom;\n        --painting.locks;\n        // return fragment\n        return result;\n    }\n    updateBy(support) {\n        const context = this.subject.global.context;\n        const tempTag = support.templater.tag;\n        ++painting.locks;\n        this.updateConfig(tempTag, tempTag.values);\n        processContextUpdate(this, context);\n        --painting.locks;\n        paint();\n    }\n    /** triggers values to render */\n    updateConfig(tag, values) {\n        if (tag.tagJsType === ValueTypes.dom) {\n            this.dom = tag.dom;\n        }\n        else {\n            this.strings = tag.strings;\n        }\n        this.values = values;\n    }\n    buildContext() {\n        const context = this.subject.global.context;\n        const thisTag = this.templater.tag;\n        const values = this.values || thisTag.values;\n        let index = 0;\n        const len = values.length;\n        while (index < len) {\n            buildContext(values, index, context);\n            ++index;\n        }\n        return context;\n    }\n    destroy(options = {\n        stagger: 0,\n    }) {\n        const global = this.subject.global;\n        const { tags, subs } = options.byParent ? { subs: [], tags: [] } : getChildTagsToDestroy(global.childTags); // .toReversed()\n        if (!options.byParent) {\n            const ownerSupport = this.ownerSupport;\n            if (ownerSupport) {\n                ownerSupport.subject.global.childTags = ownerSupport.subject.global.childTags.filter(child => child.subject.global !== this.subject.global);\n            }\n        }\n        if (isTagComponent(this.templater)) {\n            global.destroy$.next();\n            runBeforeDestroy(this, this);\n        }\n        const mySubs = this.subject.global.subscriptions;\n        subs.push(...mySubs);\n        mySubs.length = 0;\n        destroySubs(subs);\n        midDestroyChildTags(tags);\n        resetSupport(this, global.context.length);\n        // first paint\n        const { stagger, promises } = this.smartRemoveKids(options);\n        options.stagger = stagger;\n        global.context.length = 0;\n        if (promises.length) {\n            return Promise.all(promises).then(() => options.stagger);\n        }\n        return options.stagger;\n    }\n    smartRemoveKids(options = {\n        stagger: 0,\n    }) {\n        const startStagger = options.stagger;\n        const promises = [];\n        const thisGlobal = this.subject.global;\n        const htmlDomMeta = thisGlobal.htmlDomMeta;\n        thisGlobal.context.forEach(subject => {\n            const global = subject.global;\n            // regular values, no placeholders\n            const elm = global.simpleValueElm;\n            if (elm) {\n                delete global.simpleValueElm;\n                paintContent.push(() => {\n                    const parentNode = elm.parentNode;\n                    parentNode.removeChild(elm);\n                });\n                return;\n            }\n            const oldest = global.oldest;\n            if (oldest) {\n                const clones = global.htmlDomMeta;\n                const cloneOne = clones[0];\n                let count = 0;\n                // TODO: ??? maybe not needed?\n                if (cloneOne) {\n                    let domOne = cloneOne.domElement;\n                    while (domOne && domOne.parentNode && count < 5) {\n                        if (htmlDomMeta.find(x => x.domElement === domOne.parentNode)) {\n                            return; // no need to delete, they live within me\n                        }\n                        domOne = domOne.parentNode;\n                        ++count;\n                    }\n                }\n                // recurse\n                const { stagger, promises: newPromises } = oldest.smartRemoveKids(options);\n                options.stagger = options.stagger + stagger;\n                promises.push(...newPromises);\n            }\n        });\n        const promise = this.destroyClones(htmlDomMeta, { stagger: startStagger }).promise;\n        htmlDomMeta.length = 0; // clear array    \n        thisGlobal.childTags.length = 0;\n        if (promise) {\n            promises.unshift(promise);\n        }\n        return { promises, stagger: options.stagger };\n    }\n    destroyClones(oldClones, options = {\n        stagger: 0,\n    }) {\n        // check subjects that may have clones attached to them\n        const promises = oldClones.map(clone => {\n            const marker = clone.marker;\n            if (marker) {\n                paintContent.push(() => {\n                    const parentNode = marker.parentNode;\n                    parentNode.removeChild(marker);\n                });\n            }\n            if (!clone.domElement) {\n                return;\n            }\n            return this.checkCloneRemoval(clone.domElement, options.stagger);\n        }).filter(x => x); // only return promises\n        if (promises.length) {\n            return { promise: Promise.all(promises), stagger: options.stagger };\n        }\n        return { stagger: options.stagger };\n    }\n    /** Reviews elements for the presences of ondestroy */\n    checkCloneRemoval(clone, stagger) {\n        const customElm = clone;\n        if (customElm.ondestroy) {\n            const promise = elementDestroyCheck(customElm, stagger);\n            if (promise instanceof Promise) {\n                return promise.then(() => {\n                    const parentNode = clone.parentNode;\n                    parentNode.removeChild(clone);\n                });\n            }\n        }\n        paintContent.push(() => {\n            const parentNode = clone.parentNode;\n            parentNode.removeChild(clone);\n        });\n    }\n    destroySubscriptions() {\n        destroySubs(this.subject.global.subscriptions);\n    }\n}\nexport class Support extends BaseSupport {\n    templater;\n    ownerSupport;\n    subject;\n    version;\n    constructor(templater, // at runtime rendering of a tag, it needs to be married to a new Support()\n    ownerSupport, subject, castedProps, version = 0) {\n        super(templater, subject, castedProps);\n        this.templater = templater;\n        this.ownerSupport = ownerSupport;\n        this.subject = subject;\n        this.version = version;\n    }\n    getAppSupport() {\n        let tag = this;\n        while (tag.ownerSupport) {\n            tag = tag.ownerSupport;\n        }\n        return tag;\n    }\n}\nexport function resetSupport(support, newContextLength // 0\n) {\n    const subject = support.subject;\n    const global = subject.global;\n    global.context.length = newContextLength;\n    delete global.oldest; // may not be needed\n    delete global.newest;\n    delete subject.support;\n}\n/** returns boolean of did render */\nfunction processOneContext(values, index, context, support, isUpdate) {\n    const value = values[index];\n    // is something already there?\n    const contextItem = context[index];\n    const global = context[index].global;\n    const renderCount = contextItem.global.renderCount;\n    if (global.isAttr) {\n        contextItem.support = support;\n        if (global.isNameOnly) {\n            processNameOnlyEmit(value, support, contextItem, global.element, global.howToSet);\n            return false;\n        }\n        const element = contextItem.global.element;\n        processAttributeEmit(contextItem.global.isSpecial, value, contextItem.global.attrName, contextItem, element, support, contextItem.global.howToSet);\n        return false;\n    }\n    if (renderCount > 0) {\n        if (global.deleted) {\n            const valueSupport = (value && value.support);\n            if (valueSupport) {\n                valueSupport.destroy();\n                context; // item was deleted, no need to emit\n                return false;\n            }\n        }\n        return updateContextItem(contextItem, value, support, isUpdate);\n    }\n    return false;\n}\nexport function midDestroyChildTags(childTags) {\n    // signify immediately child has been deleted (looked for during event processing)\n    let index = childTags.length;\n    while (index--) {\n        const child = childTags[index];\n        const subGlobal = child.subject.global;\n        delete subGlobal.newest;\n        subGlobal.deleted = true;\n        if (isTagComponent(child.templater)) {\n            runBeforeDestroy(child, child);\n        }\n        checkDestroySimpleValueTag(child);\n    }\n}\nfunction checkDestroySimpleValueTag(child) {\n    const subGlobal = child.subject.global;\n    const simpleElm = subGlobal.simpleValueElm;\n    if (simpleElm) {\n        const parentNode = simpleElm.parentNode;\n        parentNode.removeChild(simpleElm);\n        delete subGlobal.simpleValueElm;\n    }\n}\nexport function destroySubs(subs) {\n    const cloneSubs = [...subs];\n    subs.length = 0;\n    setTimeout(() => {\n        for (const sub of cloneSubs) {\n            sub.unsubscribe();\n        }\n    }, 0);\n}\nfunction buildContext(values, index, context) {\n    const value = values[index];\n    //  First time values below\n    context[index] = {\n        value,\n        global: getNewGlobal(),\n        tagJsType: getValueType(value),\n    };\n}\nfunction processContext(support, context) {\n    const thisTag = support.templater.tag;\n    const values = support.values || thisTag.values;\n    let index = 0;\n    const len = values.length;\n    while (index < len) {\n        const contextItem = context[index];\n        const value = values[index];\n        processOneContext(values, index, context, support, false);\n        contextItem.value = value;\n        contextItem.global.lastValue = value;\n        if (!contextItem.global.locked) {\n            ++contextItem.global.renderCount;\n        }\n        ++index;\n    }\n    return context;\n}\nfunction processContextUpdate(support, context) {\n    const thisTag = support.templater.tag;\n    const values = support.values || thisTag.values;\n    let index = 0;\n    const len = values.length;\n    while (index < len) {\n        const contextItem = context[index];\n        const value = values[index];\n        const rendered = processOneContext(values, index, context, support, true);\n        contextItem.value = value;\n        contextItem.global.lastValue = value;\n        if (rendered && !contextItem.global.locked) {\n            ++contextItem.global.renderCount;\n        }\n        ++index;\n    }\n    return context;\n}\n//# sourceMappingURL=Support.class.js.map","import { htmlInterpolationToDomMeta } from '../interpolations/optimizers/htmlInterpolationToDomMeta.function.js';\nimport { getStringsId } from './getStringsId.function.js';\nimport { isLastRunMatched } from './isLastRunMatched.function.js';\nimport { replacePlaceholders } from '../interpolations/optimizers/replacePlaceholders.function.js';\nimport { restorePlaceholders } from '../interpolations/optimizers/restorePlaceholders.function.js';\nconst lastRuns = {};\n/** Converts strings & values into dom meta */\nexport function getDomMeta(strings, values) {\n    const stringId = getStringsId(strings, values);\n    const lastRun = lastRuns[stringId];\n    const matches = lastRun && isLastRunMatched(strings, values, lastRun);\n    if (matches) {\n        return lastRun.domMetaMap;\n    }\n    const domMeta = htmlInterpolationToDomMeta(strings, values);\n    const map = replacePlaceholders(domMeta, values.length);\n    // Restore any sanitized placeholders in text nodes\n    restorePlaceholders(map);\n    const template = {\n        interpolation: undefined,\n        string: undefined,\n        strings,\n        values,\n        domMetaMap: map,\n    };\n    lastRuns[stringId] = template;\n    return map;\n}\n//# sourceMappingURL=domMetaCollector.js.map","export function getStringsId(strings, values) {\n    const array = strings.map(x => x.length);\n    array.push(strings.length);\n    // array.push(values.length)\n    return Number(array.join(''));\n}\n//# sourceMappingURL=getStringsId.function.js.map","export function isLastRunMatched(strings, values, lastRun) {\n    if (lastRun) {\n        if (lastRun.strings.length === strings.length) {\n            const stringsMatch = lastRun.strings.every((string, index) => \n            // string.length === strings[index].length\n            string === strings[index]);\n            if (stringsMatch && lastRun.values.length === values.length) {\n                return true; // performance savings using the last time this component was rendered\n            }\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=isLastRunMatched.function.js.map","/* best */\nimport { variablePrefix, variableSuffix } from \"../../tag/Tag.class.js\";\nconst ondoubleclick = 'ondoubleclick';\nconst fragFindAny = /(:tagvar\\d+:)/;\nconst fragReplacer = /(^:tagvar\\d+:|:tagvar\\d+:$)/g;\nconst safeVar = '__safeTagVar';\n// name?=value\nconst regexAttr = /([:_a-zA-Z0-9\\-\\.]+)\\s*(?:=\\s*\"([^\"]*)\"|=\\s*(\\S+))?/g;\n// const regexAttr = /([:_a-zA-Z0-9\\-.]+)\\s*=\\s*\"([^\"]*)\"|([:_a-zA-Z0-9\\-.]+)\\s*=\\s*'([^']*)'|([:_a-zA-Z0-9\\-.]+)\\s*=\\s*([^>\\s]+)/g;\n// const regexTagOrg = /<\\/?([a-zA-Z0-9\\-]+)([^>]*)>/\nconst regexTagOrg = /<\\/?([a-zA-Z0-9\\-]+)((?:\\s+[a-zA-Z_:][\\w:.\\-]*(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s\"'=<>`]+))?)+\\s*|\\s*)\\/?>/g;\nexport function htmlInterpolationToDomMeta(strings, values) {\n    htmlInterpolationToPlaceholders(strings, values);\n    // Parse the modified fragments\n    const htmlString = htmlInterpolationToPlaceholders(strings, values).join('');\n    const domMeta = parseHTML(htmlString);\n    return domMeta;\n}\nexport function htmlInterpolationToPlaceholders(strings, values) {\n    // Sanitize placeholders in the fragments\n    const sanitizedFragments = sanitizePlaceholders(strings);\n    // Add placeholders to the fragments\n    return addPlaceholders(sanitizedFragments, values);\n}\nfunction sanitizePlaceholders(fragments) {\n    return fragments.map(fragment => fragment.replace(fragReplacer, (match, index) => safeVar + index));\n}\nfunction addPlaceholders(strings, values) {\n    const results = strings.map((fragment, index) => {\n        if (index < values.length) {\n            return fragment + variablePrefix + index + variableSuffix;\n        }\n        return fragment;\n    });\n    balanceArrayByArrays(results, strings, values);\n    return results;\n}\nexport function parseHTML(html) {\n    const valuePositions = [];\n    const elements = [];\n    const stack = [];\n    let currentElement = null;\n    let valueIndex = -1;\n    let position = 0;\n    const regexTag = new RegExp(regexTagOrg, 'g');\n    html = preprocessTagsInComments(html);\n    while (position < html.length) {\n        const tagMatch = regexTag.exec(html);\n        if (!tagMatch) {\n            break;\n        }\n        const [fullMatch, tagName, attrString] = tagMatch;\n        const isClosingTag = fullMatch.startsWith('</');\n        const isSelfClosing = fullMatch.endsWith('/>');\n        if (position < tagMatch.index) {\n            const textContent = html.slice(position, tagMatch.index);\n            if (textContent.trim()) {\n                const textVarMatches = splitByTagVar(textContent);\n                textVarMatches.forEach(textContent => {\n                    if (textContent.startsWith(variablePrefix)) {\n                        textContent = variablePrefix + (++valueIndex) + variableSuffix;\n                    }\n                    pushTextTo(currentElement, elements, textContent);\n                });\n            }\n        }\n        position = tagMatch.index + fullMatch.length;\n        if (isClosingTag) {\n            currentElement = stack.pop() || null;\n            continue;\n        }\n        const attributes = [];\n        const element = {\n            nodeName: tagName,\n            attributes,\n        };\n        let attrMatch;\n        while ((attrMatch = regexAttr.exec(attrString)) !== null) {\n            const attrName = attrMatch[1] || attrMatch[3] || attrMatch[5];\n            const attrChoice = attrMatch[2] || attrMatch[4] || attrMatch[6];\n            let attrValue = attrChoice;\n            if (attrName === undefined) {\n                continue;\n            }\n            const notEmpty = attrMatch[2] !== '';\n            const noValue = attrValue === undefined && notEmpty;\n            const lowerName = attrName.toLowerCase();\n            const fixedName = lowerName.length === ondoubleclick.length && lowerName === ondoubleclick ? 'ondblclick' : lowerName;\n            if (noValue) {\n                const standAloneVar = attrName.slice(0, variablePrefix.length) === variablePrefix;\n                if (standAloneVar) {\n                    const valueName = variablePrefix + (++valueIndex) + variableSuffix;\n                    valuePositions.push(['attributes', valueName]);\n                    attributes.push([valueName]); // the name itself is dynamic\n                    continue;\n                }\n                const standAloneAttr = attrMatch[0].startsWith(attrName) && attrMatch[0].slice(attrName.length, attrMatch[0].length).search(/\\s+$/) >= 0;\n                if (standAloneAttr) {\n                    attributes.push([fixedName]);\n                    continue;\n                }\n                const valueName = variablePrefix + (++valueIndex) + variableSuffix;\n                attrValue = valueName;\n            }\n            if (!notEmpty) {\n                attrValue = attrMatch[2];\n            }\n            attributes.push([fixedName, attrValue]);\n        }\n        if (!attributes.length) {\n            delete element.attributes;\n        }\n        if (currentElement) {\n            if (!currentElement.children) {\n                currentElement.children = [];\n            }\n            currentElement.children.push(element);\n        }\n        else {\n            elements.push(element);\n        }\n        if (!isSelfClosing) {\n            stack.push(currentElement);\n            currentElement = element;\n        }\n    }\n    if (position < html.length) {\n        const textContent = html.slice(position);\n        if (textContent.trim()) {\n            const textVarMatches = splitByTagVar(textContent);\n            textVarMatches.forEach(textContent => {\n                if (textContent.startsWith(variablePrefix)) {\n                    ++valueIndex;\n                }\n                return pushTextTo(currentElement, elements, textContent);\n            });\n        }\n    }\n    return elements;\n}\nexport function balanceArrayByArrays(results, strings, values) {\n    const diff = values.length - strings.length;\n    if (diff > 0) {\n        for (let x = diff; x > 0; --x) {\n            results.push(variablePrefix + (strings.length + x - 1) + variableSuffix);\n        }\n    }\n}\nfunction splitByTagVar(inputString) {\n    // Split the string using the regular expression, keep delimiters in the output\n    const parts = inputString.split(fragFindAny);\n    // Filter out any empty strings from the results\n    const filteredParts = parts.filter(part => part !== '');\n    return filteredParts;\n}\nfunction pushTo(currentElement, elements, textNode) {\n    if (currentElement) {\n        if (!currentElement.children) {\n            currentElement.children = [];\n        }\n        currentElement.children.push(textNode);\n    }\n    else {\n        elements.push(textNode);\n    }\n}\nfunction pushTextTo(currentElement, elements, textContent) {\n    const textNode = {\n        nodeName: 'text',\n        textContent: postprocessTagsInComments(textContent),\n    };\n    pushTo(currentElement, elements, textNode);\n}\nfunction preprocessTagsInComments(html) {\n    // Use a regex to find all HTML comments\n    return html.replace(/(<!--[\\s\\S]*?-->)/g, function (match) {\n        // For each comment found, replace < and > inside it\n        return match.replace(/\\[l t\\]/g, '[l&nbsp;t]').replace(/\\[g t\\]/g, '[g&nbsp;t]').replace(/</g, '[l t]').replace(/>/g, '[g t]');\n    });\n}\nfunction postprocessTagsInComments(html) {\n    // Use a regex to find all segments that look like processed comments\n    return html.replace(/(\\[l t\\]!--[\\s\\S]*?--\\[g t\\])/g, function (match) {\n        // For each processed comment found, replace *lt* and *gt* back to < and >\n        return match.replace(/\\[l t\\]/g, '<').replace(/\\[g t\\]/g, '>').replace(/\\[l&nbsp;t\\]/g, '[l t]').replace(/\\[g&nbsp;t\\]/g, '[g t]');\n    });\n}\n//# sourceMappingURL=htmlInterpolationToDomMeta.function.js.map","import { variableSuffix, variablePrefix } from \"../../tag/Tag.class.js\";\nexport const safeVar = '__safeTagVar';\nexport function restorePlaceholders(elements) {\n    elements.forEach(traverseAndRestore);\n}\nconst safeReplacer = /__safeTagVar(\\d+)/g;\nfunction traverseAndRestore(element) {\n    if ('attributes' in element) {\n        element.attributes = element.attributes ? element.attributes.map(attr => {\n            if (attr.length === 1) {\n                return attr;\n            }\n            let [key, value] = attr;\n            if (typeof value === 'string' && value.startsWith(safeVar)) {\n                const index = parseInt(value.replace(safeVar, ''), 10);\n                value = variablePrefix + index + variableSuffix;\n            }\n            return [key, value];\n        }) : [];\n    }\n    if ('children' in element) {\n        const children = element.children;\n        for (let i = 0; i < children.length; i++) {\n            const child = children[i];\n            if (child.nodeName === 'text') {\n                if (typeof child.textContent !== 'string') {\n                    return;\n                }\n                child.textContent = child.textContent.replace(safeReplacer, (_match, index) => variablePrefix + index + variableSuffix);\n            }\n            traverseAndRestore(child);\n        }\n        // Remove empty children array\n        if (children.length === 0) {\n            delete element.children;\n        }\n    }\n}\n//# sourceMappingURL=restorePlaceholders.function.js.map","export function elementDestroyCheck(nextSibling, stagger) {\n    const onDestroyDoubleWrap = nextSibling.ondestroy;\n    if (!onDestroyDoubleWrap) {\n        return;\n    }\n    const onDestroyWrap = onDestroyDoubleWrap.tagFunction;\n    if (!onDestroyWrap) {\n        return;\n    }\n    const onDestroy = onDestroyWrap.tagFunction;\n    if (!onDestroy) {\n        return;\n    }\n    const event = { target: nextSibling, stagger };\n    return onDestroy(event);\n}\n//# sourceMappingURL=elementDestroyCheck.function.js.map","import { isSubjectInstance } from '../../isInstance.js';\nimport { getValueType } from '../getValueType.function.js';\nimport { ImmutableTypes } from '../ValueTypes.enum.js';\nimport { updateExistingValue } from './updateExistingValue.function.js';\n/** return boolean indicated if render took place */\nexport function updateContextItem(subject, value, support, isUpdate) {\n    const valueType = getValueType(value);\n    subject.global.nowValueType = valueType;\n    const isSub = isSubjectInstance(value);\n    if (isSub) {\n        return false; // emits on its own\n    }\n    if (value === subject.value) {\n        if (Object.values(ImmutableTypes).includes(valueType)) {\n            return false; // its the same exact non-complex value\n        }\n    }\n    // listeners will evaluate updated values to possibly update display(s)\n    if (isUpdate) {\n        return updateExistingValue(subject, value, support).rendered;\n    }\n    // after rocessing update\n    subject.value = value;\n    subject.global.lastValue = value;\n    return false;\n}\n//# sourceMappingURL=updateContextItem.function.js.map","import { StringTag, DomTag } from './Tag.class.js';\nexport function html(strings, ...values) {\n    return new StringTag(strings, values);\n}\nhtml.dom = function (dom, ...values) {\n    return new DomTag(dom, values);\n};\n//# sourceMappingURL=html.js.map","import { Support } from './Support.class.js';\nimport { castProps } from '../alterProp.function.js';\nimport { setUse } from '../state/setUse.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { html } from './html.js';\nimport { syncFunctionProps } from './update/updateExistingTagComponent.function.js';\n/** creates/returns a function that when called then calls the original component function\n * Gets used as templater.wrapper()\n */\nexport function getTagWrap(templater, result) {\n    // this function gets called by taggedjs\n    const wrapper = (newSupport, subject, lastSupport) => executeWrap(templater, result, newSupport, subject, lastSupport);\n    return wrapper;\n}\nexport function executeWrap(templater, result, newSupport, subject, lastSupport) {\n    const global = subject.global;\n    const originalFunction = result.original; // (innerTagWrap as any).original as unknown as TagComponent\n    const stateless = templater.tagJsType === ValueTypes.stateRender;\n    const castedProps = stateless ? [] : getCastedProps(templater, newSupport, lastSupport);\n    let tag;\n    if (stateless) {\n        tag = templater;\n    }\n    else {\n        tag = originalFunction(...castedProps);\n    }\n    // CALL ORIGINAL COMPONENT FUNCTION\n    if (tag instanceof Function) {\n        tag = tag();\n    }\n    const unknown = !tag || (tag.tagJsType && ![ValueTypes.tag, ValueTypes.dom].includes(tag.tagJsType));\n    if (unknown) {\n        tag = html `${tag}`; // component returned a non-component value\n    }\n    tag.templater = templater;\n    templater.tag = tag;\n    tag.arrayValue = templater.arrayValue; // tag component could have been used in array.map\n    const support = new Support(templater, newSupport.ownerSupport, subject, castedProps, global.renderCount);\n    support.subject.global = global;\n    // ??? this should be set by outside?\n    global.oldest = global.oldest || support;\n    const nowState = setUse.memory.stateConfig.array;\n    support.state.push(...nowState);\n    return support;\n}\nexport function getCastedProps(templater, newSupport, lastSupport) {\n    const props = templater.props;\n    // When defined, this must be an update where my new props have already been made for me\n    let preCastedProps = newSupport.propsConfig.castProps;\n    const lastCastProps = lastSupport?.propsConfig.castProps;\n    if (lastCastProps) {\n        newSupport.propsConfig.castProps = lastCastProps;\n        preCastedProps = syncFunctionProps(newSupport, lastSupport, lastSupport.ownerSupport, props);\n    }\n    const castedProps = preCastedProps || castProps(props, newSupport, 0);\n    return castedProps;\n}\n//# sourceMappingURL=getTagWrap.function.js.map","import { runBeforeRedraw, runBeforeRender } from '../tagRunner.js';\nimport { runAfterRender } from '../tagRunner.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { executeWrap } from '../getTagWrap.function.js';\nimport { setUse } from '../../state/setUse.function.js';\nexport function renderTagOnly(newSupport, prevSupport, subject, ownerSupport) {\n    const oldRenderCount = subject.global.renderCount;\n    beforeWithRender(newSupport, ownerSupport, prevSupport);\n    const templater = newSupport.templater;\n    let reSupport;\n    // NEW TAG CREATED HERE\n    if (templater.tagJsType === ValueTypes.stateRender) {\n        const stateArray = setUse.memory.stateConfig.array;\n        const result = templater.wrapper || { original: templater };\n        reSupport = executeWrap(templater, result, newSupport, subject, prevSupport);\n    }\n    else {\n        // functions wrapped in tag()\n        const wrapper = templater.wrapper;\n        reSupport = wrapper(newSupport, subject, prevSupport);\n    }\n    /* AFTER */\n    runAfterRender(newSupport, ownerSupport);\n    subject.global.newest = reSupport;\n    // When we rendered, only 1 render should have taken place OTHERWISE rendering caused another render and that is the latest instead\n    if (subject.global.renderCount > oldRenderCount + 1) {\n        return subject.global.newest;\n    }\n    return reSupport;\n}\nfunction beforeWithRender(support, // new\nparentSupport, prevSupport) {\n    const lastOwnerSupport = prevSupport?.ownerSupport;\n    const runtimeOwnerSupport = lastOwnerSupport || parentSupport;\n    if (prevSupport) {\n        // ??? new removed\n        if (prevSupport !== support) {\n            const lastState = prevSupport.state;\n            support.subject.global = prevSupport.subject.global;\n            support.state.length = 0;\n            support.state.push(...lastState);\n        }\n        return runBeforeRedraw(support, prevSupport);\n    }\n    // first time render\n    return runBeforeRender(support, runtimeOwnerSupport);\n}\n//# sourceMappingURL=renderTagOnly.function.js.map","import { destroySubs, resetSupport } from '../Support.class.js';\nimport { getChildTagsToDestroy } from '../destroy.support.js';\n/** used when a tag swaps content returned */\nexport function softDestroySupport(lastSupport, options = { byParent: false, stagger: 0 }) {\n    const global = lastSupport.subject.global;\n    const { subs, tags } = getChildTagsToDestroy(global.childTags);\n    tags.forEach(child => softDestroyOne(child));\n    softDestroyOne(lastSupport);\n    const mySubs = lastSupport.subject.global.subscriptions;\n    subs.push(...mySubs);\n    mySubs.length = 0;\n    destroySubs(subs);\n}\nfunction softDestroyOne(child) {\n    const subGlobal = child.subject.global;\n    delete subGlobal.newest;\n    subGlobal.deleted = true; // the children are truly destroyed but the main support will be swapped\n    const simpleElm = subGlobal.simpleValueElm;\n    if (simpleElm) {\n        const parentNode = simpleElm.parentNode;\n        parentNode.removeChild(simpleElm);\n        delete subGlobal.simpleValueElm;\n    }\n    child.smartRemoveKids();\n    subGlobal.childTags.length = 0; // tag maybe used for something else\n    resetSupport(child, 0);\n}\n//# sourceMappingURL=softDestroySupport.function.js.map","import { isLikeTags } from '../isLikeTags.function.js';\nimport { renderTagOnly } from './renderTagOnly.function.js';\nimport { destroyUnlikeTags } from './destroyUnlikeTags.function.js';\nimport { softDestroySupport } from './softDestroySupport.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { deepEqual } from '../../deepFunctions.js';\n/** TODO: This seems to support both new and updates and should be separated? */\nexport function renderWithSupport(newSupport, lastSupport, // previous\nsubject, // events & memory\nownerSupport) {\n    const lastTemplater = lastSupport?.templater;\n    const lastTag = lastTemplater?.tag;\n    // subject.global.locked = true\n    const reSupport = renderTagOnly(newSupport, lastSupport, subject, ownerSupport);\n    // delete subject.global.locked\n    const isLikeTag = !lastSupport || isLikeTags(lastSupport, reSupport);\n    if (!isLikeTag) {\n        destroyUnlikeTags(lastSupport, reSupport, subject);\n    }\n    else if (lastSupport) {\n        // const tag = reSupport.templater.tag\n        const tag = lastSupport.templater.tag;\n        if (tag && subject.global.renderCount > 1) {\n            checkTagSoftDestroy(tag, lastSupport, lastTag);\n        }\n    }\n    const lastOwnerSupport = lastSupport?.ownerSupport;\n    reSupport.ownerSupport = (ownerSupport || lastOwnerSupport);\n    return { support: reSupport, wasLikeTags: isLikeTag };\n}\nfunction checkTagSoftDestroy(tag, lastSupport, lastTag) {\n    if (tag.tagJsType === ValueTypes.dom) {\n        const lastDom = lastTag?.dom;\n        const newDom = tag.dom;\n        if (!deepEqual(lastDom, newDom)) {\n            softDestroySupport(lastSupport);\n            delete lastSupport.subject.global.deleted;\n        }\n        return;\n    }\n    // TODO: This is classic runtime code, need to test it\n    if (lastTag) {\n        const lastStrings = lastTag.strings;\n        if (lastStrings) {\n            const oldLength = lastStrings?.length;\n            const newLength = tag.strings.length;\n            if (oldLength !== newLength) {\n                softDestroySupport(lastSupport);\n                delete lastSupport.subject.global.deleted;\n            }\n        }\n    }\n}\n//# sourceMappingURL=renderWithSupport.function.js.map","import { softDestroySupport } from './softDestroySupport.function.js';\nimport { moveProviders } from '../update/updateExistingTagComponent.function.js';\nexport function destroyUnlikeTags(lastSupport, // old\nreSupport, // new\nsubject) {\n    // when a tag is destroyed, disconnect the globals\n    const global = reSupport.subject.global; // = {...oldGlobal} // break memory references\n    moveProviders(lastSupport, reSupport);\n    softDestroySupport(lastSupport);\n    delete global.deleted;\n    global.oldest = reSupport;\n    global.newest = reSupport;\n    subject.support = reSupport;\n}\n//# sourceMappingURL=destroyUnlikeTags.function.js.map","import { renderWithSupport } from './renderWithSupport.function.js';\nimport { processTag } from '../update/processTag.function.js';\n/** Returns true when rendering owner is not needed. Returns false when rendering owner should occur */\nexport function renderExistingTag(oldestSupport, // oldest with elements on html\nnewSupport, // new to be rendered\nownerSupport, // ownerSupport\nsubject) {\n    const lastSupport = subject.support; // todo maybe not needed?\n    const global = subject.global;\n    const prevSupport = global.newest;\n    /*\n    const preRenderCount = global.renderCount\n    providersChangeCheck(oldestSupport)\n    \n    // When the providers were checked, a render to myself occurred and I do not need to re-render again\n    const justUpdate = preRenderCount !== global.renderCount\n  \n    if(justUpdate) {\n      oldestSupport.subject.global.oldest.updateBy(prevSupport)\n      return prevSupport // already rendered during triggered events\n    }\n    */\n    return renderExistingReadyTag(lastSupport, oldestSupport, newSupport, ownerSupport, subject, prevSupport);\n}\nexport function renderExistingReadyTag(lastSupport, oldestSupport, // oldest with elements on html\nnewSupport, // new to be rendered\nownerSupport, // ownerSupport\nsubject, prevSupport) {\n    const global = subject.global;\n    // ??? new end of string removed\n    const toRedrawTag = prevSupport || lastSupport; // || global.oldest\n    const { support, wasLikeTags } = renderWithSupport(newSupport, toRedrawTag, subject, ownerSupport);\n    const updateAfterRender = prevSupport && wasLikeTags;\n    if (updateAfterRender) {\n        subject.support = support;\n        const oldest = global.oldest || oldestSupport;\n        oldest.updateBy(support);\n        return support;\n    }\n    processTag(support.templater, ownerSupport, subject);\n    return support;\n}\n//# sourceMappingURL=renderExistingTag.function.js.map","import { deepEqual } from '../../deepFunctions.js';\nimport { renderExistingTag } from './renderExistingTag.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { paint, painting } from '../paint.function.js';\nexport function isInlineHtml(templater) {\n    return !templater.wrapper && templater.tagJsType !== ValueTypes.stateRender;\n}\n/** Main function used by all other callers to render/update display of a tag component */\nexport function renderSupport(support, // must be latest/newest state render\nrenderUp) {\n    const global = support.subject.global;\n    const templater = support.templater;\n    const inlineHtml = isInlineHtml(templater);\n    const ownerSupport = support.ownerSupport;\n    // is it just a vanilla tag, not component?\n    if (inlineHtml) { // || isTagTemplater(templater) \n        return renderInlineHtml(ownerSupport, support);\n    }\n    if (global.locked) {\n        global.blocked.push(support);\n        return support;\n    }\n    global.locked = true;\n    const subject = support.subject;\n    const oldest = global.oldest;\n    if (renderUp && support) {\n        ++painting.locks;\n        checkRenderUp(ownerSupport, // || support.templater.tag?.ownerSupport,\n        templater, support);\n        --painting.locks;\n        if (global.deleted) {\n            paint();\n            delete global.locked;\n            return support; // exit because got deleted by parent\n        }\n        // paint()\n    }\n    if (global.blocked.length) {\n        support = global.blocked.pop();\n        global.blocked.length = 0;\n    }\n    // syncStates((global.newest as Support).state, support.state)\n    delete global.locked;\n    const tag = renderExistingTag(oldest, support, ownerSupport, // useSupport,\n    subject);\n    // ??? Test\n    // paint()\n    return tag;\n}\nexport function renderInlineHtml(ownerSupport, support) {\n    if (ownerSupport.subject.global.deleted) {\n        return support;\n    }\n    // ??? new change\n    const newest = ownerSupport.subject.global.newest || ownerSupport;\n    const result = renderSupport(newest, true);\n    return result;\n}\nexport function makeRenderUp(ownerSupport, templater, support) {\n    const result = checkRenderUp(ownerSupport, templater, support);\n    if (result) {\n        const ownerGlobal = ownerSupport.subject.global;\n        const myOwnerSupport = ownerGlobal.newest;\n        renderSupport(myOwnerSupport, true);\n    }\n}\nexport function checkRenderUp(ownerSupport, templater, support) {\n    if (!ownerSupport) {\n        return false;\n    }\n    const selfPropChange = hasPropsToOwnerChanged(templater, support);\n    // render owner up first and that will cause me to re-render\n    if (ownerSupport && selfPropChange) {\n        return true;\n    }\n    return false;\n}\nfunction hasPropsToOwnerChanged(templater, support) {\n    if (support.templater.tagJsType === ValueTypes.stateRender) {\n        return true;\n    }\n    const nowProps = templater.props;\n    const latestProps = support.propsConfig.latestCloned;\n    const noLength = nowProps && nowProps.length === 0 && latestProps.length === 0;\n    return !(noLength || deepEqual(nowProps, latestProps));\n}\n//# sourceMappingURL=renderSupport.function.js.map","import { renderSupport } from '../tag/render/renderSupport.function.js';\nimport { syncStates } from './syncStates.function.js';\nexport default function callbackStateUpdate(support, callback, oldState, ...args) {\n    const state = support.state;\n    // ensure that the oldest has the latest values first\n    // ??? new removed\n    syncStates(state, oldState);\n    // run the callback\n    const maybePromise = callback(...args);\n    // send the oldest state changes into the newest\n    // ??? new removed\n    syncStates(oldState, state);\n    renderSupport(support, // support.global.newest as Support,\n    false);\n    if (maybePromise instanceof Promise) {\n        maybePromise.finally(() => {\n            // send the oldest state changes into the newest\n            // ??? new removed\n            syncStates(oldState, state);\n            renderSupport(support, // support.global.newest as Support,\n            false);\n        });\n    }\n    // return undefined as T\n    return maybePromise;\n}\n//# sourceMappingURL=callbackStateUpdate.function.js.map","import { setUse } from './setUse.function.js';\nimport { SyncCallbackError } from '../errors.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport callbackStateUpdate from './callbackStateUpdate.function.js';\nlet innerCallback = (callback) => (a, b, c, d, e, f) => {\n    throw new SyncCallbackError('Callback function was called immediately in sync and must instead be call async');\n};\nexport const callbackMaker = () => innerCallback;\nconst originalGetter = innerCallback; // callbackMaker\nsetUse({\n    beforeRender: support => initMemory(support),\n    beforeRedraw: support => initMemory(support),\n    afterRender: support => {\n        support.subject.global.callbackMaker = true;\n        innerCallback = originalGetter; // prevent crossing callbacks with another tag\n    },\n});\nconst syncError = new SyncCallbackError('callback() was called outside of synchronous rendering. Use `callback = callbackMaker()` to create a callback that could be called out of sync with rendering');\n/** Wrap a function that will be called back. After the wrapper and function are called, a rendering cycle will update display */\nexport function callback(callback) {\n    const support = getSupportInCycle();\n    if (!support) {\n        throw syncError;\n    }\n    const oldState = setUse.memory.stateConfig.array;\n    const trigger = (...args) => {\n        const callbackMaker = support.subject.global.callbackMaker;\n        if (callbackMaker) {\n            return callbackStateUpdate(support, callback, oldState, ...args);\n        }\n        return callback(...args);\n    };\n    return trigger;\n}\nfunction initMemory(support) {\n    const oldState = setUse.memory.stateConfig.array;\n    innerCallback = (callback) => {\n        const trigger = (...args) => {\n            const callbackMaker = support.subject.global.callbackMaker;\n            if (callbackMaker) {\n                return callbackStateUpdate(support, callback, oldState, ...args);\n            }\n            return callback(...args);\n        };\n        return trigger;\n    };\n}\n//# sourceMappingURL=callbackMaker.function.js.map","import { state } from './state.function.js';\n/** runs a callback function one time and never again. Same as calling state(() => ...) */\nexport function onInit(callback) {\n    state(callback);\n}\n//# sourceMappingURL=onInit.js.map","import { getSupportInCycle } from \"../tag/getSupportInCycle.function.js\";\nimport { state } from \"./state.function.js\";\nexport function onDestroy(callback) {\n    state(() => {\n        const support = getSupportInCycle();\n        support?.subject.global.destroy$.toCallback(callback);\n    });\n}\n//# sourceMappingURL=onDestroy.js.map","import { setUse } from '../state/index.js';\nexport function getSupportInCycle() {\n    return setUse.memory.stateConfig.support;\n}\n//# sourceMappingURL=getSupportInCycle.function.js.map","// taggedjs-no-compile\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { getSupportInCycle } from './getSupportInCycle.function.js';\nexport const variablePrefix = ':tagvar';\nexport const variableSuffix = ':';\nexport class Tag {\n    values;\n    tagJsType;\n    templater;\n    ownerSupport;\n    constructor(values) {\n        this.values = values;\n        this.ownerSupport = getSupportInCycle();\n    }\n    // DEPRECATED REMOVE\n    /** Used for array, such as array.map(), calls aka array.map(x => html``.key(x)) */\n    // present only when an array. Populated by Tag.key()\n    // arrayValue?: unknown\n    key(arrayValue) {\n        ;\n        this.arrayValue = arrayValue;\n        return this;\n    }\n}\nexport class StringTag extends Tag {\n    strings;\n    values;\n    tagJsType = ValueTypes.tag;\n    children;\n    constructor(strings, values) {\n        super(values);\n        this.strings = strings;\n        this.values = values;\n    }\n    html(strings, ...values) {\n        this.children = { strings, values };\n        return this;\n    }\n}\nexport class DomTag extends Tag {\n    dom;\n    values;\n    tagJsType = ValueTypes.dom;\n    children;\n    constructor(\n    // public dom: ObjectChildren,\n    dom, values) {\n        super(values);\n        this.dom = dom;\n        this.values = values;\n    }\n    html = {\n        // $this: this,\n        dom: (\n        // a loose typing for better compatibility with compiled code\n        dom, // ObjectChildren\n        ...values) => {\n            this.children = { dom: dom, values };\n            return this;\n        }\n    };\n}\n//# sourceMappingURL=Tag.class.js.map","import { variableSuffix, variablePrefix } from \"../../tag/Tag.class.js\";\nconst placeholderRegex = new RegExp(variablePrefix + '(\\\\d+)' + variableSuffix, 'g');\nexport function replacePlaceholders(dom, valueCount, valuePositions = [], currentTail = []) {\n    const elements = dom;\n    for (let i = 0; i < elements.length; i++) {\n        const loopTail = [...currentTail, i];\n        const element = elements[i];\n        if ('attributes' in element) {\n            const attrs = element.attributes;\n            element.attributes = processAttributes(attrs, valueCount);\n        }\n        if ('children' in element) {\n            const children = element.children;\n            const innerLoopTail = [...loopTail, 'children'];\n            element.children = replacePlaceholders(children, valueCount, valuePositions, innerLoopTail);\n        }\n        i = examineChild(element, valueCount, elements, i);\n    }\n    return elements;\n}\nfunction examineChild(child, valueCount, children, index) {\n    if (child.nodeName !== 'text') {\n        return index;\n    }\n    const textChild = child;\n    let textContent = textChild.textContent;\n    if (typeof textContent !== 'string') {\n        return index;\n    }\n    let match;\n    while ((match = placeholderRegex.exec(textContent)) !== null) {\n        const secondMatch = match[1];\n        const wIndex = parseInt(secondMatch, 10);\n        const examine = !isNaN(wIndex) && wIndex < valueCount;\n        if (examine) {\n            const varContent = variablePrefix + wIndex + variableSuffix;\n            const after = textContent.slice(match.index + varContent.length);\n            children.splice(index, 1, ...[{\n                    nodeName: 'text',\n                    value: wIndex\n                }]);\n            textContent = after;\n            placeholderRegex.lastIndex = 0; // Reset regex index due to split\n        }\n    }\n    textChild.textContent = textContent;\n    return index;\n}\nfunction processAttributes(attributes, valueCount) {\n    return attributes.map(([key, value]) => {\n        if (key.startsWith(variablePrefix)) {\n            const index = parseInt(key.replace(variablePrefix, ''), 10);\n            if (!isNaN(index) && index < valueCount) {\n                return [{ tagJsVar: index }];\n            }\n        }\n        if (typeof value === 'string' && value.startsWith(variablePrefix)) {\n            const index = parseInt(value.replace(variablePrefix, ''), 10);\n            if (!isNaN(index) && index < valueCount) {\n                return [key, { tagJsVar: index }];\n            }\n        }\n        return [key, value];\n    });\n}\n//# sourceMappingURL=replacePlaceholders.function.js.map","export const tags = [];\n//# sourceMappingURL=tag.utils.js.map","// taggedjs-no-compile\nimport { setUse } from '../state/index.js';\nimport { TemplaterResult } from './TemplaterResult.class.js';\nimport { tags } from './tag.utils.js';\nimport { getTagWrap } from './getTagWrap.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { key } from './key.js';\nlet tagCount = 0;\n/** Wraps a function tag in a state manager and calls wrapped function on event cycles\n * For single rendering, no event cycles, use: tag.renderOnce = (props) => html``\n */\nexport function tag(tagComponent) {\n    /** function developer triggers */\n    const parentWrap = (function tagWrapper(...props) {\n        const templater = new TemplaterResult(props);\n        templater.tagJsType = ValueTypes.tagComponent;\n        // attach memory back to original function that contains developer display logic\n        const innerTagWrap = getTagWrap(templater, parentWrap);\n        if (!innerTagWrap.parentWrap) {\n            innerTagWrap.parentWrap = parentWrap;\n        }\n        templater.tagged = true;\n        templater.wrapper = innerTagWrap;\n        return templater;\n    }) // we override the function provided and pretend original is what's returned\n    ;\n    parentWrap.original = tagComponent;\n    parentWrap.compareTo = tagComponent.toString();\n    const tag = tagComponent;\n    parentWrap.isTag = true;\n    parentWrap.original = tag;\n    // group tags together and have hmr pickup\n    tag.tags = tags;\n    tag.setUse = setUse;\n    tag.tagIndex = tagCount++; // needed for things like HMR\n    tags.push(parentWrap);\n    return parentWrap;\n}\n/** Used to create a tag component that renders once and has no addition rendering cycles */\ntag.oneRender = function () {\n    throw new Error('Do not call tag.oneRender as a function but instead set it as: `(props) => tag.oneRender = () => html`` `');\n};\n/** Used to create variable scoping when calling a function that lives within a prop container function */\ntag.state = function () {\n    throw new Error('Do not call tag.state as a function but instead set it as: `(props) => tag.state = (state) => html`` `');\n};\n// TODO???: Is tag.route and tag.app in use?\n/** Use to structure and define a browser tag route handler\n * Example: export default tag.route = (routeProps: RouteProps) => (state) => html``\n */\ntag.route = function (routeProps) {\n    throw new Error('Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `');\n};\ntag.key = key;\n/** Use to structure and define a browser tag route handler\n * Example: export default tag.route = (routeProps: RouteProps) => (state) => html``\n */\ntag.app = function (routeTag) {\n    throw new Error('Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `');\n};\nObject.defineProperty(tag, 'oneRender', {\n    set(oneRenderFunction) {\n        oneRenderFunction.tagJsType = ValueTypes.oneRender;\n    },\n});\nObject.defineProperty(tag, 'state', {\n    set(renderFunction) {\n        ;\n        renderFunction.parentWrap = {\n            original: {\n                setUse: setUse,\n                tags,\n            }\n        };\n        renderFunction.tagJsType = ValueTypes.stateRender;\n    },\n});\n//# sourceMappingURL=tag.js.map","/** Used to give unique value to an array of tag content */\nexport function key(arrayValue) {\n    return {\n        /*\n        get tag() {\n          return _tag;  // Getter for tag, returns the current value of _tag\n        },\n        */\n        set html(newValue) {\n            newValue.arrayValue = arrayValue;\n        }\n    };\n}\n//# sourceMappingURL=key.js.map","import { BaseSupport } from './Support.class.js';\nimport { runAfterRender, runBeforeRender } from './tagRunner.js';\nimport { textNode } from './textNode.js';\nimport { afterChildrenBuilt } from './update/afterChildrenBuilt.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { executeWrap } from './getTagWrap.function.js';\nimport { setUse } from '../state/setUse.function.js';\nimport { paint, painting } from './paint.function.js';\nimport { getNewGlobal } from './update/getNewGlobal.function.js';\nimport { getValueType } from './getValueType.function.js';\nimport { subscribeToTemplate } from '../interpolations/subscribeToTemplate.function.js';\nconst appElements = [];\n/**\n *\n * @param app taggedjs tag\n * @param element HTMLElement\n * @param props object\n * @returns\n */\nexport function tagElement(app, // (...args: unknown[]) => TemplaterResult,\nelement, props) {\n    const appElmIndex = appElements.findIndex(appElm => appElm.element === element);\n    if (appElmIndex >= 0) {\n        appElements[appElmIndex].support.destroy();\n        appElements.splice(appElmIndex, 1);\n        // an element already had an app on it\n        console.warn('Found and destroyed app element already rendered to element', { element });\n    }\n    // Create the app which returns [props, runOneTimeFunction]\n    const wrapper = app(props);\n    // TODO: maybe remove below?\n    // const template = document.createElement('template')\n    const placeholder = textNode.cloneNode(false);\n    const support = runWrapper(wrapper, placeholder);\n    const subject = support.subject;\n    const global = subject.global;\n    support.appElement = element;\n    global.isApp = true;\n    element.destroy = function () {\n        support.destroy(); // never return anything here\n    };\n    let tags = [];\n    ++painting.locks;\n    const result = support.buildBeforeElement();\n    requestAnimationFrame(() => {\n        subject.global.oldest = support;\n        subject.global.newest = support;\n        let setUse = wrapper.setUse;\n        if (wrapper.tagJsType !== ValueTypes.stateRender) {\n            const wrap = app;\n            const parentWrap = wrap.parentWrap;\n            const original = wrap.original || parentWrap.original;\n            setUse = original.setUse;\n            tags.length = 0;\n            tags.push(...app.original.tags);\n        }\n        ;\n        element.setUse = setUse;\n        appElements.push({ element, support });\n        const newFragment = document.createDocumentFragment();\n        newFragment.appendChild(placeholder);\n        putDomDown(result.dom, newFragment);\n        result.subs.forEach(sub => subscribeToTemplate(sub));\n        --painting.locks;\n        paint();\n        element.appendChild(newFragment);\n        afterChildrenBuilt(subject.global.htmlDomMeta, subject, support);\n    });\n    return {\n        support,\n        tags,\n    };\n}\nexport function runWrapper(templater, \n// insertBefore: Element,\nplaceholder) {\n    const global = getNewGlobal();\n    const subject = {\n        value: templater,\n        global,\n        tagJsType: getValueType(templater),\n    };\n    const newSupport = new BaseSupport(templater, subject);\n    // subject.global.insertBefore = insertBefore\n    global.placeholder = placeholder;\n    global.insertBefore = placeholder; // template\n    global.oldest = subject.global.oldest || newSupport;\n    subject.support = newSupport;\n    runBeforeRender(newSupport, undefined);\n    if (templater.tagJsType === ValueTypes.stateRender) {\n        const stateArray = setUse.memory.stateConfig.array;\n        const result = templater.wrapper || { original: templater };\n        const nowSupport = executeWrap(templater, result, newSupport, subject, newSupport);\n        runAfterRender(newSupport, nowSupport);\n        return nowSupport;\n    }\n    // Call the apps function for our tag templater\n    const wrapper = templater.wrapper;\n    const nowSupport = wrapper(newSupport, subject);\n    runAfterRender(newSupport, nowSupport);\n    return nowSupport;\n}\nfunction putDomDown(dom, newFragment) {\n    dom.forEach(domItem => putOneDomDown(domItem, newFragment));\n}\nfunction putOneDomDown(dom, newFragment) {\n    if (dom.domElement) {\n        newFragment.appendChild(dom.domElement);\n    }\n    if (dom.marker) {\n        newFragment.appendChild(dom.marker);\n    }\n}\n//# sourceMappingURL=tagElement.js.map","export * from './tag/index.js';\nexport * from './errors.js';\nexport * from './subject.types.js';\nexport * from './isInstance.js';\nexport * from './state/index.js';\nexport * from './subject/index.js';\nexport * from './tag/Support.class.js';\nexport * from './interpolations/attributes/howToSetInputValue.function.js';\nexport * from './interpolations/attributes/ElementTargetEvent.interface.js';\nexport * from './interpolations/InsertBefore.type.js';\nexport { tagElement } from './tag/tagElement.js';\nexport { Tag, StringTag, DomTag, variablePrefix } from './tag/Tag.class.js';\nexport { runBeforeRender } from './tag/tagRunner.js';\nexport { renderSupport } from './tag/render/renderSupport.function.js';\nexport { renderWithSupport } from './tag/render/renderWithSupport.function.js';\nimport { renderTagOnly } from './tag/render/renderTagOnly.function.js';\nimport { renderSupport } from './tag/render/renderSupport.function.js';\nimport { renderWithSupport } from './tag/render/renderWithSupport.function.js';\nimport { tagElement } from './tag/tagElement.js';\nexport { key } from './tag/key.js';\nexport const hmr = {\n    tagElement, renderWithSupport, renderSupport,\n    renderTagOnly,\n};\n//# sourceMappingURL=index.js.map","import { html, letState, tag } from \"taggedjs\";\nexport const attributeDebug = tag(() => {\n    let selected = letState('a')(x => [selected, selected = x]);\n    let isOrange = letState(true)(x => [isOrange, isOrange = x]);\n    return html.dom(allStrings[0], (event) => selected = event.target.value, ['a', 'b', 'c'].map(item => html.dom(allStrings[1], item, item == selected ? 'selected' : '', item, item == selected ? 'true' : 'false').key(item)), (event) => isOrange = event.target.checked, isOrange && 'checked', isOrange ? 'true' : 'false', isOrange ? 'orange' : '', isOrange ? 'black' : '', isOrange ? true : false, isOrange ? true : false, isOrange ? 'background-orange text-black' : '', { class: 'text-white' + (isOrange ? ' background-orange' : '') });\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"input\", \"attributes\": [[\"onchange\", { \"tagJsVar\": 0 }], [\"placeholder\", \"a b or c\"]] }, { \"nodeName\": \"select\", \"attributes\": [[\"id\", \"select-sample-drop-down\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Special Attributes\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [\"onchange\", { \"tagJsVar\": 2 }], [{ \"tagJsVar\": 3 }]] }, { \"nodeName\": \"text\", \"textContent\": \" - \" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display: flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style.background-color\", { \"tagJsVar\": 5 }], [\"style.color\", { \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"style.background-color=&dollar;{'orange'}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class.background-orange\", { \"tagJsVar\": 7 }], [\"class.text-black\", { \"tagJsVar\": 8 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class.background-orange=&dollar;{true}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class\", { \"tagJsVar\": 9 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class=&dollar;{'background-orange text-black'}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[{ \"tagJsVar\": 10 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class=&dollar;{'background-orange'} but always white\" }] }] }, { \"nodeName\": \"style\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \".background-orange {background-color:orange}\\n      .text-black {color:black}\\n      .text-white {color:white}\" }] }], [{ \"nodeName\": \"option\", \"attributes\": [[\"value\", { \"tagJsVar\": 0 }], [{ \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"text\", \"textContent\": \" - \" }, { \"nodeName\": \"text\", \"value\": 3 }] }]];\n","import { html, tag, letState, ValueSubject, state, combineLatest, willPromise } from \"taggedjs\";\nexport const contentDebug = tag(() => {\n    const vs0 = state(() => new ValueSubject(0));\n    const vs1 = state(() => new ValueSubject(1));\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    const dom = [{\n            nodeName: 'b', children: [{\n                    nodeName: 'text',\n                    textContent: 'big',\n                }]\n        }];\n    let orangeToggle = letState(true)(x => [orangeToggle, orangeToggle = x]);\n    const injectionTest = '<script>alert(\"i should never run\")</script>';\n    return html.dom(allStrings[0], injectionTest, html.dom(dom), html.dom(allStrings[1]), \"3px solid orange\", orangeToggle ? \"3px solid orange\" : \"3px solid green\", () => orangeToggle = !orangeToggle, orangeToggle, 54, 'hello', 0, false, null, undefined, true, '{', '}', '{', '}', '<div>hello</div>', vs0, vs0.pipe(() => 55), combineLatest([vs0, vs1]).pipe(x => x[1]), combineLatest([vs0, vs1]).pipe(willPromise(x => Promise.resolve(html.dom(allStrings[2])))), renderCount);\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- content-debug-testing -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"injection-test\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"injection test \" }, { \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"hello-big-dom-world\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello \" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"text\", \"textContent\": \" world\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"hello-big-string-world\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello \" }, { \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"text\", \"textContent\": \" world\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"style-simple-border-orange\"], [\"style.border\", \"3px solid orange\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"simple orange border\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"style-var-border-orange\"], [\"style.border\", { \"tagJsVar\": 3 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"var orange border\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"style-toggle-border-orange\"], [\"style.border\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle orange border\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"toggle-border-orange\"], [\"onclick\", { \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"orange toggle \" }, { \"nodeName\": \"text\", \"value\": 6 }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"hello-spacing-dom-world\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 7 }, { \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"text\", \"value\": 8 }, { \"nodeName\": \"text\", \"textContent\": \" worlds\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em;font-size:0.8em\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"zero test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.0 You should see \\\"0\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"value\": 9 }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you cannot see false values -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"false test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.1 You should see \\\"\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"value\": 10 }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.2 You should see \\\"\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"value\": 11 }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"undefined test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.3 You should see \\\"\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"value\": 12 }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you can see true booleans -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"true test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.4 You should see \\\"true\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"value\": 13 }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you can try to use the tagVar syntax -->\" }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"P.5 You should see \\\"{22}\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"value\": 14 }, { \"nodeName\": \"text\", \"textContent\": \"22\" }, { \"nodeName\": \"text\", \"value\": 15 }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"P.6 You should see \\\"\" }, { \"nodeName\": \"text\", \"value\": 16 }, { \"nodeName\": \"text\", \"textContent\": \"__tagVar0\" }, { \"nodeName\": \"text\", \"value\": 17 }, { \"nodeName\": \"text\", \"textContent\": \"\\\" here => \\\"{__tagVar0}\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"should be a safe string no html \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-dom-parse-0-0\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\\\"&lt;div&gt;hello&lt;/div&gt;\\\"\" }] }, { \"nodeName\": \"text\", \"textContent\": \" here => \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-dom-parse-0-1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\\\"\" }, { \"nodeName\": \"text\", \"value\": 18 }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"value subject\" }] }, { \"nodeName\": \"text\", \"textContent\": \"0 === \" }, { \"nodeName\": \"text\", \"value\": 19 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"piped subject\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-subject-pipe-display0\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"55\" }] }, { \"nodeName\": \"text\", \"textContent\": \"&nbsp;===&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-subject-pipe-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 20 }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"combineLatest\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipe-display0\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"1\" }] }, { \"nodeName\": \"text\", \"textContent\": \"&nbsp;===&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipe-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 21 }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"combineLatest piped html\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipeHtml-display0\"]], \"children\": [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"bold 77\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"&nbsp;===&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipeHtml-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 22 }] }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \"(render count \" }, { \"nodeName\": \"text\", \"value\": 23 }, { \"nodeName\": \"text\", \"textContent\": \")\\n  \" }], [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"big\" }] }], [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"bold 77\" }] }]];\n","export function willCallback(callback) {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        });\n        callback(lastValue, utils.next);\n    });\n}\n/** .pipe( promise((x) => Promise.resolve(44)) ) */\nexport function willPromise(callback) {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        }); // do nothing on initial return\n        const result = callback(lastValue);\n        result.then(x => utils.next(x));\n    });\n}\n/** .pipe( willSubscribe((x) => new ValueSubject(44)) ) */\nexport const willSubscribe = (callback) => {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        }); // do nothing on initial return\n        const result = callback(lastValue);\n        const subscription = result.subscribe(x => {\n            subscription.unsubscribe();\n            utils.next(x);\n        });\n    });\n};\n//# sourceMappingURL=will.functions.js.map","import { html, tag, letState } from \"taggedjs\";\nexport const tableDebug = tag(() => {\n    let showCell = letState(true)(x => [showCell, showCell = x]);\n    return html.dom(allStrings[0], 5, 5, showCell && html.dom(allStrings[1]), showCell && html.dom(allStrings[2]));\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"max-height: 800px;overflow-y: scroll;\"]], \"children\": [{ \"nodeName\": \"table\", \"attributes\": [[\"cellpadding\", { \"tagJsVar\": 0 }], [\"cellspacing\", { \"tagJsVar\": 1 }], [\"border\", \"1\"]], \"children\": [{ \"nodeName\": \"thead\", \"attributes\": [[\"style\", \"position: sticky;top: 0;\"]], \"children\": [{ \"nodeName\": \"tr\", \"children\": [{ \"nodeName\": \"th\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello\" }] }, { \"nodeName\": \"th\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello\" }] }, { \"nodeName\": \"text\", \"value\": 2 }] }] }, { \"nodeName\": \"tbody\", \"children\": [{ \"nodeName\": \"tr\", \"children\": [{ \"nodeName\": \"td\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world\" }] }, { \"nodeName\": \"td\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world\" }] }, { \"nodeName\": \"text\", \"value\": 3 }] }] }] }] }], [{ \"nodeName\": \"td\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello 2 thead cell\" }] }], [{ \"nodeName\": \"td\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world 2 tbody cell\" }] }]];\n","import { letState, html, tag, onInit, callbackMaker, onDestroy } from \"taggedjs\";\nconst test0interval = 3000;\nconst test1interval = 6000;\nexport const intervalTester0 = tag(() => {\n    let intervalCount = letState(0)(x => [intervalCount, intervalCount = x]);\n    let intervalId = letState(undefined)(x => [intervalId, intervalId = x]);\n    let intervalId2 = letState(undefined)(x => [intervalId2, intervalId2 = x]);\n    let renderCounter = letState(0)(x => [renderCounter, renderCounter = x]);\n    let currentTime = letState(0)(x => [currentTime, currentTime = x]);\n    const callback = callbackMaker();\n    const increase = () => ++intervalCount;\n    const startInterval = () => {\n        console.info(' interval test 0 started...');\n        trackTime();\n        intervalId = setInterval(callback(() => {\n            increase();\n        }), test0interval);\n    };\n    const stopInterval = () => {\n        clearInterval(intervalId);\n        clearInterval(intervalId2);\n        intervalId = undefined;\n        intervalId2 = undefined;\n        console.info(' interval test 0 stopped');\n    };\n    function trackTime() {\n        currentTime = 0;\n        intervalId2 = setInterval(callback(() => {\n            currentTime = currentTime + 500;\n            if (currentTime >= test0interval) {\n                currentTime = 0;\n            }\n        }), 500);\n        console.info(' interval started');\n    }\n    const toggle = () => {\n        if (intervalId || intervalId2) {\n            stopInterval();\n            return;\n        }\n        startInterval();\n    };\n    const delayIncrease = () => setTimeout(callback(() => {\n        currentTime = currentTime + 200;\n    }), 1000);\n    onInit(startInterval);\n    onDestroy(stopInterval);\n    ++renderCounter;\n    return html.dom(allStrings[0], test0interval, intervalId, increase, intervalCount, renderCounter, test0interval, currentTime, currentTime, toggle, intervalId || intervalId2 ? 'red' : 'green', delayIncrease);\n});\nexport const intervalTester1 = tag(() => {\n    let intervalCount = letState(0)(x => [intervalCount, intervalCount = x]);\n    let intervalId = letState(undefined)(x => [intervalId, intervalId = x]);\n    let intervalId2 = letState(undefined)(x => [intervalId2, intervalId2 = x]);\n    let renderCounter = letState(0)(x => [renderCounter, renderCounter = x]);\n    let currentTime = letState(0)(x => [currentTime, currentTime = x]);\n    const callback = callbackMaker();\n    const increase = () => ++intervalCount;\n    function trackTime() {\n        currentTime = 0;\n        intervalId2 = setInterval(callback(() => {\n            currentTime = currentTime + 500;\n            if (currentTime >= test1interval) {\n                currentTime = 0;\n            }\n        }), 500);\n    }\n    const destroy = () => {\n        clearInterval(intervalId);\n        clearInterval(intervalId2);\n        intervalId = undefined;\n        intervalId2 = undefined;\n        console.info(' interval 1 stopped');\n    };\n    function toggleInterval() {\n        if (intervalId) {\n            return destroy();\n        }\n        console.info(' interval test 1 started...');\n        trackTime();\n        intervalId = setInterval(callback(() => {\n            increase();\n            console.info('slow interval ran');\n        }), test1interval);\n    }\n    onInit(toggleInterval);\n    onDestroy(destroy);\n    ++renderCounter;\n    return html.dom(allStrings[1], test1interval, intervalId, increase, intervalCount, renderCounter, test1interval, currentTime, currentTime, toggleInterval, intervalId ? 'red' : 'green');\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--intervalDebug.js-->\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"interval type 1 at \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }, { \"nodeName\": \"text\", \"textContent\": \"intervalId: \" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"range\"], [\"min\", \"0\"], [\"max\", { \"tagJsVar\": 5 }], [\"step\", \"1\"], [\"value\", { \"tagJsVar\": 6 }]] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"--\" }, { \"nodeName\": \"text\", \"value\": 7 }, { \"nodeName\": \"text\", \"textContent\": \"--\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 8 }], [\"style.background-color\", { \"tagJsVar\": 9 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"start/stop\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 10 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"delay increase currentTime\" }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"interval type 2 with \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }, { \"nodeName\": \"text\", \"textContent\": \"intervalId: \" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"range\"], [\"min\", \"0\"], [\"max\", { \"tagJsVar\": 5 }], [\"step\", \"1\"], [\"value\", { \"tagJsVar\": 6 }]] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"--\" }, { \"nodeName\": \"text\", \"value\": 7 }, { \"nodeName\": \"text\", \"textContent\": \"--\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 8 }], [\"style.background-color\", { \"tagJsVar\": 9 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"start/stop\" }] }]];\n","export function createFx({ fxIn, fxOut, staggerBy = 300, }) {\n    return {\n        in: (input) => animateInit({ fxName: fxIn, staggerBy, ...input }),\n        out: (input) => animateDestroy({ fxName: fxOut, staggerBy, capturePosition: true, ...input }),\n    };\n}\nconst animateInit = async ({ target, stagger, staggerBy, fxName = 'fadeInDown' }) => {\n    target.style.opacity = '0';\n    if (stagger) {\n        await wait(stagger * staggerBy);\n    }\n    target.style.opacity = '1';\n    target.classList.add('animate__animated', 'animate__' + fxName);\n};\nconst animateDestroy = async ({ target, stagger, capturePosition = true, fxName = 'fadeOutUp', staggerBy }) => {\n    if (capturePosition) {\n        captureElementPosition(target);\n    }\n    if (stagger) {\n        await wait(stagger * staggerBy);\n    }\n    target.classList.add('animate__animated', 'animate__' + fxName);\n    await wait(1000); // don't allow remove from stage until animation completed\n    target.classList.remove('animate__animated', 'animate__' + fxName);\n};\n// absolute\nexport function captureElementPosition(element) {\n    element.style.zIndex = element.style.zIndex || 1;\n    const toTop = element.offsetTop + 'px';\n    const toLeft = element.offsetLeft + 'px';\n    const toWidth = (element.clientWidth + (element.offsetWidth - element.clientWidth) + 1) + 'px';\n    const toHeight = (element.clientHeight + (element.offsetHeight - element.clientHeight) + 1) + 'px';\n    const fix = () => {\n        element.style.top = toTop;\n        element.style.left = toLeft;\n        element.style.width = toWidth;\n        element.style.height = toHeight;\n        element.style.position = 'absolute';\n    };\n    // element.style.position = 'fixed'\n    // allow other elements that are being removed to have a moment to figure out where they currently sit\n    setTimeout(fix, 0);\n}\nfunction wait(time) {\n    return new Promise((res) => {\n        setTimeout(res, time);\n    });\n}\n//# sourceMappingURL=createFx.function.js.map","import { createFx } from \"./createFx.function.js\";\nexport const { in: fadeInDown, out: fadeOutUp } = createFx({ fxIn: 'fadeInDown', fxOut: 'fadeOutUp' });\n//# sourceMappingURL=index.js.map","import { intervalTester0, intervalTester1 } from \"./intervalDebug\";\nimport { html, tag, letState } from \"taggedjs\";\nimport { fadeInDown, fadeOutUp } from \"./animations\";\nexport const tagDebug = tag(() => {\n    let _firstState = letState('tagJsDebug.js')(x => [_firstState, _firstState = x]);\n    let showIntervals = letState(false)(x => [showIntervals, showIntervals = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[0], () => showIntervals = !showIntervals, showIntervals && html.dom(allStrings[1], fadeInDown, fadeOutUp, intervalTester0(), intervalTester1()));\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- tagDebug.js -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"debug-intervals\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Interval Testing\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hide/show\" }] }, { \"nodeName\": \"text\", \"value\": 1 }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", { \"tagJsVar\": 0 }], [\"ondestroy\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }] }] }]];\n","import { tag, html } from \"taggedjs\";\nexport const renderCountDiv = tag(({ renderCount, name }) => html.dom(allStrings[0], name, name + '_render_count', renderCount));\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(\" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \" render count \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }]];\n","import { html, tag, letState } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nexport const tagSwitchDebug = tag((_t = 'tagSwitchDebug') => {\n    let selectedTag = letState(null)(x => [selectedTag, selectedTag = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    function changeSelectedTag(event) {\n        selectedTag = event.target.value;\n        if (selectedTag === 'undefined') {\n            selectedTag = undefined;\n        }\n        if (selectedTag === 'null') {\n            selectedTag = null;\n        }\n    }\n    let tagOutput = 'select tag below';\n    switch (selectedTag) {\n        case null:\n            tagOutput = 'null, select tag below';\n            break;\n        case \"\":\n            tagOutput = html.dom(allStrings[0]);\n            break;\n        case '1':\n            tagOutput = tag1({ title: 'value switch' });\n            break;\n        case '2':\n            tagOutput = tag2({ title: 'value switch' });\n            break;\n        case '3':\n            tagOutput = tag3({ title: 'value switch' });\n            break;\n    }\n    let tagOutput2 = html.dom(allStrings[1]);\n    switch (selectedTag) {\n        case null:\n            tagOutput2 = html.dom(allStrings[2]);\n            break;\n        case \"\":\n            tagOutput2 = html.dom(allStrings[3]);\n            break;\n        case '1':\n            tagOutput2 = tag1({ title: 'tag switch' });\n            break;\n        case '2':\n            tagOutput2 = tag2({ title: 'tag switch' });\n            break;\n        case '3':\n            tagOutput2 = tag3({ title: 'tag switch' });\n            break;\n    }\n    ++renderCount;\n    return html.dom(allStrings[4], selectedTag === null && 'null' ||\n        selectedTag === undefined && 'undefined' ||\n        selectedTag === '' && 'empty-string' ||\n        selectedTag, changeSelectedTag, typeof (selectedTag) === 'string' && !selectedTag.length ? { selected: true } : {}, selectedTag === undefined ? { selected: true } : {}, selectedTag === null ? { selected: true } : {}, selectedTag === '1' ? { selected: true } : {}, selectedTag === '2' ? { selected: true } : {}, selectedTag === '3' ? { selected: true } : {}, tagOutput, tagOutput2, selectedTag === '3' ? tag3({ title: 'ternary simple' }) : tag1({ title: 'ternary simple' }), ternaryPropTest({ selectedTag }), arraySwitching({ selectedTag }), renderCountDiv({ renderCount, name: 'tagSwitchDebug' }));\n});\nexport const ternaryPropTest = tag(({ selectedTag }) => {\n    const outTag = selectedTag === '3' ? tag3({ title: 'ternaryPropTest' }) : tag1({ title: 'ternaryPropTest' });\n    return html.dom(allStrings[5], selectedTag, outTag);\n});\nexport const tag1 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[6], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const tag2 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[7], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const tag3 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[8], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const arraySwitching = tag(({ selectedTag }, _ = 'arraySwitching') => {\n    switch (selectedTag) {\n        case undefined:\n            return html.dom(allStrings[9]);\n        case null:\n            return html.dom(allStrings[10]);\n        case '':\n            // TODO: ??? should be empty string\n            return html.dom(allStrings[11]); // tests how .previousSibling works\n        case '1':\n            return html.dom(allStrings[12], tag1({ title: `tag ${selectedTag}` }));\n        case '2':\n            return html.dom(allStrings[13], ['b', 'c'].map(x => html.dom(allStrings[14], tag2({ title: `array ${selectedTag} ${x}` })).key(x)));\n        case '3':\n            return html.dom(allStrings[15], ['d', 'e', 'f'].map(x => html.dom(allStrings[16], tag3({ title: `array ${selectedTag} ${x}` })).key(x)));\n    }\n    return html.dom(allStrings[17]);\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"empty-string-1\"]] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null, select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"empty-string, select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"selectTag-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"selectedTag: |\" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \"|\" }] }, { \"nodeName\": \"select\", \"attributes\": [[\"id\", \"tag-switch-dropdown\"], [\"onchange\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"option\" }, { \"nodeName\": \"text\", \"textContent\": \"<!-- TODO: implement selected attribute --->\" }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"\"], [{ \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"empty-string\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"undefined\"], [{ \"tagJsVar\": 3 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"undefined\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"null\"], [{ \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"1\"], [{ \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 1\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"2\"], [{ \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 2\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"3\"], [{ \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 3\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"switch-tests-wrap\"], [\"style\", \"display:flex;flex-wrap:wrap;gap:1em;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 1 - string | Tag\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"value\": 8 }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 2 - Tag\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"value\": 9 }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 3 - ternary (only 1 or 3 shows)\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"value\": 10 }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 3.2 - ternary via prop (only 1 or 3 shows)\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"value\": 11 }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"arraySwitching-test-wrap\"], [\"style\", \"border:1px solid red;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 4 - arraySwitching\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"arraySwitching-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 12 }] }] }] }, { \"nodeName\": \"text\", \"value\": 13 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"ternaryPropTest-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 1 }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag1\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-1-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 1 \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \" World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase \" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"value\": 3 }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag2\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-2-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 2 \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \" World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase \" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"value\": 3 }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag3\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-3-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 3 \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \" World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase \" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"value\": 3 }] }], [{ \"nodeName\": \"text\", \"textContent\": \"its an undefined value\" }], [{ \"nodeName\": \"text\", \"textContent\": \"its a null value\" }], [{ \"nodeName\": \"text\", \"textContent\": \"space\" }], [{ \"nodeName\": \"text\", \"value\": 0 }], [{ \"nodeName\": \"text\", \"value\": 0 }], [{ \"nodeName\": \"text\", \"value\": 0 }], [{ \"nodeName\": \"text\", \"value\": 0 }], [{ \"nodeName\": \"text\", \"value\": 0 }], [{ \"nodeName\": \"text\", \"textContent\": \"nothing to show for in arrays\" }]];\n","import { html, tag, letState } from \"taggedjs\";\nexport const mirroring = tag(() => {\n    const tag = tagCounter();\n    return html.dom(allStrings[0], tag, tag);\n});\nconst tagCounter = () => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    return html.dom(allStrings[1], counter, () => ++counter, counter);\n};\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter0\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter1\" }] }, { \"nodeName\": \"text\", \"value\": 1 }] }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n    counter:\" }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"mirror-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"mirror-counter-button\"], [\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }]];\n","import { html, letState, tag, isSubjectInstance, isTagArray } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nexport const innerHtmlTest = tag((_props, b, children) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let counter = letState(0)(x => [counter, counter = x]);\n    ++renderCount;\n    return html.dom(allStrings[0], children, isSubjectInstance(children), isTagArray(children), () => ++counter, counter, counter, renderCountDiv({ renderCount, name: 'innerHtmlTest' }));\n});\nexport const innerHtmlPropsTest = tag((x, children) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let counter = letState(0)(x => [counter, counter = x]);\n    ++renderCount;\n    return html.dom(allStrings[1], x, children, () => ++counter, counter, counter, /*renderCountDiv(renderCount)*/ false);\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--innerHtmlTests.js-->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"innerHtmlTests-1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"no props test\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:2px solid purple;\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"isSubjectInstance:\" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"isSubjectTagArray:\" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlTest-counter-button\"], [\"onclick\", { \"tagJsVar\": 3 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase innerHtmlTest \" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlTest-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 5 }] }, { \"nodeName\": \"text\", \"value\": 6 }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--innerHtmlTests.js-->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"innerHtmlTests-2\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"innerHTML Props: \" }, { \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-button\"], [\"onclick\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase innerHtmlPropsTest \" }, { \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"text\", \"value\": 5 }] }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { innerHtmlPropsTest, innerHtmlTest } from \"./innerHtmlTests.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nconst test22 = tag((a, b, children) => html.dom(allStrings[0], a, b, children));\nexport const childTests = tag((_ = 'childTests') => (renderCount = letState(0)(x => [renderCount, renderCount = x]), counter = letState(0)(x => [counter, counter = x]), _ = ++renderCount) => html.dom(allStrings[1], test22(1, 2, html.dom(allStrings[2], Date.now())), innerHtmlTest({}, 2, html.dom(allStrings[3], () => ++counter, counter, renderCount, counter, renderCountDiv({ renderCount, name: 'childTests-innerHtmlTest' }))), innerHtmlPropsTest(22, html.dom(allStrings[4], () => ++counter, counter, counter, renderCountDiv({ renderCount, name: 'innerHtmlPropsTest child' }))), childAsPropTest({ child: html.dom(allStrings[5], () => ++counter, counter, counter) }), () => ++counter, counter, renderCount, counter, renderCountDiv({ renderCount, name: 'childTests' })));\nfunction childAsPropTest({ child }) {\n    return html.dom(allStrings[6], child);\n}\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"xxxxx\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello other world \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \" - \" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:2px solid red;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"***\" }, { \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"text\", \"textContent\": \"***\" }] }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"children-test\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"childTests\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    \" }, { \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    \" }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"childTests-button\"], [\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase childTests outside \" }, { \"nodeName\": \"text\", \"value\": 5 }, { \"nodeName\": \"text\", \"textContent\": \" - \" }, { \"nodeName\": \"text\", \"value\": 6 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 7 }] }, { \"nodeName\": \"text\", \"value\": 8 }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \"abc-123-\" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"hr\" }] }], [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Field set body A\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlTest-childTests-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" (A) increase childTests inside \" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlTest-childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"text\", \"value\": 4 }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }], [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Field set body B\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-childTests-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" (B) increase childTests inside \" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n      hello child as prop test\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"child-as-prop-test-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" child as prop \" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"child-as-prop-test-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }], [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child as prop\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }]];\n","import { html, letState, tag } from 'taggedjs';\nexport const mouseOverTag = tag(({ label, memory, }) => {\n    let mouseOverEditShow = letState(false)(x => [mouseOverEditShow, mouseOverEditShow = x]);\n    let edit = letState(false)(x => [edit, edit = x]);\n    return html.dom(allStrings[0], () => mouseOverEditShow = true, () => mouseOverEditShow = false, label, memory.counter, mouseOverEditShow || 'false', () => ++memory.counter, (edit || mouseOverEditShow) ? 'visible' : 'hidden', () => edit = !edit);\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- mouseOverTag -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"background-color:purple;padding:.2em;flex:1\"], [\"onmouseover\", { \"tagJsVar\": 0 }], [\"onmouseout\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mouseover - \" }, { \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 4 }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++counter\" }] }, { \"nodeName\": \"a\", \"attributes\": [[\"style.visibility\", { \"tagJsVar\": 6 }], [\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;\" }] }] }]];\n","import { mouseOverTag } from \"./mouseover.tag.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nimport { html, tag, Subject, onInit, letState, callbackMaker, state, ValueSubject, callback, subject } from \"taggedjs\";\nconst loadStartTime = Date.now();\nexport const counters = tag(({ appCounterSubject }) => (readStartTime = state(() => Date.now())) => {\n    state('countersDebug state');\n    let counter = letState(0)(x => [counter, counter = x]);\n    let propCounter = letState(0)(x => [propCounter, propCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let initCounter = letState(0)(x => [initCounter, initCounter = x]);\n    let memory = state(() => ({ counter: 0 }));\n    const callbacks = callbackMaker();\n    const callbackTestSub = state(() => new Subject(counter));\n    const pipedSubject0 = state(() => new ValueSubject('222'));\n    const pipedSubject1 = Subject.all([pipedSubject0, callbackTestSub]).pipe(callback(x => {\n        return counter;\n    }));\n    const pipedSubject2 = subject.all([pipedSubject0, callbackTestSub]).pipe(x => counter);\n    onInit(() => {\n        ++initCounter;\n        console.info('countersDebug.ts:  i should only ever run once');\n        callbackTestSub.subscribe(callbacks(y => {\n            counter = y;\n        }));\n    });\n    // State as a callback only needed so pipedSubject1 has the latest value\n    const increaseCounter = () => {\n        ++counter;\n        pipedSubject0.next('333-' + counter);\n    };\n    const increasePropCounter = () => {\n        ++propCounter;\n    };\n    ++renderCount; // for debugging\n    const sharedMemory = true;\n    const testInnerCounters = true;\n    const displayRenderCounters = true;\n    const testBasics = true;\n    return html.dom(allStrings[0], testBasics && html.dom(allStrings[1], Subject.globalSubCount$, () => console.info('subs', Subject.globalSubs), initCounter, () => appCounterSubject.next((appCounterSubject.value || 0) + 1), appCounterSubject.value, appCounterSubject.value, e => (counter = Number(e.target.value) || 0), increasePropCounter, propCounter, propCounter, increaseCounter, counter, counter > 1 && html.dom(allStrings[2], increaseCounter, counter, counter), () => callbackTestSub.next(counter + 1), callbackTestSub), pipedSubject1, pipedSubject2, sharedMemory && html.dom(allStrings[3], true, mouseOverTag({ label: 'a-a-', memory }), mouseOverTag({ label: 'b-b-', memory }), memory.counter, () => ++memory.counter), testInnerCounters && html.dom(allStrings[4], innerCounters({ propCounter, increasePropCounter })), displayRenderCounters && renderCountDiv({ renderCount, name: 'counters' }), event => event.target.innerText = (Date.now() - loadStartTime).toString(), event => event.target.innerText = (Date.now() - readStartTime).toString());\n});\nconst innerCounters = tag(({ propCounter, increasePropCounter, }) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount; // for debugging\n    return html.dom(allStrings[5], increasePropCounter, propCounter, propCounter, renderCount, renderCountDiv({ renderCount, name: 'inner_counters' }));\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--counters-->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" pipedSubject 1\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-pipedSubject\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" pipedSubject 2\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-pipedSubject-2\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }] }] }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \\n    \" }, { \"nodeName\": \"text\", \"value\": 4 }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }, { \"nodeName\": \"text\", \"value\": 5 }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"font-size:0.8em;opacity:0.8\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" page load to display in&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"oninit\", { \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-\" }] }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"font-size:0.8em;opacity:0.8\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" read in&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"oninit\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-\" }] }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" Subscriptions:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-sub-count\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"log subs\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"initCounter:\" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"counters-app-counter-subject-button\"], [\"onclick\", { \"tagJsVar\": 3 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++app subject\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counters-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 4 }] }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counters-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 5 }] }] }] }, { \"nodeName\": \"input\", \"attributes\": [[\"id\", \"set-main-counter-input\"], [\"placeholder\", \"input counter value\"], [\"onkeyup\", { \"tagJsVar\": 6 }]] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-increase-counter\"], [\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" propCounter:\" }, { \"nodeName\": \"text\", \"value\": 8 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 9 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-standalone-counter\"], [\"onclick\", { \"tagJsVar\": 10 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" stand alone counters\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-standalone-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 11 }] }] }] }, { \"nodeName\": \"text\", \"value\": 12 }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-subject-increase-counter\"], [\"onclick\", { \"tagJsVar\": 13 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++subject&lt;&gt;\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&lt;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"subject-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 14 }] }, { \"nodeName\": \"text\", \"textContent\": \"&gt;\" }] }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"conditional-counter\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"conditional counter:\" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"conditional-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }] }], [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"shared memory\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class.bold.text-blue\", { \"tagJsVar\": 0 }], [\"style\", \"display:flex;flex-wrap:wrap;gap:.5em\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"text\", \"textContent\": \"\\n          \" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"textContent\": \"memory.counter:\" }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase \" }] }] }], [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"inner counter\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-inner-counter\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" propCounter:\" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-inner-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount:\" }, { \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"text\", \"value\": 4 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }]];\n","import { html, tag } from \"taggedjs\";\nexport const dialog = tag((providerClass) => html.dom(allStrings[0], () => providerClass.showDialog = false, providerClass.showDialog ? html.dom(allStrings[1], JSON.stringify(providerClass, null, 2)) : 'no dialog'));\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"dialog\", \"attributes\": [[\"id\", \"provider_debug_dialog\"], [\"style\", \"padding:0\"], [\"onmousedown\", \"var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()\"], [\"ondragstart\", \"const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'\"], [\"ondrag\", \"const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';\"], [\"ondragend\", \"const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false\"], [\"onclose\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"padding:.25em\"], [\"onmousedown\", \"this.parentNode.draggable=true\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"dialog title\" }] }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"padding:.25em\"]], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \"provider_debug_dialog.close()\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" close\" }] }] }] }], [{ \"nodeName\": \"textarea\", \"attributes\": [[\"wrap\", \"off\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }]];\n","import { fadeInDown, fadeOutUp } from \"./animations.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nimport { dialog } from \"./providerDialog.tag.js\";\nimport { letState, html, tag, providers, state, callbackMaker, Subject, onInit } from \"taggedjs\";\nexport class TagDebugProvider {\n    constructor() {\n        this.tagDebug = 0;\n        this.showDialog = false;\n    }\n}\nconst ProviderFunc = () => ({ counter: 0 });\nexport function tagDebugProvider() {\n    const upper = providers.create(upperTagDebugProvider);\n    return {\n        upper,\n        test: 0\n    };\n}\nexport function upperTagDebugProvider() {\n    state('ensure states in providers are stable');\n    return {\n        name: 'upperTagDebugProvider',\n        test: 0\n    };\n}\nexport const providerDebugBase = tag((_x = 'providerDebugBase') => {\n    // providerDebugBase, has provider\n    providers.create(ProviderFunc); // test that an arrow function can be a provider\n    const providerClass = providers.create(TagDebugProvider);\n    const provider = providers.create(tagDebugProvider);\n    const test = letState('props debug base');\n    let propCounter = letState(0)(x => [propCounter, propCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    if (providerClass.showDialog) {\n        document.getElementById('provider_debug_dialog').showModal();\n    }\n    ++renderCount;\n    return html.dom(allStrings[0], provider.test, provider.upper?.test || '?', providerClass.tagDebug || '?', () => ++provider.test, provider.test, provider.test, () => ++provider.upper.test, provider.upper.test, provider.upper.test, () => ++providerClass.tagDebug, providerClass.tagDebug, providerClass.tagDebug, () => ++propCounter, propCounter, propCounter, () => providerClass.showDialog = true, providerClass.showDialog, providerChildDebug({\n        propCounter,\n        propCounterChange: x => {\n            propCounter = x;\n        }\n    }), renderCount, renderCountDiv({ renderCount, name: 'providerDebugBase' }), dialog(providerClass), /*tagSwitchingWithProvider()*/ false);\n});\n/*\nconst tagSwitchingWithProvider = tag(() => (\n  upperProvider = providers.inject( upperTagDebugProvider )\n) => html.dom(allStrings[1], () => ++upperProvider.test, upperProvider.test, upperProvider.test, upperProvider.test % 2 == 0 ? 'off' : 'on', tagSwitchingProChild1(), upperProvider.test % 2 == 0 ? null : tagSwitchingProChild2()))\n*/\n/*\nconst tagSwitchingProChild1 = tag(() => (\n  upperProvider = providers.inject( upperTagDebugProvider ),\n) => upperProvider.test % 2 == 0 ? null : html.dom(allStrings[2], () => ++upperProvider.test, upperProvider.test, upperProvider.test))\n\nconst tagSwitchingProChild2 = tag(() => (\n  upperProvider = providers.inject( upperTagDebugProvider )\n) => html.dom(allStrings[3], () => ++upperProvider.test, upperProvider.test, upperProvider.test))*/\n/* child of main provider testing */\nconst providerChildDebug = tag(({ propCounter, propCounterChange, _ = 'providerDebug.js@child', }) => {\n    const funcProvider = providers.inject(ProviderFunc); // test that an arrow function can be a provider\n    const provider = providers.inject(tagDebugProvider);\n    const providerClass = providers.inject(TagDebugProvider);\n    const upperProvider = providers.inject(upperTagDebugProvider);\n    let showProProps = letState(false)(x => [showProProps, showProProps = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    // let propCounter: number = letState(0)(x => [propCounter, propCounter = x])\n    const callbacks = callbackMaker();\n    const callbackTestSub = state(() => new Subject());\n    onInit(() => {\n        console.info('providerDebug.ts:   i should only ever run once');\n        callbackTestSub.subscribe(x => {\n            callbacks((y) => {\n                provider.test = x;\n            })();\n        });\n    });\n    ++renderCount;\n    return html.dom(allStrings[4], () => ++provider.test, provider.test, provider.test, () => ++upperProvider.test, upperProvider.test, upperProvider.test, () => ++funcProvider.counter, funcProvider.counter, funcProvider.counter, () => callbackTestSub.next(provider.test + 1), provider.test, () => ++providerClass.tagDebug, providerClass.tagDebug, providerClass.tagDebug, () => propCounterChange(++propCounter), propCounter, propCounter, () => providerClass.showDialog = true, providerClass.showDialog, () => showProProps = !showProProps, showProProps ? 'hide' : 'show', showProProps && html.dom(allStrings[5], fadeInDown, fadeOutUp, testProviderAsProps(providerClass)), renderCount, renderCountDiv({ renderCount, name: 'providerDebugInner' }));\n});\nconst testProviderAsProps = tag((providerClass) => {\n    return html.dom(allStrings[6], JSON.stringify(providerClass, null, 2));\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js-->\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"provider.test sugar-daddy-77\" }] }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"provider.upper?.test\" }] }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"providerClass.tagDebug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider--0-button\"], [\"onclick\", { \"tagJsVar\": 3 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase provider.test \" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 5 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-upper--0-button\"], [\"onclick\", { \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase upper.provider.test \" }, { \"nodeName\": \"text\", \"value\": 7 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-upper--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 8 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider--0-button\"], [\"onclick\", { \"tagJsVar\": 9 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase provider class \" }, { \"nodeName\": \"text\", \"value\": 10 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 11 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-prop--0-button\"], [\"onclick\", { \"tagJsVar\": 12 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++propCounter in parent \" }, { \"nodeName\": \"text\", \"value\": 13 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-prop--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 14 }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 15 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" toggle dialog \" }, { \"nodeName\": \"text\", \"value\": 16 }] }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 17 }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \"renderCount outer:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"name\", \"render_count_outer\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 18 }] }, { \"nodeName\": \"text\", \"value\": 19 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    \" }, { \"nodeName\": \"text\", \"value\": 20 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    TODOTODOTODOTODO\\n    \" }, { \"nodeName\": \"text\", \"value\": 21 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch--0-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase switch.provider.test \" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"statue:\" }, { \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"text\", \"value\": 4 }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"value\": 5 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch--1-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase switch.provider.test \" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch--2-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase switch.provider.test \" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch--2-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js@child-->\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider--1-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase provider.test \" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-upper--1-button\"], [\"onclick\", { \"tagJsVar\": 3 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase upper.provider.test \" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-upper--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 5 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-arrow-provider--1-button\"], [\"onclick\", { \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase upper.provider.test \" }, { \"nodeName\": \"text\", \"value\": 7 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-arrow-provider--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 8 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"subject-increase-counter\"], [\"onclick\", { \"tagJsVar\": 9 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" subject increase:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"subject-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 10 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider--1-button\"], [\"onclick\", { \"tagJsVar\": 11 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase provider class \" }, { \"nodeName\": \"text\", \"value\": 12 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 13 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-prop--1-button\"], [\"onclick\", { \"tagJsVar\": 14 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++propCounter in child \" }, { \"nodeName\": \"text\", \"value\": 15 }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-prop--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 16 }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 17 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" toggle dialog \" }, { \"nodeName\": \"text\", \"value\": 18 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 19 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 20 }, { \"nodeName\": \"text\", \"textContent\": \" provider as props\" }] }, { \"nodeName\": \"text\", \"value\": 21 }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount inner:\" }, { \"nodeName\": \"text\", \"value\": 22 }, { \"nodeName\": \"text\", \"textContent\": \"\\n      \" }, { \"nodeName\": \"text\", \"value\": 23 }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", { \"tagJsVar\": 0 }], [\"ondestroy\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"hr\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Provider as Props\" }] }, { \"nodeName\": \"text\", \"value\": 2 }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js@TestProviderAsProps-->\" }, { \"nodeName\": \"textarea\", \"attributes\": [[\"wrap\", \"off\"], [\"rows\", \"20\"], [\"style\", \"width:100%;font-size:0.6em\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }]];\n","import { watch, letState, html, tag } from \"taggedjs\";\nexport const watchTesting = tag(() => (stateNum = letState(0)(x => [stateNum, stateNum = x]), stateNumChangeCount = letState(0)(x => [stateNumChangeCount, stateNumChangeCount = x]), _ = watch([stateNum], () => ++stateNumChangeCount), slowChangeCount = letState(0)(x => [slowChangeCount, slowChangeCount = x]), watchPropNumSlow = watch.noInit([stateNum], () => ++slowChangeCount), subjectChangeCount = letState(0)(x => [subjectChangeCount, subjectChangeCount = x]), watchPropNumSubject = watch.asSubject([stateNum], () => {\n    return ++subjectChangeCount;\n}), truthChange = letState(false)(x => [truthChange, truthChange = x]), truthChangeCount = letState(0)(x => [truthChangeCount, truthChangeCount = x]), watchTruth = watch.truthy([truthChange], () => ++truthChangeCount), truthSubChangeCount = letState(0)(x => [truthSubChangeCount, truthSubChangeCount = x]), watchTruthAsSub = watch.truthy.asSubject([truthChange], () => {\n    ++truthSubChangeCount;\n    return truthChange;\n}).pipe(x => {\n    if (x === undefined) {\n        return 'undefined';\n    }\n    return x ? truthSubChangeCount : truthSubChangeCount;\n})) => html.dom(allStrings[0], stateNum, () => ++stateNum, stateNumChangeCount, slowChangeCount, watchPropNumSlow, subjectChangeCount, watchPropNumSubject, truthChange ? 'true' : 'false', watchTruth || 'false', truthChangeCount, watchTruthAsSub, truthSubChangeCount, () => truthChange = !truthChange, truthChange ? 'true' : 'false'));\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- watchTesting.tag.ts -->stateNum:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"watch-testing-num-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"watch-testing-num-button\"], [\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++ stateNum\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"stateNumChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"stateNumChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" slowChangeCount\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-slowChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchPropNumSlow:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-watchPropNumSlow\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 4 }] }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" subjectChangeCount\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-subjectChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 5 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(watchPropNumSubject:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-watchPropNumSubject\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 6 }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" truthChange\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-truthChange\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 7 }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"simple truth\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTruth:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-watchTruth\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 8 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(truthChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-truthChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 9 }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"truth subject\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTruthAsSub:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-watchTruthAsSub\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 10 }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(truthSubChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-truthSubChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 11 }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-truthChange-button\"], [\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 12 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" toggle to \" }, { \"nodeName\": \"text\", \"value\": 13 }] }] }]];\n","import { html, letState, Subject, subject, tag, ValueSubjective } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\n/** this tag renders only once */\nexport const oneRender = () => tag.oneRender = (counter = new ValueSubjective(0), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    const x = Subject.all([0, 'all', 4]);\n    return html.dom(allStrings[0], x.pipe(x => JSON.stringify(x)), counter, () => ++counter.value, renderCountDiv({ renderCount, name: 'oneRender_tag_ts' }), insideMultiRender());\n};\n/** this tag renders on every event but should not cause parent to re-render */\nconst insideMultiRender = tag(() => (counter = letState(0)(x => [counter, counter = x]), counter$ = subject(0), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    return html.dom(allStrings[1], counter$, counter, () => {\n        counter$.next(++counter);\n    }, renderCountDiv({ renderCount, name: 'insideMultiRender' }));\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-start-\" }] }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \"elias\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"id\", \"-counter-button\"], [\"onclick\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++\" }] }] }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"value\": 4 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" sub counter-subject-display:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }] }, { \"nodeName\": \"br\" }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" sub counter\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }] }, { \"nodeName\": \"br\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"id\", \"-counter-button\"], [\"onclick\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++\" }] }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { html, tag } from \"taggedjs\";\nexport const arrayFunTag = tag((item, deleteItem) => html.dom(allStrings[0], item, () => deleteItem(item)));\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid black;\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"delete\" }] }] }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { arrayFunTag } from \"./arrayFun.tag\";\nimport { main } from \"./funInProps.tag\";\nexport const funInPropsChild = tag((arg0, mainProp, myFunction3) => (other = letState('other')(x => [other, other = x]), counter = letState(0)(x => [counter, counter = x]), renderCount = letState(0)(x => [renderCount, renderCount = x]), _ = ++renderCount, { addArrayItem, myFunction, deleteItem, child, array } = arg0) => html.dom(allStrings[0], mainProp.function.toCall ? 'taggjedjs-wrapped' : 'nowrap', mainProp.count, child.myChildFunction.toCall ? 'taggjedjs-wrapped' : 'nowrap', myFunction.toCall ? 'taggjedjs-wrapped' : 'nowrap', myFunction, child.myChildFunction, myFunction3, main.function, () => ++counter, array.length, array.map(item => arrayFunTag(item, deleteItem).key(item)), addArrayItem, counter, renderCountDiv({ renderCount, name: 'funInProps_tag_child' })));\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mainFunction:\" }] }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"childFunction:\" }] }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"myFunction:\" }] }, { \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop1\"], [\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++object argument\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop2\"], [\"onclick\", { \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++child.myChildFunction\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop3\"], [\"onclick\", { \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"+ +argument\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++main\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 8 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++me\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child array length: \" }, { \"nodeName\": \"text\", \"value\": 9 }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }, { \"nodeName\": \"text\", \"value\": 10 }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 11 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"addArrayItem\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter:\" }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"value\": 12 }] }] }, { \"nodeName\": \"text\", \"value\": 13 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nexport const addArrayComponent = tag((addArrayItem) => (renderCount = letState(0)(x => [renderCount, renderCount = x]), _ = ++renderCount, handleKeyUp = (e) => {\n    if (e.key === \"Enter\") {\n        const value = e.target.value.trim();\n        addArrayItem(value);\n        e.target.value = \"\";\n    }\n}) => html.dom(allStrings[0], handleKeyUp, e => { addArrayItem(e.target.value); e.target.value = ''; }, addArrayItem, renderCountDiv({ renderCount, name: 'addArrayComponent' })));\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"text\"], [\"onkeyup\", { \"tagJsVar\": 0 }], [\"onchange\", { \"tagJsVar\": 1 }]] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"add by outside\" }] }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { funInPropsChild } from \"./funInPropsChild.tag\";\nimport { addArrayComponent } from \"./addArrayComponent.tag\";\nexport const main = {\n    function: () => ++main.count,\n    count: 0,\n};\nexport default tag(() => (array = letState([])(x => [array, array = x]), counter = letState(0)(x => [counter, counter = x]), myFunction = () => ++counter, renderCount = letState(0)(x => [renderCount, renderCount = x]), showChild = letState(true)(x => [showChild, showChild = x]), somethingElse = letState('a')(x => [somethingElse, somethingElse = x]), _ = ++renderCount, addArrayItem = (x) => { array = array.map(x => x); array.push(typeof (x) === 'string' ? x : 'push' + array.length); }, deleteItem = (item) => array = array.filter(x => x !== item)) => html.dom(allStrings[0], myFunction, counter, renderCountDiv({ renderCount, name: 'funInProps_tag_parent' }), main.function.toCall ? 'taggjedjs-wrapped' : 'nowrap', main.count, () => showChild = !showChild, array.length, addArrayItem, showChild && funInPropsChild({\n    myFunction, array, addArrayItem, deleteItem,\n    child: { myChildFunction: myFunction }\n}, main, myFunction), addArrayComponent(addArrayItem)));\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun-parent-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++parent\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"fun_in_prop_display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" main:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"main_wrap_state\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"toggle-fun-in-child\"], [\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle child\" }] }, { \"nodeName\": \"text\", \"textContent\": \"array length: \" }, { \"nodeName\": \"text\", \"value\": 6 }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"reset add\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"value\": 8 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }, { \"nodeName\": \"text\", \"value\": 9 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { html } from \"taggedjs\";\nconst hasValidMin = (value, min) => {\n    return value.length >= min;\n};\nexport function Input({ onSubmit, placeholder, label, defaultValue, onBlur }) {\n    const handleBlur = () => {\n        if (onBlur)\n            onBlur();\n    };\n    const handleKeyChange = (e) => {\n        if (e.key === \"Enter\") {\n            const value = e.target.value.trim();\n            if (!hasValidMin(value, 2))\n                return;\n            onSubmit(value);\n            e.target.value = \"\";\n        }\n    };\n    return html.dom(allStrings[0], placeholder, defaultValue, handleBlur, handleKeyChange, label);\n}\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"input-container\"]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"new-todo\"], [\"id\", \"todo-input\"], [\"type\", \"text\"], [\"data-testid\", \"text-input\"], [\"placeholder\", { \"tagJsVar\": 0 }], [\"value\", { \"tagJsVar\": 1 }], [\"onblur\", { \"tagJsVar\": 2 }], [\"onkeyup\", { \"tagJsVar\": 3 }], [\"style\", \"width:100%\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"htmlfor\", \"todo-input\"], [\"style\", \"visibility:hidden\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 4 }] }] }]];\n","export const ADD_ITEM = \"ADD_ITEM\";\nexport const UPDATE_ITEM = \"UPDATE_ITEM\";\nexport const REMOVE_ITEM = \"REMOVE_ITEM\";\nexport const TOGGLE_ITEM = \"TOGGLE_ITEM\";\nexport const REMOVE_ALL_ITEMS = \"REMOVE_ALL_ITEMS\";\nexport const TOGGLE_ALL = \"TOGGLE_ALL\";\nexport const REMOVE_COMPLETED_ITEMS = \"REMOVE_COMPLETED_ITEMS\";\n","import { Input } from \"./input\";\nimport { ADD_ITEM } from \"../constants\";\nimport { html } from \"taggedjs\";\nexport function Header(dispatch) {\n    const addItem = (title) => dispatch({ type: ADD_ITEM, payload: { title } });\n    return html.dom(allStrings[0], Input({\n        onSubmit: addItem,\n        label: \"New Todo Input\",\n        placeholder: \"What needs to be done?\",\n    }), () => dispatch({ type: ADD_ITEM, payload: { title: 'New ' + Date.now() } }));\n}\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"header\", \"attributes\": [[\"class\", \"header\"], [\"data-testid\", \"header\"]], \"children\": [{ \"nodeName\": \"h1\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todos\" }] }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"add one\" }] }] }]];\n","import { TOGGLE_ITEM, REMOVE_ITEM, UPDATE_ITEM } from \"../constants\";\nimport { html, letState, state, tag } from \"taggedjs\";\nexport const Item = (todo, dispatch) => tag.state = (_ = state('item'), // helpful when debugging states\nediting = letState(false)(x => [editing, editing = x]), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    const { title, completed, id } = todo;\n    const toggleItem = () => dispatch({ type: TOGGLE_ITEM, payload: { id } });\n    const removeItem = () => dispatch({ type: REMOVE_ITEM, payload: { id } });\n    const updateItem = (id, title) => dispatch({ type: UPDATE_ITEM, payload: { id, title } });\n    const handleDoubleClick = () => {\n        editing = true;\n    };\n    const handleBlur = () => editing = false;\n    const handleUpdate = (title) => {\n        if (title.length === 0)\n            removeItem();\n        else\n            updateItem(id, title);\n        editing = false;\n    };\n    ++renderCount;\n    return html.dom(allStrings[0], todo.completed, editing ? 'true' : 'false', editing ? 'none' : 'block', completed, toggleItem, handleDoubleClick, title, removeItem, editing ? 'block' : 'none', title, handleBlur, e => handleKeyUp(e, handleUpdate), () => editing = !editing, renderCount);\n};\nexport const hasValidMin = (value, min) => {\n    return value.length >= min;\n};\nexport const handleKeyUp = (e, onSubmit) => {\n    if (e.key === \"Enter\") {\n        const value = e.target.value.trim();\n        if (!hasValidMin(value, 2))\n            return;\n        onSubmit(value);\n        e.target.value = \"\";\n    }\n};\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"li\", \"attributes\": [[\"class.completed\", { \"tagJsVar\": 0 }], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"view\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"editing:\" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"div\", \"attributes\": [[\"style.display\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"toggle\"], [\"type\", \"checkbox\"], [\"data-testid\", \"todo-item-toggle\"], [\"checked\", { \"tagJsVar\": 3 }], [\"onchange\", { \"tagJsVar\": 4 }]] }, { \"nodeName\": \"label\", \"attributes\": [[\"data-testid\", \"todo-item-label\"], [\"ondblclick\", { \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 6 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"class\", \"destroy\"], [\"data-testid\", \"todo-item-button\"], [\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"x\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style.display\", { \"tagJsVar\": 8 }]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"new-todo\"], [\"id\", \"todo-input\"], [\"type\", \"text\"], [\"data-testid\", \"text-input\"], [\"autofocus\", null], [\"value\", { \"tagJsVar\": 9 }], [\"onblur\", { \"tagJsVar\": 10 }], [\"onkeyup\", { \"tagJsVar\": 11 }]] }, { \"nodeName\": \"label\", \"attributes\": [[\"class\", \"visually-hidden\"], [\"htmlfor\", \"todo-input\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Edit Todo Input\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"class\", \"destroy\"], [\"onclick\", { \"tagJsVar\": 12 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"edit\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"item render count: \" }, { \"nodeName\": \"text\", \"value\": 13 }] }]];\n","import { Item } from \"./item\";\nimport { TOGGLE_ALL } from \"../constants\";\nimport { html, letState, state, tag, watch } from \"taggedjs\";\nexport const Main = ({ todos, dispatch }) => tag.state = (_ = state('main.ts'), renderCount = letState(0)(x => [renderCount, renderCount = x]), mode = letState('all')(x => [mode, mode = x])) => {\n    const toggleAll = (e) => dispatch({ type: TOGGLE_ALL, payload: { completed: e.target.checked } });\n    ++renderCount;\n    const visibleTodos = watch([todos, mode], () => {\n        return todos.filter(todo => {\n            if (mode === \"/active\")\n                return !todo.completed;\n            if (mode === \"/completed\")\n                return todo.completed;\n            return todo;\n        });\n    });\n    return html.dom(allStrings[0], renderCount, visibleTodos.length, todos.length, visibleTodos.length > 0 && html.dom(allStrings[1], visibleTodos.every((todo) => todo.completed), toggleAll), visibleTodos.map(todo => tag.key(todo.id).html = Item(todo, dispatch)), () => mode = 'all', () => mode = '/active', () => mode = '/completed');\n};\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"main\", \"attributes\": [[\"class\", \"main\"], [\"data-testid\", \"main\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"main renderCount: \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \" array:\" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"text\", \"textContent\": \" of \" }, { \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"text\", \"textContent\": \"\\n      \" }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"ul\", \"attributes\": [[\"class\", \"todo-list\"], [\"data-testid\", \"todo-list\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"style.font-weight\", \"mode = 'all'\"], [\"onclick\", { \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"all\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"style.font-weight\", \"mode = '/active'\"], [\"onclick\", { \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"active\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"style.font-weight\", \"mode = '/completed'\"], [\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"completed\" }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"toggle-all-container\"]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"toggle-all\"], [\"type\", \"checkbox\"], [\"data-testid\", \"toggle-all\"], [\"checked\", { \"tagJsVar\": 0 }], [\"onchange\", { \"tagJsVar\": 1 }]] }, { \"nodeName\": \"label\", \"attributes\": [[\"class\", \"toggle-all-label\"], [\"htmlfor\", \"toggle-all\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Toggle All Input\" }] }] }]];\n","const classnames = (x) => '';\nimport { REMOVE_COMPLETED_ITEMS } from \"../constants\";\nimport { html, state, tag } from \"taggedjs\";\nconst route = ''; // TODO\n// const { pathname: route } = useLocation();\n// prettier-ignore\n// TODO: we should be able to do null here instead of html.dom(allStrings[0])\nexport const Footer = (todos, dispatch) => tag.state = (_ = state('footer.ts'), activeTodos = todos.filter((todo) => !todo.completed), removeCompleted = () => dispatch({ type: REMOVE_COMPLETED_ITEMS })) => todos.length === 0 ? null : html.dom(allStrings[1], activeTodos.length, todos.length, activeTodos.length === 1 ? \"item\" : \"items\", activeTodos.length === todos.length, removeCompleted);\n// @ts-ignore\nconst allStrings = [[], [{ \"nodeName\": \"footer\", \"attributes\": [[\"class\", \"footer\"], [\"data-testid\", \"footer\"]], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"class\", \"todo-count\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \" of \" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"text\", \"textContent\": \" left!\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"class\", \"clear-completed\"], [\"disabled\", { \"tagJsVar\": 3 }], [\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Clear completed\" }] }] }]];\n","import { ADD_ITEM, UPDATE_ITEM, REMOVE_ITEM, TOGGLE_ITEM, REMOVE_ALL_ITEMS, TOGGLE_ALL, REMOVE_COMPLETED_ITEMS } from \"./constants\";\n/* Borrowed from https://github.com/ai/nanoid/blob/3.0.2/non-secure/index.js\n\nThe MIT License (MIT)\n\nCopyright 2017 Andrey Sitnik <andrey@sitnik.ru>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. */\n// This alphabet uses `A-Za-z0-9_-` symbols.\n// The order of characters is optimized for better gzip and brotli compression.\n// References to the same file (works both for gzip and brotli):\n// `'use`, `andom`, and `rict'`\n// References to the brotli default dictionary:\n// `-26T`, `1983`, `40px`, `75px`, `bush`, `jack`, `mind`, `very`, and `wolf`\nlet urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nfunction nanoid(size = 21) {\n    let id = \"\";\n    // A compact alternative for `for (var i = 0; i < step; i++)`.\n    let i = size;\n    while (i--) {\n        // `| 0` is more compact and faster than `Math.floor()`.\n        id += urlAlphabet[(Math.random() * 64) | 0];\n    }\n    return id;\n}\nexport const todoReducer = (state, action) => {\n    switch (action.type) {\n        case ADD_ITEM:\n            return state.concat({ id: nanoid(), title: action.payload.title, completed: false });\n        case UPDATE_ITEM:\n            return state.map((todo) => (todo.id === action.payload.id ? { ...todo, title: action.payload.title } : todo));\n        case REMOVE_ITEM:\n            const newState = state.filter((todo) => todo.id !== action.payload.id);\n            return newState;\n        case TOGGLE_ITEM:\n            return state.map((todo) => (todo.id === action.payload.id ? { ...todo, completed: !todo.completed } : todo));\n        case REMOVE_ALL_ITEMS:\n            return [];\n        case TOGGLE_ALL:\n            return state.map((todo) => (todo.completed !== action.payload.completed ? { ...todo, completed: action.payload.completed } : todo));\n        case REMOVE_COMPLETED_ITEMS:\n            return state.filter((todo) => !todo.completed);\n    }\n    throw Error(`Unknown action: ${action.type}`);\n};\n","import { Header } from \"./components/header\";\nimport { Main } from \"./components/main\";\nimport { Footer } from \"./components/footer\";\nimport { todoReducer } from \"./reducer\";\nimport { letState, html, tag, state } from \"taggedjs\";\nlet renderCount = 0;\nexport const App = () => tag.state = (_ = state('todos.app.ts'), \n// myCount = renderCount,\ntodos = letState([])(x => {\n    // console.log('get in', myCount)\n    return [todos, todos = x];\n}), dispatch = (payload) => {\n    // const wasLen = todos.length\n    todos = todoReducer(todos, payload);\n    /*\n    if(todos.length === 0 && wasLen) {\n      console.log(' ------ cleared -----', myCount)\n    }\n    */\n    return todos;\n}) => html.dom(allStrings[0], Header(dispatch), todos.length > 0 && html.dom(allStrings[1], Main({ todos, dispatch }), Footer(todos, dispatch)), ++renderCount);\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- TODO APP -->todo app\\n  \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n  app renderCount: \" }, { \"nodeName\": \"text\", \"value\": 2 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n    \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }, { \"nodeName\": \"text\", \"value\": 1 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }]];\n","import { html, letState, state, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nexport default (propCounter, child) => tag.state = (_ = state('statePropDebug.tag.ts'), // something to be seen in console\nedit = letState(false)(x => [edit, edit = x]), renderCount = letState(0)(x => [renderCount, renderCount = x]), __ = ++renderCount) => html.dom(allStrings[0], propCounter, () => edit = !edit, edit, child, renderCountDiv({ renderCount, name: 'statePropDebug-tag' }));\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"\\n  propCounter:\" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"edit \" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"textContent\": \"child: \" }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }, { \"nodeName\": \"text\", \"value\": 4 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { watch, letState, html, tag, letProp, state } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nimport statePropDebugTag from \"./statePropDebug.tag.js\";\nexport const propsDebugMain = tag((_ = 'propsDebugMain') => (syncPropNumber = letState(0)(x => [syncPropNumber, syncPropNumber = x]), propNumber = letState(0)(x => [propNumber, propNumber = x]), renderCount = letState(0)(x => [renderCount, renderCount = x]), propsJson = letState({ test: 33, x: 'y' })(x => [propsJson, propsJson = x]), date = letState(() => new Date())(x => [date, date = x]), json = JSON.stringify(propsJson, null, 2), statePropDisplay = letState(true)(x => [statePropDisplay, statePropDisplay = x])) => html.dom(allStrings[0], event => propsJson = JSON.parse(event.target.value), json, json, ++renderCount, () => ++propNumber, propNumber, propNumber, propsDebug({\n    propNumber,\n    propsJson,\n    propNumberChange: x => {\n        propNumber = x;\n    }\n}), syncPropNumber, () => ++syncPropNumber, renderCountDiv({ renderCount, name: 'sync_props_callback' }), syncPropDebug({\n    syncPropNumber,\n    propNumberChange: x => syncPropNumber = x,\n    parentTest: x => x, // causes no change, however the tag did ++counter to itself which should render\n}), statePropDisplay && statePropDebugTag(propNumber, html.dom(allStrings[1])), () => statePropDisplay = !statePropDisplay, date, timestampToValues(date).date, event => {\n    const newDateString = event.target.value;\n    date = new Date(newDateString);\n}, propDateDebug({ date })));\nconst propDateDebug = tag(({ date }) => html.dom(allStrings[2], date));\n/** Tests calling a property that is a function immediately which should cause rendering */\nconst syncPropDebug = tag(({ syncPropNumber, propNumberChange, parentTest, }) => (_ = state('syncPropDebug'), // something to see in console\ncounter = letState(0)(x => [counter, counter = x]), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    if (syncPropNumber % 2 === 1) {\n        propNumberChange(syncPropNumber = syncPropNumber + 1);\n    }\n    return html.dom(allStrings[3], syncPropNumber, () => propNumberChange(++syncPropNumber), counter, parentTest(counter), () => {\n        parentTest(++counter);\n    }, renderCountDiv({ renderCount, name: 'child_sync_props_callback' }));\n});\nconst propsDebug = tag(({ propNumber, propsJson, propNumberChange, }) => (_ = state('propsDebug'), // something to see in console\nrenderCount = letState(0)(x => [renderCount, renderCount = x]), propNumberChangeCount = letState(0)(x => [propNumberChangeCount, propNumberChangeCount = x]), \n// poor way to update an argument\nmyPropNumber = letState(propNumber)(x => [myPropNumber, myPropNumber = x]), __ = watch([propNumber], () => myPropNumber = propNumber), watchResults = watch([myPropNumber], () => ++propNumberChangeCount), \n// simple way to locally only update an argument\n___ = letProp(propNumber)(x => [propNumber, propNumber = x])) => html.dom(allStrings[4], event => {\n    const value = JSON.parse(event.target.value);\n    Object.assign(propsJson, value);\n}, JSON.stringify(propsJson, null, 2), JSON.stringify(propsJson, null, 2), JSON.stringify(watchResults, null, 2), () => propNumberChange(++myPropNumber), myPropNumber, myPropNumber, () => ++propNumber, propNumber, propNumber, () => ++renderCount, ++renderCount, () => ++myPropNumber, myPropNumber, propNumberChangeCount, propFnUpdateTest({\n    propNumber: myPropNumber,\n    callback: () => ++myPropNumber\n})));\nconst propFnUpdateTest = tag(({ propNumber, callback, }) => (_ = state('propFnUpdateTest'), // something to see in console\nrenderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    return html.dom(allStrings[5], callback, propNumber, propNumber, renderCountDiv({ renderCount, name: 'propFnUpdateTest' }));\n});\nfunction timestampToValues(timestamp) {\n    const date = new Date(timestamp);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    return {\n        date: `${year}-${month}-${day}`,\n        time: `${hours}:${minutes}`\n    };\n}\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap\"], [\"id\", \"textareawrap\"]], \"children\": [{ \"nodeName\": \"textarea\", \"attributes\": [[\"id\", \"props-debug-textarea\"], [\"wrap\", \"off\"], [\"onchange\", { \"tagJsVar\": 0 }], [\"style\", \"height:200px;font-size:0.6em;width:100%;max-width:400px\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"pre\", \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(renderCount:\" }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug--0-button\"], [\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" propNumber \" }, { \"nodeName\": \"text\", \"value\": 5 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 6 }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child\" }] }, { \"nodeName\": \"text\", \"value\": 7 }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"sync props callback\" }] }, { \"nodeName\": \"text\", \"textContent\": \" syncPropNumber: \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-number-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 8 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 9 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++\" }] }, { \"nodeName\": \"text\", \"value\": 10 }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"value\": 11 }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"state prop\" }] }, { \"nodeName\": \"text\", \"value\": 12 }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 13 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hide/show\" }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"date prop\" }] }, { \"nodeName\": \"text\", \"textContent\": \"date:\" }, { \"nodeName\": \"text\", \"value\": 14 }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"date\"], [\"value\", { \"tagJsVar\": 15 }], [\"onchange\", { \"tagJsVar\": 16 }]] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"value\": 17 }] }], [{ \"nodeName\": \"text\", \"textContent\": \"child innerHtml \" }], [{ \"nodeName\": \"text\", \"textContent\": \"date:\" }, { \"nodeName\": \"text\", \"value\": 0 }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--syncPropDebug html-->\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" child syncPropNumber:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-child-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"sync-prop-child-button\"], [\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }] }, { \"nodeName\": \"text\", \"textContent\": \"parentTest\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"nothing-prop-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"nothing-prop-counter-button\"], [\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++\" }] }] }, { \"nodeName\": \"text\", \"value\": 5 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--propsDebug.js-->\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Json\" }] }, { \"nodeName\": \"textarea\", \"attributes\": [[\"style\", \"font-size:0.6em;height:200px;width:100%;;max-width:400px\"], [\"wrap\", \"off\"], [\"onchange\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"pre\", \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--<div style=\\\"display:flex;flex-wrap:wrap\\\"></div>-->\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Number\" }] }, { \"nodeName\": \"textarea\", \"attributes\": [[\"style\", \"font-size:0.6em;height:200px;width:100%;color:white;\"], [\"wrap\", \"off\"], [\"disabled\", null]], \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug--1-button\"], [\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"  propNumber \" }, { \"nodeName\": \"text\", \"value\": 5 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 6 }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug--2-button\"], [\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"  local set propNumber \" }, { \"nodeName\": \"text\", \"value\": 8 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug--2-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 9 }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"title\", \"test of increasing render count and nothing else\"], [\"onclick\", { \"tagJsVar\": 10 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount \" }, { \"nodeName\": \"text\", \"value\": 11 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 12 }], [\"title\", \"only changes number locally but if change by parent than that is the number\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"  local set myPropNumber \" }, { \"nodeName\": \"text\", \"value\": 13 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(propNumberChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug--change-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 14 }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Fn update test\" }] }, { \"nodeName\": \"text\", \"value\": 15 }, { \"nodeName\": \"text\", \"textContent\": \"    \\n\" }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsOneLevelFunUpdate--button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"  local & 1-parent increase \" }, { \"nodeName\": \"text\", \"value\": 1 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsOneLevelFunUpdate--display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"value\": 3 }, { \"nodeName\": \"small\", \"attributes\": [[\"style\", \"opacity:.5\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"the count here and within parent increases but not in parent parent\" }] }]];\n","import { letState } from './letState.function.js';\nimport { watch } from './watch.function.js';\n/**\n * Enables the ability to maintain a change to a props value until the prop itself changes\n * @param prop typically the name of an existing prop\n * @returns immediately call the returned function: letProp(y)(x => [y, y=x])\n */\nexport function letProp(prop) {\n    return getSetProp => {\n        let myProp = letState(prop)(getSetProp);\n        watch([prop], () => getSetProp(myProp = prop));\n        getSetProp(myProp); // always reset to my value and right await so that the old prop value never slips through\n        return myProp;\n    };\n}\n//# sourceMappingURL=letProp.function.js.map","import { renderCountDiv } from './renderCount.component.js';\nimport { html, letState, tag } from 'taggedjs';\nexport const arrayScoreData = tag(({ score, playerIndex }) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[0], score.frame, `score-data-${playerIndex}-${score.frame}-inside-button`, () => ++score.score, score.score, `score-data-${playerIndex}-${score.frame}-inside-display`, score.score, () => ++renderCount, renderCountDiv({ renderCount, name: 'scoreData' + score.frame }));\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"\\n    frame:\" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", { \"tagJsVar\": 1 }], [\"onclick\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"inner score button ++\" }, { \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 5 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase renderCount\" }] }, { \"nodeName\": \"text\", \"value\": 7 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }]];\n","import { fadeInDown, fadeOutUp } from './animations.js';\nimport { renderCountDiv } from './renderCount.component.js';\nimport { arrayScoreData } from './arrayScoreData.tag.js';\nimport { html, state, letState, tag } from 'taggedjs';\nconst frameCount = 4;\nexport const arrayTests = tag(() => (players = state([]), renderCount = letState(0)(x => [renderCount, renderCount = x]), counter = letState(0)(x => [counter, counter = x])) => {\n    const getNewPlayer = () => ({\n        name: 'Person ' + players.length,\n        scores: '0,'.repeat(/*frameCount*/ 0).split(',').map((_v, index) => ({\n            frame: index + 1,\n            score: Math.floor(Math.random() * 4) + 1\n        }))\n    });\n    ++renderCount;\n    return html.dom(allStrings[0], ['a', 'b', 'c'].map(x => html.dom(allStrings[1], counter, x)), () => ++counter, counter, playersDisplay({ players, getNewPlayer }), () => {\n        players.push(getNewPlayer());\n    }, players.length + 1, () => {\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n    }, () => {\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n    }, players.length > 0 && html.dom(allStrings[2], fadeInDown, fadeOutUp, () => players.length = 0), renderCountDiv({ renderCount, name: 'arrayTests.ts' }));\n});\nconst playersDisplay = tag(({ players, getNewPlayer, }) => {\n    const playersContent = players.map((player, index) => html.dom(allStrings[3], fadeInDown, fadeOutUp, player.name, index, player.scores.map((score, playerIndex) => {\n        return html.dom(allStrings[4], fadeInDown, fadeOutUp, `score-data-${playerIndex}-${score.frame}-outside-button`, () => ++score.score, score.score, `score-data-${playerIndex}-${score.frame}-outside-display`, score.score, arrayScoreData({ score, playerIndex })).key(score);\n    }), player.edit && html.dom(allStrings[5], () => {\n        players.splice(index, 1);\n        player.edit = !player.edit;\n    }), player.edit && html.dom(allStrings[6], 'player-remove-promise-btn-' + index, async () => {\n        player.edit = !player.edit;\n        players.splice(index, 1);\n    }), 'player-edit-btn-' + index, () => player.edit = !player.edit, () => {\n        players.splice(index, 0, getNewPlayer());\n    }).key(player));\n    return html.dom(allStrings[7], playersContent);\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--arrayTests.js-->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"static array test\" }] }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++counter \" }, { \"nodeName\": \"text\", \"value\": 2 }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"array-test-push-item\"], [\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push item \" }, { \"nodeName\": \"text\", \"value\": 5 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 6 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push 3 items\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push 9 items\" }] }, { \"nodeName\": \"text\", \"value\": 8 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    \" }, { \"nodeName\": \"text\", \"value\": 9 }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"html \" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \" content test \" }, { \"nodeName\": \"text\", \"value\": 1 }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"oninit\", { \"tagJsVar\": 0 }], [\"ondestroy\", { \"tagJsVar\": 1 }], [\"style\", \"--animate-duration: .1s;\"], [\"onclick\", { \"tagJsVar\": 2 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove all\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", { \"tagJsVar\": 0 }], [\"ondestroy\", { \"tagJsVar\": 1 }], [\"style\", \"background-color:black;--animate-duration: .1s;\"]], \"children\": [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"name:\" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"index:\" }, { \"nodeName\": \"text\", \"value\": 3 }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"background-color:purple;padding:.5em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"scores:\\n        \" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"text\", \"value\": 5 }, { \"nodeName\": \"text\", \"textContent\": \"\\n      \" }, { \"nodeName\": \"text\", \"value\": 6 }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", { \"tagJsVar\": 7 }], [\"onclick\", { \"tagJsVar\": 8 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"edit\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 9 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"add before\" }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid white;--animate-duration: .1s;\"], [\"oninit\", { \"tagJsVar\": 0 }], [\"ondestroy\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", { \"tagJsVar\": 2 }], [\"onclick\", { \"tagJsVar\": 3 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"outer score button ++\" }, { \"nodeName\": \"text\", \"value\": 4 }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", { \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"value\": 6 }] }] }, { \"nodeName\": \"text\", \"value\": 7 }] }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove\" }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", { \"tagJsVar\": 0 }], [\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove by promise\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!-- playersLoop.js -->\" }, { \"nodeName\": \"text\", \"value\": 0 }, { \"nodeName\": \"text\", \"textContent\": \"<!-- end:playersLoop.js -->\" }]];\n","import { attributeDebug } from \"./attributeDebug.component\";\nimport { contentDebug } from \"./ContentDebug.component\";\nimport { tableDebug } from \"./tableDebug.component\";\nimport { html, tag, letState, onInit, state, Subject, callbackMaker, onDestroy } from \"taggedjs\";\nimport { tagDebug } from \"./tagJsDebug\";\nimport { tagSwitchDebug } from \"./tagSwitchDebug.component\";\nimport { mirroring } from \"./mirroring.tag\";\nimport { childTests } from \"./childTests\";\nimport { runTests } from \"./tests\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { counters } from \"./countersDebug\";\nimport { providerDebugBase } from \"./providerDebug\";\nimport { watchTesting } from \"./watchTesting.tag\";\nimport { oneRender } from \"./oneRender.tag\";\nimport funInPropsTag from \"./funInProps.tag\";\nimport { App as todo } from \"./todo/todos.app\";\nimport { propsDebugMain } from \"./PropsDebug.tag\";\nimport { arrayTests } from \"./arrayTests\";\nexport const App = tag(() => {\n    let _firstState = letState('app first state')(x => [_firstState, _firstState = x]);\n    let toggleValue = letState(false)(x => [toggleValue, toggleValue = x]);\n    let appCounter = letState(0)(x => [appCounter, appCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let testTimeout = letState(null)(x => [testTimeout, testTimeout = x]);\n    const toggle = () => {\n        toggleValue = !toggleValue;\n    };\n    // if I am destroyed before my test runs, prevent test from running\n    onDestroy(() => {\n        clearTimeout(testTimeout);\n        testTimeout = null;\n    });\n    function runTesting(manual = true) {\n        const waitFor = 2000;\n        testTimeout = setTimeout(async () => {\n            console.debug(' Running tests...');\n            const result = await runTests();\n            if (!manual) {\n                return;\n            }\n            if (result) {\n                alert(' all app tests passed');\n                return;\n            }\n            alert(' tests failed. See console for more details');\n        }, waitFor); // cause delay to be separate from renders\n    }\n    ++renderCount;\n    const callbacks = callbackMaker();\n    const appCounterSubject = state(() => new Subject(appCounter));\n    onInit(() => {\n        console.info('1 app init should only run once');\n        runTesting(false);\n        appCounterSubject.subscribe(callbacks(y => appCounter = y));\n    });\n    const content = html.dom(allStrings[0], 2 + 2, toggle, toggleValue, runTesting, () => appCounterSubject.next(appCounter + 1), appCounter, renderCountDiv({ name: 'app', renderCount }), counters({ appCounterSubject }), watchTesting(), providerDebugBase(undefined), propsDebugMain(), childTests(undefined), attributeDebug(), contentDebug(), tagSwitchDebug(undefined), arrayTests(), mirroring(), tableDebug(), oneRender(), funInPropsTag(), todo(), tagDebug());\n    return content;\n});\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--app.js-->\" }, { \"nodeName\": \"h1\", \"attributes\": [[\"id\", \"h1-app\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" TaggedJs - \" }, { \"nodeName\": \"text\", \"value\": 0 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"toggle-test\"], [\"onclick\", { \"tagJsVar\": 1 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle test \" }, { \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 3 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"run test\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"app-counter-subject-button\"], [\"onclick\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++app subject\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 5 }] }] }] }, { \"nodeName\": \"text\", \"value\": 6 }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagDebug-fx-wrap\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"counters\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counters\" }] }, { \"nodeName\": \"text\", \"value\": 7 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"counters\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" watch testing\" }] }, { \"nodeName\": \"text\", \"value\": 8 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"provider-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Provider Debug\" }] }, { \"nodeName\": \"text\", \"value\": 9 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"props-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Debug\" }] }, { \"nodeName\": \"text\", \"value\": 10 }] }, { \"nodeName\": \"text\", \"value\": 11 }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Attribute Tests\" }] }, { \"nodeName\": \"text\", \"value\": 12 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"content-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Content Debug\" }] }, { \"nodeName\": \"text\", \"value\": 13 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Tag Switching\" }] }, { \"nodeName\": \"text\", \"value\": 14 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"arrays\" }] }, { \"nodeName\": \"text\", \"value\": 15 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Tag Mirroring\" }] }, { \"nodeName\": \"text\", \"value\": 16 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Table Tests\" }] }, { \"nodeName\": \"text\", \"value\": 17 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"oneRender\" }] }, { \"nodeName\": \"text\", \"value\": 18 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"functions in props\" }] }, { \"nodeName\": \"text\", \"value\": 19 }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todo\" }] }, { \"nodeName\": \"text\", \"value\": 20 }] }] }, { \"nodeName\": \"text\", \"value\": 21 }] }]];\n","import { execute } from \"./expect\";\nexport async function runTests() {\n    await import('./start.test');\n    await import('./basic.test');\n    await import('./content.test');\n    await import('./counters.test');\n    await import('./props.test');\n    await import('./providers.test');\n    await import('./tagSwitch.test');\n    await import('./child.test');\n    await import('./array.test');\n    await import('./mirror.test');\n    await import('./watch.test');\n    await import('./oneRender.test');\n    await import('./funInProps.test');\n    await import('./todos.test');\n    await import('./last.test');\n    try {\n        const start = Date.now(); //performance.now()\n        await execute();\n        const time = Date.now() - start; // performance.now() - start\n        console.info(` all tests passed in ${time}ms`);\n        return true;\n    }\n    catch (error) {\n        console.error(' tests failed: ' + error.message, error);\n        return false;\n    }\n}\n","import { childTests } from \"./childTests\";\nimport { Subject, callbackMaker, html, onInit, letState, tag, state } from \"taggedjs\";\nimport { arrayTests } from \"./arrayTests\";\nimport { tagSwitchDebug } from \"./tagSwitchDebug.component\";\nimport { mirroring } from \"./mirroring.tag\";\nimport { propsDebugMain } from \"./PropsDebug.tag\";\nimport { providerDebugBase } from \"./providerDebug\";\nimport { counters } from \"./countersDebug\";\nimport { tableDebug } from \"./tableDebug.component\";\nimport { contentDebug } from \"./ContentDebug.component\";\nimport { watchTesting } from \"./watchTesting.tag\";\nimport { oneRender } from \"./oneRender.tag\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport funInPropsTag from \"./funInProps.tag\";\nimport { App as todo } from \"./todo/todos.app\";\nimport { runTests } from \"./isolatedApp.test\";\nexport var ViewTypes;\n(function (ViewTypes) {\n    ViewTypes[\"Todo\"] = \"todo\";\n    ViewTypes[\"FunInPropsTag\"] = \"funInPropsTag\";\n    ViewTypes[\"OneRender\"] = \"oneRender\";\n    ViewTypes[\"WatchTesting\"] = \"watchTesting\";\n    ViewTypes[\"Mirroring\"] = \"mirroring\";\n    ViewTypes[\"Content\"] = \"content\";\n    ViewTypes[\"Arrays\"] = \"arrays\";\n    ViewTypes[\"Counters\"] = \"counters\";\n    ViewTypes[\"TableDebug\"] = \"tableDebug\";\n    ViewTypes[\"Props\"] = \"props\";\n    ViewTypes[\"Child\"] = \"child\";\n    ViewTypes[\"TagSwitchDebug\"] = \"tagSwitchDebug\";\n    ViewTypes[\"ProviderDebug\"] = \"providerDebug\";\n})(ViewTypes || (ViewTypes = {}));\nconst viewTypes = Object.values(ViewTypes);\nconst storage = getScopedStorage();\nfunction getScopedStorage() {\n    const string = localStorage.taggedjs || JSON.stringify({ autoTest: true, views: [] });\n    return JSON.parse(string);\n}\nfunction saveScopedStorage() {\n    localStorage.taggedjs = JSON.stringify(storage);\n}\nexport default () => tag.state = (_ = state('isolated app state'), renderCount = letState(0)(x => [renderCount, renderCount = x]), appCounter = letState(0)(x => [appCounter, appCounter = x]), testTimeout = letState(null)(x => [testTimeout, testTimeout = x]), appCounterSubject = state(() => new Subject(appCounter)), callback = callbackMaker()) => {\n    function runTesting(manual = true) {\n        const waitFor = 2000;\n        testTimeout = setTimeout(async () => {\n            console.debug(' Running tests...');\n            const result = await runTests(storage.views);\n            if (!manual) {\n                return;\n            }\n            if (result) {\n                alert(' all app tests passed');\n                return;\n            }\n            alert(' tests failed. See console for more details');\n        }, waitFor); // cause delay to be separate from renders\n    }\n    onInit(() => {\n        console.info('1 app init should only run once');\n        appCounterSubject.subscribe(callback(x => {\n            appCounter = x;\n        }));\n        // appCounterSubject.subscribe(cb)\n        if (storage.autoTest) {\n            runTesting(false);\n        }\n    });\n    function activate(type, checkTesting = true) {\n        storage.views.push(type);\n        if (checkTesting && storage.autoTest) {\n            runTesting();\n        }\n    }\n    function deactivate(type) {\n        (storage.views = storage.views.filter(x => x !== type));\n    }\n    function toggleViewType(type, checkTesting = true) {\n        if (storage.views.includes(type)) {\n            deactivate(type);\n        }\n        else {\n            activate(type, checkTesting);\n        }\n        saveScopedStorage();\n    }\n    function toggleAutoTesting() {\n        storage.autoTest = storage.autoTest = !storage.autoTest;\n        saveScopedStorage();\n    }\n    ++renderCount;\n    return html.dom(allStrings[0], () => {\n        appCounterSubject.next(appCounter + 1);\n    }, appCounter, appCounterSubject, storage.autoTest ? 'checked' : null, toggleAutoTesting, () => runTesting(true), viewTypes.map(type => html.dom(allStrings[1], 'view-type-' + type, 'view-type-' + type, storage.views.includes(type) && 'checked', () => toggleViewType(type), 'view-type-' + type, type).key(type)), () => viewTypes.forEach(viewType => {\n        activate(viewType, false);\n        saveScopedStorage();\n    }), () => viewTypes.forEach(viewType => {\n        deactivate(viewType);\n        saveScopedStorage();\n    }), storage.views.includes(ViewTypes.OneRender) && html.dom(allStrings[2], oneRender()), storage.views.includes(ViewTypes.Props) && html.dom(allStrings[3], propsDebugMain()), storage.views.includes(ViewTypes.WatchTesting) && html.dom(allStrings[4], watchTesting()), storage.views.includes(ViewTypes.TableDebug) && html.dom(allStrings[5], tableDebug()), storage.views.includes(ViewTypes.ProviderDebug) && html.dom(allStrings[6], providerDebugBase(undefined)), storage.views.includes(ViewTypes.TagSwitchDebug) && html.dom(allStrings[7], tagSwitchDebug(undefined)), storage.views.includes(ViewTypes.Mirroring) && html.dom(allStrings[8], mirroring()), storage.views.includes(ViewTypes.Arrays) && html.dom(allStrings[9], arrayTests()), storage.views.includes(ViewTypes.Counters) && html.dom(allStrings[10], counters({ appCounterSubject })), storage.views.includes(ViewTypes.Content) && html.dom(allStrings[11], contentDebug()), storage.views.includes(ViewTypes.Child) && html.dom(allStrings[12], childTests(undefined)), storage.views.includes(ViewTypes.FunInPropsTag) && html.dom(allStrings[13], funInPropsTag()), storage.views.includes(ViewTypes.Todo) && html.dom(allStrings[14], todo()), /*\n    <textarea style=\"font-size:0.6em;min-width:50vw;height:400px\">${ template.string }</textarea>\n    <textarea style=\"font-size:0.6em;min-width:50vw;height:400px\">${ JSON.stringify(template, null, 2) }</textarea>\n    */ false, renderCountDiv({ renderCount, name: 'isolatedApp' }));\n};\n// @ts-ignore\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--isolatedApp.js-->\" }, { \"nodeName\": \"h1\", \"attributes\": [[\"id\", \"app\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" TaggedJs - isolated\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"app-counter-subject-button\"], [\"onclick\", { \"tagJsVar\": 0 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++app subject\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 1 }] }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&lt;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 2 }] }, { \"nodeName\": \"text\", \"textContent\": \"&gt;\" }] }, { \"nodeName\": \"text\", \"textContent\": \"auto testing \" }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [{ \"tagJsVar\": 3 }], [\"onchange\", { \"tagJsVar\": 4 }]] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", { \"tagJsVar\": 5 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"run tests\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Sections\" }] }, { \"nodeName\": \"text\", \"textContent\": \"<!-- checkbox menu -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;gap:1em;flex-wrap:wrap;margin:1em;\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 6 }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"label\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 7 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;all\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"label\", \"attributes\": [[\"onclick\", { \"tagJsVar\": 8 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;none\" }] }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagDebug-fx-wrap\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"value\": 9 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 10 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 11 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 12 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 13 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 14 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 15 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 16 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 17 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 18 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 19 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 20 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 21 }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"value\": 22 }] }, { \"nodeName\": \"text\", \"value\": 23 }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [\"id\", { \"tagJsVar\": 0 }], [\"name\", { \"tagJsVar\": 1 }], [{ \"tagJsVar\": 2 }], [\"onclick\", { \"tagJsVar\": 3 }]] }, { \"nodeName\": \"label\", \"attributes\": [[\"for\", { \"tagJsVar\": 4 }]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;\" }, { \"nodeName\": \"text\", \"value\": 5 }] }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"oneRender\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"propsDebugMain\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTesting\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tableDebug\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"providerDebugBase\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tagSwitchDebug\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mirroring\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"arrays\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counters\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"content\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Children Tests\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"funInPropsTag\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todo\" }] }, { \"nodeName\": \"text\", \"value\": 0 }] }]];\n","import { execute } from \"./expect\";\nimport { ViewTypes } from \"./isolatedApp\";\nexport async function runTests(views) {\n    await import('./start.test');\n    if (views.includes(ViewTypes.Content)) {\n        await import('./content.test');\n    }\n    if (views.includes(ViewTypes.Counters)) {\n        await import('./counters.test');\n    }\n    if (views.includes(ViewTypes.Props)) {\n        await import('./props.test');\n    }\n    if (views.includes(ViewTypes.ProviderDebug)) {\n        await import('./providers.test');\n    }\n    if (views.includes(ViewTypes.TagSwitchDebug)) {\n        await import('./tagSwitch.test');\n    }\n    if (views.includes(ViewTypes.Child)) {\n        await import('./child.test');\n    }\n    if (views.includes(ViewTypes.Arrays)) {\n        await import('./array.test');\n    }\n    if (views.includes(ViewTypes.Mirroring)) {\n        await import('./mirror.test');\n    }\n    if (views.includes(ViewTypes.WatchTesting)) {\n        await import('./watch.test');\n    }\n    if (views.includes(ViewTypes.FunInPropsTag)) {\n        await import('./funInProps.test');\n    }\n    if (views.includes(ViewTypes.OneRender)) {\n        await import('./oneRender.test');\n    }\n    if (views.includes(ViewTypes.Todo)) {\n        await import('./todos.test');\n    }\n    await import('./last.test');\n    try {\n        const start = Date.now(); //performance.now()\n        await execute();\n        const time = Date.now() - start; // performance.now() - start\n        console.info(` isolated tests passed in ${time}ms`);\n        return true;\n    }\n    catch (error) {\n        console.error(' isolated tests failed: ' + error.message, error);\n        return false;\n    }\n}\n","import { tagElement } from \"taggedjs\";\nimport { App } from \"./app.tag\";\nimport IsolatedApp from \"./isolatedApp\";\nexport const app = () => {\n    console.info('attaching app to element...');\n    const element = document.getElementsByTagName('app')[0];\n    const pathname = window.location.pathname;\n    const locationSplit = pathname.split('/').filter(x => x);\n    const location = locationSplit[0]?.toLowerCase();\n    if (location && ['isolated.html', 'index-static.html'].includes(location)) {\n        const start = Date.now();\n        tagElement(IsolatedApp, element, { test: 1 });\n        const end = Date.now() - start;\n        console.info(` isolated render in ${end}ms`);\n        return;\n    }\n    const start = Date.now();\n    tagElement(App, element, { test: 1 });\n    const end = Date.now() - start;\n    console.info(` rendered in ${end}ms`);\n};\n"],"names":["it","toBe","insideCount","click","insideElm","insideDisplay","indexValue","innerText","outsideElm","outsideDisplay","outsideValue","Number","toString","async","onclick","result","time","Promise","res","setTimeout","toBeDefined","toggleTest","propsTextarea","value","replace","style","border","firstRun","counterInput","onkeyup","target","beforeRenderCount","beforeInnerRenderCount","currentSubs","elmCount","selector","document","querySelectorAll","length","query","focus","q","forEach","elm","items","requestAnimationFrame","map","clickOne","index","element","html","innerHTML","byId","id","getElementById","htmlById","expectMatchedHtml","queries","elements","reduce","all","push","toBeGreaterThan","lastHtml","pop","every","join","expectHTML","expectElmCount","count","message","found","testDuelCounterElements","sets","button0","display0","shift","buttonQuery","ip0","testCounterSelectedElements","elementCountExpected","increase","button1","display1","display1Element","ip1Check","secondIncrease","counterButtons","counterDisplays","counterButtonSelect","counterDisplaySelect","testQuantifier","increaseCounter","counterDisplay","body","contains","counterValue","newCounterValue","testCounterElements","onlyTests","tests","tab","describe","label","run","oldTests","console","debug","repeat","runTests","error","start","Date","now","clearTests","execute","test","err","name","expect","expected","customMessage","Function","JSON","stringify","Error","received","amount","expectNum","isNaN","toBeLessThan","skip","only","getElementsByTagName","counter","propCounter","funUpdateValue","changed","ownerHTML","parentHTML","childHTML","ownerNum","parentNum","childNum","syncCounter","templateTags","dropdown","onchange","todoInput","key","todoToggle2","checked","event","MouseEvent","bubbles","cancelable","view","window","dispatchEvent","parentNode","display","editInput","slowCount","startCount","truthStartCount","newCount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","empty","ImmutableTypes","BasicTypes","ValueTypes","tag","dom","templater","tagComponent","tagArray","subject","tagJsSubject","oneRender","stateRender","isSimpleType","string","number","boolean","includes","isStaticTag","tagJsType","isTagComponent","tagType","isTagClass","isSubjectInstance","isSubject","subscribe","isTagArray","Array","combineLatest","subjects","output","Subject","subscribeWith","callback","valuesSeen","values","setValue","x","item","subscription","clones","subscriptions","getSubscription","subscribers","countSubject","globalSubCount$","next","unsubscribe","findIndex","sub","splice","removeSubFromArray","valSub","add","runPipedMethods","methods","onComplete","cloneMethods","firstMethod","newValue","handler","methodResponse","setHandler","onSubscription","constructor","this","orgCallback","lastValue","emit","set","bind","subs","toPromise","toCallback","_subscription","pipe","operations","setMethods","args","arg","static","defineValueOn","_value","getNewGlobal","isAttr","destroy$","context","providers","renderCount","oldest","blocked","childTags","ValueSubject","super","ValueSubjective","setUse","use","useMe","beforeRender","beforeRedraw","afterRender","beforeDestroy","tagUse","memory","TagError","details","errorCode","ArrayNoKeyError","StateMismatchError","SyncCallbackError","badLetState","getStateValue","state","defaultValue","checkValue","oldState","StateEchoBack","getCallbackValue","stateConfig","array","support","config","rearray","initState","reState","wrapper","oldStates","newStates","tagFunction","parentWrap","original","warn","restate","initValue","syncStates","stateFrom","stateTo","fromValue","setState","s","watch","currentValues","setupWatch","defaultFinally","init","before","final","previous","pastResult","previousValues","defineOnMethod","getWatch","attachTo","setup","oldWatch","firstSupport","getSupportInCycle","method","nowSupport","setTo","oldestState","letState","oldValue","makeStateResult","y","newWatch","constructMethod","stateDiffMemory","stateDiff","provider","oldStateCount","instance","owner","children","global","cm","compareTo","ownerSupport","find","msg","deepClone","maxDepth","makeDeepClone","object","RegExp","clone","isArray","create","getPrototypeOf","i","deepEqual","obj1","obj2","isDeepEqual","fn0","fn1","getTime","isArrayDeepEqual","keys1","keys","keys2","isObjectDeepEqual","isLikeTags","support0","support1","templater0","templater1","tag0","tag1","domMeta0","domMeta1","isLikeDomTags","like","strings0","strings","strings1","values0","values1","valuesLengthsMatch","allVarsMatch","isLikeValueSets","isLikeStringTags","runBeforeRender","runAfterRender","tagClosed$","runBeforeDestroy","deleted","hasLiveElements","child","getValueType","function","type","date","unknown","cloneValueArray","cloneTagJsValue","props","getChildTagsToDestroy","allTags","cTag","iSubs","tags","TemplaterResult","tagged","arrayValue","textNode","getTestTextNode","textContent","cloneNode","_children","createTextNode","elementInitCheck","nextSibling","counts","onInitDoubleWrap","oninit","added","onInitWrap","onInit","stagger","afterChildrenBuilt","kids","len","elmMeta","attributes","domElm","domElement","attribute","removed","select","paintContent","paintAppends","painting","locks","paint","isAppend","relative","appendChild","insertBefore","subscribeToTemplate","contextItem","onValue","processFirstSubjectValue","syncRun","updateExistingValue","processTag","newSupportByTemplater","appendIndex","buildBeforeElement","ph","placeholder","marker","htmlDomMeta","getFakeTemplater","fake","isTag","Support","setupNewSupport","newest","updateBeforeTemplate","lastFirstChild","negatives","castTextValue","processFirstTagResult","subjectTag","domIndex","domLen","processFirstSubjectComponent","options","substring","validateTemplater","newSupport","castedProps","getCastedProps","propsConfig","castProps","renderWithSupport","valueType","tagFakeTemplater","processTagArray","v","wrap","oneRenderToSupport","renderTagOnly","castedValue","simpleValueElm","processFirstRegularValue","processNewTag","existed","lastArray","lastFragment","runtimeInsertBefore","filter","newRemoved","same","newLength","at","destroyArrayItem","subTag","tagClass","prevArrayValue","lateTemp","lastArrayValue","valueA","valueB","areLikeValues","reviewLastArrayItem","reviewArrayItem","previousSupport","itemSubject","keySet","newFragment","subPlaceholder","setPlaceholderElm","nowValueType","processNewValue","processAddTagArrayItem","last","removeChild","destroy","destroyArrayTag","hasPropChanges","pastCloneProps","castedPastProps","allFunctionsMatch","compare","subCastedProps","subCompareProps","matched","entries","compareProps","onDelete","compareOriginal","destroyTagMemory","oldSupport","depth","checkProp","alterProp","toCall","callWith","noCycle","callbackResult","locked","isInline","isInlineHtml","renderInlineHtml","renderExistingTag","safeRenderSupport","callbackPropOwner","mem","assign","getPropWrap","isSkipPropValue","subValue","afterCheckProp","getset","getOwnPropertyDescriptor","originalValue","newProp","updateExistingTagComponent","lastSupport","oldWrapper","newWrapper","isSameTag","swapTags","rendered","hasChanged","newTemplater","propsChanged","latestCloned","propsChanged2","hasSupportChanged","newProps","syncFunctionProps","syncSupports","afterTagRender","renderSupport","newPropsArray","priorPropsArray","newArray","syncPriorPropFunction","priorProp","stateArray","oldOwnerState","hasSetter","processRegularValue","oldClone","tagTypes","checkDestroyPrevious","displaySubject","hasLastValue","newType","destroySimpleValue","arraySubject","wasArray","tagSubject","isValueTag","subjectSup","newestState","prepareUpdateToComponent","isClass","valueSupport","isTagTemplater","updateBy","handleStillTag","classS","specialAttribute","names","split","firstName","classList","remove","howToSetInputValue","setAttribute","removeAttribute","handleProviderChanges","appSupport","tagsWithProvider","getTagsWithProvider","getUpTags","supports","inlineHtml","checkRenderUp","proSupports","providersWithChanges","prosWithChanges","hasChange","providersChangeCheck","renderTagUpdateArray","noData","promiseNoData","bindSubjectCallback","subjectFunction","bindTo","lastResult","block","runBlocked","checkAfterCallbackPromise","renderCallbackSupport","afterTagCallback","runTagCallback","then","processNameValueAttribute","attrName","howToSet","isFun","processTagCallbackFun","isSpecial","isSpecialAttr","processNonDynamicAttr","processAttribute","attrs","nameVar","getTagJsVar","contextValue","isNameOnly","contextValueSubject","processNameOnlyEmit","processNameOnlyAttr","valueVar","newAttrValue","processAttributeEmit","processNameValueAttributeAttrSubject","attrValue","processNameOnlyAttrValue","processAttributeSubjectValue","callbackFun","processAttributeFunction","fun","applyFunToElm","search","prevFun","attrPart","tagJsVar","attachDomElement","nodes","scope","createElement","node","newNode","subVal","nodeName","attr","BaseSupport","appElement","clonePropsBy","latest","getHtmlDomMeta","domMeta","loadDomMeta","buildContext","thisTag","processOneContext","processContext","stringId","getStringsId","lastRun","lastRuns","isLastRunMatched","domMetaMap","replacePlaceholders","htmlInterpolationToPlaceholders","htmlString","valuePositions","stack","currentElement","valueIndex","position","regexTag","regexTagOrg","match","preprocessTagsInComments","tagMatch","exec","fullMatch","tagName","attrString","isClosingTag","startsWith","isSelfClosing","endsWith","slice","trim","splitByTagVar","variablePrefix","variableSuffix","pushTextTo","attrMatch","regexAttr","notEmpty","noValue","lowerName","toLowerCase","fixedName","ondoubleclick","valueName","parseHTML","htmlInterpolationToDomMeta","traverseAndRestore","template","interpolation","getDomMeta","tempTag","updateConfig","processContextUpdate","byParent","mySubs","destroySubs","subGlobal","checkDestroySimpleValueTag","midDestroyChildTags","resetSupport","promises","smartRemoveKids","startStagger","thisGlobal","cloneOne","domOne","newPromises","promise","destroyClones","unshift","oldClones","checkCloneRemoval","customElm","ondestroy","onDestroyDoubleWrap","onDestroyWrap","onDestroy","elementDestroyCheck","destroySubscriptions","version","getAppSupport","newContextLength","isUpdate","updateContextItem","simpleElm","cloneSubs","StringTag","executeWrap","originalFunction","stateless","nowState","preCastedProps","lastCastProps","prevSupport","oldRenderCount","parentSupport","lastOwnerSupport","runtimeOwnerSupport","lastState","runBeforeRedraw","beforeWithRender","reSupport","softDestroySupport","softDestroyOne","lastTemplater","lastTag","isLikeTag","lastDom","lastStrings","oldLength","checkTagSoftDestroy","pIndex","pLen","pcLen","moveProviders","destroyUnlikeTags","wasLikeTags","oldestSupport","toRedrawTag","updateAfterRender","renderExistingReadyTag","renderUp","selfPropChange","nowProps","latestProps","hasPropsToOwnerChanged","callbackStateUpdate","maybePromise","finally","DomTag","innerCallback","a","b","c","e","f","callbackMaker","originalGetter","initMemory","syncError","Tag","fragFindAny","fragReplacer","safeVar","results","fragment","diff","balanceArrayByArrays","addPlaceholders","inputString","part","pushTo","postprocessTagsInComments","placeholderRegex","valueCount","currentTail","loopTail","processAttributes","innerLoopTail","examineChild","textChild","secondMatch","wIndex","parseInt","varContent","after","lastIndex","safeReplacer","_match","tagCount","innerTagWrap","getTagWrap","tagIndex","route","routeProps","app","routeTag","oneRenderFunction","renderFunction","appElements","tagElement","appElmIndex","appElm","runWrapper","isApp","createDocumentFragment","domItem","putOneDomDown","putDomDown","hmr","attributeDebug","selected","isOrange","allStrings","class","contentDebug","vs0","vs1","orangeToggle","utils","willPromise","resolve","tableDebug","showCell","test0interval","test1interval","intervalTester0","intervalCount","intervalId","intervalId2","renderCounter","currentTime","startInterval","info","setInterval","stopInterval","clearInterval","intervalTester1","toggleInterval","animateInit","staggerBy","fxName","opacity","wait","animateDestroy","capturePosition","zIndex","toTop","offsetTop","toLeft","offsetLeft","toWidth","clientWidth","offsetWidth","toHeight","clientHeight","offsetHeight","top","left","width","height","captureElementPosition","in","fadeInDown","out","fadeOutUp","fxIn","fxOut","input","createFx","tagDebug","_firstState","showIntervals","renderCountDiv","tagSwitchDebug","_t","selectedTag","tagOutput","title","tag2","tag3","tagOutput2","ternaryPropTest","arraySwitching","outTag","_","mirroring","tagCounter","innerHtmlTest","_props","innerHtmlPropsTest","test22","childTests","childAsPropTest","mouseOverTag","mouseOverEditShow","edit","loadStartTime","counters","appCounterSubject","readStartTime","initCounter","callbacks","callbackTestSub","pipedSubject0","pipedSubject1","pipedSubject2","increasePropCounter","globalSubs","innerCounters","dialog","providerClass","showDialog","TagDebugProvider","ProviderFunc","tagDebugProvider","upper","upperTagDebugProvider","providerDebugBase","_x","showModal","providerChildDebug","propCounterChange","funcProvider","upperProvider","showProProps","testProviderAsProps","watchTesting","stateNum","stateNumChangeCount","slowChangeCount","watchPropNumSlow","noInit","subjectChangeCount","watchPropNumSubject","asSubject","truthChange","truthChangeCount","watchTruth","truthy","truthSubChangeCount","watchTruthAsSub","insideMultiRender","counter$","arrayFunTag","deleteItem","funInPropsChild","arg0","mainProp","myFunction3","other","addArrayItem","myFunction","myChildFunction","main","addArrayComponent","handleKeyUp","showChild","somethingElse","hasValidMin","min","ADD_ITEM","UPDATE_ITEM","REMOVE_ITEM","TOGGLE_ITEM","TOGGLE_ALL","REMOVE_COMPLETED_ITEMS","Header","dispatch","onSubmit","onBlur","Input","payload","Item","todo","editing","completed","removeItem","handleUpdate","updateItem","nanoid","size","Math","random","App","todos","action","concat","todoReducer","mode","visibleTodos","Main","activeTodos","removeCompleted","Footer","propsDebugMain","syncPropNumber","propNumber","propsJson","json","statePropDisplay","parse","propsDebug","propNumberChange","syncPropDebug","parentTest","__","timestamp","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","timestampToValues","newDateString","propDateDebug","propNumberChangeCount","myPropNumber","watchResults","___","getSetProp","myProp","letProp","propFnUpdateTest","arrayScoreData","score","playerIndex","frame","arrayTests","players","getNewPlayer","scores","_v","floor","playersDisplay","playersContent","player","toggleValue","appCounter","testTimeout","runTesting","manual","alert","clearTimeout","ViewTypes","viewTypes","storage","localStorage","taggedjs","autoTest","views","getScopedStorage","saveScopedStorage","Content","Counters","Props","ProviderDebug","TagSwitchDebug","Child","Arrays","Mirroring","WatchTesting","FunInPropsTag","OneRender","Todo","activate","checkTesting","deactivate","toggleViewType","viewType","TableDebug","locationSplit","location","pathname","end"],"sourceRoot":""}