{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./src/array.test.ts","webpack:///./src/basic.test.ts","webpack:///./src/child.test.ts","webpack:///./src/content.test.ts","webpack:///./src/counters.test.ts","webpack:///./src/elmSelectors.ts","webpack:///./src/expect.html.ts","webpack:///./src/expect.ts","webpack:///./src/funInProps.test.ts","webpack:///./src/last.test.ts","webpack:///./src/mirror.test.ts","webpack:///./src/oneRender.test.ts","webpack:///./src/props.test.ts","webpack:///./src/providers.test.ts","webpack:///./src/start.test.ts","webpack:///./src/tagSwitch.test.ts","webpack:///./src/todos.test.ts","webpack:///./src/watch.test.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./node_modules/taggedjs/js/tag/ValueTypes.enum.js","webpack:///./node_modules/taggedjs/js/tag/Tag.class.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/replacePlaceholders.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/restorePlaceholders.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/htmlInterpolationToDomMeta.function.js","webpack:///./node_modules/taggedjs/js/tag/domMetaCollector.js","webpack:///./node_modules/taggedjs/js/tag/getStringsId.function.js","webpack:///./node_modules/taggedjs/js/tag/isLastRunMatched.function.js","webpack:///./node_modules/taggedjs/js/isInstance.js","webpack:///./node_modules/taggedjs/js/subject/combineLatest.function.js","webpack:///./node_modules/taggedjs/js/subject/subject.utils.js","webpack:///./node_modules/taggedjs/js/subject/Subject.class.js","webpack:///./node_modules/taggedjs/js/subject/ValueSubject.js","webpack:///./node_modules/taggedjs/js/tag/getSupportInCycle.function.js","webpack:///./node_modules/taggedjs/js/state/setUse.function.js","webpack:///./node_modules/taggedjs/js/errors.js","webpack:///./node_modules/taggedjs/js/state/state.utils.js","webpack:///./node_modules/taggedjs/js/state/syncStates.function.js","webpack:///./node_modules/taggedjs/js/state/state.function.js","webpack:///./node_modules/taggedjs/js/state/watch.function.js","webpack:///./node_modules/taggedjs/js/state/subject.function.js","webpack:///./node_modules/taggedjs/js/state/letState.function.js","webpack:///./node_modules/taggedjs/js/deepFunctions.js","webpack:///./node_modules/taggedjs/js/state/providers.js","webpack:///./node_modules/taggedjs/js/tag/isLikeTags.function.js","webpack:///./node_modules/taggedjs/js/tag/tagRunner.js","webpack:///./node_modules/taggedjs/js/tag/render/renderTagOnly.function.js","webpack:///./node_modules/taggedjs/js/tag/destroyTag.function.js","webpack:///./node_modules/taggedjs/js/tag/checkDestroyPrevious.function.js","webpack:///./node_modules/taggedjs/js/tag/getValueType.function.js","webpack:///./node_modules/taggedjs/js/tag/cloneValueArray.function.js","webpack:///./node_modules/taggedjs/js/tag/destroy.support.js","webpack:///./node_modules/taggedjs/js/tag/kidsToTagArraySubject.function.js","webpack:///./node_modules/taggedjs/js/tag/TemplaterResult.class.js","webpack:///./node_modules/taggedjs/js/tag/update/TagJsSubject.class.js","webpack:///./node_modules/taggedjs/js/tag/update/processNewValue.function.js","webpack:///./node_modules/taggedjs/js/tag/textNode.js","webpack:///./node_modules/taggedjs/js/interpolations/specialAttribute.js","webpack:///./node_modules/taggedjs/js/interpolations/interpolateAttributes.js","webpack:///./node_modules/taggedjs/js/tag/hasPropChanges.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTagResult.function.js","webpack:///./node_modules/taggedjs/js/interpolations/interpolateTemplate.js","webpack:///./node_modules/taggedjs/js/interpolations/elementInitCheck.js","webpack:///./node_modules/taggedjs/js/tag/update/processTag.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processSubjectComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderSubjectComponent.function.js","webpack:///./node_modules/taggedjs/js/alterProp.function.js","webpack:///./node_modules/taggedjs/js/tag/update/updateExistingTagComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/hasSupportChanged.function.js","webpack:///./node_modules/taggedjs/js/interpolations/bindSubjectCallback.function.js","webpack:///./node_modules/taggedjs/js/interpolations/processAttribute.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTagArray.js","webpack:///./node_modules/taggedjs/js/updateBeforeTemplate.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processRegularValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processFirstSubjectValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/oneRenderToSupport.function.js","webpack:///./node_modules/taggedjs/js/tag/setTagPlaceholder.function.js","webpack:///./node_modules/taggedjs/js/tag/update/updateExistingValue.function.js","webpack:///./node_modules/taggedjs/js/interpolations/subscribeToTemplate.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/metaAttachDomElements.function.js","webpack:///./node_modules/taggedjs/js/tag/Support.class.js","webpack:///./node_modules/taggedjs/js/tag/update/updateContextItem.function.js","webpack:///./node_modules/taggedjs/js/tag/elementDestroyCheck.function.js","webpack:///./node_modules/taggedjs/js/tag/render/softDestroySupport.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderWithSupport.function.js","webpack:///./node_modules/taggedjs/js/tag/render/destroyUnlikeTags.function.js","webpack:///./node_modules/taggedjs/js/state/handleProviderChanges.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderExistingTag.function.js","webpack:///./node_modules/taggedjs/js/state/providersChangeCheck.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderSupport.function.js","webpack:///./node_modules/taggedjs/js/state/callbackStateUpdate.function.js","webpack:///./node_modules/taggedjs/js/state/callbackMaker.function.js","webpack:///./node_modules/taggedjs/js/state/onInit.js","webpack:///./node_modules/taggedjs/js/state/onDestroy.js","webpack:///./node_modules/taggedjs/js/state/children.js","webpack:///./node_modules/taggedjs/js/tag/tag.utils.js","webpack:///./node_modules/taggedjs/js/tag/html.js","webpack:///./node_modules/taggedjs/js/tag/getTagWrap.function.js","webpack:///./node_modules/taggedjs/js/tag/tag.js","webpack:///./node_modules/taggedjs/js/tag/tagElement.js","webpack:///./node_modules/taggedjs/js/index.js","webpack:///./src/attributeDebug.component.ts","webpack:///./src/ContentDebug.component.ts","webpack:///./node_modules/taggedjs/js/subject/will.functions.js","webpack:///./src/tableDebug.component.ts","webpack:///./src/intervalDebug.ts","webpack:///./node_modules/taggedjs-animate-css/js/createFx.function.js","webpack:///./node_modules/taggedjs-animate-css/js/index.js","webpack:///./src/tagJsDebug.ts","webpack:///./src/renderCount.component.ts","webpack:///./src/tagSwitchDebug.component.ts","webpack:///./src/mirroring.tag.ts","webpack:///./src/innerHtmlTests.ts","webpack:///./src/childTests.ts","webpack:///./src/mouseover.tag.ts","webpack:///./src/countersDebug.ts","webpack:///./src/providerDebug.ts","webpack:///./src/watchTesting.tag.ts","webpack:///./src/oneRender.tag.ts","webpack:///./src/arrayFun.tag.ts","webpack:///./src/funInPropsChild.tag.ts","webpack:///./src/addArrayComponent.tag.ts","webpack:///./src/funInProps.tag.ts","webpack:///./src/todo/components/input.ts","webpack:///./src/todo/constants.ts","webpack:///./src/todo/components/header.ts","webpack:///./src/todo/components/item.ts","webpack:///./src/todo/components/main.ts","webpack:///./src/todo/components/footer.ts","webpack:///./src/todo/reducer.ts","webpack:///./src/todo/app.ts","webpack:///./src/PropsDebug.tag.ts","webpack:///./node_modules/taggedjs/js/state/letProp.function.js","webpack:///./src/arrayTests.ts","webpack:///./src/app.tag.ts","webpack:///./src/tests.ts","webpack:///./src/isolatedApp.ts","webpack:///./src/isolatedApp.test.ts","webpack:///./src/app.function.ts"],"sourcesContent":["import { byId, elmCount } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\ndescribe('array testing', () => {\n    it('array basics', () => {\n        expect(elmCount('#array-test-push-item')).toBe(1);\n        const insideCount = elmCount('#score-data-0-1-inside-button');\n        expect(insideCount).toBe(0);\n        expect(elmCount('#score-data-0-1-outside-button')).toBe(0);\n        byId('array-test-push-item').click();\n        expect(elmCount('#score-data-0-1-inside-button')).toBe(1);\n        expect(elmCount('#score-data-0-1-outside-button')).toBe(1);\n        const insideElm = byId('score-data-0-1-inside-button');\n        const insideDisplay = byId('score-data-0-1-inside-display');\n        let indexValue = insideDisplay.innerText;\n        const outsideElm = byId('score-data-0-1-outside-button');\n        const outsideDisplay = byId('score-data-0-1-outside-display');\n        const outsideValue = outsideDisplay.innerText;\n        expect(indexValue).toBe(outsideValue);\n        insideElm.click();\n        expect(insideDisplay.innerText).toBe(outsideDisplay.innerText);\n        expect(indexValue).toBe((Number(insideDisplay.innerText) - 1).toString());\n        expect(indexValue).toBe((Number(outsideDisplay.innerText) - 1).toString());\n        outsideElm.click();\n        expect(insideDisplay.innerText).toBe(outsideDisplay.innerText);\n        expect(indexValue).toBe((Number(insideDisplay.innerText) - 2).toString());\n        expect(indexValue).toBe((Number(outsideDisplay.innerText) - 2).toString());\n    });\n    it(' deletes', async () => {\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(0);\n        expect(elmCount('#player-edit-btn-0')).toBe(1);\n        await byId('player-edit-btn-0').onclick();\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(1);\n        const result = await byId('player-remove-promise-btn-0').onclick();\n        expect(result).toBe('promise-no-data-ever');\n        await delay(1000); // animation\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(0);\n        expect(elmCount('#player-edit-btn-0')).toBe(0);\n    });\n});\nfunction delay(time) {\n    return new Promise((res) => setTimeout(res, time));\n}\n","import { byId } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nit('elements exists', () => {\n    expect(byId('h1-app')).toBeDefined();\n    const toggleTest = byId('toggle-test');\n    expect(toggleTest).toBeDefined();\n    expect(toggleTest.innerText).toBe('toggle test');\n});\nit('toggle test', () => {\n    const toggleTest = byId('toggle-test');\n    toggleTest.click();\n    expect(toggleTest.innerText).toBe('toggle test true');\n    toggleTest.click();\n    expect(toggleTest.innerText).toBe('toggle test');\n    const propsTextarea = byId('props-debug-textarea');\n    expect(propsTextarea.value.replace(/\\s/g, '')).toBe(`{\"test\":33,\"x\":\"y\"}`);\n});\n","import { it } from \"./expect\";\nimport { testCounterElements, testDuelCounterElements } from \"./expect.html\";\nit('child tests', () => {\n    testCounterElements('#innerHtmlPropsTest-button', '#innerHtmlPropsTest-display');\n    testCounterElements('#innerHtmlTest-counter-button', '#innerHtmlTest-counter-display');\n    testDuelCounterElements(['#childTests-button', '#childTests-display'], ['#child-as-prop-test-button', '#child-as-prop-test-display'], ['#innerHtmlPropsTest-childTests-button', '#innerHtmlPropsTest-childTests-display']);\n    testDuelCounterElements(['#childTests-button', '#childTests-display'], ['#innerHtmlTest-childTests-button', '#innerHtmlTest-childTests-display']);\n});\n","import { html } from \"./elmSelectors\";\nimport { expect, describe, it } from \"./expect\";\nimport { expectMatchedHtml } from \"./expect.html\";\ndescribe('content', () => {\n    it('basic', () => {\n        expectMatchedHtml('#content-subject-pipe-display0', '#content-subject-pipe-display1');\n        expectMatchedHtml('#content-combineLatest-pipe-display0', '#content-combineLatest-pipe-display1');\n    });\n    it('html', () => {\n        expectMatchedHtml('#content-combineLatest-pipeHtml-display0', '#content-combineLatest-pipeHtml-display1');\n    });\n    it('spacing', () => {\n        expect(html('#hello-big-dom-world')).toBe('hello <b>big</b> world');\n        expect(html('#hello-big-string-world')).toBe('hello <b>big</b> world');\n    });\n});\n","import { byId, click, html, htmlById } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectElmCount, testCounterElements } from \"./expect.html\";\ndescribe('counters', () => {\n    const slowCount = html('#-slowChangeCount');\n    // tests can be run multiple times. Only the first time will this expect below work\n    const firstRun = slowCount === '0';\n    it('basics', () => {\n        const counterInput = byId('set-main-counter-input');\n        expect(counterInput).toBeDefined();\n        counterInput.value = '0';\n        counterInput.onkeyup({ target: counterInput });\n        const beforeRenderCount = Number(html('#counters_render_count'));\n        const beforeInnerRenderCount = Number(html('#inner_counters_render_count'));\n        expectElmCount('#conditional-counter', 0);\n        const currentSubs = htmlById('-counter-sub-count');\n        testCounterElements('#-increase-counter', '#-counter-display');\n        expect(htmlById('-counter-sub-count')).toBe(currentSubs);\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + 2).toString());\n        // the parent changed a value passed to child as a prop\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 2).toString());\n        testCounterElements('#-inner-counter', '#-inner-display');\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + 4).toString());\n        // the child changed a value passed from parent as a prop\n        // expect(html('#inner_counters_render_count')).toBe( (beforeInnerRenderCount + 1).toString() )\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 4).toString());\n        testCounterElements('#standalone-counter', '#standalone-display');\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + (firstRun ? 6 : 6)).toString(), 'render count check failed');\n        // the child was not rendered again because props did not change so value should be less\n        // expect(html('#inner_counters_render_count')).toBe( (beforeInnerRenderCount + 1).toString() )\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 4).toString());\n        expectElmCount('#conditional-counter', 1);\n        expectElmCount('#conditional-display', 1);\n        if (firstRun) {\n            expect(html('#conditional-display')).toBe('2');\n        }\n        testCounterElements('#conditional-counter', '#conditional-display');\n        // test again after higher elements have had reruns\n        testCounterElements('#-inner-counter', '#-inner-display');\n    });\n    it.skip('piped subject', () => {\n        if (firstRun) {\n            expect(html('#-pipedSubject')).toBe('');\n            expect(html('#-pipedSubject-2')).toBe('');\n        }\n        click('#-subject-increase-counter');\n        const pipedSubDisplay = html('#-pipedSubject');\n        const subjectCountDisplay = html('#-subject-counter-display');\n        expect(pipedSubDisplay).toBe(subjectCountDisplay, `Expected #-pipedSubject value(${pipedSubDisplay}) to match #-subject-counter-display value(${subjectCountDisplay})`);\n        expect(html('#-pipedSubject-2')).toBe(html('#-subject-counter-display'));\n    });\n});\n","export function elmCount(selector) {\n    return document.querySelectorAll(selector).length;\n}\nexport function query(query) {\n    return document.querySelectorAll(query);\n}\nexport function focus(q) {\n    return query(q).forEach(elm => elm.focus());\n}\nexport function click(q) {\n    return [...query(q)].map(elm => elm.click());\n}\nexport function clickOne(q, index = 0) {\n    const element = query(q)[index];\n    return element.click();\n}\nexport function html(q) {\n    let html = '';\n    query(q).forEach(elm => html = html + elm.innerHTML);\n    return html;\n}\nexport function byId(id) {\n    return document.getElementById(id);\n}\nexport function htmlById(id) {\n    return document.getElementById(id).innerHTML;\n}\nexport function lastById(id) {\n    const elms = document.querySelectorAll('#' + id);\n    return elms[elms.length - 1];\n}\n","import { expect } from \"./expect\";\n/* all elements in each query must have the same html */\nexport function expectMatchedHtml(...queries) {\n    const elements = queries.reduce((all, query) => {\n        const elements = document.querySelectorAll(query);\n        all.push(...elements);\n        return all;\n    }, []);\n    expect(elements.length).toBeGreaterThan(0, 'Expected elements to be present in expectMatchedHtml() query but found none');\n    const lastElm = elements.pop();\n    const lastHtml = lastElm.innerHTML;\n    elements.every(elm => expect(lastHtml).toBe(elm.innerHTML, () => `expectMatchedHtml unmatched html - queries: ${queries.join(' - ')}`));\n}\nexport function expectHTML(query, innerHTML) {\n    const elements = document.querySelectorAll(query);\n    elements.forEach(element => expect(element.innerHTML).toBe(innerHTML, () => `Expected element ${query} innerHTML to be -->${innerHTML}<-- but it was -->${element.innerHTML}<--`));\n}\nexport function expectElmCount(query, count, message) {\n    const elements = document.querySelectorAll(query);\n    const found = elements.length;\n    message = message || `Expected ${count} elements to match query ${query} but found ${found}`;\n    expect(found).toBe(count, message);\n    return elements;\n}\nexport function testDuelCounterElements(...sets\n// [button0, display0]: [string, string], // button, display\n// [button1, display1]: [string, string], // button, display\n) {\n    const [button0, display0] = sets.shift();\n    let query = expectElmCount(display0, 1);\n    let buttonQuery = expectElmCount(button0, 1);\n    const display0Element = query[0];\n    const ip0 = display0Element.innerText;\n    testCounterSelectedElements(buttonQuery, query, { elementCountExpected: 1 }, button0, display0);\n    let increase = 2;\n    sets.forEach(([button1, display1]) => {\n        query = expectElmCount(display1, 1);\n        buttonQuery = expectElmCount(button1, 1);\n        let display1Element = query[0];\n        let ip1Check = display1Element.innerText;\n        const value = (Number(ip0) + increase).toString();\n        expect(ip1Check).toBe(value, () => `Expected second increase provider to be increased to ${ip0} but got ${ip1Check}`);\n        testCounterSelectedElements(buttonQuery, query, { elementCountExpected: 1 }, button0, display0);\n        display1Element = query[0];\n        ip1Check = display1Element.innerText;\n        const secondIncrease = increase + 2;\n        expect(ip1Check).toBe((Number(ip0) + secondIncrease).toString(), () => `Expected ${display1} innerText to be ${Number(ip0) + secondIncrease} but instead it is ${ip1Check}`);\n        increase = increase + 2;\n    });\n}\nfunction testCounterSelectedElements(counterButtons, counterDisplays, { elementCountExpected } = {\n    elementCountExpected: 1\n}, counterButtonSelect, counterDisplaySelect) {\n    expect(counterButtons.length).toBe(elementCountExpected, () => `Expected ${counterButtonSelect} to be ${elementCountExpected} elements but is instead ${counterButtons.length}`);\n    expect(counterDisplays.length).toBe(elementCountExpected, () => `Expected ${counterDisplaySelect} to be ${elementCountExpected} elements but is instead ${counterDisplays.length}`);\n    counterButtons.forEach((increaseCounter, index) => {\n        const counterDisplay = document.querySelectorAll(counterDisplaySelect)[index]; // counterDisplays[index]\n        expect(document.body.contains(counterDisplay)).toBe(true, `The selected element ${counterDisplaySelect} is no longer an element on the document body BEFORE clicking ${counterButtonSelect}`);\n        let counterValue = Number(counterDisplay?.innerText);\n        increaseCounter.click();\n        expect(counterDisplay).toBeDefined();\n        expect(document.body.contains(counterDisplay)).toBe(true, `The selected element ${counterDisplaySelect} is no longer an element on the document body AFTER clicking ${counterButtonSelect}`);\n        let oldCounterValue = counterValue + 1;\n        counterValue = Number(counterDisplay.innerText);\n        expect(document.body.contains(counterDisplay)).toBe(true);\n        expect(oldCounterValue).toBe(counterValue, () => `Counter test 1 of 2 expected ${counterDisplaySelect} to be value ${oldCounterValue} but it is ${counterValue}`);\n        increaseCounter.click();\n        counterValue = Number(counterDisplay?.innerText);\n        ++oldCounterValue;\n        expect(oldCounterValue).toBe(counterValue, () => `Counter test 2 of 2 expected ${counterDisplaySelect} to increase value to ${oldCounterValue} but it is ${counterValue}`);\n    });\n}\n/** increases counter by two */\nexport function testCounterElements(counterButtonSelect, counterDisplaySelect, { elementCountExpected } = {\n    elementCountExpected: 1\n}) {\n    const increaseCounters = document.querySelectorAll(counterButtonSelect);\n    const counterDisplays = document.querySelectorAll(counterDisplaySelect);\n    return testCounterSelectedElements(increaseCounters, counterDisplays, { elementCountExpected }, counterButtonSelect, counterDisplaySelect);\n}\n","const onlyTests = [];\nlet tests = [];\nlet tab = 0;\nexport function describe(label, run) {\n    tests.push(async () => {\n        const oldTests = tests;\n        tests = [];\n        try {\n            console.debug('  '.repeat(tab) + ' ' + label);\n            ++tab;\n            await run();\n            await runTests(tests);\n            --tab;\n        }\n        catch (error) {\n            --tab;\n            // console.debug(' '.repeat(tab) + ' ' + label)\n            throw error;\n        }\n        finally {\n            tests = oldTests;\n        }\n    });\n}\ndescribe.skip = (label, run) => {\n    console.debug(' Skipped ' + label);\n};\ndescribe.only = (label, run) => {\n    onlyTests.push(async () => {\n        const oldTests = tests;\n        tests = [];\n        try {\n            console.debug('  '.repeat(tab) + ' ' + label);\n            ++tab;\n            await run();\n            await runTests(tests);\n            --tab;\n        }\n        catch (error) {\n            --tab;\n            // console.debug(' '.repeat(tab) + ' ' + label)\n            throw error;\n        }\n        finally {\n            tests = oldTests;\n        }\n    });\n};\nexport function it(label, run) {\n    tests.push(async () => {\n        try {\n            const start = Date.now();\n            await run();\n            const time = Date.now() - start;\n            console.debug(' '.repeat(tab) + ` ${label} - ${time}ms`);\n        }\n        catch (error) {\n            console.debug(' '.repeat(tab) + ' ' + label);\n            throw error;\n        }\n    });\n}\nit.only = (label, run) => {\n    onlyTests.push(async () => {\n        try {\n            const start = Date.now();\n            await run();\n            const time = Date.now() - start;\n            console.debug(` ${label} - ${time}ms`);\n        }\n        catch (error) {\n            console.debug(' ' + label);\n            throw error;\n        }\n    });\n};\nit.skip = (label, run) => {\n    console.debug(' Skipped ' + label);\n};\nfunction clearTests() {\n    onlyTests.length = 0;\n    tests.length = 0;\n}\nexport async function execute() {\n    if (onlyTests.length) {\n        return runTests(onlyTests);\n    }\n    return runTests(tests);\n}\nasync function runTests(tests) {\n    for (const test of tests) {\n        try {\n            await test();\n        }\n        catch (err) {\n            console.error(`Error testing ${test.name}`);\n            clearTests();\n            throw err;\n        }\n    }\n    clearTests();\n}\nexport function expect(expected) {\n    return {\n        toBeDefined: (customMessage) => {\n            if (expected !== undefined && expected !== null) {\n                return;\n            }\n            if (customMessage instanceof Function) {\n                customMessage = customMessage();\n            }\n            const message = customMessage || `Expected ${JSON.stringify(expected)} to be defined`;\n            console.error(message, { expected });\n            throw new Error(message);\n        },\n        toBe: (received, customMessage) => {\n            if (expected === received) {\n                return;\n            }\n            if (customMessage instanceof Function) {\n                customMessage = customMessage();\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be ${typeof (received)} ${JSON.stringify(received)}`;\n            console.error(message, { received, expected });\n            throw new Error(message);\n        },\n        toBeGreaterThan: (amount, customMessage) => {\n            const expectNum = expected;\n            if (!isNaN(expectNum) && expectNum > amount) {\n                return;\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be greater than amount`;\n            console.error(message, { amount, expected });\n            throw new Error(message);\n        },\n        toBeLessThan: (amount, customMessage) => {\n            const expectNum = expected;\n            if (!isNaN(expectNum) && expectNum < amount) {\n                return;\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be less than amount`;\n            console.error(message, { amount, expected });\n            throw new Error(message);\n        }\n    };\n}\n","import { click, html } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { testCounterElements } from \"./expect.html\";\nit('function in props', () => {\n    testCounterElements('#fun_in_prop1', '#fun_in_prop_display');\n    testCounterElements('#fun_in_prop2', '#fun_in_prop_display');\n    testCounterElements('#fun_in_prop3', '#fun_in_prop_display');\n    expect(html('#main_wrap_state')).toBe('taggjedjs-wrapped');\n    click('#toggle-fun-in-child');\n    click('#fun-parent-button');\n    expect(html('#main_wrap_state')).toBe('nowrap');\n    click('#toggle-fun-in-child');\n    click('#fun-parent-button');\n    expect(html('#main_wrap_state')).toBe('taggjedjs-wrapped');\n});\n","import { expect, it } from \"./expect\";\nit('has no templates', () => {\n    expect(document.getElementsByTagName('template').length).toBe(0, 'expected no templates on document');\n});\n","import { byId, htmlById } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { expectElmCount, expectMatchedHtml } from \"./expect.html\";\nit(' mirror testing', () => {\n    expectElmCount('#mirror-counter-display', 2);\n    expectElmCount('#mirror-counter-button', 2);\n    const counter = Number(htmlById('mirror-counter-display'));\n    byId('mirror-counter-button').click();\n    expect(counter + 1).toBe(Number(htmlById('mirror-counter-display')));\n    expectElmCount('#mirror-counter-display', 2);\n    expectMatchedHtml('#mirror-counter-display');\n});\n","import { html } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { testCounterElements } from \"./expect.html\";\nit('oneRender', () => {\n    expect(html('#oneRender_tag_ts_render_count')).toBe('1');\n    testCounterElements('#-counter-button', '#-counter-display');\n    testCounterElements('#-counter-button', '#-counter-display');\n    testCounterElements('#-counter-button', '#-counter-subject-display');\n    expect(html('#oneRender_tag_ts_render_count')).toBe('1');\n});\n","import { byId, html, htmlById, query } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectHTML, expectMatchedHtml, testCounterElements, testDuelCounterElements } from \"./expect.html\";\ndescribe('props', () => {\n    it('test duels', () => {\n        testDuelCounterElements(['#propsDebug--0-button', '#propsDebug--0-display'], ['#propsDebug--1-button', '#propsDebug--1-display']);\n    });\n    it('child prop communications', () => {\n        testDuelCounterElements(['#propsDebug--1-button', '#propsDebug--1-display'], ['#propsOneLevelFunUpdate--button', '#propsOneLevelFunUpdate--display']);\n    });\n    it('letProp', () => {\n        // local and outside currently match\n        expectMatchedHtml('#propsDebug--0-display', '#propsDebug--2-display');\n        const propCounter = Number(html('#propsDebug--0-display'));\n        const result = query('#propsDebug--2-button')[0].onclick();\n        expect(result).toBe('no-data-ever');\n        // outer should not have changed\n        expect(html('#propsDebug--0-display')).toBe(propCounter.toString());\n        expect(html('#propsDebug--2-display')).toBe((propCounter + 1).toString());\n    });\n    it('basics', () => {\n        // the number of times the watch counted a change happens to match that increase counter\n        const funUpdateValue = byId('propsOneLevelFunUpdate--display').innerHTML;\n        const changed = html('#propsDebug--change-display');\n        // test that watch runs onInit\n        expect(changed).toBe((Number(funUpdateValue) + 1).toString());\n        // expect(changed).toBe( (Number(funUpdateValue) - 4).toString() )\n        const ownerHTML = byId('propsDebug--0-display').innerHTML;\n        const parentHTML = byId('propsDebug--1-display').innerHTML;\n        const childHTML = byId('propsOneLevelFunUpdate--display').innerHTML;\n        const ownerNum = Number(ownerHTML);\n        const parentNum = Number(parentHTML);\n        const childNum = Number(childHTML);\n        expect(parentNum).toBe(childNum);\n        expect(ownerNum + 2).toBe(parentNum); // testing of setProp() doesn't change owner\n        byId('propsDebug--1-button').click();\n    });\n    it('props as functions', () => {\n        const syncCounter = Number(htmlById('sync-prop-number-display'));\n        // const syncCounter = Number( htmlById('sync-prop-child-display') )\n        expectMatchedHtml('#sync-prop-number-display', '#sync-prop-child-display');\n        byId('sync-prop-child-button').click();\n        expectHTML('#sync-prop-number-display', (syncCounter + 2).toString());\n        testCounterElements('#nothing-prop-counter-button', '#nothing-prop-counter-display');\n        expectHTML('#sync-prop-number-display', (syncCounter + 2).toString());\n        expectMatchedHtml('#sync-prop-counter-display', '#nothing-prop-counter-display');\n    });\n});\n","import { describe, it } from \"./expect\";\nimport { testDuelCounterElements } from \"./expect.html\";\ndescribe('providers', () => {\n    it('basics', () => {\n        testDuelCounterElements(['#increase-provider--0-button', '#increase-provider--0-display'], ['#increase-provider--1-button', '#increase-provider--1-display']);\n        testDuelCounterElements(['#increase-provider-upper--0-button', '#increase-provider-upper--0-display'], ['#increase-provider-upper--1-button', '#increase-provider-upper--1-display']);\n        testDuelCounterElements(['#increase-provider--0-button', '#increase-provider--0-display'], ['#increase-provider--1-button', '#increase-provider--1-display']);\n    });\n    it('inner outer debug', () => {\n        testDuelCounterElements(['#increase-prop--0-button', '#increase-prop--0-display'], ['#increase-prop--1-button', '#increase-prop--1-display']);\n        // change a counter in the parent element\n        testDuelCounterElements(['#increase-provider--0-button', '#increase-provider--0-display'], ['#increase-provider--1-button', '#increase-provider--1-display']);\n        // now ensure that this inner tag still operates correctly even though parent just rendered but i did not from that change\n        testDuelCounterElements(['#increase-prop--0-button', '#increase-prop--0-display'], ['#increase-prop--1-button', '#increase-prop--1-display']);\n    });\n});\n","import { expect, it } from \"./expect\";\nit('no template tags', () => {\n    const templateTags = document.getElementsByTagName('template');\n    expect(templateTags.length).toBe(0, 'Expected no templates to be on document');\n});\n","import { byId, elmCount } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectElmCount } from \"./expect.html\";\ndescribe('tagSwitching', () => {\n    it('0', () => {\n        expect(elmCount('#select-tag-above')).toBe(1, 'Expected select-tag-above element to be defined');\n        expect(elmCount('#tag-switch-dropdown')).toBe(1, 'Expected one #tag-switch-dropdown');\n        expect(elmCount('#tagSwitch-1-hello')).toBe(2, 'Expected two #tagSwitch-1-hello elements');\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n    });\n    it('1', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"1\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#tagSwitch-1-hello', 5);\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('2', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"2\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#tagSwitch-1-hello', 2);\n        expectElmCount('#tagSwitch-2-hello', 4);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('3', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"3\";\n        dropdown.onchange({ target: dropdown });\n        expect(elmCount('#tagSwitch-1-hello')).toBe(0, 'Expected no hello 1s');\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0);\n        expectElmCount('#tagSwitch-3-hello', 7);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('4', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#select-tag-above', 1);\n        expectElmCount('#tag-switch-dropdown', 1);\n        expectElmCount('#tagSwitch-1-hello', 2);\n        expectElmCount('#tagSwitch-2-hello', 0);\n        expectElmCount('#tagSwitch-3-hello', 0);\n    });\n});\n","import { byId, click, clickOne, focus, query } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\ndescribe('todos', () => {\n    const todoInput = byId('todo-input');\n    it('add one remove one', () => {\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0);\n        todoInput.value = 'one';\n        todoInput.onkeydown({ key: 'Enter', target: todoInput });\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(1);\n        // delete it\n        click('button[data-testid=\"todo-item-button\"]');\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0);\n    });\n    it('basic', () => {\n        todoInput.value = 'one';\n        todoInput.onkeydown({ key: 'Enter', target: todoInput });\n        // checkbox toggle\n        click('input[data-testid=\"todo-item-toggle\"]');\n        // delete it\n        click('button[data-testid=\"todo-item-button\"]');\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0);\n        todoInput.value = 'one';\n        todoInput.onkeydown({ key: 'Enter', target: todoInput });\n        todoInput.value = 'two';\n        todoInput.onkeydown({ key: 'Enter', target: todoInput });\n        const todoToggle2 = query('input[data-testid=\"todo-item-toggle\"]')[1];\n        todoToggle2.click();\n        expect(todoToggle2.checked).toBe(true);\n        todoInput.value = 'three';\n        todoInput.onkeydown({ key: 'Enter', target: todoInput });\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(3);\n        // delete 0\n        clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(2);\n        // delete 0\n        clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(1);\n        // delete 0\n        clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(0);\n    });\n    it('editing', () => {\n        // create todo\n        todoInput.value = 'one';\n        todoInput.onkeydown({ key: 'Enter', target: todoInput });\n        // prepare to make new todo become editable\n        let event = new MouseEvent('dblclick', {\n            bubbles: true, // Event will bubble up through the DOM\n            cancelable: true, // Event can be cancelled\n            view: window // Default view (window)\n        });\n        // Dispatch the event on the specified element\n        query('label[data-testid=\"todo-item-label\"]')[0].dispatchEvent(event);\n        focus('input[data-testid=\"text-input\"]');\n        const editInput = query('input[data-testid=\"text-input\"]')[1];\n        editInput.value = 'two';\n        editInput.onkeydown({ key: 'Enter', target: editInput }); // cause save\n        expect(query('input[data-testid=\"text-input\"]').length).toBe(1);\n        // delete 0\n        clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('label[data-testid=\"todo-item-label\"]').length).toBe(0);\n    });\n});\n","import { click, html, htmlById } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectMatchedHtml } from \"./expect.html\";\ndescribe(' watch tests', () => {\n    const slowCount = html('#-slowChangeCount');\n    // tests can be run multiple times. Only the first time will this expect below work\n    const firstRun = slowCount === '0';\n    it('basic', () => {\n        const startCount = Number(htmlById('watch-testing-num-display'));\n        expectMatchedHtml('#watch-testing-num-display', '#-slowChangeCount');\n        // always starts at \"false\"\n        expect(html('#-truthChange')).toBe('false');\n        if (firstRun) {\n            expect(html('#-watchPropNumSlow')).toBe('');\n            expect(html('#-watchTruth')).toBe('false');\n            expect(html('#-watchTruthAsSub')).toBe('undefined');\n        }\n        else {\n            expect(html('#-watchPropNumSlow')).toBe(slowCount);\n            expect(Number(html('#-watchTruth'))).toBeGreaterThan(Number(slowCount));\n            expect(html('#-watchTruthAsSub')).toBe(html('#-truthSubChangeCount'));\n        }\n        click('#watch-testing-num-button');\n        expectMatchedHtml('#watch-testing-num-display', '#-slowChangeCount');\n        expectMatchedHtml('#-watchPropNumSlow', '#-slowChangeCount');\n        expect(html('#-subjectChangeCount')).toBe((startCount + 2).toString());\n        expectMatchedHtml('#-subjectChangeCount', '#-watchPropNumSubject');\n        const truthStartCount = Number(html('#-truthChangeCount'));\n        click('#-truthChange-button');\n        let newCount = (truthStartCount + 1).toString();\n        // its been changed to \"true\", that causes a change watch count increase\n        expect(html('#-truthChange')).toBe('true');\n        expect(html('#-watchTruth')).toBe(newCount);\n        expect(html('#-truthChangeCount')).toBe(newCount);\n        click('#-truthChange-button');\n        newCount = (truthStartCount + 1).toString();\n        // its been changed to back to \"false\", that does NOT cause a change watch count increase\n        expect(html('#-truthChange')).toBe('false');\n        expect(html('#-watchTruth')).toBe(newCount);\n        expect(html('#-truthChangeCount')).toBe(newCount);\n        click('#-truthChange-button');\n        // its been changed to \"true\", that causes a change watch count increase\n        newCount = (truthStartCount + 2).toString();\n        expect(html('#-truthChange')).toBe('true');\n        expect(html('#-watchTruth')).toBe(newCount);\n        expect(html('#-truthChangeCount')).toBe(newCount);\n        click('#-truthChange-button'); // reset so tests can pass every time\n        click('#-reset-button'); // reset so tests can pass every time\n        expect(html('#-watchTruthAsSub')).toBe(html('#-watchTruth'));\n    });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const empty = '';\nexport var ValueTypes;\n(function (ValueTypes) {\n    ValueTypes[\"unknown\"] = \"unknown\";\n    ValueTypes[\"tag\"] = \"tag\";\n    ValueTypes[\"dom\"] = \"dom\";\n    ValueTypes[\"templater\"] = \"templater\";\n    ValueTypes[\"tagComponent\"] = \"tag-component\";\n    ValueTypes[\"object\"] = \"object\";\n    ValueTypes[\"tagArray\"] = \"tag-array\";\n    ValueTypes[\"subject\"] = \"subject\";\n    ValueTypes[\"tagJsSubject\"] = \"tagJsSubject\";\n    ValueTypes[\"oneRender\"] = \"oneRender\";\n    ValueTypes[\"date\"] = \"date\";\n    ValueTypes[\"string\"] = \"string\";\n    ValueTypes[\"number\"] = \"number\";\n    ValueTypes[\"boolean\"] = \"boolean\";\n    ValueTypes[\"function\"] = \"function\";\n    ValueTypes[\"undefined\"] = \"undefined\";\n})(ValueTypes || (ValueTypes = {}));\n//# sourceMappingURL=ValueTypes.enum.js.map","// taggedjs-no-compile\nimport { ValueTypes } from './ValueTypes.enum.js';\nexport const variablePrefix = ':tagvar';\nexport const variableSuffix = ':';\nexport const escapeVariable = '--' + variablePrefix + '--';\nexport const escapeSearch = new RegExp(escapeVariable, 'g');\nexport class BaseTag {\n    values;\n    tagJsType;\n    // present only when an array. Populated by Tag.key()\n    arrayValue;\n    templater;\n    constructor(values) {\n        this.values = values;\n    }\n    /** Used for array, such as array.map(), calls aka array.map(x => html``.key(x)) */\n    key(arrayValue) {\n        this.arrayValue = arrayValue;\n        return this;\n    }\n}\nexport class Tag extends BaseTag {\n    strings;\n    values;\n    tagJsType = ValueTypes.tag;\n    children;\n    constructor(strings, values) {\n        super(values);\n        this.strings = strings;\n        this.values = values;\n    }\n    html(strings, ...values) {\n        this.children = { strings, values };\n        return this;\n    }\n}\nexport class Dom extends BaseTag {\n    dom;\n    values;\n    tagJsType = ValueTypes.dom;\n    children;\n    constructor(dom, values) {\n        super(values);\n        this.dom = dom;\n        this.values = values;\n    }\n    html = {\n        // $this: this,\n        dom: (dom, ...values) => {\n            this.children = { dom, values };\n            return this;\n        }\n    };\n}\n//# sourceMappingURL=Tag.class.js.map","import { variableSuffix, variablePrefix } from \"../../tag/Tag.class.js\";\nimport { ValueTypes } from \"../../tag/ValueTypes.enum.js\";\nexport function replacePlaceholders(elements, values) {\n    // const rtnElements: (ObjectElement | ObjectText)[] = []\n    for (let i = 0; i < elements.length; i++) {\n        const element = elements[i];\n        // const element = {...elements[i]} // ???\n        // rtnElements.push(element)\n        // TODO: We most likely do not need to replace attributes\n        if ('attributes' in element) {\n            element.attributes = processAttributes(element.attributes, values);\n        }\n        if ('children' in element) {\n            // const children = [...element.children as ObjectChildren];\n            const children = element.children;\n            replacePlaceholders(children, values);\n            element.children = children;\n            // Remove empty children array\n            if (element.children.length === 0) {\n                delete element.children;\n            }\n        }\n        i = examineChild(element, values, elements, i);\n    }\n}\nfunction examineChild(child, values, children, index) {\n    if (child.nodeName !== 'text') {\n        return index;\n    }\n    const textChild = child;\n    let textContent = textChild.textContent;\n    if (typeof textContent !== 'string') {\n        return index;\n    }\n    const placeholderRegex = new RegExp(variablePrefix + '(\\\\d+)' + variableSuffix, 'g');\n    let match;\n    while ((match = placeholderRegex.exec(textContent)) !== null) {\n        const wIndex = parseInt(match[1], 10);\n        const examine = !isNaN(wIndex) && wIndex < values.length;\n        if (examine) {\n            const varContent = variablePrefix + wIndex + variableSuffix;\n            const before = textContent.slice(0, match.index);\n            const after = textContent.slice(match.index + varContent.length);\n            let value = values[wIndex];\n            if (value instanceof Array) {\n                value = value.map((x, index) => {\n                    if (x?.tagJsType === ValueTypes.dom) {\n                        const domClone = [...x.dom];\n                        const elements = replacePlaceholders(domClone, x.values);\n                        return domClone;\n                    }\n                    return x;\n                });\n            }\n            // TODO: I don't think we need three adds?\n            children.splice(index, 1, {\n                nodeName: 'text',\n                textContent: before\n            }, {\n                nodeName: 'text',\n                textContent: '',\n                value,\n            }, {\n                nodeName: 'text',\n                textContent: after\n            });\n            textContent = after;\n            placeholderRegex.lastIndex = 0; // Reset regex index due to split\n            index += 2; // Skip the newly inserted elements\n        }\n    }\n    textChild.textContent = textContent;\n    return index;\n}\nfunction processAttributes(attributes, values) {\n    return attributes.map(([key, value]) => {\n        if (key.startsWith(variablePrefix)) {\n            const index = parseInt(key.replace(variablePrefix, ''), 10);\n            if (!isNaN(index) && index < values.length) {\n                return [values[index]]; // the name is the value\n            }\n        }\n        if (typeof value === 'string' && value.startsWith(variablePrefix)) {\n            const index = parseInt(value.replace(variablePrefix, ''), 10);\n            if (!isNaN(index) && index < values.length) {\n                value = values[index];\n            }\n        }\n        return [key, value];\n    });\n}\n//# sourceMappingURL=replacePlaceholders.function.js.map","import { variableSuffix, variablePrefix } from \"../../tag/Tag.class.js\";\nexport const safeVar = '__safeTagVar';\nexport function restorePlaceholders(elements) {\n    elements.forEach(traverseAndRestore);\n}\nconst safeReplacer = /__safeTagVar(\\d+)/g;\nfunction traverseAndRestore(element) {\n    if ('attributes' in element) {\n        element.attributes = element.attributes.map(attr => {\n            if (attr.length === 1) {\n                return attr;\n            }\n            let [key, value] = attr;\n            if (typeof value === 'string' && value.startsWith(safeVar)) {\n                const index = parseInt(value.replace(safeVar, ''), 10);\n                value = variablePrefix + index + variableSuffix;\n            }\n            return [key, value];\n        });\n    }\n    if ('children' in element) {\n        const children = element.children;\n        for (let i = 0; i < children.length; i++) {\n            const child = children[i];\n            if (child.nodeName === 'text') {\n                if (typeof child.textContent !== 'string') {\n                    return;\n                }\n                child.textContent = child.textContent.replace(safeReplacer, (match, index) => variablePrefix + index + variableSuffix);\n            }\n            traverseAndRestore(child);\n        }\n        // Remove empty children array\n        if (children.length === 0) {\n            delete element.children;\n        }\n    }\n}\n//# sourceMappingURL=restorePlaceholders.function.js.map","import { variableSuffix, variablePrefix } from \"../../tag/Tag.class.js\";\nimport { replacePlaceholders } from \"./replacePlaceholders.function.js\";\nimport { restorePlaceholders } from \"./restorePlaceholders.function.js\";\nconst fragReplacer = /(^:tagvar\\d+:|:tagvar\\d+:$)/g;\nconst safeVar = '__safeTagVar';\nconst regexAttr = /([:_a-zA-Z0-9\\-\\.]+)(?:=\"([^\"]*)\"|=(\\S+))?/g;\nconst regexTagOrg = /<\\/?([a-zA-Z0-9\\-]+)([^>]*)>/;\nexport function htmlInterpolationToDomMeta(strings, values) {\n    // Sanitize placeholders in the fragments\n    const sanitizedFragments = sanitizePlaceholders(strings);\n    // Add placeholders to the fragments\n    const fragmentsWithPlaceholders = addPlaceholders(sanitizedFragments, values);\n    // Parse the modified fragments\n    const htmlString = fragmentsWithPlaceholders.join('');\n    const parsedElements = parseHTML(htmlString);\n    return parsedElements;\n}\nexport function exchangeParsedForValues(parsedElements, values) {\n    // Replace placeholders with actual dynamic values\n    replacePlaceholders(parsedElements, values);\n    // Restore any sanitized placeholders in text nodes\n    restorePlaceholders(parsedElements);\n    return parsedElements;\n}\nfunction sanitizePlaceholders(fragments) {\n    return fragments.map(fragment => fragment.replace(fragReplacer, (match, index) => safeVar + index));\n}\nfunction addPlaceholders(strings, values) {\n    const results = strings.map((fragment, index) => {\n        if (index < values.length) {\n            return fragment + variablePrefix + index + variableSuffix;\n        }\n        return fragment;\n    });\n    balanceArrayByArrays(results, strings, values);\n    return results;\n}\nfunction parseHTML(html) {\n    const elements = [];\n    const stack = [];\n    let currentElement = null;\n    let valueIndex = 0;\n    let position = 0;\n    const regexTag = new RegExp(regexTagOrg, 'g');\n    while (position < html.length) {\n        const tagMatch = regexTag.exec(html);\n        if (!tagMatch) {\n            break;\n        }\n        const [fullMatch, tagName, attrString] = tagMatch;\n        const isClosingTag = fullMatch.startsWith('</');\n        const isSelfClosing = fullMatch.endsWith('/>');\n        if (position < tagMatch.index) {\n            const textContent = html.slice(position, tagMatch.index);\n            if (textContent.trim()) {\n                const textNode = {\n                    nodeName: 'text',\n                    textContent // : textContent.trim() ??? new removed\n                };\n                if (currentElement) {\n                    if (!currentElement.children) {\n                        currentElement.children = [];\n                    }\n                    currentElement.children.push(textNode);\n                }\n                else {\n                    elements.push(textNode);\n                }\n            }\n        }\n        position = tagMatch.index + fullMatch.length;\n        if (isClosingTag) {\n            currentElement = stack.pop() || null;\n            continue;\n        }\n        const element = {\n            nodeName: tagName,\n            attributes: []\n        };\n        let attrMatch;\n        while ((attrMatch = regexAttr.exec(attrString)) !== null) {\n            let [_, attrName, attrValueQuoted, attrValueUnquoted] = attrMatch;\n            let attrValue = attrValueQuoted || attrValueUnquoted;\n            if (attrValue === undefined) {\n                const standAloneVar = attrName.slice(0, variablePrefix.length) === variablePrefix;\n                if (standAloneVar) {\n                    element.attributes.push([attrName]); // the name itself is dynamic\n                    continue;\n                }\n                attrValue = variablePrefix + (valueIndex++) + variableSuffix;\n            }\n            element.attributes.push([attrName.toLowerCase(), attrValue]);\n        }\n        if (currentElement) {\n            if (!currentElement.children) {\n                currentElement.children = [];\n            }\n            currentElement.children.push(element);\n        }\n        else {\n            elements.push(element);\n        }\n        if (!isSelfClosing) {\n            stack.push(currentElement);\n            currentElement = element;\n        }\n    }\n    if (position < html.length) {\n        const textContent = html.slice(position);\n        if (textContent.trim()) {\n            const textNode = {\n                nodeName: 'text',\n                textContent: textContent.trim()\n            };\n            if (currentElement) {\n                if (!currentElement.children) {\n                    currentElement.children = [];\n                }\n                currentElement.children.push(textNode);\n            }\n            else {\n                elements.push(textNode);\n            }\n        }\n    }\n    return elements;\n}\nexport function balanceArrayByArrays(results, strings, values) {\n    const diff = values.length - strings.length;\n    if (diff > 0) {\n        for (let x = diff; x > 0; --x) {\n            results.push(variablePrefix + (strings.length + x - 1) + variableSuffix);\n        }\n    }\n}\n//# sourceMappingURL=htmlInterpolationToDomMeta.function.js.map","import { htmlInterpolationToDomMeta } from '../interpolations/optimizers/htmlInterpolationToDomMeta.function.js';\nimport { getStringsId } from './getStringsId.function.js';\nimport { isLastRunMatched } from './isLastRunMatched.function.js';\nconst lastRuns = {};\n/** Converts strings & values into dom meta */\nexport function getDomMeta(strings, values) {\n    const stringId = getStringsId(strings, values);\n    const lastRun = lastRuns[stringId];\n    const matches = lastRun && isLastRunMatched(strings, values, lastRun);\n    let domMeta;\n    if (matches) {\n        domMeta = lastRun.domMeta;\n        return domMeta;\n    }\n    domMeta = htmlInterpolationToDomMeta(strings, values);\n    const template = {\n        interpolation: undefined,\n        string: undefined,\n        strings,\n        values,\n        domMeta,\n    };\n    lastRuns[stringId] = template;\n    return domMeta;\n}\n//# sourceMappingURL=domMetaCollector.js.map","export function getStringsId(strings, values) {\n    const array = strings.map(x => x.length);\n    array.push(strings.length);\n    // array.push(values.length)\n    return Number(array.join(''));\n}\n//# sourceMappingURL=getStringsId.function.js.map","export function isLastRunMatched(strings, values, lastRun) {\n    if (lastRun) {\n        if (lastRun.strings.length === strings.length) {\n            const stringsMatch = lastRun.strings.every((string, index) => \n            // string.length === strings[index].length\n            string === strings[index]);\n            if (stringsMatch && lastRun.values.length === values.length) {\n                return true; // performance savings using the last time this component was rendered\n            }\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=isLastRunMatched.function.js.map","import { ValueTypes } from './tag/ValueTypes.enum.js';\nexport function isStaticTag(value) {\n    return [\n        ValueTypes.dom,\n        ValueTypes.tag,\n        ValueTypes.templater,\n    ].includes(value?.tagJsType);\n}\nexport function isTagTemplater(value) {\n    return value?.tagJsType === ValueTypes.templater;\n}\n// TODO: whats the difference between isTagClass and isTagComponent\nexport function isTagComponent(value) {\n    return value?.tagJsType === ValueTypes.tagComponent;\n}\nexport function isTagClass(value) {\n    const tagJsType = value?.tagJsType;\n    return tagJsType && [ValueTypes.tag, ValueTypes.dom].includes(tagJsType);\n}\n// isSubjectLike\nexport function isSubjectInstance(subject) {\n    const isSubject = subject?.isSubject === true;\n    return (isSubject || subject?.subscribe) ? true : false; // subject?.isSubject === true || \n}\nexport function isTagArray(value) {\n    return value instanceof Array && value.every(x => [\n        ValueTypes.tag,\n        ValueTypes.templater,\n        ValueTypes.dom,\n        ValueTypes.tagComponent\n    ].includes(x?.tagJsType));\n}\n//# sourceMappingURL=isInstance.js.map","import { Subject } from './Subject.class.js';\nexport function combineLatest(subjects) {\n    const output = new Subject();\n    const subscribe = (callback) => {\n        const valuesSeen = [];\n        const values = [];\n        const setValue = (x, index) => {\n            valuesSeen[index] = true;\n            values[index] = x;\n            const countMatched = valuesSeen.length === subjects.length;\n            if (!countMatched) {\n                return;\n            }\n            for (let index = valuesSeen.length - 1; index >= 0; --index) {\n                if (!valuesSeen[index]) {\n                    return;\n                }\n            }\n            // everyone has reported values\n            callback(values, subscription);\n        };\n        const clones = [...subjects];\n        const firstSub = clones.shift();\n        const subscription = firstSub.subscribe(x => setValue(x, 0));\n        const subscriptions = clones.map((subject, index) => {\n            return subject.subscribe(x => setValue(x, index + 1));\n        });\n        subscription.subscriptions = subscriptions;\n        return subscription;\n    };\n    output.subscribeWith = subscribe;\n    return output;\n}\n//# sourceMappingURL=combineLatest.function.js.map","import { Subject } from './Subject.class.js';\nfunction removeSubFromArray(subscribers, callback) {\n    const index = subscribers.findIndex(sub => sub.callback === callback);\n    if (index !== -1) {\n        subscribers.splice(index, 1);\n    }\n}\nexport function getSubscription(subject, callback, subscribers) {\n    const countSubject = Subject.globalSubCount$;\n    Subject.globalSubCount$.next(countSubject._value + 1);\n    const subscription = function () {\n        subscription.unsubscribe();\n    };\n    subscription.callback = callback;\n    subscription.subscriptions = [];\n    // Return a function to unsubscribe from the BehaviorSubject\n    subscription.unsubscribe = function () {\n        return unsubscribe(subscription, subscribers, callback);\n    };\n    subscription.add = (sub) => {\n        subscription.subscriptions.push(sub);\n        return subscription;\n    };\n    subscription.next = (value) => {\n        callback(value, subscription);\n    };\n    return subscription;\n}\nexport function runPipedMethods(value, methods, onComplete) {\n    const cloneMethods = [...methods];\n    const firstMethod = cloneMethods.shift();\n    const next = (newValue) => {\n        if (cloneMethods.length) {\n            return runPipedMethods(newValue, cloneMethods, onComplete);\n        }\n        onComplete(newValue);\n    };\n    let handler = next;\n    const setHandler = (x) => handler = x;\n    const pipeUtils = { setHandler, next };\n    const methodResponse = firstMethod(value, pipeUtils);\n    handler(methodResponse);\n}\nfunction unsubscribe(subscription, subscribers, callback) {\n    removeSubFromArray(subscribers, callback); // each will be called when update comes in\n    Subject.globalSubCount$.next(Subject.globalSubCount$._value - 1);\n    // any double unsubscribes will be ignored\n    subscription.unsubscribe = () => subscription;\n    // unsubscribe from any combined subjects\n    const subscriptions = subscription.subscriptions;\n    for (let index = subscriptions.length - 1; index >= 0; --index) {\n        subscriptions[index].unsubscribe();\n    }\n    return subscription;\n}\n//# sourceMappingURL=subject.utils.js.map","import { isSubjectInstance } from '../isInstance.js';\nimport { combineLatest } from './combineLatest.function.js';\nimport { getSubscription, runPipedMethods } from './subject.utils.js';\nexport class Subject {\n    value;\n    onSubscription;\n    // private?\n    methods = [];\n    isSubject = true;\n    // private?\n    subscribers = [];\n    subscribeWith;\n    _value;\n    constructor(value, \n    // private?\n    onSubscription) {\n        this.value = value;\n        this.onSubscription = onSubscription;\n        this._value = value;\n        defineValueOn(this);\n    }\n    subscribe(callback) {\n        const subscription = getSubscription(this, callback, this.subscribers);\n        // are we within a pipe?\n        const subscribeWith = this.subscribeWith;\n        if (subscribeWith) {\n            // are we in a pipe?\n            if (this.methods.length) {\n                const orgCallback = callback;\n                callback = (value) => {\n                    runPipedMethods(value, this.methods, lastValue => orgCallback(lastValue, subscription));\n                };\n            }\n            return subscribeWith(callback);\n        }\n        this.subscribers.push(subscription);\n        if (this.onSubscription) {\n            this.onSubscription(subscription);\n        }\n        return subscription;\n    }\n    next(value) {\n        this._value = value;\n        this.emit();\n    }\n    set = this.next;\n    emit() {\n        const value = this._value;\n        // Notify all subscribers with the new value\n        // const subs = [...this.subscribers] // subs may change as we call callbacks\n        const subs = this.subscribers; // subs may change as we call callbacks\n        // const length = subs.length\n        for (let index = 0; index < subs.length; ++index) {\n            const sub = subs[index];\n            sub.callback(value, sub);\n        }\n    }\n    toPromise() {\n        return new Promise(res => {\n            this.subscribe((x, subscription) => {\n                subscription.unsubscribe();\n                res(x);\n            });\n        });\n    }\n    /** like toPromise but faster */\n    toCallback(callback) {\n        const subscription = this.subscribe((x, _subscription) => {\n            subscription.unsubscribe();\n            callback(x);\n        });\n        return this;\n    }\n    pipe(...operations) {\n        const subject = new Subject(this._value);\n        subject.setMethods(operations);\n        subject.subscribeWith = (x) => this.subscribe(x);\n        subject.next = x => this.next(x);\n        return subject;\n    }\n    setMethods(operations) {\n        this.methods = operations;\n    }\n    static all(args) {\n        const switched = args.map(arg => {\n            if (isSubjectInstance(arg))\n                return arg;\n            // Call the callback immediately with the current value\n            const x = new Subject(arg, subscription => {\n                subscription.next(arg);\n                return subscription;\n            });\n            return x;\n        });\n        return combineLatest(switched);\n    }\n    static globalSubCount$ = new Subject(0); // for ease of debugging\n}\nexport function defineValueOn(subject) {\n    Object.defineProperty(subject, 'value', {\n        // supports subject.value = x\n        set(value) {\n            subject._value = value;\n            subject.emit();\n        },\n        // supports subject.value\n        get() {\n            return subject._value;\n        }\n    });\n}\n//# sourceMappingURL=Subject.class.js.map","import { Subject, defineValueOn } from './Subject.class.js';\nexport class ValueSubject extends Subject {\n    value;\n    constructor(value) {\n        super(value);\n        this.value = value;\n        defineValueOn(this);\n    }\n    subscribe(callback) {\n        const subscription = super.subscribe(callback);\n        // Call the callback immediately with the current value\n        callback(this._value, subscription);\n        return subscription;\n    }\n}\n//# sourceMappingURL=ValueSubject.js.map","import { setUse } from '../state/index.js';\nexport function getSupportInCycle() {\n    return setUse.memory.stateConfig.support;\n}\n//# sourceMappingURL=getSupportInCycle.function.js.map","const tagUse = [];\nexport function setUse(use) {\n    // must provide defaults\n    const useMe = {\n        beforeRender: use.beforeRender || (() => undefined),\n        beforeRedraw: use.beforeRedraw || (() => undefined),\n        afterRender: use.afterRender || (() => undefined),\n        beforeDestroy: use.beforeDestroy || (() => undefined),\n    };\n    setUse.tagUse.push(useMe);\n}\nsetUse.tagUse = tagUse;\nsetUse.memory = {};\n//# sourceMappingURL=setUse.function.js.map","export class TagError extends Error {\n    details;\n    constructor(message, errorCode, details = {}) {\n        super(message);\n        this.name = TagError.name;\n        this.details = { ...details, errorCode };\n    }\n}\nexport class ArrayNoKeyError extends TagError {\n    constructor(message, details) {\n        super(message, 'array-no-key-error', details);\n        this.name = ArrayNoKeyError.name;\n    }\n}\nexport class StateMismatchError extends TagError {\n    constructor(message, details) {\n        super(message, 'state-mismatch-error', details);\n        this.name = StateMismatchError.name;\n    }\n}\nexport class SyncCallbackError extends TagError {\n    constructor(message, details) {\n        super(message, 'sync-callback-error', details);\n        this.name = SyncCallbackError.name;\n    }\n}\n//# sourceMappingURL=errors.js.map","import { StateMismatchError } from '../errors.js';\nimport { setUse } from './setUse.function.js';\nconst badLetState = 'letState function incorrectly used. Second item in array is not setting expected value.\\n\\n' +\n    'For \"let\" state use `let name = state(default)(x => [name, name = x])`\\n\\n' +\n    'For \"const\" state use `const name = state(default)()`\\n\\n' +\n    'Problem state:\\n';\nsetUse.memory.stateConfig = {\n    array: [], // state memory on the first render\n    // rearray: [] as State,\n};\nconst beforeRender = (support) => initState(support);\nsetUse({\n    beforeRender,\n    beforeRedraw: beforeRender,\n    afterRender: (support) => {\n        const state = support.state;\n        const config = setUse.memory.stateConfig;\n        const rearray = config.rearray;\n        if (rearray.length) {\n            if (rearray.length !== config.array.length) {\n                const message = `States lengths have changed ${rearray.length} !== ${config.array.length}. State tracking requires the same amount of function calls every render. Typically this errors is thrown when a state like function call occurs only for certain conditions or when a function is intended to be wrapped with a tag() call`;\n                const wrapper = support.templater?.wrapper;\n                const details = {\n                    oldStates: config.array,\n                    newStates: config.rearray,\n                    tagFunction: wrapper.parentWrap.original,\n                };\n                const error = new StateMismatchError(message, details);\n                console.warn(message, details);\n                throw error;\n            }\n        }\n        delete config.rearray; // clean up any previous runs\n        delete config.support;\n        state.length = 0;\n        state.push(...config.array);\n        for (let index = state.length - 1; index >= 0; --index) {\n            const item = state[index];\n            item.lastValue = getStateValue(item); // set last values\n        }\n        config.array = [];\n    }\n});\nexport function getStateValue(state) {\n    const callback = state.callback;\n    if (!callback) {\n        return state.defaultValue;\n    }\n    const [value, checkValue] = getCallbackValue(callback);\n    if (checkValue !== StateEchoBack) {\n        const message = badLetState + (callback ? callback.toString() : JSON.stringify(state)) + '\\n';\n        console.error(message, { state, callback, value, checkValue });\n        throw new Error(message);\n    }\n    return value;\n}\nexport class StateEchoBack {\n}\nfunction initState(support) {\n    const state = support.state;\n    const config = setUse.memory.stateConfig;\n    config.rearray = [];\n    const stateLength = state?.length;\n    if (stateLength) {\n        for (let index = 0; index < stateLength; ++index) {\n            getStateValue(state[index]);\n        }\n        config.rearray.push(...state);\n    }\n    config.support = support;\n}\nexport function getCallbackValue(callback) {\n    const oldState = callback(StateEchoBack); // get value and set to undefined\n    const [value] = oldState;\n    const [checkValue] = callback(value); // set back to original value\n    return [value, checkValue];\n}\n//# sourceMappingURL=state.utils.js.map","export function syncStates(stateFrom, stateTo) {\n    for (let index = stateFrom.length - 1; index >= 0; --index) {\n        const state = stateFrom[index];\n        const fromValue = state.get();\n        const callback = stateTo[index].callback;\n        if (callback) {\n            callback(fromValue); // set the value\n        }\n        stateTo[index].lastValue = fromValue; // record the value\n    }\n}\n//# sourceMappingURL=syncStates.function.js.map","import { setUse } from './setUse.function.js';\nimport { getStateValue } from './state.utils.js';\nimport { syncStates } from './syncStates.function.js';\n/** Used for variables that need to remain the same variable during render passes */\nexport function state(defaultValue) {\n    const config = setUse.memory.stateConfig;\n    let getSetMethod;\n    const rearray = config.rearray;\n    const restate = rearray[config.array.length];\n    if (restate) {\n        let oldValue = getStateValue(restate);\n        getSetMethod = ((x) => [oldValue, oldValue = x]);\n        const push = {\n            get: () => getStateValue(push),\n            callback: getSetMethod,\n            lastValue: oldValue,\n            defaultValue: restate.defaultValue,\n        };\n        config.array.push(push);\n        return oldValue;\n    }\n    // State first time run\n    const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue;\n    let initValue = defaultFn();\n    // the state is actually intended to be a function\n    if (initValue instanceof Function) {\n        const oldState = config.array;\n        const support = config.support;\n        const original = initValue;\n        initValue = ((...args) => {\n            const global = support.subject.global;\n            const newest = global.newest;\n            const newState = newest.state;\n            syncStates(newState, oldState);\n            const result = original(...args);\n            syncStates(oldState, newState);\n            return result;\n        });\n        initValue.original = original;\n    }\n    getSetMethod = ((x) => [initValue, initValue = x]);\n    const push = {\n        get: () => getStateValue(push),\n        callback: getSetMethod,\n        lastValue: initValue,\n        defaultValue: initValue,\n    };\n    config.array.push(push);\n    return initValue;\n}\n//# sourceMappingURL=state.function.js.map","import { ValueSubject } from '../subject/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nimport { syncStates } from './syncStates.function.js';\n/**\n * When an item in watch array changes, callback function will be triggered. Triggers on initial watch setup. TIP: try watch.noInit()\n * @param currentValues T[]\n * @param callback WatchCallback\n * @returns T[]\n */\nexport const watch = ((currentValues, callback) => {\n    return setupWatch(currentValues, callback);\n});\nconst defaultFinally = (x) => x;\nfunction newWatch(setup) {\n    const method = (currentValues, callback) => {\n        return setupWatch(currentValues, callback, setup);\n    };\n    method.setup = setup;\n    defineOnMethod(() => method, method);\n    return method;\n}\n/**\n * puts above functionality together\n * @param currentValues values being watched\n * @param callback (currentValue, previousValues) => resolveToValue\n * @param param2\n * @returns\n */\nconst setupWatch = (currentValues, callback, { init, before = () => true, final = defaultFinally, } = {}) => {\n    let previous = state({\n        pastResult: undefined,\n        values: undefined,\n    });\n    const previousValues = previous.values;\n    // First time running watch?\n    if (previousValues === undefined) {\n        if (!before(currentValues)) {\n            previous.values = currentValues;\n            return previous.pastResult; // do not continue\n        }\n        const castedInit = init || callback;\n        const result = castedInit(currentValues, previousValues);\n        previous.pastResult = final(result);\n        previous.values = currentValues;\n        return previous.pastResult;\n    }\n    const allExact = currentValues.every((item, index) => item === previousValues[index]);\n    if (allExact) {\n        return previous.pastResult;\n    }\n    if (!before(currentValues)) {\n        previous.values = currentValues;\n        return previous.pastResult; // do not continue\n    }\n    const result = callback(currentValues, previousValues);\n    previous.pastResult = final(result);\n    previousValues.length = 0;\n    previousValues.push(...currentValues);\n    return previous.pastResult;\n};\nfunction defineOnMethod(getWatch, attachTo) {\n    Object.defineProperty(attachTo, 'noInit', {\n        get() {\n            const watch = getWatch();\n            watch.setup.init = () => undefined;\n            return watch;\n        },\n    });\n    Object.defineProperty(attachTo, 'asSubject', {\n        get() {\n            const oldWatch = getWatch();\n            const firstSupport = state(() => getSupportInCycle());\n            const subject = state(() => new ValueSubject(undefined));\n            const method = (currentValues, callback) => {\n                setupWatch(currentValues, (currentValues, previousValues) => {\n                    const nowSupport = getSupportInCycle();\n                    const setTo = callback(currentValues, previousValues);\n                    if (nowSupport !== firstSupport) {\n                        const newestState = setUse.memory.stateConfig.array;\n                        syncStates(newestState, firstSupport.state);\n                    }\n                    subject.next(setTo);\n                }, oldWatch.setup);\n                return subject;\n            };\n            method.setup = oldWatch.setup;\n            defineOnMethod(() => method, method);\n            return method;\n        },\n    });\n    Object.defineProperty(attachTo, 'truthy', {\n        get() {\n            const watch = getWatch();\n            watch.setup.before = (currentValues) => currentValues.every(x => x);\n            return watch;\n        },\n    });\n    return attachTo;\n}\ndefineOnMethod(() => newWatch({}), watch);\n//# sourceMappingURL=watch.function.js.map","import { Subject, ValueSubject } from '../subject/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nimport { syncStates } from './syncStates.function.js';\n/** Create a Subject that on updates will sync state values to keep chained functions using latest variables */\nexport function subject(value, onSubscription) {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return state(() => {\n        const subject = new Subject(value, onSubscription).pipe(x => {\n            syncStates(nowSupport.state, oldestState);\n            return x;\n        });\n        return subject;\n    });\n}\nsubject._value = (value) => {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return state(() => {\n        const subject = new ValueSubject(value).pipe(x => {\n            syncStates(nowSupport.state, oldestState);\n            return x;\n        });\n        return subject;\n    });\n};\nfunction all(args) {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return Subject.all(args).pipe(x => {\n        syncStates(nowSupport.state, oldestState);\n        return x;\n    });\n}\nsubject.all = all;\n//# sourceMappingURL=subject.function.js.map","import { getStateValue } from './state.utils.js';\nimport { setUse } from './setUse.function.js';\n/** Used for variables that need to remain the same variable during render passes. If defaultValue is a function it is called only once, its return value is first state, and let value can changed */\nexport function letState(defaultValue) {\n    const config = setUse.memory.stateConfig;\n    const rearray = config.rearray;\n    let getSetMethod;\n    const restate = rearray[config.array.length];\n    if (restate) {\n        let oldValue = getStateValue(restate);\n        getSetMethod = ((x) => [oldValue, oldValue = x]);\n        const push = {\n            get: () => getStateValue(push),\n            callback: getSetMethod,\n            lastValue: oldValue,\n            defaultValue: restate.defaultValue,\n        };\n        config.array.push(push);\n        return makeStateResult(oldValue, push);\n    }\n    // State first time run\n    const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue;\n    let initValue = defaultFn();\n    getSetMethod = ((x) => [initValue, initValue = x]);\n    const push = {\n        get: () => getStateValue(push),\n        callback: getSetMethod,\n        lastValue: initValue,\n        defaultValue: initValue,\n    };\n    config.array.push(push);\n    return makeStateResult(initValue, push);\n}\nfunction makeStateResult(initValue, push) {\n    // return initValue\n    const result = (y) => {\n        push.callback = y || (x => [initValue, initValue = x]);\n        return initValue;\n    };\n    return result;\n}\n//# sourceMappingURL=letState.function.js.map","import { ValueTypes } from './tag/ValueTypes.enum.js';\nexport function deepClone(obj) {\n    // return makeDeepClone(obj, new WeakMap())\n    return makeDeepClone(obj, 0);\n}\nfunction makeDeepClone(obj, \n// visited: WeakMap<any, any>\ndepth) {\n    // If obj is a primitive type or null, return it directly\n    if (obj === null || typeof obj !== ValueTypes.object) {\n        return obj;\n    }\n    // If obj is already visited, return the cloned reference\n    /*\n    if (visited.has(obj)) {\n      return visited.get(obj)\n    }\n    */\n    if (depth === 15) {\n        return obj;\n    }\n    // Handle special cases like Date and RegExp\n    if (obj instanceof Date) {\n        return new Date(obj);\n    }\n    if (obj instanceof RegExp) {\n        return new RegExp(obj);\n    }\n    // Create an empty object or array with the same prototype\n    const clone = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n    // Register the cloned object to avoid cyclic references\n    // visited.set(obj, clone)\n    // Clone each property or element of the object or array\n    if (Array.isArray(obj)) {\n        for (let i = 0; i < obj.length; i++) {\n            // clone[i] = makeDeepClone(obj[i], visited)\n            clone[i] = makeDeepClone(obj[i], depth + 1);\n        }\n    }\n    else {\n        for (const key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                // clone[key] = makeDeepClone(obj[key], visited)\n                clone[key] = makeDeepClone(obj[key], depth + 1);\n            }\n        }\n    }\n    return clone;\n}\nexport function deepEqual(obj1, obj2) {\n    // return isDeepEqual(obj1, obj2, new WeakMap())\n    return isDeepEqual(obj1, obj2, 0);\n}\nfunction isDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\ndepth) {\n    const directEqual = obj1 === obj2;\n    if (directEqual || isSameFunctions(obj1, obj2)) {\n        return true;\n    }\n    // If obj is already visited, return the cloned reference\n    // if (visited.has(obj1)) {\n    if (depth === 15) {\n        return true;\n    }\n    if (typeof obj1 === ValueTypes.object && typeof obj2 === ValueTypes.object) {\n        // both are dates and were already determined not the same\n        if (obj1 instanceof Date && obj2 instanceof Date) {\n            return obj1.getTime() === obj2.getTime();\n        }\n        // Register the cloned object to avoid cyclic references\n        // visited.set(obj1, 0)\n        // Check if obj1 and obj2 are both arrays\n        if (Array.isArray(obj1) && Array.isArray(obj2)) {\n            // return isArrayDeepEqual(obj1, obj2, visited)\n            return isArrayDeepEqual(obj1, obj2, depth + 1);\n        }\n        else if (Array.isArray(obj1) || Array.isArray(obj2)) {\n            // One is an array, and the other is not\n            return false;\n        }\n        // return isObjectDeepEqual(obj1, obj2, visited)\n        return isObjectDeepEqual(obj1, obj2, depth + 1);\n    }\n    return false;\n}\nfunction isObjectDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\ndepth) {\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length === 0 && keys2.length === 0) {\n        return true;\n    }\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const keyFound = keys2.includes(key);\n        if (!keyFound || !isDeepEqual(obj1[key], obj2[key], depth + 1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isArrayDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\ndepth) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    for (let i = 0; i < obj1.length; i++) {\n        // if (!isDeepEqual(obj1[i], obj2[i], visited)) {\n        if (!isDeepEqual(obj1[i], obj2[i], depth + 1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isSameFunctions(fn0, fn1) {\n    const bothFunction = fn0 instanceof Function && fn1 instanceof Function;\n    return bothFunction && fn0.toString() === fn1.toString();\n}\n//# sourceMappingURL=deepFunctions.js.map","import { deepClone } from '../deepFunctions.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nexport const providers = {\n    create: (constructMethod) => {\n        const stateDiffMemory = state(() => ({ stateDiff: 0, provider: undefined }));\n        // mimic how many states were called the first time\n        if (stateDiffMemory.stateDiff) {\n            for (let x = stateDiffMemory.stateDiff; x > 0; --x) {\n                state(undefined);\n            }\n            const result = state(undefined);\n            return result;\n        }\n        const result = state(() => {\n            const memory = setUse.memory;\n            const stateConfig = memory.stateConfig;\n            const oldStateCount = stateConfig.array.length;\n            // Providers with provider requirements just need to use providers.create() and providers.inject()\n            const instance = 'prototype' in constructMethod ? new constructMethod() : constructMethod();\n            const support = stateConfig.support;\n            const stateDiff = stateConfig.array.length - oldStateCount;\n            const provider = {\n                constructMethod,\n                instance,\n                clone: deepClone(instance),\n                stateDiff,\n                owner: support,\n                children: [],\n            };\n            stateDiffMemory.provider = provider;\n            support.subject.global.providers.push(provider);\n            stateDiffMemory.stateDiff = stateDiff;\n            return instance;\n        });\n        const cm = constructMethod;\n        // const compareTo = cm.compareTo = cm.compareTo || cm.toString()\n        const compareTo = cm.compareTo = cm.toString();\n        stateDiffMemory.provider.constructMethod.compareTo = compareTo;\n        return result;\n    },\n    /**\n     * @template T\n     * @param {(new (...args: any[]) => T) | () => T} constructor\n     * @returns {T}\n     */\n    inject: (constructor) => {\n        // find once, return same every time after\n        return state(() => {\n            const memory = setUse.memory;\n            const cm = constructor;\n            const compareTo = cm.compareTo = cm.compareTo || constructor.toString();\n            const support = memory.stateConfig.support;\n            const providers = [];\n            let owner = {\n                ownerSupport: support.ownerSupport\n            };\n            while (owner.ownerSupport) {\n                const ownerProviders = owner.ownerSupport.subject.global.providers;\n                const provider = ownerProviders.find(provider => {\n                    providers.push(provider);\n                    const constructorMatch = provider.constructMethod.compareTo === compareTo;\n                    if (constructorMatch) {\n                        return true;\n                    }\n                });\n                if (provider) {\n                    provider.clone = deepClone(provider.instance); // keep a copy of the latest before any change occur\n                    const support = memory.stateConfig.support;\n                    support.subject.global.providers.push(provider);\n                    provider.children.push(support);\n                    return provider.instance;\n                }\n                owner = owner.ownerSupport; // cause reloop checking next parent\n            }\n            const msg = `Could not inject provider: ${constructor.name} ${constructor}`;\n            console.warn(`${msg}. Available providers`, providers);\n            throw new Error(msg);\n        });\n    }\n};\n//# sourceMappingURL=providers.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nimport { deepEqual } from '../deepFunctions.js';\nexport function isLikeTags(support0, // new\nsupport1) {\n    const templater0 = support0.templater;\n    const templater1 = support1.templater;\n    // TODO: turn this on\n    /*\n    if(templater0 === templater1) {\n      return true\n    }\n    */\n    const tag0 = templater0?.tag || support0;\n    const tag1 = templater1.tag;\n    if (tag0.tagJsType !== tag1.tagJsType) {\n        return false;\n    }\n    if (tag0.tagJsType === ValueTypes.dom) {\n        return isLikeDomTags(tag0, tag1, support0, support1);\n    }\n    return isLikeStringTags(tag0, tag1, support0, support1);\n}\nfunction isLikeDomTags(tag0, tag1, support0, // new\nsupport1) {\n    const dom0 = tag0.dom;\n    const dom1 = tag1.dom;\n    if (dom0 !== dom1) {\n        const equal = deepEqual(tag0.dom, tag1.dom);\n        if (!equal) {\n            return false;\n        }\n    }\n    const values0 = support0.values || tag0.values;\n    const values1 = support1.values || tag1.values;\n    return isLikeValueSets(values0, values1);\n}\nfunction isLikeStringTags(tag0, tag1, support0, // new\nsupport1) {\n    const strings0 = tag0.strings;\n    const strings1 = tag1.strings || support1.strings;\n    if (strings0.length !== strings1.length) {\n        return false;\n    }\n    const everyStringMatched = strings0.every((string, index) => strings1[index].length === string.length // performance, just compare length of strings // TODO: Document this\n    // strings1[index] === string // slower\n    );\n    if (!everyStringMatched) {\n        return false;\n    }\n    const values0 = support0.values || tag0.values;\n    const values1 = support1.values || tag1.values;\n    return isLikeValueSets(values0, values1);\n}\nexport function isLikeValueSets(values0, values1) {\n    const valuesLengthsMatch = values0.length === values1.length;\n    if (!valuesLengthsMatch) {\n        return false;\n    }\n    const allVarsMatch = values1.every((value, index) => {\n        const compareTo = values0[index];\n        const isFunctions = value instanceof Function && compareTo instanceof Function;\n        if (isFunctions) {\n            const stringMatch = value.toString() === compareTo.toString();\n            if (stringMatch) {\n                return true;\n            }\n            return false;\n        }\n        return true; // deepEqual(value, compareTo)\n    });\n    if (allVarsMatch) {\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=isLikeTags.function.js.map","import { setUse } from '../state/index.js';\nimport { Subject } from '../subject/index.js';\nimport { getSupportInCycle } from './getSupportInCycle.function.js';\n// Emits event at the end of a tag being rendered. Use tagClosed$.toPromise() to render a tag after a current tag is done rendering\nsetUse.memory.tagClosed$ = new Subject(undefined, subscription => {\n    if (!getSupportInCycle()) {\n        subscription.next(); // we are not currently processing so process now\n    }\n});\n// Life cycle 1\nexport function runBeforeRender(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeRender(support, ownerSupport);\n    }\n}\n// Life cycle 2\nexport function runAfterRender(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].afterRender(support, ownerSupport);\n    }\n    setUse.memory.tagClosed$.next(ownerSupport);\n}\n// Life cycle 3\nexport function runBeforeRedraw(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeRedraw(support, ownerSupport);\n    }\n}\n// Life cycle 4 - end of life\nexport function runBeforeDestroy(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeDestroy(support, ownerSupport);\n    }\n    support.subject.global.deleted = true;\n    support.hasLiveElements = false;\n    // remove me from my parents\n    if (ownerSupport) {\n        ownerSupport.subject.global.childTags = ownerSupport.subject.global.childTags.filter(child => child !== support.subject.global.oldest);\n        const global = support.subject.global;\n        global.providers.forEach(provider => provider.children.forEach((child, index) => {\n            if (child.subject.global === global) {\n                provider.children.splice(index, 1);\n            }\n        }));\n    }\n}\n//# sourceMappingURL=tagRunner.js.map","import { runBeforeRedraw, runBeforeRender } from '../tagRunner.js';\nimport { runAfterRender } from '../tagRunner.js';\nexport function renderTagOnly(newSupport, prevSupport, subject, ownerSupport) {\n    const oldRenderCount = subject.global.renderCount;\n    beforeWithRender(newSupport, ownerSupport, prevSupport);\n    const templater = newSupport.templater;\n    // NEW TAG CREATED HERE\n    const wrapper = templater.wrapper;\n    let reSupport = wrapper(newSupport, subject, prevSupport);\n    /* AFTER */\n    runAfterRender(newSupport, ownerSupport);\n    subject.global.newest = reSupport;\n    if (!prevSupport && ownerSupport) {\n        ownerSupport.subject.global.childTags.push(reSupport);\n    }\n    // When we rendered, only 1 render should have taken place OTHERWISE rendering caused another render and that is the latest instead\n    if (subject.global.renderCount > oldRenderCount + 1) {\n        return subject.global.newest;\n    }\n    return reSupport;\n}\nfunction beforeWithRender(support, // new\nparentSupport, prevSupport) {\n    const lastOwnerSupport = prevSupport?.ownerSupport;\n    const runtimeOwnerSupport = lastOwnerSupport || parentSupport;\n    if (prevSupport) {\n        if (prevSupport !== support) {\n            const lastState = prevSupport.state;\n            support.subject.global = prevSupport.subject.global;\n            support.state.length = 0;\n            support.state.push(...lastState);\n        }\n        return runBeforeRedraw(support, prevSupport);\n    }\n    // first time render\n    return runBeforeRender(support, runtimeOwnerSupport);\n}\n//# sourceMappingURL=renderTagOnly.function.js.map","export function destroyTagMemory(oldSupport) {\n    const global = oldSupport.subject.global;\n    // must destroy oldest which is tag with elements on stage\n    const oldest = global.oldest;\n    oldest.destroy();\n    oldSupport.subject.global.context = [];\n}\n//# sourceMappingURL=destroyTag.function.js.map","import { isStaticTag } from '../isInstance.js';\nimport { isLikeTags } from './isLikeTags.function.js';\nimport { destroyTagMemory } from './destroyTag.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nexport function checkDestroyPrevious(subject, // existing.value is the old value\nnewValue, valueType) {\n    const displaySubject = subject;\n    const hasLastValue = 'lastValue' in displaySubject;\n    const lastValue = displaySubject.lastValue; // TODO: we maybe able to use displaySubject.value and remove concept of lastValue\n    // was simple value but now something bigger\n    if (hasLastValue && lastValue !== newValue) {\n        // below is faster than using getValueType\n        const newType = typeof (newValue);\n        if (isSimpleType(newType) && typeof (lastValue) === newType) {\n            return false;\n        }\n        if (newValue instanceof Function && lastValue instanceof Function) {\n            return false;\n        }\n        destroySimpleValue(displaySubject);\n        return 'changed-simple-value';\n    }\n    const arraySubject = subject;\n    const wasArray = arraySubject.lastArray;\n    // no longer an array\n    if (wasArray && valueType !== ValueTypes.tagArray) {\n        delete arraySubject.lastArray;\n        for (let index = wasArray.array.length - 1; index >= 0; --index) {\n            const { support } = wasArray.array[index];\n            destroyArrayTag(support, { added: 0, removed: 0 });\n        }\n        return 'array';\n    }\n    const tagSubject = subject;\n    const lastSupport = tagSubject.support;\n    // no longer tag or component?\n    if (lastSupport) {\n        const isValueTag = isStaticTag(newValue);\n        const isSubjectTag = isStaticTag(subject._value);\n        const newTag = newValue;\n        if (isSubjectTag && isValueTag) {\n            // its a different tag now\n            const likeTags = isLikeTags(newTag, lastSupport);\n            if (!likeTags) {\n                // put template back down\n                destroyTagMemory(lastSupport);\n                return 2;\n            }\n            return false;\n        }\n        if (valueType === ValueTypes.tagComponent) {\n            return false; // its still a tag component\n        }\n        if (newValue && newValue.oneRender) {\n            return false;\n        }\n        // destroy old component, value is not a component\n        destroyTagMemory(lastSupport);\n        // delete lastSupport.global.deleted // ???\n        return 'different-tag';\n    }\n    return false;\n}\nexport function isSimpleType(value) {\n    return [\n        ValueTypes.string,\n        ValueTypes.number,\n        ValueTypes.boolean,\n    ].includes(value);\n}\nexport function destroyArrayTag(support, counts) {\n    support.destroy({\n        stagger: counts.removed++,\n    });\n}\nfunction destroySimpleValue(subject) {\n    delete subject.lastValue;\n}\n//# sourceMappingURL=checkDestroyPrevious.function.js.map","import { isSimpleType } from './checkDestroyPrevious.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { isSubjectInstance, isTagArray } from '../isInstance.js';\nexport function getValueType(value) {\n    if (value === undefined || value === null) {\n        return ValueTypes.undefined;\n    }\n    const type = typeof (value);\n    if (value instanceof Function) {\n        return ValueTypes.function;\n    }\n    if (isSimpleType(type)) {\n        return type;\n    }\n    if (type === ValueTypes.object) {\n        if (value instanceof Date) {\n            return ValueTypes.date;\n        }\n        const tagJsType = value.tagJsType;\n        if (tagJsType) {\n            return tagJsType;\n            /*\n            const included = [\n              ValueTypes.tagComponent,\n              ValueTypes.templater,\n              ValueTypes.tag,\n              ValueTypes.dom,\n            ].includes(tagJsType)\n        \n            if(included) {\n              return tagJsType\n            }\n            */\n        }\n        if (isTagArray(value)) {\n            return ValueTypes.tagArray;\n        }\n        if (isSubjectInstance(value)) {\n            return ValueTypes.subject;\n        }\n    }\n    return ValueTypes.unknown;\n}\n//# sourceMappingURL=getValueType.function.js.map","import { deepClone } from '../deepFunctions.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { getValueType } from './getValueType.function.js';\nexport function cloneValueArray(values) {\n    return values.map(cloneTagJsValue);\n}\nexport function cloneTagJsValue(value) {\n    const tag = value;\n    switch (getValueType(value)) {\n        case ValueTypes.tagComponent:\n            const tagComponent = value;\n            return deepClone(tagComponent.props);\n        case ValueTypes.dom:\n        case ValueTypes.tag:\n        case ValueTypes.templater:\n            return cloneValueArray(tag.values);\n        case ValueTypes.tagArray:\n            return cloneValueArray(tag);\n    }\n    return deepClone(value);\n}\n//# sourceMappingURL=cloneValueArray.function.js.map","export function getChildTagsToDestroy(childTags, allTags = []) {\n    for (let index = childTags.length - 1; index >= 0; --index) {\n        const cTag = childTags[index];\n        allTags.push(cTag);\n        getChildTagsToDestroy(cTag.subject.global.childTags, allTags);\n    }\n    return allTags;\n}\n//# sourceMappingURL=destroy.support.js.map","import { isSubjectInstance, isTagArray } from '../isInstance.js';\nimport { ValueSubject } from '../subject/ValueSubject.js';\nexport function kidsToTagArraySubject(children, templaterResult) {\n    if (isSubjectInstance(children)) {\n        return children;\n    }\n    const kidArray = children;\n    if (isTagArray(kidArray)) {\n        templaterResult.madeChildIntoSubject = true; // was converted into a subject\n        return new ValueSubject(children);\n    }\n    const kid = children;\n    if (kid) {\n        templaterResult.madeChildIntoSubject = true; // was converted into a subject\n        kid.arrayValue = 0;\n        return new ValueSubject([kid]);\n    }\n    templaterResult.madeChildIntoSubject = true; // was converted into a subject\n    return new ValueSubject([]);\n}\n//# sourceMappingURL=kidsToTagArraySubject.function.js.map","import { Tag, Dom } from './Tag.class.js';\nimport { ValueSubject } from '../subject/index.js';\nimport { kidsToTagArraySubject } from './kidsToTagArraySubject.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nexport class TemplaterResult {\n    props;\n    tagJsType = ValueTypes.templater;\n    tagged;\n    wrapper;\n    madeChildIntoSubject;\n    tag;\n    children = new ValueSubject([]);\n    arrayValue; // used for tag components used in arrays\n    constructor(props) {\n        this.props = props;\n        this.html.dom = this.dom.bind(this);\n    }\n    key(arrayValue) {\n        this.arrayValue = arrayValue;\n        return this;\n    }\n    /** children */\n    html(strings, ...values) {\n        const children = new Tag(strings, values);\n        const childSubject = kidsToTagArraySubject(children, this);\n        this.children = childSubject;\n        return this;\n    }\n    /** children */\n    dom(strings, ...values) {\n        const children = new Dom(strings, values);\n        const childSubject = kidsToTagArraySubject(children, this);\n        this.children = childSubject;\n        return this;\n    }\n}\n//# sourceMappingURL=TemplaterResult.class.js.map","import { Subject } from '../../subject/Subject.class.js';\nimport { ValueSubject } from '../../subject/ValueSubject.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nexport class TagJsSubject extends ValueSubject {\n    tagJsType = ValueTypes.tagJsSubject;\n    // travels with all renderings\n    global = getNewGlobal();\n}\nexport function getNewGlobal() {\n    return {\n        destroy$: new Subject(),\n        context: [], // populated after reading interpolated.values array converted to an object {variable0, variable:1}\n        providers: [],\n        /** Indicator of re-rending. Saves from double rending something already rendered */\n        renderCount: 0,\n        subscriptions: [],\n        oldest: undefined, // TODO: This needs to addressed\n        blocked: [], // renders that did not occur because an event was processing\n        childTags: [], // tags on me\n        clones: [], // elements on document. Needed at destroy process to know what to destroy\n    };\n}\n//# sourceMappingURL=TagJsSubject.class.js.map","import { TemplaterResult } from '../TemplaterResult.class.js';\nimport { Support } from '../Support.class.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getValueType } from '../getValueType.function.js';\nimport { TagJsSubject, getNewGlobal } from './TagJsSubject.class.js';\nexport function processNewValue(value, ownerSupport) {\n    const valueType = getValueType(value);\n    switch (valueType) {\n        case ValueTypes.tagComponent:\n            return new TagJsSubject(value); // ownerSupport.global.value\n        case ValueTypes.templater:\n            const templater = value;\n            const tag = templater.tag;\n            return processNewTag(tag, ownerSupport);\n        case ValueTypes.tag:\n        case ValueTypes.dom:\n            return processNewTag(value, ownerSupport);\n        case ValueTypes.subject:\n            value.global = getNewGlobal();\n            return value;\n    }\n    return new TagJsSubject(value);\n}\nfunction processNewTag(value, ownerSupport) {\n    const tag = value;\n    let templater = tag.templater;\n    // TODO: Can this ever happen?\n    if (!templater) {\n        templater = new TemplaterResult([]);\n        templater.tag = tag;\n        tag.templater = templater;\n    }\n    const subject = new TagJsSubject(templater);\n    subject.support = new Support(templater, ownerSupport, subject);\n    subject.global.oldest = subject.support;\n    ownerSupport.subject.global.childTags.push(subject.support);\n    return subject;\n}\n//# sourceMappingURL=processNewValue.function.js.map","import { empty } from \"./ValueTypes.enum.js\";\nexport const textNode = typeof document === 'undefined' ? getTestTextNode() : document.createTextNode(empty);\nfunction getTestTextNode() {\n    return {\n        textContent: empty,\n        cloneNode: (_children) => getTestTextNode()\n    };\n}\n//# sourceMappingURL=textNode.js.map","const style = 'style';\nconst classS = 'class';\nexport function specialAttribute(name, value, element) {\n    const names = name.split('.');\n    // style.position = \"absolute\"\n    if (names[0] === style) {\n        element.style[names[1]] = value;\n    }\n    // Example: class.width-full = \"true\"\n    if (names[0] === classS) {\n        names.shift();\n        if (value) {\n            for (let index = 0; index < names.length; ++index) {\n                element.classList.add(names[index]);\n            }\n        }\n        else {\n            for (let index = 0; index < names.length; ++index) {\n                element.classList.remove(names[index]);\n            }\n        }\n    }\n}\n//# sourceMappingURL=specialAttribute.js.map","import { processAttribute } from './processAttribute.function.js';\nfunction howToSetAttribute(element, name, value) {\n    element.setAttribute(name, value);\n}\nexport function howToSetInputValue(element, name, value) {\n    element.setAttribute(name, value);\n}\nexport function interpolateAttributes(element, scope, ownerSupport) {\n    const attrNames = element.getAttributeNames();\n    let howToSet = howToSetAttribute;\n    for (let index = 0; index < attrNames.length; ++index) {\n        const attrName = attrNames[index];\n        const value = element.getAttribute(attrName);\n        processAttribute([attrName, value], element, scope, ownerSupport, howToSet);\n    }\n}\n//# sourceMappingURL=interpolateAttributes.js.map","import { deepEqual } from '../deepFunctions.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\n/**\n *\n * @param props\n * @param pastCloneProps\n * @returns WHEN number then props have changed. WHEN false props have not changed\n */\nexport function hasPropChanges(props, // natural props\npastCloneProps) {\n    /*\n    const isCommonEqual = props === undefined && props === compareToProps\n    if(isCommonEqual) {\n      return false\n    }\n    */\n    let castedProps = props;\n    let castedPastProps = pastCloneProps;\n    // check all prop functions match\n    if (typeof (props) === ValueTypes.object) {\n        if (!pastCloneProps) {\n            return 3;\n        }\n        castedProps = [...props];\n        castedPastProps = [...(pastCloneProps || [])];\n        const allFunctionsMatch = castedProps.every((value, index) => {\n            let compare = castedPastProps[index];\n            if (value && typeof (value) === ValueTypes.object) {\n                const subCastedProps = { ...value };\n                const subCompareProps = { ...compare || {} };\n                const matched = Object.entries(subCastedProps).every(([key, value]) => compareProps(value, subCompareProps[key], () => {\n                    delete subCastedProps[key]; // its a function and not needed to be compared\n                    delete subCompareProps[key]; // its a function and not needed to be compared\n                }));\n                return matched;\n            }\n            return compareProps(value, compare, () => {\n                castedProps.splice(index, 1);\n                castedPastProps.splice(index, 1);\n            });\n        });\n        if (!allFunctionsMatch) {\n            return 'functions-changed'; // a change has been detected by function comparisons\n        }\n    }\n    // const isEqual = deepEqual(castedPastProps, castedProps)\n    // return isEqual ? false : 7 // if equal then no changes\n    return false;\n}\n/** returning a number means true good comparison */\nfunction compareProps(value, compare, onDelete) {\n    if (!(value instanceof Function)) {\n        return deepEqual(value, compare) ? 4 : false;\n    }\n    const compareFn = compare;\n    if (!(compareFn instanceof Function)) {\n        return false; // its a function now but was not before\n    }\n    // ensure we are comparing apples to apples as function get wrapped\n    const compareOriginal = compare?.original;\n    if (compareOriginal) {\n        compare = compareOriginal;\n    }\n    const original = value.original;\n    if (original) {\n        value = value.original;\n    }\n    const valueString = value.toString();\n    const compareString = compare.toString();\n    if (valueString === compareString) {\n        onDelete();\n        return 3; // both are function the same\n    }\n    onDelete();\n    return 5;\n}\n//# sourceMappingURL=hasPropChanges.function.js.map","/** checks if previous support exists on subject or as a last global support. If first render, calls builder. Otherwise calls support.updateBy() */\nexport function processTagResult(support, subject, // used for recording past and current value\n{ counts, }, fragment) {\n    // *if appears we already have seen\n    const subjectTag = subject;\n    const lastSupport = subjectTag.support;\n    const prevSupport = lastSupport?.subject.global.oldest || undefined;\n    const justUpdate = prevSupport;\n    if (prevSupport && justUpdate) {\n        return processTagResultUpdate(support, subjectTag, prevSupport);\n    }\n    const newFragment = support.buildBeforeElement(undefined, { counts });\n    //if(fragment) {\n    //  fragment.appendChild(newFragment)\n    //} else {\n    const placeholder = subject.global.placeholder;\n    const parentNode = placeholder.parentNode;\n    parentNode.insertBefore(newFragment, placeholder);\n    //}\n    return support;\n}\nfunction processTagResultUpdate(support, subject, // used for recording past and current value\nprevSupport) {\n    // components\n    if (subject instanceof Function) {\n        const newSupport = subject(prevSupport);\n        prevSupport.updateBy(newSupport);\n        subject.support = newSupport;\n        return newSupport;\n    }\n    // ??? - new removed\n    // prevSupport.updateBy(support)\n    subject.global.oldest.updateBy(support);\n    subject.support = support;\n    return support;\n}\n//# sourceMappingURL=processTagResult.function.js.map","import { elementInitCheck } from './elementInitCheck.js';\n/** This is the function that enhances elements such as [class.something] and [style.color] OR it fixes elements that alter innerHTML */\nexport function afterElmBuild(elm, options, context, ownerSupport) {\n    if (!elm.getAttribute) {\n        return;\n    }\n    let diff = options.counts.added;\n    diff = elementInitCheck(elm, options.counts) - diff;\n    const hasFocusFun = elm.focus;\n    if (hasFocusFun) {\n        if (elm.hasAttribute('autofocus')) {\n            elm.focus();\n        }\n        if (elm.hasAttribute('autoselect')) {\n            elm.select();\n        }\n    }\n    const children = elm.children;\n    if (children) {\n        for (let index = children.length - 1; index >= 0; --index) {\n            const child = children[index];\n            const subOptions = {\n                ...options,\n                counts: options.counts,\n            };\n            afterElmBuild(child, subOptions, context, ownerSupport);\n        }\n    }\n}\n//# sourceMappingURL=interpolateTemplate.js.map","export function elementInitCheck(nextSibling, counts) {\n    const onInitDoubleWrap = nextSibling.oninit;\n    if (!onInitDoubleWrap) {\n        return counts.added;\n    }\n    const onInitWrap = onInitDoubleWrap.tagFunction;\n    if (!onInitWrap) {\n        return counts.added;\n    }\n    const onInit = onInitWrap.tagFunction;\n    if (!onInit) {\n        return counts.added;\n    }\n    const event = { target: nextSibling, stagger: counts.added };\n    onInit(event);\n    return ++counts.added;\n}\n//# sourceMappingURL=elementInitCheck.js.map","import { afterElmBuild } from '../../interpolations/interpolateTemplate.js';\nimport { Support } from '../Support.class.js';\nimport { ValueSubject } from '../../subject/index.js';\n/** When first time render, adds to owner childTags */\nexport function processTag(templater, ownerSupport, // owner\nsubject) {\n    let support = subject.support;\n    // first time seeing this tag?\n    if (!support) {\n        support = newSupportByTemplater(templater, ownerSupport, subject);\n    }\n    subject.support = support;\n    support.ownerSupport = ownerSupport;\n    const newFragment = support.buildBeforeElement(undefined, { counts: { added: 0, removed: 0 } });\n    const children = [...newFragment.children];\n    const placeholder = subject.global.placeholder;\n    const parentNode = placeholder.parentNode;\n    parentNode.insertBefore(newFragment, placeholder);\n    afterChildrenBuilt(children, subject, ownerSupport);\n    return support;\n}\nexport function tagFakeTemplater(tag) {\n    const templater = getFakeTemplater();\n    templater.tag = tag;\n    tag.templater = templater;\n    return templater;\n}\nexport function getFakeTemplater() {\n    const fake = {\n        children: new ValueSubject([]), // no children\n        // props: {} as Props,\n        props: [],\n        isTag: true,\n        tagJsType: 'templater',\n        tagged: false,\n        html: () => fake,\n        dom: () => fake,\n        key: () => fake,\n    };\n    return fake;\n}\n/** Create Support for a tag component */\nexport function newSupportByTemplater(templater, ownerSupport, subject) {\n    const support = new Support(templater, ownerSupport, subject);\n    setupNewSupport(support, ownerSupport, subject);\n    ownerSupport.subject.global.childTags.push(support);\n    return support;\n}\nexport function setupNewSupport(support, ownerSupport, subject) {\n    support.subject = subject;\n    subject.global.oldest = support;\n    subject.global.newest = support;\n    // asking me to render will cause my parent to render\n    support.ownerSupport = ownerSupport;\n}\nexport function afterChildrenBuilt(children, subject, ownerSupport) {\n    children.forEach(x => afterElmBuild(x, { counts: { added: 0, removed: 0 } }, subject.global.context, ownerSupport));\n}\n//# sourceMappingURL=processTag.function.js.map","import { processTagResult } from './processTagResult.function.js';\nimport { Support } from '../Support.class.js';\nimport { renderSubjectComponent } from '../render/renderSubjectComponent.function.js';\nimport { setupNewSupport } from './processTag.function.js';\n/** create new support, connects globals to old support if one, and  */\nexport function processSubjectComponent(templater, subject, insertBefore, ownerSupport, options, fragment) {\n    // Check if function component is wrapped in a tag() call\n    // TODO: This below check not needed in production mode\n    if (templater.tagged !== true) {\n        const wrapper = templater.wrapper;\n        const original = wrapper.parentWrap.original;\n        let name = original.name || original.constructor?.name;\n        if (name === 'Function') {\n            name = undefined;\n        }\n        const label = name || original.toString().substring(0, 120);\n        const error = new Error(`Not a tag component. Wrap your function with tag(). Example tag(props => html\\`\\`) on component:\\n\\n${label}\\n\\n`);\n        throw error;\n    }\n    const support = new Support(templater, ownerSupport, subject);\n    let reSupport = subject.support;\n    setupNewSupport(support, ownerSupport, subject);\n    const global = support.subject.global = reSupport?.subject.global || support.subject.global;\n    global.oldest = support;\n    global.insertBefore = insertBefore;\n    const isRender = !reSupport;\n    if (isRender) {\n        const mySupport = reSupport || support;\n        reSupport = renderSubjectComponent(subject, mySupport, ownerSupport);\n    }\n    const newSupport = processTagResult(reSupport, subject, // The element set here will be removed from document. Also result.tag will be added in here\n    options, fragment);\n    // subject.support = newSupport\n    ownerSupport.subject.global.childTags.push(newSupport);\n    return reSupport;\n}\n//# sourceMappingURL=processSubjectComponent.function.js.map","import { renderWithSupport } from './renderWithSupport.function.js';\nexport function renderSubjectComponent(subject, reSupport, ownerSupport) {\n    const ownGlobal = ownerSupport.subject.global;\n    const preClones = ownGlobal.clones.map(clone => clone);\n    reSupport = renderWithSupport(reSupport, subject.support, // existing tag\n    subject, ownerSupport);\n    const reGlobal = reSupport.subject.global;\n    if (ownGlobal.clones.length > preClones.length) {\n        const myClones = ownGlobal.clones.filter(fClone => !preClones.find(clone => clone === fClone));\n        reGlobal.clones.push(...myClones);\n    }\n    return reSupport;\n}\n//# sourceMappingURL=renderSubjectComponent.function.js.map","import { deepEqual } from './deepFunctions.js';\nimport { isStaticTag } from './isInstance.js';\nimport { renderSupport } from './tag/render/renderSupport.function.js';\nimport { setUse } from './state/index.js';\nimport { getSupportInCycle } from './tag/getSupportInCycle.function.js';\nimport { runBlocked } from './interpolations/bindSubjectCallback.function.js';\nimport { cloneTagJsValue } from './tag/cloneValueArray.function.js';\nexport function castProps(props, newSupport, stateArray, depth) {\n    return props.map(prop => alterProp(prop, newSupport.ownerSupport, stateArray, newSupport, depth));\n}\n/* Used to rewrite props that are functions. When they are called it should cause parent rendering */\nexport function alterProp(prop, ownerSupport, stateArray, newSupport, depth) {\n    if (isStaticTag(prop) || !prop) {\n        return prop;\n    }\n    if (!ownerSupport) {\n        return prop; // no one above me\n    }\n    return checkProp(prop, ownerSupport, stateArray, newSupport, depth);\n}\nexport function checkProp(value, ownerSupport, stateArray, newSupport, depth, index, newProp) {\n    if (value instanceof Function) {\n        return getPropWrap(value, ownerSupport, stateArray);\n    }\n    // if(seen.includes(value)) {\n    if (depth === 15) {\n        return value;\n    }\n    // seen.push(value)\n    const skip = isSkipPropValue(value);\n    if (skip) {\n        return value; // no children to crawl through\n    }\n    if (value instanceof Array) {\n        for (let index = value.length - 1; index >= 0; --index) {\n            const subValue = value[index];\n            value[index] = checkProp(subValue, ownerSupport, stateArray, newSupport, depth + 1, index, value);\n            if (subValue instanceof Function) {\n                if (subValue.toCall) {\n                    continue;\n                }\n                afterCheckProp(depth + 1, index, subValue, value, newSupport);\n            }\n        }\n        return value;\n    }\n    // for(const name in value){\n    // ??? new we want below\n    const keys = Object.keys(value);\n    for (const name of keys) {\n        const subValue = value[name];\n        const result = checkProp(subValue, ownerSupport, stateArray, newSupport, depth + 1, name, value);\n        if (value[name] === result) {\n            continue; // ??? new\n        }\n        const getset = Object.getOwnPropertyDescriptor(value, name);\n        const hasSetter = getset?.get || getset?.set;\n        if (hasSetter) {\n            continue;\n        }\n        value[name] = result;\n        if (result instanceof Function) {\n            if (subValue.toCall) {\n                continue;\n            }\n            afterCheckProp(depth + 1, name, subValue, value, newSupport);\n        }\n    }\n    return value;\n}\nfunction afterCheckProp(depth, index, originalValue, newProp, newSupport) {\n    if (originalValue?.toCall) {\n        throw new Error('meg');\n        return; // already been done\n    }\n    // restore object to have original function on destroy\n    if (depth > 0) {\n        const global = newSupport.subject.global;\n        newProp[index].subscription = global.destroy$.toCallback(() => {\n            newProp[index] = originalValue;\n        });\n    }\n}\nexport function getPropWrap(value, ownerSupport, stateArray) {\n    const toCall = value.toCall;\n    // already previously converted by a parent?\n    if (toCall) {\n        return value;\n    }\n    const wrap = (...args) => wrap.toCall(...args); // what gets called can switch over parent state changes\n    // Currently, call self but over parent state changes, I may need to call a newer parent tag owner\n    wrap.toCall = (...args) => {\n        return callbackPropOwner(wrap.mem.prop, args, ownerSupport);\n    };\n    wrap.original = value;\n    wrap.mem = {\n        prop: value,\n        // stateArray: stateArray\n    };\n    // copy data properties that maybe on source function\n    Object.assign(wrap, value);\n    return wrap;\n}\n/** Function shared by alterProps() and updateExistingTagComponent... TODO: May want to have to functions to reduce cycle checking?  */\nexport function callbackPropOwner(toCall, callWith, ownerSupport) {\n    const global = ownerSupport.subject.global;\n    const newest = global.newest;\n    const supportInCycle = getSupportInCycle();\n    const noCycle = supportInCycle === undefined;\n    if (supportInCycle) {\n        supportInCycle.subject.global.locked = true;\n    }\n    const callbackResult = toCall(...callWith);\n    if (supportInCycle) {\n        const blocked = supportInCycle?.subject.global.blocked;\n        if (supportInCycle && blocked?.length) {\n            setUse.memory.tagClosed$.toCallback(() => {\n                let lastResult = supportInCycle;\n                // throw new Error('cycles ready')\n                // syncStates(supportInCycle.state, (supportInCycle.subject.global.newest as Support).state)\n                delete supportInCycle.subject.global.locked;\n                lastResult = runBlocked(supportInCycle, supportInCycle.state, supportInCycle);\n                // syncStates((supportInCycle.subject.global.newest as Support).state, supportInCycle.state)\n                // delete supportInCycle.subject.global.locked\n                renderSupport(lastResult, false);\n            });\n            return callbackResult;\n        }\n        delete supportInCycle.subject.global.locked;\n    }\n    const run = () => {\n        // are we in a rendering cycle? then its being called by alterProps\n        if (noCycle === false) {\n            // appears a prop function was called sync/immediately so lets see if owner changed state\n            const allMatched = newest.state.every(state => {\n                const lastValue = state.lastValue;\n                const get = state.get();\n                const equal = deepEqual(cloneTagJsValue(lastValue), get);\n                return equal;\n            });\n            if (allMatched) {\n                return callbackResult; // owner did not change\n            }\n        }\n        renderSupport(newest, true);\n        return callbackResult;\n    };\n    if (noCycle) {\n        return run();\n    }\n    setUse.memory.tagClosed$.toCallback(run);\n    return callbackResult;\n}\nexport function isSkipPropValue(value) {\n    return typeof (value) !== 'object' || !value; // || isSubjectInstance(value)\n}\n//# sourceMappingURL=alterProp.function.js.map","import { hasSupportChanged } from '../hasSupportChanged.function.js';\nimport { processSubjectComponent } from './processSubjectComponent.function.js';\nimport { destroyTagMemory } from '../destroyTag.function.js';\nimport { renderSupport } from '../render/renderSupport.function.js';\nimport { castProps, isSkipPropValue } from '../../alterProp.function.js';\nimport { isLikeTags } from '../isLikeTags.function.js';\nimport { afterChildrenBuilt } from './processTag.function.js';\nimport { softDestroySupport } from '../render/softDestroySupport.function.js';\nexport function updateExistingTagComponent(ownerSupport, support, // lastest\nsubject, insertBefore, renderUp = false) {\n    let lastSupport = subject.global.newest;\n    const oldWrapper = lastSupport.templater.wrapper;\n    const newWrapper = support.templater.wrapper;\n    let isSameTag = false;\n    if (oldWrapper && newWrapper) {\n        const oldFunction = oldWrapper.parentWrap.original;\n        const newFunction = newWrapper.parentWrap.original;\n        // string compare both functions\n        isSameTag = oldFunction === newFunction;\n    }\n    const templater = support.templater;\n    if (!isSameTag) {\n        const oldestSupport = subject.global.oldest;\n        destroyTagMemory(oldestSupport);\n        const newSupport = processSubjectComponent(templater, subject, insertBefore, ownerSupport, {\n            counts: { added: 0, removed: 0 },\n        });\n        return newSupport;\n    }\n    const hasChanged = hasSupportChanged(lastSupport, support, templater);\n    // everyhing has matched, no display needs updating.\n    if (!hasChanged) {\n        // update function refs to use latest references\n        const newProps = templater.props;\n        const castedProps = syncFunctionProps(support, lastSupport, ownerSupport, newProps);\n        // When new support actually makes call to real function, use these pre casted props\n        support.propsConfig.castProps = castedProps;\n        // update support to think it has different cloned props\n        lastSupport.propsConfig.latestCloned = support.propsConfig.latestCloned;\n        lastSupport.propsConfig.lastClonedKidValues = support.propsConfig.lastClonedKidValues;\n        return lastSupport; // its the same tag component\n    }\n    const oldest = subject.global.oldest;\n    if (subject.global.locked) {\n        subject.global.blocked.push(support);\n        return support;\n    }\n    const previous = subject.global.newest;\n    const newSupport = renderSupport(support, renderUp);\n    return afterTagRender(subject, oldest, templater, previous, newSupport, isSameTag);\n}\nfunction afterTagRender(subject, oldest, templater, previous, newSupport, isSameTag) {\n    let lastSupport = subject.support;\n    if (oldest && templater.children._value.length) {\n        const oldKidsSub = oldest.templater.children;\n        oldKidsSub.next(templater.children._value);\n    }\n    // detect if both the function is the same and the return is the same\n    const isLikeTag = isSameTag && isLikeTags(previous, newSupport);\n    if (isLikeTag) {\n        const oldestTag = subject.global.oldest;\n        subject.support = newSupport;\n        oldestTag.updateBy(newSupport);\n        return newSupport;\n    }\n    // Although function looked the same it returned a different html result\n    if (isSameTag && lastSupport) {\n        const preGlobal = previous.subject.global;\n        if (!preGlobal.deleted) {\n            softDestroySupport(previous);\n        }\n    }\n    return buildNewTag(newSupport, subject);\n}\nfunction buildNewTag(newSupport, subject) {\n    const fragment = newSupport.buildBeforeElement(undefined, {\n        counts: { added: 0, removed: 0 },\n    });\n    // TODO, do we need to clone?\n    const children = [...fragment.children];\n    const placeholder = subject.global.placeholder;\n    const parentNode = placeholder.parentNode;\n    parentNode.insertBefore(fragment, placeholder);\n    afterChildrenBuilt(children, subject, newSupport);\n    subject.global.oldest = newSupport;\n    subject.global.newest = newSupport;\n    subject.support = newSupport;\n    newSupport.ownerSupport.subject.global.childTags.push(newSupport);\n    return newSupport;\n}\nexport function syncFunctionProps(newSupport, lastSupport, ownerSupport, newPropsArray, // templater.props\ndepth = -1) {\n    const newest = lastSupport.subject.global.newest;\n    if (!newest) {\n        const state = ownerSupport.state;\n        newPropsArray.length = 0;\n        const castedProps = castProps(newPropsArray, newSupport, state, depth);\n        newPropsArray.push(...castedProps);\n        newSupport.propsConfig.castProps = castedProps;\n        return newPropsArray;\n    }\n    lastSupport = newest || lastSupport;\n    const priorPropConfig = lastSupport.propsConfig;\n    const priorPropsArray = priorPropConfig.castProps;\n    const newArray = [];\n    for (let index = 0; index < newPropsArray.length; ++index) {\n        const prop = newPropsArray[index];\n        const priorProp = priorPropsArray[index];\n        const newValue = syncPriorPropFunction(priorProp, prop, newSupport, ownerSupport, depth + 1, index);\n        newArray.push(newValue);\n    }\n    newSupport.propsConfig.castProps = newArray;\n    return newArray;\n}\nfunction syncPriorPropFunction(priorProp, prop, newSupport, ownerSupport, depth, index) {\n    if (priorProp instanceof Function) {\n        // the prop i am receiving, is already being monitored/controlled by another parent\n        if (prop.mem) {\n            priorProp.mem.prop = prop.mem.prop;\n            priorProp.mem.stateArray = prop.mem.stateArray;\n            return prop;\n        }\n        const ownerGlobal = ownerSupport.subject.global;\n        const oldOwnerState = ownerGlobal.newest.state;\n        priorProp.mem.prop = prop;\n        priorProp.stateArray = oldOwnerState;\n        return priorProp;\n    }\n    // prevent infinite recursion\n    // if(seen.includes(prop)) {\n    if (depth === 15) {\n        return prop;\n    }\n    // seen.push(prop)\n    if (isSkipPropValue(prop)) {\n        return prop; // no children to crawl through\n    }\n    if (prop instanceof Array) {\n        for (let index = prop.length - 1; index >= 0; --index) {\n            const x = prop[index];\n            prop[index] = syncPriorPropFunction(priorProp[index], x, newSupport, ownerSupport, depth + 1, index);\n        }\n        return prop;\n    }\n    if (priorProp === undefined) {\n        return prop;\n    }\n    const keys = Object.keys(prop);\n    // for(const name in prop){\n    for (const name of keys) {\n        const subValue = prop[name];\n        const result = syncPriorPropFunction(priorProp[name], subValue, newSupport, ownerSupport, depth + 1, name);\n        if (prop[name] === result) {\n            continue; // ??? new\n        }\n        const hasSetter = Object.getOwnPropertyDescriptor(prop, name)?.set;\n        if (hasSetter) {\n            continue;\n        }\n        prop[name] = result;\n    }\n    return prop;\n}\nexport function moveProviders(lastSupport, newSupport) {\n    const global = lastSupport.subject.global;\n    global.providers.forEach(provider => {\n        provider.children.forEach((child, index) => {\n            const wasSameGlobals = global.destroy$ === child.subject.global.destroy$;\n            if (wasSameGlobals) {\n                provider.children.splice(index, 1);\n                provider.children.push(newSupport);\n                return;\n            }\n        });\n    });\n}\n//# sourceMappingURL=updateExistingTagComponent.function.js.map","import { hasPropChanges } from './hasPropChanges.function.js';\nexport function hasSupportChanged(lastSupport, newSupport, newTemplater) {\n    const latestProps = newTemplater.props; // newSupport.propsConfig.latest\n    const pastCloneProps = lastSupport.propsConfig.latestCloned;\n    const propsChanged = hasPropChanges(latestProps, pastCloneProps);\n    // if no changes detected, no need to continue to rendering further tags\n    if (propsChanged) {\n        return propsChanged;\n    }\n    const propsChanged2 = hasPropChanges(lastSupport.propsConfig.latestCloned, newSupport.propsConfig.latestCloned);\n    if (propsChanged2) {\n        return propsChanged2;\n    }\n    const kidsChanged = hasKidsChanged(lastSupport, newSupport);\n    // we already know props didn't change and if kids didn't either, than don't render\n    return kidsChanged;\n}\nexport function hasKidsChanged(oldSupport, newSupport) {\n    const oldCloneKidValues = oldSupport.propsConfig.lastClonedKidValues;\n    const newClonedKidValues = newSupport.propsConfig.lastClonedKidValues;\n    const everySame = oldCloneKidValues.every((set, index) => {\n        const x = newClonedKidValues[index];\n        return set.every((item, index) => item === x[index]);\n    });\n    return everySame ? false : 9;\n}\n//# sourceMappingURL=hasSupportChanged.function.js.map","/** File largely responsible for reacting to element events, such as onclick */\nimport { syncStates } from '../state/syncStates.function.js';\nimport { ValueTypes } from '../tag/ValueTypes.enum.js';\nimport { renderSupport } from '../tag/render/renderSupport.function.js';\nimport { updateExistingTagComponent } from '../tag/update/updateExistingTagComponent.function.js';\nconst useLocks = true;\nconst noData = 'no-data-ever';\nconst promiseNoData = 'promise-no-data-ever';\nexport function bindSubjectCallback(value, support) {\n    // Is this children? No override needed\n    if (value.isChildOverride) {\n        return value;\n    }\n    // const state = setUse.memory.stateConfig.support?.state as State\n    const state = support.state;\n    const subjectFunction = (element, args) => runTagCallback(value, support, element, args, state);\n    // link back to original. Mostly used for <div oninit ondestroy> animations\n    subjectFunction.tagFunction = value;\n    return subjectFunction;\n}\nexport function runTagCallback(value, support, bindTo, args, state) {\n    const tag = findTagToCallback(support);\n    const global = tag.subject.global;\n    /*\n    if(global.deleted) {\n      return noData\n    }\n    */\n    const newest = global.newest;\n    const newState = newest.state;\n    if (newState.length === state.length) {\n        syncStates(newState, state);\n    }\n    // syncStates(newState, tag.state)\n    const method = value.bind(bindTo);\n    tag.subject.global.locked = useLocks; // prevent another render from re-rendering this tag\n    const callbackResult = method(...args);\n    return afterTagCallback(tag, callbackResult, state);\n}\nexport function afterTagCallback(tag, callbackResult, state) {\n    const global = tag.subject.global;\n    delete global.locked;\n    const blocked = global.blocked;\n    // // syncStates(state, newState)\n    if (blocked.length) {\n        // syncStates(tag.state, (global.newest as Support).state)\n        let lastResult;\n        lastResult = runBlocked(tag, state, lastResult);\n        // return lastResult\n        return checkAfterCallbackPromise(callbackResult, lastResult, global);\n    }\n    const result = renderCallbackSupport(global.newest, callbackResult, global);\n    return result;\n}\nexport function findTagToCallback(support) {\n    // If we are NOT a component than we need to render my owner instead\n    if (support.templater.tagJsType === ValueTypes.templater) {\n        const owner = support.ownerSupport;\n        return findTagToCallback(owner);\n    }\n    return support;\n}\nfunction renderCallbackSupport(last, callbackResult, global) {\n    if (global.deleted) {\n        return noData; // || last.global.deleted\n    }\n    renderSupport(last, true);\n    return checkAfterCallbackPromise(callbackResult, last, global);\n}\nexport function checkAfterCallbackPromise(callbackResult, last, global) {\n    if (callbackResult instanceof Promise) {\n        last.subject.global.locked = useLocks;\n        return callbackResult.then(() => {\n            delete last.subject.global.locked;\n            if (global.deleted) {\n                return promiseNoData; // tag was deleted during event processing\n            }\n            delete last.subject.global.locked;\n            renderSupport(global.newest, true);\n            return promiseNoData;\n        });\n    }\n    return noData;\n}\nexport function runBlocked(tag, state, lastResult) {\n    const global = tag.subject.global;\n    const blocked = global.blocked;\n    while (blocked.length > 0) {\n        const block = blocked[0];\n        blocked.splice(0, 1);\n        lastResult = updateExistingTagComponent(block.ownerSupport, block, block.subject, block.subject.global.insertBefore, true);\n        global.newest = lastResult;\n    }\n    global.blocked.length = 0;\n    // global.oldest.updateBy( lastResult as Support )\n    /*\n    if(lastResult) {\n      const newState = lastResult.state\n      syncStates(state, newState)\n  \n      const newest = renderSupport(\n        lastResult,\n        true,\n      )\n      \n      global.newest = newest\n      global.oldest.updateBy( lastResult as Support )\n      syncStates(newState, state)\n    }\n      */\n    return lastResult;\n}\n//# sourceMappingURL=bindSubjectCallback.function.js.map","import { specialAttribute } from './specialAttribute.js';\nimport { isSubjectInstance } from '../isInstance.js';\nimport { howToSetInputValue } from './interpolateAttributes.js';\nimport { bindSubjectCallback } from './bindSubjectCallback.function.js';\nimport { ValueTypes, empty } from '../tag/ValueTypes.enum.js';\nimport { TagJsSubject } from '../tag/update/TagJsSubject.class.js';\nconst INPUT = 'INPUT';\nconst valueS = 'value';\nconst ondoubleclick = 'ondoubleclick';\n/** Sets attribute value, subscribes to value updates  */\nexport function processAttribute(attrs, element, scope, support, howToSet = howToSetInputValue) {\n    const attrName = attrs[0];\n    const value = attrs[1];\n    if (element.nodeName === INPUT && attrName === valueS) {\n        howToSet = howToSetInputValue;\n    }\n    const isNameVar = attrs.length === 1; // isTagVar(attrName)\n    if (isNameVar) {\n        const contextValueSubject = attrName; // getContextValueByVarString(scope, attrName)\n        let lastValue;\n        // the above callback gets called immediately since its a ValueSubject()\n        const sub = contextValueSubject.subscribe((value) => {\n            if (value === lastValue) {\n                return; // value did not change\n            }\n            processNameOnlyAttr(value, lastValue, element, support, howToSet);\n            lastValue = value;\n        });\n        support.subject.global.subscriptions.push(sub); // this is where unsubscribe is picked up\n        element.removeAttribute(attrName);\n        return;\n    }\n    const isSubject = value && isSubjectInstance(value);\n    // const isSubject = isTagVar(value)\n    if (isSubject) {\n        return processNameValueAttr(attrName, value, element, support, howToSet);\n    }\n    // Non dynamic\n    const isSpecial = isSpecialAttr(attrName);\n    if (isSpecial) {\n        return specialAttribute(attrName, value, element);\n    }\n    howToSet(element, attrName, value);\n}\nfunction processNameOnlyAttr(attrValue, lastValue, child, ownerSupport, howToSet) {\n    // check to remove previous attribute(s)\n    if (lastValue && lastValue != attrValue) {\n        if (typeof (lastValue) === ValueTypes.string) {\n            child.removeAttribute(lastValue);\n        }\n        else if (lastValue instanceof Object) {\n            for (const name in lastValue) {\n                child.removeAttribute(name);\n            }\n        }\n    }\n    // regular attributes\n    if (typeof (attrValue) === ValueTypes.string) {\n        if (!attrValue.length) {\n            return;\n        }\n        processNameValueAttr(attrValue, // name\n        new TagJsSubject(empty), child, ownerSupport, howToSet);\n        return;\n    }\n    // process an object of attributes ${{class:'something, checked:true}}\n    if (attrValue instanceof Object) {\n        for (const name in attrValue) {\n            processNameValueAttr(name, attrValue[name], child, ownerSupport, howToSet);\n        }\n    }\n}\n/** Processor for flat attributes and object attributes */\nfunction processNameValueAttr(attrName, result, child, support, howToSet) {\n    // Most every variable comes in here since everything is made a ValueSubject\n    if (isSubjectInstance(result)) {\n        const isSpecial = isSpecialAttr(attrName);\n        child.removeAttribute(attrName);\n        let lastValue;\n        const callback = (newAttrValue) => {\n            // should the function be wrapped so every time its called we re-render?\n            if (newAttrValue instanceof Function) {\n                return callbackFun(support, newAttrValue, child, attrName, isSpecial, howToSet);\n            }\n            // TODO: we maybe able to block higher before instance of check\n            if (lastValue === newAttrValue) {\n                return lastValue;\n            }\n            lastValue = newAttrValue;\n            return processAttributeSubjectValue(newAttrValue, child, attrName, isSpecial, howToSet);\n        };\n        //  Subscribe. Above callback called immediately since its a ValueSubject()\n        const sub = result.subscribe(callback);\n        // Record subscription for later unsubscribe when element destroyed\n        support.subject.global.subscriptions.push(sub);\n        return;\n    }\n    howToSet(child, attrName, result._value);\n    return;\n}\nfunction processAttributeSubjectValue(newAttrValue, child, attrName, isSpecial, howToSet) {\n    if (newAttrValue instanceof Function) {\n        const fun = function (...args) {\n            return newAttrValue(child, args);\n        };\n        // access to original function\n        fun.tagFunction = newAttrValue;\n        if (attrName === ondoubleclick) {\n            attrName = 'ondblclick';\n        }\n        ;\n        child[attrName] = fun;\n        return;\n    }\n    if (isSpecial) {\n        specialAttribute(attrName, newAttrValue, child);\n        return;\n    }\n    if (newAttrValue) {\n        howToSet(child, attrName, newAttrValue);\n        return;\n    }\n    const isDeadValue = [undefined, false, null].includes(newAttrValue);\n    if (isDeadValue) {\n        child.removeAttribute(attrName);\n        return;\n    }\n    // value is 0\n    howToSet(child, attrName, newAttrValue);\n}\n/** Looking for (class | style) followed by a period */\nfunction isSpecialAttr(attrName) {\n    return attrName.search(/^(class|style)(\\.)/) >= 0;\n}\nfunction callbackFun(support, newAttrValue, child, attrName, isSpecial, howToSet) {\n    const wrapper = support.templater.wrapper;\n    const parentWrap = wrapper?.parentWrap;\n    const oneRender = parentWrap?.oneRender;\n    if (!oneRender) {\n        newAttrValue = bindSubjectCallback(newAttrValue, support);\n    }\n    return processAttributeSubjectValue(newAttrValue, child, attrName, isSpecial, howToSet);\n}\n//# sourceMappingURL=processAttribute.function.js.map","// taggedjs-no-compile\nimport { ArrayNoKeyError } from '../../errors.js';\nimport { destroyArrayTag } from '../checkDestroyPrevious.function.js';\nimport { newSupportByTemplater, setupNewSupport, tagFakeTemplater } from './processTag.function.js';\nimport { Support } from '../Support.class.js';\nimport { isTagClass } from '../../isInstance.js';\nimport { renderTagOnly } from '../render/renderTagOnly.function.js';\nimport { TagJsSubject } from './TagJsSubject.class.js';\nimport { afterChildrenBuilt } from './processTag.function.js';\nimport { textNode } from '../textNode.js';\nexport function processTagArray(subject, value, // arry of Tag classes\ninsertBefore, // <template end interpolate />\nownerSupport, options, fragment) {\n    const clones = ownerSupport.subject.global.clones; // []\n    let lastArray = subject.lastArray = subject.lastArray || { array: [] };\n    if (!subject.global.placeholder) {\n        setPlaceholderElm(insertBefore, subject);\n    }\n    const runtimeInsertBefore = subject.global.placeholder;\n    let removed = 0;\n    /**  remove previous items first */\n    lastArray.array = lastArray.array.filter((item, index) => {\n        const newLength = value.length - 1;\n        const at = index - removed;\n        const lessLength = newLength < at;\n        if (lessLength) {\n            destroyArrayItem(lastArray.array, index, options);\n            ++removed;\n            return false;\n        }\n        const subTag = value[index - removed];\n        const tagClass = isTagClass(subTag);\n        let tag = subTag;\n        let templater = subTag.templater;\n        let prevArrayValue;\n        if (tagClass) {\n            prevArrayValue = tag.arrayValue;\n        }\n        else {\n            templater = subTag;\n            tag = templater.tag;\n            prevArrayValue = templater.arrayValue;\n        }\n        // const tag = subTag?.templater.tag as Tag\n        const lastTag = item.support.templater.tag;\n        const lastArrayValue = lastTag.arrayValue;\n        const destroyItem = !areLikeValues(prevArrayValue, lastArrayValue);\n        if (destroyItem) {\n            destroyArrayItem(lastArray.array, index, options);\n            ++removed;\n            return false;\n        }\n        return true;\n    });\n    const length = value.length;\n    for (let index = 0; index < length; ++index) {\n        const item = value[index];\n        const previous = lastArray.array[index];\n        const previousSupport = previous?.support;\n        const subTag = item;\n        const tagClass = isTagClass(subTag);\n        const itemSubject = previousSupport?.subject || new TagJsSubject(undefined);\n        let templater = subTag.templater;\n        let support;\n        if (tagClass) {\n            if (!templater) {\n                templater = tagFakeTemplater(subTag);\n            }\n            support = new Support(templater, ownerSupport, itemSubject);\n        }\n        else {\n            templater = subTag;\n            support = setupNewTemplater(templater, ownerSupport, itemSubject);\n        }\n        // share global between old and new\n        if (previousSupport) {\n            const prevSubject = previousSupport.subject;\n            const global = prevSubject.global;\n            setupNewSupport(support, ownerSupport, prevSubject);\n            support.subject.global = global;\n            global.newest = support;\n        }\n        else {\n            setupNewSupport(support, ownerSupport, itemSubject);\n        }\n        // check for html``.key()\n        const tag = templater.tag || subTag;\n        const keySet = 'arrayValue' in tag;\n        if (!keySet) {\n            const details = {\n                // template: support.getTemplate().string,\n                array: value,\n            };\n            const message = 'Use html`...`.key(item) instead of html`...` to template an Array';\n            console.error(message, details);\n            const err = new ArrayNoKeyError(message, details);\n            throw err;\n        }\n        const couldBeSame = lastArray.array.length > index;\n        if (couldBeSame) {\n            const prevSupport = previous.support;\n            const prevGlobal = prevSupport.subject.global;\n            const oldest = prevGlobal.oldest;\n            oldest.updateBy(support);\n            continue;\n        }\n        processAddTagArrayItem(runtimeInsertBefore, support, index, options, lastArray.array, fragment);\n        ownerSupport.subject.global.childTags.push(support);\n    }\n    return clones;\n}\nfunction setPlaceholderElm(insertBefore, subject) {\n    const placeholder = subject.global.placeholder = textNode.cloneNode(false);\n    const parentNode = insertBefore.parentNode;\n    parentNode.insertBefore(placeholder, insertBefore);\n    parentNode.removeChild(insertBefore);\n}\nfunction processAddTagArrayItem(before, support, index, options, lastArray, fragment) {\n    const lastValue = {\n        support, index\n    };\n    // Added to previous array\n    lastArray.push(lastValue);\n    const counts = {\n        added: options.counts.added + index,\n        removed: options.counts.removed,\n    };\n    // TODO: This might be causing double clones delete issues because all array items share same placeholder\n    support.subject.global.placeholder = before; // newTempElm\n    const newFragment = support.buildBeforeElement(undefined, { counts });\n    const children = [...newFragment.children];\n    const placeholder = before; // subject.global.placeholder as Text\n    const parentNode = placeholder.parentNode;\n    parentNode.insertBefore(newFragment, placeholder);\n    afterChildrenBuilt(children, support.subject, support);\n}\n/** compare two values. If both values are arrays then the items will be compared */\nfunction areLikeValues(valueA, valueB) {\n    if (valueA === valueB) {\n        return true;\n    }\n    const bothArrays = valueA instanceof Array && valueB instanceof Array;\n    const matchLengths = bothArrays && valueA.length == valueB.length;\n    if (matchLengths) {\n        return valueA.every((item, index) => item === valueB[index]);\n    }\n    return false;\n}\nfunction setupNewTemplater(templater, ownerSupport, itemSubject) {\n    const support = newSupportByTemplater(templater, ownerSupport, itemSubject);\n    renderTagOnly(support, support, itemSubject, ownerSupport);\n    return support;\n}\nfunction destroyArrayItem(lastArray, index, options) {\n    const last = lastArray[index];\n    const support = last.support;\n    destroyArrayTag(support, options.counts);\n    last.deleted = true;\n    ++options.counts.removed;\n}\n//# sourceMappingURL=processTagArray.js.map","import { empty } from './tag/ValueTypes.enum.js';\n// Function to update the value of x\nexport function updateBeforeTemplate(value, // value should be casted before calling here\nlastFirstChild) {\n    const parent = lastFirstChild.parentNode;\n    // Insert the new value (never use innerHTML here)\n    const textNode = document.createTextNode(value); // never innerHTML\n    parent.insertBefore(textNode, lastFirstChild);\n    /* remove existing nodes */\n    parent.removeChild(lastFirstChild);\n    return textNode;\n}\nexport function castTextValue(value) {\n    // mimic React skipping to display EXCEPT for true does display on page\n    if ([undefined, false, null].includes(value)) { // || value === true\n        return empty;\n    }\n    return value;\n}\n//# sourceMappingURL=updateBeforeTemplate.function.js.map","import { castTextValue, updateBeforeTemplate } from '../../updateBeforeTemplate.function.js';\nexport function processRegularValue(value, subject, // could be tag via subject.tag\ninsertBefore) {\n    subject.global.insertBefore = insertBefore;\n    const before = subject.global.placeholder || insertBefore; // Either the template is on the doc OR its the first element we last put on doc\n    // matches but also was defined at some point\n    if (subject.lastValue === value && 'lastValue' in subject) {\n        return; // no need to update display, its the same\n    }\n    subject.lastValue = value;\n    const castedValue = castTextValue(value);\n    // replace existing string?\n    const oldClone = subject.global.placeholder;\n    if (oldClone) {\n        oldClone.textContent = castedValue;\n        return;\n    }\n    // Processing of regular values\n    const clone = updateBeforeTemplate(castedValue, before);\n    subject.global.placeholder = clone; // remember single element put down, for future updates\n}\nexport function processFirstRegularValue(value, subject, // could be tag via subject.tag\ninsertBefore) {\n    subject.lastValue = value;\n    const castedValue = castTextValue(value);\n    // Processing of regular values\n    const clone = updateBeforeTemplate(castedValue, insertBefore);\n    subject.global.placeholder = clone; // remember single element put down, for future updates \n}\n//# sourceMappingURL=processRegularValue.function.js.map","import { processSubjectComponent } from './processSubjectComponent.function.js';\nimport { processTagArray } from './processTagArray.js';\nimport { processFirstRegularValue } from './processRegularValue.function.js';\nimport { processTag, tagFakeTemplater } from './processTag.function.js';\nimport { renderTagOnly } from '../render/renderTagOnly.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { oneRenderToSupport } from './oneRenderToSupport.function.js';\nimport { getValueType } from '../getValueType.function.js';\nexport function processFirstSubjectValue(value, subject, // could be tag via result.tag\ninsertBefore, // <template end interpolate /> (will be removed)\nownerSupport, // owner\noptions, // {added:0, removed:0}\nfragment) {\n    const valueType = getValueType(value);\n    // console.log('valueType', {valueType, value})\n    switch (valueType) {\n        case ValueTypes.templater:\n            processTag(value, ownerSupport, subject);\n            return;\n        case ValueTypes.dom:\n        case ValueTypes.tag:\n            const tag = value;\n            let templater = tag.templater;\n            if (!templater) {\n                templater = tagFakeTemplater(tag);\n            }\n            processTag(templater, ownerSupport, subject);\n            return;\n        case ValueTypes.tagArray:\n            return processTagArray(subject, value, insertBefore, ownerSupport, options, fragment);\n        case ValueTypes.tagComponent:\n            const newSupport = processSubjectComponent(value, subject, insertBefore, ownerSupport, options, fragment);\n            return newSupport;\n        case ValueTypes.function:\n            const v = value;\n            if (v.oneRender) {\n                const support = oneRenderToSupport(v, subject, ownerSupport);\n                renderTagOnly(support, support, subject, ownerSupport);\n                processTag(support.templater, ownerSupport, subject);\n                return;\n            }\n            break;\n    }\n    processFirstRegularValue(value, subject, subject.global.placeholder || insertBefore);\n}\n//# sourceMappingURL=processFirstSubjectValue.function.js.map","import { TemplaterResult } from '../TemplaterResult.class.js';\nimport { newSupportByTemplater } from './processTag.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nexport function oneRenderToSupport(wrapper, subject, ownerSupport) {\n    const templater = new TemplaterResult([]);\n    templater.tagJsType = ValueTypes.oneRender;\n    const support = newSupportByTemplater(templater, ownerSupport, subject);\n    let tag;\n    const wrap = () => {\n        templater.tag = tag || (wrapper());\n        return support;\n    };\n    templater.wrapper = wrap;\n    wrap.parentWrap = wrap;\n    wrap.oneRender = true;\n    wrap.parentWrap.original = wrapper;\n    return support;\n}\n//# sourceMappingURL=oneRenderToSupport.function.js.map","import { textNode } from './textNode.js';\nexport function setTagPlaceholder(global) {\n    const insertBefore = global.insertBefore;\n    return global.placeholder = swapInsertBefore(insertBefore);\n}\nexport function swapInsertBefore(insertBefore) {\n    const placeholder = textNode.cloneNode(false);\n    const parentNode = insertBefore.parentNode;\n    parentNode.insertBefore(placeholder, insertBefore);\n    parentNode.removeChild(insertBefore);\n    return placeholder;\n}\n//# sourceMappingURL=setTagPlaceholder.function.js.map","import { Support } from '../Support.class.js';\nimport { TemplaterResult } from '../TemplaterResult.class.js';\nimport { isTagClass, isTagTemplater } from '../../isInstance.js';\nimport { processTagArray } from './processTagArray.js';\nimport { updateExistingTagComponent } from './updateExistingTagComponent.function.js';\nimport { processRegularValue } from './processRegularValue.function.js';\nimport { checkDestroyPrevious } from '../checkDestroyPrevious.function.js';\nimport { processSubjectComponent } from './processSubjectComponent.function.js';\nimport { isLikeTags } from '../isLikeTags.function.js';\nimport { getFakeTemplater, processTag, setupNewSupport } from './processTag.function.js';\nimport { swapInsertBefore } from '../setTagPlaceholder.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getValueType } from '../getValueType.function.js';\nexport function updateExistingValue(subject, value, ownerSupport, insertBefore) {\n    const valueType = getValueType(value);\n    checkDestroyPrevious(subject, value, valueType);\n    // handle already seen tag components\n    if (valueType === ValueTypes.tagComponent) {\n        return prepareUpdateToComponent(value, subject, insertBefore, ownerSupport);\n    }\n    // was component but no longer\n    const support = subject.support;\n    if (support) {\n        if (valueType === ValueTypes.function) {\n            return subject; // its a oneRender tag\n        }\n        handleStillTag(subject, value, ownerSupport);\n        return subject;\n    }\n    switch (valueType) {\n        case ValueTypes.tagArray:\n            processTagArray(subject, value, insertBefore, // oldInsertBefore as InsertBefore,\n            ownerSupport, { counts: {\n                    added: 0,\n                    removed: 0,\n                } });\n            return subject;\n        case ValueTypes.templater:\n            processTag(value, ownerSupport, subject);\n            return subject;\n        case ValueTypes.tag:\n        case ValueTypes.dom:\n            const tag = value;\n            let templater = tag.templater;\n            if (!templater) {\n                templater = getFakeTemplater();\n                tag.templater = templater;\n                templater.tag = tag;\n            }\n            processTag(templater, ownerSupport, subject);\n            return subject;\n        case ValueTypes.subject:\n            return value;\n        // now its a useless function (we don't automatically call functions)\n        case ValueTypes.function:\n            if (!subject.global.placeholder) {\n                subject.global.placeholder = swapInsertBefore(insertBefore);\n            }\n            return subject;\n    }\n    // This will cause all other values to render\n    processRegularValue(value, subject, insertBefore);\n    return subject;\n}\nfunction handleStillTag(subject, value, ownerSupport) {\n    const lastSupport = subject.support;\n    let templater = value;\n    const isClass = isTagClass(value);\n    if (isClass) {\n        const tag = value;\n        templater = tag.templater;\n        if (!templater) {\n            templater = new TemplaterResult([]);\n            templater.tag = tag;\n            tag.templater = templater;\n        }\n    }\n    const valueSupport = new Support(templater, ownerSupport, subject);\n    const isSameTag = value && isLikeTags(lastSupport, valueSupport);\n    if (isTagTemplater(value)) {\n        setupNewSupport(valueSupport, ownerSupport, subject);\n    }\n    if (isSameTag) {\n        // lastSupport.updateBy(valueSupport)\n        // ??? recently changed from above\n        lastSupport.subject.global.oldest.updateBy(valueSupport);\n        return;\n    }\n    if (isSameTag) {\n        return processTag(templater, ownerSupport, subject);\n    }\n    return processRegularValue(value, subject, subject.global.insertBefore);\n}\nfunction prepareUpdateToComponent(templater, subjectTag, insertBefore, ownerSupport) {\n    // When last value was not a component\n    if (!subjectTag.support) {\n        processSubjectComponent(templater, subjectTag, insertBefore, ownerSupport, {\n            counts: { added: 0, removed: 0 },\n        });\n        return subjectTag;\n    }\n    const support = new Support(templater, ownerSupport, subjectTag);\n    const subjectSup = subjectTag.support;\n    const prevSupport = subjectSup.subject.global.newest;\n    if (prevSupport) {\n        const newestState = prevSupport.state;\n        support.state.length = 0;\n        support.state.push(...newestState);\n    }\n    else {\n        processSubjectComponent(templater, subjectTag, insertBefore, ownerSupport, { counts: { added: 0, removed: 0 } });\n        return subjectTag;\n    }\n    subjectTag.global = subjectSup.subject.global;\n    subjectTag.support = support;\n    updateExistingTagComponent(ownerSupport, support, // latest value\n    subjectTag, insertBefore);\n    return subjectTag;\n}\n//# sourceMappingURL=updateExistingValue.function.js.map","import { processFirstSubjectValue } from '../tag/update/processFirstSubjectValue.function.js';\nimport { updateExistingValue } from '../tag/update/updateExistingValue.function.js';\nimport { swapInsertBefore } from '../tag/setTagPlaceholder.function.js';\nexport function subscribeToTemplate(fragment, insertBefore, subject, support, counts) {\n    let called = false;\n    const onValue = (value) => {\n        if (called) {\n            updateExistingValue(subject, value, support, insertBefore);\n            return;\n        }\n        const templater = value;\n        processFirstSubjectValue(templater, subject, insertBefore, support, {\n            counts: { ...counts },\n        }, syncRun ? fragment : undefined);\n        called = true;\n    };\n    // TODO: may noy be needed\n    // leave no template tag\n    if (!subject.global.placeholder) {\n        subject.global.placeholder = swapInsertBefore(insertBefore);\n    }\n    const callback = (value) => onValue(value);\n    let syncRun = true;\n    const sub = subject.subscribe(callback);\n    syncRun = false;\n    support.subject.global.subscriptions.push(sub);\n}\n//# sourceMappingURL=subscribeToTemplate.function.js.map","import { textNode } from \"../../tag/textNode.js\";\nimport { processAttribute } from \"../processAttribute.function.js\";\nimport { subscribeToTemplate } from \"../subscribeToTemplate.function.js\";\nexport function attachDomElement(nodes, scope, support, fragment, counts, // used for animation stagger computing\nowner) {\n    nodes.forEach((node, index) => {\n        const marker = node.marker = textNode.cloneNode(false);\n        // marker.textContent = `_<${index}>_`\n        const subject = node.value;\n        if (subject) {\n            owner.appendChild(marker);\n            subject.global.placeholder = marker;\n            subscribeToTemplate(owner, marker, subject, support, // ownerSupport,\n            counts);\n            return;\n        }\n        if (node.nodeName === 'text') {\n            const string = node.textContent;\n            // parse things like &nbsp;\n            const text = new DOMParser().parseFromString(string, 'text/html');\n            const openingSpace = string.replace(/(^\\s+)?.+/g, '$1');\n            const newString = openingSpace + text.documentElement.textContent;\n            owner.appendChild(marker);\n            node.domElement = document.createTextNode(newString);\n            owner.appendChild(node.domElement);\n            return;\n        }\n        node = node;\n        const domElement = node.domElement = document.createElement(node.nodeName);\n        owner.appendChild(domElement);\n        owner.appendChild(marker);\n        if (node.attributes) {\n            node.attributes.forEach(attr => {\n                processAttribute(attr, domElement, scope, support);\n            });\n        }\n        if (node.children) {\n            attachDomElement(node.children, scope, support, fragment, counts, domElement);\n        }\n    });\n    return nodes;\n}\n//# sourceMappingURL=metaAttachDomElements.function.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nimport { deepClone } from '../deepFunctions.js';\nimport { isTagComponent } from '../isInstance.js';\nimport { cloneTagJsValue, cloneValueArray } from './cloneValueArray.function.js';\nimport { runBeforeDestroy } from './tagRunner.js';\nimport { getChildTagsToDestroy } from './destroy.support.js';\nimport { elementDestroyCheck } from './elementDestroyCheck.function.js';\nimport { updateContextItem } from './update/updateContextItem.function.js';\nimport { processNewValue } from './update/processNewValue.function.js';\nimport { exchangeParsedForValues } from '../interpolations/optimizers/htmlInterpolationToDomMeta.function.js';\nimport { attachDomElement } from '../interpolations/optimizers/metaAttachDomElements.function.js';\nimport { getDomMeta } from './domMetaCollector.js';\n/** used only for apps, otherwise use Support */\n// TODO: We need to split Support and simple tag support apart\nexport class BaseSupport {\n    templater;\n    subject;\n    isApp = true;\n    appElement; // only seen on this.getAppSupport().appElement\n    strings;\n    dom;\n    values;\n    propsConfig;\n    // stays with current render\n    state = [];\n    hasLiveElements = false;\n    constructor(templater, subject, castedProps) {\n        this.templater = templater;\n        this.subject = subject;\n        const props = templater.props; // natural props\n        this.propsConfig = this.clonePropsBy(props, castedProps);\n    }\n    clonePropsBy(props, castedProps) {\n        const children = this.templater.children; // children tags passed in as arguments\n        const kidValue = children.value;\n        const latestCloned = props.map(props => cloneTagJsValue(props)\n        // deepClone(props)\n        );\n        return this.propsConfig = {\n            latest: props,\n            latestCloned, // assume its HTML children and then detect\n            castProps: castedProps,\n            lastClonedKidValues: kidValue.map(kid => {\n                const cloneValues = cloneValueArray(kid.values);\n                return cloneValues;\n            })\n        };\n    }\n    getHtmlDomMeta(fragment, options = {\n        counts: { added: 0, removed: 0 },\n    }) {\n        const thisTag = this.templater.tag;\n        const context = this.update();\n        let orgDomMeta;\n        if (thisTag.tagJsType === ValueTypes.dom) {\n            orgDomMeta = thisTag.dom;\n        }\n        else {\n            orgDomMeta = getDomMeta(thisTag.strings, thisTag.values);\n        }\n        const domMeta = deepClone(orgDomMeta);\n        exchangeParsedForValues(domMeta, context);\n        attachDomElement(domMeta, context, this, fragment, options.counts, fragment);\n        return domMeta;\n    }\n    /** Function that kicks off actually putting tags down as HTML elements */\n    buildBeforeElement(fragment = document.createDocumentFragment(), options) {\n        const subject = this.subject;\n        const global = this.subject.global;\n        global.oldest = this;\n        global.newest = this;\n        subject.support = this;\n        this.hasLiveElements = true;\n        const htmlDomMeta = this.getHtmlDomMeta(fragment, options);\n        attachClonesToSupport(htmlDomMeta, this.subject.global.clones);\n        return fragment;\n    }\n    updateBy(support) {\n        const tempTag = support.templater.tag;\n        this.updateConfig(tempTag, tempTag.values);\n    }\n    /** triggers values to render */\n    updateConfig(tag, values) {\n        if (tag.tagJsType === ValueTypes.dom) {\n            this.dom = tag.dom;\n        }\n        else {\n            this.strings = tag.strings;\n        }\n        this.updateValues(values);\n    }\n    updateValues(values) {\n        this.values = values;\n        return this.updateContext(this.subject.global.context);\n    }\n    update() {\n        return this.updateContext(this.subject.global.context);\n    }\n    updateContext(context) {\n        const thisTag = this.templater.tag;\n        // const strings = this.strings || thisTag.strings\n        const values = this.values || thisTag.values;\n        // TODO: loop specific number of times instead of building an array\n        const array = 'x,'.repeat(values.length).split(','); // strings\n        array.forEach((_string, index) => updateOneContext(values, index, context, this));\n        return context;\n    }\n    destroy(options = {\n        stagger: 0,\n    }) {\n        const global = this.subject.global;\n        const childTags = options.byParent ? [] : getChildTagsToDestroy(this.subject.global.childTags); // .toReversed()\n        if (isTagComponent(this.templater)) {\n            global.destroy$.next();\n            runBeforeDestroy(this, this);\n        }\n        this.destroySubscriptions();\n        // signify immediately child has been deleted (looked for during event processing)\n        for (let index = childTags.length - 1; index >= 0; --index) {\n            const child = childTags[index];\n            const subGlobal = child.subject.global;\n            delete subGlobal.newest;\n            subGlobal.deleted = true;\n            if (isTagComponent(child.templater)) {\n                runBeforeDestroy(child, child);\n            }\n            child.destroySubscriptions();\n            // resetSupport(this)\n        }\n        resetSupport(this);\n        // let mainPromise: Promise<number | (number | void | undefined)[]> | undefined    \n        // first paint\n        const { stagger, promises } = this.smartRemoveKids(options);\n        options.stagger = stagger;\n        if (promises.length) {\n            return Promise.all(promises).then(() => options.stagger);\n        }\n        return options.stagger;\n    }\n    smartRemoveKids(options = {\n        stagger: 0,\n    }) {\n        const startStagger = options.stagger;\n        const promises = [];\n        const myClones = this.subject.global.clones;\n        this.subject.global.childTags.forEach(childTag => {\n            const clones = childTag.subject.global.clones;\n            let cloneOne = clones[0];\n            if (cloneOne === undefined) {\n                const { stagger, promises: newPromises } = childTag.smartRemoveKids(options);\n                options.stagger = options.stagger + stagger;\n                promises.push(...newPromises);\n                return { promise: Promise.all(promises), stagger: options.stagger };\n            }\n            let count = 0;\n            // let deleted = false\n            while (cloneOne.parentNode && count < 5) {\n                if (myClones.includes(cloneOne)) {\n                    return; // no need to delete, they live within me\n                }\n                cloneOne = cloneOne.parentNode;\n                ++count;\n            }\n            // recurse\n            const { stagger, promises: newPromises } = childTag.smartRemoveKids(options);\n            options.stagger = options.stagger + stagger;\n            promises.push(...newPromises);\n        });\n        const promise = this.destroyClones({ stagger: startStagger }).promise;\n        this.subject.global.clones.length = 0;\n        this.subject.global.childTags.length = 0;\n        if (promise) {\n            promises.unshift(promise);\n        }\n        return { promises, stagger: options.stagger };\n    }\n    destroyClones(options = {\n        stagger: 0,\n    }) {\n        const oldClones = this.subject.global.clones; // .toReversed()\n        // check subjects that may have clones attached to them\n        const promises = oldClones.map(clone => this.checkCloneRemoval(clone, options.stagger)).filter(x => x); // only return promises\n        if (promises.length) {\n            return { promise: Promise.all(promises), stagger: options.stagger };\n        }\n        return { stagger: options.stagger };\n    }\n    /** Reviews elements for the presences of ondestroy */\n    checkCloneRemoval(clone, stagger) {\n        let promise;\n        const customElm = clone;\n        if (customElm.ondestroy) {\n            promise = elementDestroyCheck(customElm, stagger);\n        }\n        if (promise instanceof Promise) {\n            return promise.then(() => {\n                const parentNode = clone.parentNode;\n                // TODO: we need to remove this IF\n                if (parentNode) {\n                    parentNode.removeChild(clone);\n                }\n            });\n        }\n        const parentNode = clone.parentNode;\n        if (parentNode) {\n            parentNode.removeChild(clone);\n        }\n        const ownerSupport = this.ownerSupport;\n        if (ownerSupport) {\n            const clones = ownerSupport.subject.global.clones;\n            const index = clones.indexOf(clone);\n            if (index >= 0) {\n                clones.splice(index, 1);\n            }\n        }\n        return promise;\n    }\n    destroySubscriptions() {\n        const subs = this.subject.global.subscriptions;\n        for (let index = subs.length - 1; index >= 0; --index) {\n            subs[index].unsubscribe();\n        }\n        subs.length = 0;\n    }\n}\nexport class Support extends BaseSupport {\n    templater;\n    ownerSupport;\n    subject;\n    version;\n    isApp = false;\n    constructor(templater, // at runtime rendering of a tag, it needs to be married to a new Support()\n    ownerSupport, subject, castedProps, version = 0) {\n        super(templater, subject, castedProps);\n        this.templater = templater;\n        this.ownerSupport = ownerSupport;\n        this.subject = subject;\n        this.version = version;\n    }\n    getAppSupport() {\n        let tag = this;\n        while (tag.ownerSupport) {\n            tag = tag.ownerSupport;\n        }\n        return tag;\n    }\n}\nexport function resetSupport(support) {\n    const global = support.subject.global;\n    // TODO: We maybe able to replace with: global.context.length = 0\n    global.context = [];\n    delete global.oldest; // may not be needed\n    delete global.newest;\n    const subject = support.subject;\n    delete subject.support;\n}\nfunction updateOneContext(values, index, context, support) {\n    const hasValue = values.length > index;\n    if (!hasValue) {\n        return;\n    }\n    const value = values[index];\n    // is something already there?\n    const exists = context.length > index;\n    if (exists) {\n        if (support.subject.global.deleted) {\n            const valueSupport = (value && value.support);\n            if (valueSupport) {\n                valueSupport.destroy();\n                return context; // item was deleted, no need to emit\n            }\n        }\n        return updateContextItem(context, index, value);\n    }\n    //  First time values below\n    context[index] = processNewValue(value, support);\n}\nfunction attachClonesToSupport(htmlDomMeta, clones) {\n    htmlDomMeta.forEach(meta => {\n        if (meta.domElement) {\n            clones.push(meta.domElement);\n        }\n        clones.push(meta.marker);\n        if ('children' in meta) {\n            const children = meta.children;\n            attachClonesToSupport(children, clones);\n        }\n    });\n}\n//# sourceMappingURL=Support.class.js.map","import { isSubjectInstance } from '../../isInstance.js';\nexport function updateContextItem(context, index, value) {\n    const subject = context[index];\n    const isSub = isSubjectInstance(value);\n    if (isSub) {\n        return; // emits on its own\n    }\n    // listeners will evaluate updated values to possibly update display(s)\n    subject.next(value);\n    return;\n}\n//# sourceMappingURL=updateContextItem.function.js.map","export function elementDestroyCheck(nextSibling, stagger) {\n    const onDestroyDoubleWrap = nextSibling.ondestroy;\n    if (!onDestroyDoubleWrap) {\n        return;\n    }\n    const onDestroyWrap = onDestroyDoubleWrap.tagFunction;\n    if (!onDestroyWrap) {\n        return;\n    }\n    const onDestroy = onDestroyWrap.tagFunction;\n    if (!onDestroy) {\n        return;\n    }\n    const event = { target: nextSibling, stagger };\n    return onDestroy(event);\n}\n//# sourceMappingURL=elementDestroyCheck.function.js.map","import { resetSupport } from '../Support.class.js';\nimport { getChildTagsToDestroy } from '../destroy.support.js';\n/** used when a tag swaps content returned */\nexport function softDestroySupport(lastSupport, options = { byParent: false, stagger: 0 }) {\n    const global = lastSupport.subject.global;\n    global.deleted = true;\n    // global.context = {}\n    global.context = [];\n    const childTags = getChildTagsToDestroy(global.childTags);\n    lastSupport.destroySubscriptions();\n    childTags.forEach(child => {\n        const subGlobal = child.subject.global;\n        delete subGlobal.newest;\n        subGlobal.deleted = true;\n    });\n    lastSupport.smartRemoveKids();\n    lastSupport.subject.global.clones.length = 0; // tag maybe used for something else\n    lastSupport.subject.global.childTags.length = 0; // tag maybe used for something else\n    resetSupport(lastSupport);\n    childTags.forEach(child => softDestroySupport(child, { byParent: true, stagger: 0 }));\n}\n//# sourceMappingURL=softDestroySupport.function.js.map","import { isLikeTags } from '../isLikeTags.function.js';\nimport { renderTagOnly } from './renderTagOnly.function.js';\nimport { destroyUnlikeTags } from './destroyUnlikeTags.function.js';\nimport { softDestroySupport } from './softDestroySupport.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { deepEqual } from '../../deepFunctions.js';\nexport function renderWithSupport(newSupport, lastSupport, // previous\nsubject, // events & memory\nownerSupport) {\n    const lastTemplater = lastSupport?.templater;\n    const lastTag = lastTemplater?.tag;\n    const reSupport = renderTagOnly(newSupport, lastSupport, subject, ownerSupport);\n    const isLikeTag = !lastSupport || isLikeTags(lastSupport, reSupport);\n    if (!isLikeTag) {\n        destroyUnlikeTags(lastSupport, reSupport, subject);\n    }\n    else if (lastSupport) {\n        const tag = reSupport.templater.tag;\n        if (tag) {\n            checkTagSoftDestroy(tag, lastSupport, lastTag);\n        }\n    }\n    const lastOwnerSupport = lastSupport?.ownerSupport;\n    reSupport.ownerSupport = (ownerSupport || lastOwnerSupport);\n    return reSupport;\n}\nfunction checkTagSoftDestroy(tag, lastSupport, lastTag) {\n    if (tag.tagJsType === ValueTypes.dom) {\n        const lastDom = lastTag?.dom;\n        const newDom = tag.dom;\n        if (!deepEqual(lastDom, newDom)) {\n            softDestroySupport(lastSupport);\n        }\n        return;\n    }\n    if (lastTag) {\n        if (lastTag.tagJsType === ValueTypes.dom) {\n            throw new Error('check here');\n        }\n        const lastStrings = lastTag.strings;\n        // console.log('lastStrings', lastStrings)\n        if (lastStrings) {\n            const oldLength = lastStrings?.length;\n            const newLength = tag.strings.length;\n            if (oldLength !== newLength) {\n                softDestroySupport(lastSupport);\n            }\n        }\n    }\n}\n//# sourceMappingURL=renderWithSupport.function.js.map","import { softDestroySupport } from './softDestroySupport.function.js';\nimport { moveProviders } from '../update/updateExistingTagComponent.function.js';\nexport function destroyUnlikeTags(lastSupport, // old\nreSupport, // new\nsubject) {\n    // when a tag is destroyed, disconnect the globals\n    const global = reSupport.subject.global; // = {...oldGlobal} // break memory references\n    moveProviders(lastSupport, reSupport);\n    softDestroySupport(lastSupport);\n    delete global.deleted;\n    global.oldest = reSupport;\n    global.newest = reSupport;\n    subject.support = reSupport;\n}\n//# sourceMappingURL=destroyUnlikeTags.function.js.map","import { deepClone } from '../deepFunctions.js';\nimport { renderSupport } from '../tag/render/renderSupport.function.js';\nexport function handleProviderChanges(appSupport, provider) {\n    let hadChanged = false;\n    const tagsWithProvider = getTagsWithProvider(appSupport, provider);\n    for (let index = tagsWithProvider.length - 1; index >= 0; --index) {\n        const { support, renderCount, provider } = tagsWithProvider[index];\n        if (support.subject.global.deleted) {\n            continue; // i was deleted after another tag processed\n        }\n        const notRendered = renderCount === support.subject.global.renderCount;\n        if (notRendered) {\n            hadChanged = true;\n            provider.clone = deepClone(provider.instance);\n            renderSupport(support.subject.global.newest, // support, // support.subject.global.newest as Support,\n            false);\n            continue;\n        }\n    }\n    return hadChanged;\n}\n/** Updates and returns memory of tag providers */\nfunction getTagsWithProvider(support, provider, memory = []) {\n    memory.push({\n        support,\n        renderCount: support.subject.global.renderCount,\n        provider,\n    });\n    const childTags = provider.children;\n    for (let index = childTags.length - 1; index >= 0; --index) {\n        memory.push({\n            support: childTags[index],\n            renderCount: childTags[index].subject.global.renderCount,\n            provider,\n        });\n    }\n    return memory;\n}\n//# sourceMappingURL=handleProviderChanges.function.js.map","import { isLikeTags } from '../isLikeTags.function.js';\nimport { renderWithSupport } from './renderWithSupport.function.js';\nimport { providersChangeCheck } from '../../state/providersChangeCheck.function.js';\n/** Returns true when rendering owner is not needed. Returns false when rendering owner should occur */\nexport function renderExistingTag(oldestSupport, // oldest with elements on html\nnewSupport, // new to be rendered\nownerSupport, // ownerSupport\nsubject) {\n    const lastSupport = subject.support; // todo maybe not needed?\n    const global = subject.global;\n    // share point between renders\n    newSupport.subject.global = global;\n    const preRenderCount = global.renderCount;\n    providersChangeCheck(oldestSupport);\n    // When the providers were checked, a render to myself occurred and I do not need to re-render again\n    const prevSupport = global.newest;\n    const justUpdate = preRenderCount !== global.renderCount;\n    if (justUpdate) {\n        oldestSupport.subject.global.oldest.updateBy(prevSupport);\n        return prevSupport; // already rendered during triggered events\n    }\n    const toRedrawTag = prevSupport || lastSupport || global.oldest;\n    const reSupport = renderWithSupport(newSupport, toRedrawTag, subject, ownerSupport);\n    const oldest = global.oldest || oldestSupport;\n    const isLikeTag = isLikeTags(prevSupport, reSupport);\n    if (isLikeTag) {\n        subject.support = reSupport;\n        oldest.updateBy(reSupport);\n    }\n    // ??? new - added but then removed\n    // global.newest = reSupport\n    return reSupport;\n}\n//# sourceMappingURL=renderExistingTag.function.js.map","import { deepClone, deepEqual } from '../deepFunctions.js';\nimport { handleProviderChanges } from './handleProviderChanges.function.js';\nexport function providersChangeCheck(support) {\n    const global = support.subject.global;\n    const providersWithChanges = global.providers.filter(provider => !deepEqual(provider.instance, provider.clone));\n    let hadChanged = false;\n    // reset clones\n    for (let index = providersWithChanges.length - 1; index >= 0; --index) {\n        const provider = providersWithChanges[index];\n        const owner = provider.owner;\n        if (handleProviderChanges(owner, provider)) {\n            hadChanged = true;\n        }\n        provider.clone = deepClone(provider.instance);\n    }\n    return hadChanged;\n}\n//# sourceMappingURL=providersChangeCheck.function.js.map","import { deepEqual } from '../../deepFunctions.js';\nimport { renderExistingTag } from './renderExistingTag.function.js';\n/** Main function used by all other callers to render/update display of a tag component */\nexport function renderSupport(support, // must be latest/newest state render\nrenderUp) {\n    const global = support.subject.global;\n    const templater = support.templater;\n    // is it just a vanilla tag, not component?\n    if (!templater.wrapper) { // || isTagTemplater(templater) \n        const ownerTag = support.ownerSupport;\n        ++global.renderCount;\n        if (ownerTag.subject.global.deleted) {\n            return support;\n        }\n        return renderSupport(ownerTag.subject.global.newest, true);\n    }\n    if (support.subject.global.locked) {\n        support.subject.global.blocked.push(support);\n        return support;\n    }\n    const subject = support.subject;\n    const oldest = support.subject.global.oldest;\n    let ownerSupport;\n    let selfPropChange = false;\n    const shouldRenderUp = renderUp && support;\n    if (shouldRenderUp) {\n        ownerSupport = support.ownerSupport;\n        if (ownerSupport) {\n            const nowProps = templater.props;\n            const latestProps = support.propsConfig.latestCloned;\n            selfPropChange = !deepEqual(nowProps, latestProps);\n        }\n    }\n    const tag = renderExistingTag(oldest, support, ownerSupport, // useSupport,\n    subject);\n    if (ownerSupport && selfPropChange) {\n        const myOwnerSupport = ownerSupport.subject.global.newest;\n        renderSupport(myOwnerSupport, true);\n        return tag;\n    }\n    return tag;\n}\n//# sourceMappingURL=renderSupport.function.js.map","import { renderSupport } from '../tag/render/renderSupport.function.js';\nimport { syncStates } from './syncStates.function.js';\nexport default function callbackStateUpdate(support, callback, oldState, ...args) {\n    const state = support.state;\n    // ensure that the oldest has the latest values first\n    syncStates(state, oldState);\n    // run the callback\n    const maybePromise = callback(...args);\n    // send the oldest state changes into the newest\n    syncStates(oldState, state);\n    renderSupport(support, // support.global.newest as Support,\n    false);\n    if (maybePromise instanceof Promise) {\n        maybePromise.finally(() => {\n            // send the oldest state changes into the newest\n            syncStates(oldState, state);\n            renderSupport(support, // support.global.newest as Support,\n            false);\n        });\n    }\n    // return undefined as T\n    return maybePromise;\n}\n//# sourceMappingURL=callbackStateUpdate.function.js.map","import { setUse } from './setUse.function.js';\nimport { SyncCallbackError } from '../errors.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport callbackStateUpdate from './callbackStateUpdate.function.js';\nlet innerCallback = (callback) => (a, b, c, d, e, f) => {\n    throw new SyncCallbackError('Callback function was called immediately in sync and must instead be call async');\n};\nexport const callbackMaker = () => innerCallback;\nconst originalGetter = innerCallback; // callbackMaker\nsetUse({\n    beforeRender: support => initMemory(support),\n    beforeRedraw: support => initMemory(support),\n    afterRender: support => {\n        support.subject.global.callbackMaker = true;\n        innerCallback = originalGetter; // prevent crossing callbacks with another tag\n    },\n});\nconst syncError = new SyncCallbackError('callback() was called outside of synchronous rendering. Use `callback = callbackMaker()` to create a callback that could be called out of sync with rendering');\n/** Wrap a function that will be called back. After the wrapper and function are called, a rendering cycle will update display */\nexport function callback(callback) {\n    const support = getSupportInCycle();\n    if (!support) {\n        throw syncError;\n    }\n    const oldState = setUse.memory.stateConfig.array;\n    const trigger = (...args) => {\n        const callbackMaker = support.subject.global.callbackMaker;\n        if (callbackMaker) {\n            return callbackStateUpdate(support, callback, oldState, ...args);\n        }\n        return callback(...args);\n    };\n    return trigger;\n}\nfunction initMemory(support) {\n    const oldState = setUse.memory.stateConfig.array;\n    innerCallback = (callback) => {\n        const trigger = (...args) => {\n            const callbackMaker = support.subject.global.callbackMaker;\n            if (callbackMaker) {\n                return callbackStateUpdate(support, callback, oldState, ...args);\n            }\n            return callback(...args);\n        };\n        return trigger;\n    };\n}\n//# sourceMappingURL=callbackMaker.function.js.map","import { state } from './state.function.js';\n/** runs a callback function one time and never again. Same as calling state(() => ...) */\nexport function onInit(callback) {\n    state(callback);\n}\n//# sourceMappingURL=onInit.js.map","import { getSupportInCycle } from \"../tag/getSupportInCycle.function.js\";\nimport { state } from \"./state.function.js\";\nexport function onDestroy(callback) {\n    state(() => {\n        const support = getSupportInCycle();\n        support?.subject.global.destroy$.toCallback(callback);\n    });\n}\n//# sourceMappingURL=onDestroy.js.map","import { setUse } from './setUse.function.js';\nfunction setCurrentSupport(support) {\n    setUse.memory.childrenCurrentSupport = support;\n}\nexport function children() {\n    const support = setUse.memory.childrenCurrentSupport;\n    const children = support.templater.children;\n    return children;\n}\nsetUse({\n    beforeRender: support => setCurrentSupport(support),\n    beforeRedraw: support => setCurrentSupport(support),\n});\n//# sourceMappingURL=children.js.map","export const tags = [];\n//# sourceMappingURL=tag.utils.js.map","import { Tag, Dom } from './Tag.class.js';\nexport function html(strings, ...values) {\n    return new Tag(strings, values);\n}\nhtml.dom = function (dom, ...values) {\n    return new Dom(dom, values);\n};\n//# sourceMappingURL=html.js.map","import { runTagCallback } from '../interpolations/bindSubjectCallback.function.js';\nimport { Support } from './Support.class.js';\nimport { castProps } from '../alterProp.function.js';\nimport { setUse } from '../state/setUse.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { html } from './html.js';\nimport { syncFunctionProps } from './update/updateExistingTagComponent.function.js';\n/** creates/returns a function that when called then calls the original component function\n * Gets used as templater.wrapper()\n */\nexport function getTagWrap(templater, result) {\n    const stateArray = setUse.memory.stateConfig.array;\n    // this function gets called by taggedjs\n    const wrapper = (newSupport, subject, lastSupport) => executeWrap(stateArray, templater, result, newSupport, subject, lastSupport);\n    return wrapper;\n}\nfunction executeWrap(stateArray, templater, result, newSupport, subject, lastSupport) {\n    const global = newSupport.subject.global;\n    ++global.renderCount;\n    const childSubject = templater.children;\n    const lastArray = global.oldest?.templater.children.lastArray;\n    if (lastArray) {\n        childSubject.lastArray = lastArray;\n    }\n    // result.original\n    const originalFunction = result.original; // (innerTagWrap as any).original as unknown as TagComponent\n    let props = templater.props;\n    // When defined, this must be an update where my new props have already been made for me\n    let preCastedProps = newSupport.propsConfig.castProps;\n    const lastCastProps = lastSupport?.propsConfig.castProps;\n    if (lastCastProps) {\n        newSupport.propsConfig.castProps = lastCastProps;\n        preCastedProps = syncFunctionProps(newSupport, lastSupport, lastSupport.ownerSupport, props);\n    }\n    const castedProps = preCastedProps || castProps(props, newSupport, stateArray, 0);\n    // CALL ORIGINAL COMPONENT FUNCTION\n    let tag = originalFunction(...castedProps);\n    if (tag instanceof Function) {\n        tag = tag();\n    }\n    const unknown = !tag || (tag.tagJsType && ![ValueTypes.tag, ValueTypes.dom].includes(tag.tagJsType));\n    if (unknown) {\n        tag = html `${tag}`; // component returned a non-component value\n    }\n    tag.templater = templater;\n    templater.tag = tag;\n    tag.arrayValue = templater.arrayValue; // tag component could have been used in array.map\n    const support = new Support(templater, newSupport.ownerSupport, subject, castedProps, global.renderCount);\n    support.subject.global = global;\n    // ??? this should be set by outside?\n    global.oldest = global.oldest || support;\n    // ??? new - removed\n    // global.newest = support\n    const nowState = setUse.memory.stateConfig.array;\n    support.state.push(...nowState);\n    if (templater.madeChildIntoSubject) {\n        const value = childSubject.value;\n        for (let index = value.length - 1; index >= 0; --index) {\n            const kid = value[index];\n            const values = kid.values;\n            for (let index = values.length - 1; index >= 0; --index) {\n                const value = values[index];\n                if (!(value instanceof Function)) {\n                    continue;\n                }\n                const valuesValue = kid.values[index];\n                if (valuesValue.isChildOverride) {\n                    continue; // already overwritten\n                }\n                // all functions need to report to me\n                kid.values[index] = function (...args) {\n                    return runTagCallback(value, // callback\n                    support.ownerSupport, this, // bindTo\n                    args, support.state);\n                };\n                valuesValue.isChildOverride = true;\n            }\n        }\n    }\n    return support;\n}\n//# sourceMappingURL=getTagWrap.function.js.map","// taggedjs-no-compile\nimport { setUse } from '../state/index.js';\nimport { TemplaterResult } from './TemplaterResult.class.js';\nimport { tags } from './tag.utils.js';\nimport { getTagWrap } from './getTagWrap.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nlet tagCount = 0;\n/** Wraps a function tag in a state manager and calls wrapped function on event cycles\n * For single rendering, no event cycles, use: tag.renderOnce = (props) => html``\n */\nexport function tag(tagComponent) {\n    /** function developer triggers */\n    const parentWrap = (function tagWrapper(...props) {\n        const templater = new TemplaterResult(props);\n        templater.tagJsType = ValueTypes.tagComponent;\n        // attach memory back to original function that contains developer display logic\n        const innerTagWrap = getTagWrap(templater, parentWrap);\n        if (!innerTagWrap.parentWrap) {\n            innerTagWrap.parentWrap = parentWrap;\n        }\n        templater.tagged = true;\n        templater.wrapper = innerTagWrap;\n        return templater;\n    }) // we override the function provided and pretend original is what's returned\n    ;\n    parentWrap.original = tagComponent;\n    parentWrap.compareTo = tagComponent.toString();\n    const tag = tagComponent;\n    parentWrap.isTag = true;\n    parentWrap.original = tag;\n    // group tags together and have hmr pickup\n    tag.tags = tags;\n    tag.setUse = setUse;\n    tag.tagIndex = tagCount++; // needed for things like HMR\n    tags.push(parentWrap);\n    return parentWrap;\n}\n/** Used to create a tag component that renders once and has no addition rendering cycles */\ntag.oneRender = (...props) => {\n    throw new Error('Do not call function tag.oneRender but instead set it as: `(props) => tag.oneRender = (state) => html`` `');\n};\n/** Use to structure and define a browser tag route handler\n * Example: export default tag.route = (routeProps: RouteProps) => (state) => html``\n */\ntag.route = (routeProps) => {\n    throw new Error('Do not call function tag.route but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `');\n};\n/** Use to structure and define a browser tag route handler\n * Example: export default tag.route = (routeProps: RouteProps) => (state) => html``\n */\ntag.app = (routeTag) => {\n    throw new Error('Do not call function tag.route but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `');\n};\nObject.defineProperty(tag, 'oneRender', {\n    set(oneRenderFunction) {\n        oneRenderFunction.oneRender = true;\n    },\n});\n//# sourceMappingURL=tag.js.map","import { BaseSupport } from './Support.class.js';\nimport { runAfterRender, runBeforeRender } from './tagRunner.js';\nimport { TagJsSubject } from './update/TagJsSubject.class.js';\nimport { afterChildrenBuilt } from './update/processTag.function.js';\nimport { textNode } from './textNode.js';\nconst appElements = [];\n/**\n *\n * @param app taggedjs tag\n * @param element HTMLElement\n * @param props object\n * @returns\n */\nexport function tagElement(app, // (...args: unknown[]) => TemplaterResult,\nelement, props) {\n    const appElmIndex = appElements.findIndex(appElm => appElm.element === element);\n    if (appElmIndex >= 0) {\n        appElements[appElmIndex].support.destroy();\n        appElements.splice(appElmIndex, 1);\n        // an element already had an app on it\n        console.warn('Found and destroyed app element already rendered to element', { element });\n    }\n    // Create the app which returns [props, runOneTimeFunction]\n    const wrapper = app(props);\n    // const fragment = document.createDocumentFragment()\n    const template = document.createElement('template');\n    const placeholder = textNode.cloneNode(false);\n    const support = runWrapper(wrapper, template, placeholder);\n    const global = support.subject.global;\n    support.appElement = element;\n    support.isApp = true;\n    global.isApp = true;\n    element.destroy = () => {\n        support.destroy(); // never return anything here\n    };\n    global.insertBefore = placeholder // template\n    ;\n    global.placeholder = placeholder;\n    const newFragment = support.buildBeforeElement(undefined);\n    const children = [...newFragment.children];\n    support.subject.global.oldest = support;\n    support.subject.global.newest = support;\n    element.setUse = app.original.setUse;\n    appElements.push({ element, support });\n    element.appendChild(newFragment);\n    afterChildrenBuilt(children, support.subject, support);\n    return {\n        support,\n        tags: app.original.tags,\n    };\n}\nexport function runWrapper(templater, insertBefore, placeholder) {\n    let newSupport = {};\n    // TODO: A fake subject may become a problem\n    const subject = new TagJsSubject(newSupport);\n    newSupport = new BaseSupport(templater, subject);\n    subject.global.insertBefore = insertBefore;\n    subject.global.placeholder = placeholder;\n    subject.global.oldest = subject.global.oldest || newSupport;\n    subject.next(templater);\n    subject.support = newSupport;\n    runBeforeRender(newSupport, undefined);\n    // Call the apps function for our tag templater\n    const wrapper = templater.wrapper;\n    const support = wrapper(newSupport, subject);\n    runAfterRender(newSupport, support);\n    return support;\n}\n//# sourceMappingURL=tagElement.js.map","export * from './tag/index.js';\nexport * from './errors.js';\nexport * from './subject.types.js';\nexport * from './isInstance.js';\nexport * from './state/index.js';\nexport * from './subject/index.js';\nexport * from './tag/Support.class.js';\nexport * from './interpolations/ElementTargetEvent.interface.js';\nexport * from './interpolations/InsertBefore.type.js';\nexport { tagElement } from './tag/tagElement.js';\nexport { Tag, variablePrefix } from './tag/Tag.class.js';\nexport { runBeforeRender } from './tag/tagRunner.js';\nexport { renderSupport } from './tag/render/renderSupport.function.js';\nexport { renderWithSupport } from './tag/render/renderWithSupport.function.js';\nexport { isLikeValueSets } from './tag/isLikeTags.function.js';\nimport { renderTagOnly } from './tag/render/renderTagOnly.function.js';\nimport { renderSupport } from './tag/render/renderSupport.function.js';\nimport { renderWithSupport } from './tag/render/renderWithSupport.function.js';\nimport { tagElement } from './tag/tagElement.js';\nexport const hmr = {\n    tagElement, renderWithSupport, renderSupport,\n    renderTagOnly,\n};\n//# sourceMappingURL=index.js.map","import { html, letState, tag } from \"taggedjs\";\nexport const attributeDebug = tag(() => {\n    let selected = letState('a')(x => [selected, selected = x]);\n    let isOrange = letState(true)(x => [isOrange, isOrange = x]);\n    return html.dom(allStrings[0], (event) => selected = event.target.value, ['a', 'b', 'c'].map(item => html.dom(allStrings[1], item, item == selected ? 'selected' : '', item, item == selected ? 'true' : 'false').key(item)), (event) => isOrange = event.target.checked, isOrange && 'checked', isOrange ? 'true' : 'false', isOrange ? 'orange' : '', isOrange ? 'black' : '', isOrange ? true : false, isOrange ? true : false, isOrange ? 'background-orange text-black' : '', { class: 'text-white' + (isOrange ? ' background-orange' : '') });\n});\nconst allStrings = [[{ \"nodeName\": \"input\", \"attributes\": [[\"onchange\", \":tagvar0:\"], [\"placeholder\", \"a b or c\"]] }, { \"nodeName\": \"select\", \"attributes\": [[\"id\", \"select-sample-drop-down\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Special Attributes\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [\"onchange\", \":tagvar2:\"], [\":tagvar3:\"]] }, { \"nodeName\": \"text\", \"textContent\": \" - :tagvar4:\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display: flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style.background-color\", \":tagvar5:\"], [\"style.color\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"style.background-color=&dollar;{'orange'}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class.background-orange\", \":tagvar7:\"], [\"class.text-black\", \":tagvar8:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class.background-orange=&dollar;{true}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class\", \":tagvar9:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class=&dollar;{'background-orange text-black'}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\":tagvar10:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class=&dollar;{'background-orange'} but always white\" }] }] }, { \"nodeName\": \"style\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \".background-orange {background-color:orange}\\n      .text-black {color:black}\\n      .text-white {color:white}\" }] }], [{ \"nodeName\": \"option\", \"attributes\": [[\"value\", \":tagvar0:\"], [\":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2: - :tagvar3:\" }] }]];\n","import { html, tag, letState, ValueSubject, state, combineLatest, willPromise } from \"taggedjs\";\nexport const contentDebug = tag(() => {\n    const vs0 = state(() => new ValueSubject(0));\n    const vs1 = state(() => new ValueSubject(1));\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    const dom = [{ nodeName: 'b', attributes: [], children: [{\n                    nodeName: 'text',\n                    textContent: 'big',\n                }] }];\n    return html.dom(allStrings[0], html.dom(dom), html.dom(allStrings[1]), 0, false, null, undefined, true, '{', '}', '{', '}', '<div>hello</div>', vs0, vs0.pipe(() => 55), combineLatest([vs0, vs1]).pipe(x => x[1]), combineLatest([vs0, vs1]).pipe(willPromise(x => Promise.resolve(html.dom(allStrings[2])))), renderCount);\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- content-debug-testing -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"hello-big-dom-world\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello :tagvar0: world\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"hello-big-string-world\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello :tagvar1: world\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em;font-size:0.8em\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"zero test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.0 You should see \\\"0\\\" here => \\\":tagvar2:\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you cannot see false values -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"false test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.1 You should see \\\"\\\" here => \\\":tagvar3:\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.2 You should see \\\"\\\" here => \\\":tagvar4:\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"undefined test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.3 You should see \\\"\\\" here => \\\":tagvar5:\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you can see true booleans -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"true test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.4 You should see \\\"true\\\" here => \\\":tagvar6:\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you can try to use the tagVar syntax -->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"P.5 You should see \\\"{22}\\\" here => \\\":tagvar7:22:tagvar8:\\\"\" }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"P.6 You should see \\\":tagvar9:__tagVar0:tagvar10:\\\" here => \\\"{__tagVar0}\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"should be a safe string no html \\\"&lt;div&gt;hello&lt;/div&gt;\\\" here => \\\":tagvar11:\\\"\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"value subject\" }] }, { \"nodeName\": \"text\", \"textContent\": \"0 === :tagvar12:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"piped subject\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-subject-pipe-display0\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"55\" }] }, { \"nodeName\": \"text\", \"textContent\": \" ===\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-subject-pipe-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"combineLatest\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipe-display0\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"1\" }] }, { \"nodeName\": \"text\", \"textContent\": \" ===\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipe-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"combineLatest piped html\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipeHtml-display0\"]], \"children\": [{ \"nodeName\": \"b\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"bold 77\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \" ===\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipeHtml-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }] }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \"(render count :tagvar16:)\" }], [{ \"nodeName\": \"b\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"big\" }] }], [{ \"nodeName\": \"b\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"bold 77\" }] }]];\n","export function willCallback(callback) {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        });\n        callback(lastValue, utils.next);\n    });\n}\n/** .pipe( promise((x) => Promise.resolve(44)) ) */\nexport function willPromise(callback) {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        }); // do nothing on initial return\n        const result = callback(lastValue);\n        result.then(x => utils.next(x));\n    });\n}\n/** .pipe( willSubscribe((x) => new ValueSubject(44)) ) */\nexport const willSubscribe = (callback) => {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        }); // do nothing on initial return\n        const result = callback(lastValue);\n        const subscription = result.subscribe(x => {\n            subscription.unsubscribe();\n            utils.next(x);\n        });\n    });\n};\n//# sourceMappingURL=will.functions.js.map","import { html, tag, letState } from \"taggedjs\";\nexport const tableDebug = tag(() => {\n    let showCell = letState(true)(x => [showCell, showCell = x]);\n    return html.dom(allStrings[0], 5, 5, showCell && html.dom(allStrings[1]), showCell && html.dom(allStrings[2]));\n});\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"max-height: 800px;overflow-y: scroll;\"]], \"children\": [{ \"nodeName\": \"table\", \"attributes\": [[\"cellpadding\", \":tagvar0:\"], [\"cellspacing\", \":tagvar1:\"], [\"border\", \"1\"]], \"children\": [{ \"nodeName\": \"thead\", \"attributes\": [[\"style\", \"position: sticky;top: 0;\"]], \"children\": [{ \"nodeName\": \"tr\", \"attributes\": [], \"children\": [{ \"nodeName\": \"th\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello\" }] }, { \"nodeName\": \"th\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"tbody\", \"attributes\": [], \"children\": [{ \"nodeName\": \"tr\", \"attributes\": [], \"children\": [{ \"nodeName\": \"td\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world\" }] }, { \"nodeName\": \"td\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }] }] }] }], [{ \"nodeName\": \"td\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello 2 thead cell\" }] }], [{ \"nodeName\": \"td\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world 2 tbody cell\" }] }]];\n","import { letState, html, tag, onInit, callbackMaker, onDestroy } from \"taggedjs\";\nconst test0interval = 3000;\nconst test1interval = 6000;\nexport const intervalTester0 = tag(() => {\n    let intervalCount = letState(0)(x => [intervalCount, intervalCount = x]);\n    let intervalId = letState(undefined)(x => [intervalId, intervalId = x]);\n    let intervalId2 = letState(undefined)(x => [intervalId2, intervalId2 = x]);\n    let renderCounter = letState(0)(x => [renderCounter, renderCounter = x]);\n    let currentTime = letState(0)(x => [currentTime, currentTime = x]);\n    const callback = callbackMaker();\n    const increase = () => ++intervalCount;\n    const startInterval = () => {\n        console.info(' interval test 0 started...');\n        trackTime();\n        intervalId = setInterval(callback(() => {\n            increase();\n        }), test0interval);\n    };\n    const stopInterval = () => {\n        clearInterval(intervalId);\n        clearInterval(intervalId2);\n        intervalId = undefined;\n        intervalId2 = undefined;\n        console.info(' interval test 0 stopped');\n    };\n    function trackTime() {\n        currentTime = 0;\n        intervalId2 = setInterval(callback(() => {\n            currentTime = currentTime + 500;\n            if (currentTime >= test0interval) {\n                currentTime = 0;\n            }\n        }), 500);\n        console.info(' interval started');\n    }\n    const toggle = () => {\n        if (intervalId || intervalId2) {\n            stopInterval();\n            return;\n        }\n        startInterval();\n    };\n    const delayIncrease = () => setTimeout(callback(() => {\n        currentTime = currentTime + 200;\n    }), 1000);\n    onInit(startInterval);\n    onDestroy(stopInterval);\n    ++renderCounter;\n    return html.dom(allStrings[0], test0interval, intervalId, increase, intervalCount, renderCounter, test0interval, currentTime, currentTime, toggle, intervalId || intervalId2 ? 'red' : 'green', delayIncrease);\n});\nexport const intervalTester1 = tag(() => {\n    let intervalCount = letState(0)(x => [intervalCount, intervalCount = x]);\n    let intervalId = letState(undefined)(x => [intervalId, intervalId = x]);\n    let intervalId2 = letState(undefined)(x => [intervalId2, intervalId2 = x]);\n    let renderCounter = letState(0)(x => [renderCounter, renderCounter = x]);\n    let currentTime = letState(0)(x => [currentTime, currentTime = x]);\n    const callback = callbackMaker();\n    const increase = () => ++intervalCount;\n    function trackTime() {\n        currentTime = 0;\n        intervalId2 = setInterval(callback(() => {\n            currentTime = currentTime + 500;\n            if (currentTime >= test1interval) {\n                currentTime = 0;\n            }\n        }), 500);\n    }\n    const destroy = () => {\n        clearInterval(intervalId);\n        clearInterval(intervalId2);\n        intervalId = undefined;\n        intervalId2 = undefined;\n        console.info(' interval 1 stopped');\n    };\n    function toggleInterval() {\n        if (intervalId) {\n            return destroy();\n        }\n        console.info(' interval test 1 started...');\n        trackTime();\n        intervalId = setInterval(callback(() => {\n            increase();\n            console.info('slow interval ran');\n        }), test1interval);\n    }\n    onInit(toggleInterval);\n    onDestroy(destroy);\n    ++renderCounter;\n    return html.dom(allStrings[1], test1interval, intervalId, increase, intervalCount, renderCounter, test1interval, currentTime, currentTime, toggleInterval, intervalId ? 'red' : 'green');\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--intervalDebug.js-->\" }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"interval type 1 at :tagvar0:ms\" }] }, { \"nodeName\": \"text\", \"textContent\": \"intervalId: :tagvar1:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:::tagvar4:\" }] }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"range\"], [\"min\", \"0\"], [\"max\", \":tagvar5:\"], [\"step\", \"1\"], [\"value\", \":tagvar6:\"]] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"--:tagvar7:--\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar8:\"], [\"style.background-color\", \":tagvar9:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"start/stop\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar10:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"delay increase currentTime\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"interval type 2 with :tagvar0:ms\" }] }, { \"nodeName\": \"text\", \"textContent\": \"intervalId: :tagvar1:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:::tagvar4:\" }] }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"range\"], [\"min\", \"0\"], [\"max\", \":tagvar5:\"], [\"step\", \"1\"], [\"value\", \":tagvar6:\"]] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"--:tagvar7:--\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar8:\"], [\"style.background-color\", \":tagvar9:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"start/stop\" }] }]];\n","export function createFx({ fxIn, fxOut, staggerBy = 300, }) {\n    return {\n        in: (input) => animateInit({ fxName: fxIn, staggerBy, ...input }),\n        out: (input) => animateDestroy({ fxName: fxOut, staggerBy, capturePosition: true, ...input }),\n    };\n}\nconst animateInit = async ({ target, stagger, staggerBy, fxName = 'fadeInDown' }) => {\n    target.style.opacity = '0';\n    if (stagger) {\n        await wait(stagger * staggerBy);\n    }\n    target.style.opacity = '1';\n    target.classList.add('animate__animated', 'animate__' + fxName);\n};\nconst animateDestroy = async ({ target, stagger, capturePosition = true, fxName = 'fadeOutUp', staggerBy }) => {\n    if (capturePosition) {\n        captureElementPosition(target);\n    }\n    if (stagger) {\n        await wait(stagger * staggerBy);\n    }\n    target.classList.add('animate__animated', 'animate__' + fxName);\n    await wait(1000); // don't allow remove from stage until animation completed\n    target.classList.remove('animate__animated', 'animate__' + fxName);\n};\n// absolute\nexport function captureElementPosition(element) {\n    element.style.zIndex = element.style.zIndex || 1;\n    const toTop = element.offsetTop + 'px';\n    const toLeft = element.offsetLeft + 'px';\n    const toWidth = (element.clientWidth + (element.offsetWidth - element.clientWidth) + 1) + 'px';\n    const toHeight = (element.clientHeight + (element.offsetHeight - element.clientHeight) + 1) + 'px';\n    const fix = () => {\n        element.style.top = toTop;\n        element.style.left = toLeft;\n        element.style.width = toWidth;\n        element.style.height = toHeight;\n        element.style.position = 'absolute';\n    };\n    // element.style.position = 'fixed'\n    // allow other elements that are being removed to have a moment to figure out where they currently sit\n    setTimeout(fix, 0);\n}\nfunction wait(time) {\n    return new Promise((res) => {\n        setTimeout(res, time);\n    });\n}\n//# sourceMappingURL=createFx.function.js.map","import { createFx } from \"./createFx.function.js\";\nexport const { in: fadeInDown, out: fadeOutUp } = createFx({ fxIn: 'fadeInDown', fxOut: 'fadeOutUp' });\n//# sourceMappingURL=index.js.map","import { intervalTester0, intervalTester1 } from \"./intervalDebug\";\nimport { html, tag, letState } from \"taggedjs\";\nimport { fadeInDown, fadeOutUp } from \"./animations\";\nexport const tagDebug = tag(() => {\n    let _firstState = letState('tagJsDebug.js')(x => [_firstState, _firstState = x]);\n    let showIntervals = letState(false)(x => [showIntervals, showIntervals = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[0], () => showIntervals = !showIntervals, showIntervals && html.dom(allStrings[1], fadeInDown, fadeOutUp, intervalTester0(), intervalTester1()));\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- tagDebug.js -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"debug-intervals\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Interval Testing\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hide/show\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }] }]];\n","import { tag, html } from \"taggedjs\";\nexport const renderCountDiv = tag(({ renderCount, name }) => html.dom(allStrings[0], name, name + '_render_count', renderCount));\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(:tagvar0: render count \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }]];\n","import { html, tag, letState } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nexport const tagSwitchDebug = tag((_t = 'tagSwitchDebug') => {\n    let selectedTag = letState(null)(x => [selectedTag, selectedTag = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    function changeSelectedTag(event) {\n        selectedTag = event.target.value;\n        if (selectedTag === 'undefined') {\n            selectedTag = undefined;\n        }\n        if (selectedTag === 'null') {\n            selectedTag = null;\n        }\n    }\n    let tagOutput = 'select tag below';\n    switch (selectedTag) {\n        case null:\n            tagOutput = 'null, select tag below';\n            break;\n        case \"\":\n            tagOutput = html.dom(allStrings[0]);\n            break;\n        case '1':\n            tagOutput = tag1({ title: 'value switch' });\n            break;\n        case '2':\n            tagOutput = tag2({ title: 'value switch' });\n            break;\n        case '3':\n            tagOutput = tag3({ title: 'value switch' });\n            break;\n    }\n    let tagOutput2 = html.dom(allStrings[1]);\n    switch (selectedTag) {\n        case null:\n            tagOutput2 = html.dom(allStrings[2]);\n            break;\n        case \"\":\n            tagOutput2 = html.dom(allStrings[3]);\n            break;\n        case '1':\n            tagOutput2 = tag1({ title: 'tag switch' });\n            break;\n        case '2':\n            tagOutput2 = tag2({ title: 'tag switch' });\n            break;\n        case '3':\n            tagOutput2 = tag3({ title: 'tag switch' });\n            break;\n    }\n    ++renderCount;\n    return html.dom(allStrings[4], selectedTag === null && 'null' ||\n        selectedTag === undefined && 'undefined' ||\n        selectedTag === '' && 'empty-string' ||\n        selectedTag, changeSelectedTag, typeof (selectedTag) === 'string' && !selectedTag.length ? { selected: true } : {}, selectedTag === undefined ? { selected: true } : {}, selectedTag === null ? { selected: true } : {}, selectedTag === '1' ? { selected: true } : {}, selectedTag === '2' ? { selected: true } : {}, selectedTag === '3' ? { selected: true } : {}, tagOutput, tagOutput2, selectedTag === '3' ? tag3({ title: 'ternary simple' }) : tag1({ title: 'ternary simple' }), ternaryPropTest({ selectedTag }), arraySwitching({ selectedTag }), renderCountDiv({ renderCount, name: 'tagSwitchDebug' }));\n});\nexport const ternaryPropTest = tag(({ selectedTag }) => {\n    const outTag = selectedTag === '3' ? tag3({ title: 'ternaryPropTest' }) : tag1({ title: 'ternaryPropTest' });\n    return html.dom(allStrings[5], selectedTag, outTag);\n});\nexport const tag1 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[6], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const tag2 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[7], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const tag3 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[8], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const arraySwitching = tag(({ selectedTag }) => {\n    switch (selectedTag) {\n        case undefined:\n            return html.dom(allStrings[9]);\n        case null:\n            return html.dom(allStrings[10]);\n        case '':\n            // TODO: ??? should be empty string\n            return html.dom(allStrings[11]); // tests how .previousSibling works\n        case '1':\n            return html.dom(allStrings[12], tag1({ title: `tag ${selectedTag}` }));\n        case '2':\n            return html.dom(allStrings[13], ['b', 'c'].map(x => html.dom(allStrings[14], tag2({ title: `array ${selectedTag} ${x}` })).key(x)));\n        case '3':\n            // console.log('allStrings', allStrings, allStrings[16], allStrings[17])\n            return html.dom(allStrings[15], ['d', 'e', 'f'].map(x => html.dom(allStrings[16], tag3({ title: `array ${selectedTag} ${x}` })).key(x)));\n    }\n    return html.dom(allStrings[17]);\n});\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"empty-string-1\"]] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null, select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"empty-string, select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"selectTag-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"selectedTag: |:tagvar0:|\" }] }, { \"nodeName\": \"select\", \"attributes\": [[\"id\", \"tag-switch-dropdown\"], [\"onchange\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"option\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \"<!-- TODO: implement selected attribute --->\" }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \":tagvar0:\"], [\":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"empty-string\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"undefined\"], [\":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"undefined\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"null\"], [\":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"1\"], [\":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 1\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"2\"], [\":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 2\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"3\"], [\":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 3\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"switch-tests-wrap\"], [\"style\", \"display:flex;flex-wrap:wrap;gap:1em;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 1 - string | Tag\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 2 - Tag\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 3 - ternary (only 1 or 3 shows)\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 3.2 - ternary via prop (only 1 or 3 shows)\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"arraySwitching-test-wrap\"], [\"style\", \"border:1px solid red;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 4 - arraySwitching\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"arraySwitching-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"ternaryPropTest-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:::tagvar1:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag1\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-1-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 1 :tagvar0: World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase :tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag2\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-2-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 2 :tagvar0: World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase :tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag3\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-3-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 3 :tagvar0: World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase :tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"its an undefined value\" }], [{ \"nodeName\": \"text\", \"textContent\": \"its a null value\" }], [{ \"nodeName\": \"text\", \"textContent\": \"space\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \"nothing to show for in arrays\" }]];\n","import { html, tag, letState } from \"taggedjs\";\nexport const mirroring = tag(() => {\n    const tag = tagCounter();\n    return html.dom(allStrings[0], tag, tag);\n});\nconst tagCounter = () => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    return html.dom(allStrings[1], counter, () => ++counter, counter);\n};\nconst allStrings = [[{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter0\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter1\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n    counter:\" }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"mirror-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"mirror-counter-button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }]];\n","import { html, letState, tag, isSubjectInstance, isTagArray, children } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nexport const innerHtmlTest = tag((_props, b) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let counter = letState(0)(x => [counter, counter = x]);\n    ++renderCount;\n    return html.dom(allStrings[0], children(), isSubjectInstance(children()), isTagArray(children().value), () => ++counter, counter, counter, renderCountDiv({ renderCount, name: 'innerHtmlTest' }));\n});\nexport const innerHtmlPropsTest = tag((x) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let counter = letState(0)(x => [counter, counter = x]);\n    ++renderCount;\n    return html.dom(allStrings[1], x, children(), () => ++counter, counter, counter, /*renderCountDiv(renderCount)*/ false);\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--innerHtmlTests.js-->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"innerHtmlTests-1\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"no props test\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:2px solid purple;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"isSubjectInstance::tagvar1:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"isSubjectTagArray::tagvar2:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlTest-counter-button\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase innerHtmlTest :tagvar4:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlTest-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--innerHtmlTests.js-->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"innerHtmlTests-2\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"innerHTML Props: :tagvar0:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase innerHtmlPropsTest :tagvar3:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }]];\n","import { children, html, letState, tag } from \"taggedjs\";\nimport { innerHtmlPropsTest, innerHtmlTest } from \"./innerHtmlTests.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nconst test22 = tag((a, b) => html.dom(allStrings[0], a, b, children()));\nexport const childTests = tag((_ = 'childTests') => (renderCount = letState(0)(x => [renderCount, renderCount = x]), counter = letState(0)(x => [counter, counter = x])) => html.dom(allStrings[1], test22(1, 2).\n    html.dom(allStrings[2], Date.now()), innerHtmlTest({}, 2).\n    html.dom(allStrings[3], () => ++counter, counter, renderCount, counter, renderCountDiv({ renderCount, name: 'childTests-innerHtmlTest' })), innerHtmlPropsTest(22).\n    html.dom(allStrings[4], () => ++counter, counter, counter, renderCountDiv({ renderCount, name: 'innerHtmlPropsTest child' })), childAsPropTest({ child: html.dom(allStrings[5], () => ++counter, counter, counter) }), () => ++counter, counter, renderCount, counter, renderCountDiv({ renderCount, name: 'childTests' })));\nfunction childAsPropTest({ child }) {\n    return html.dom(allStrings[6], child);\n}\nconst allStrings = [[{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"xxxxx\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello other world :tagvar0: - :tagvar1:\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:2px solid red;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"***:tagvar2:***\" }] }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"children-test\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"childTests\" }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\\n\\n    :tagvar2:\\n\\n    :tagvar3:\" }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"childTests-button\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase childTests outside :tagvar5: - :tagvar6:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \"abc-123-:tagvar0:\" }, { \"nodeName\": \"hr\", \"attributes\": [] }] }], [{ \"nodeName\": \"b\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Field set body A\" }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlTest-childTests-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" (A) increase childTests inside :tagvar1:::tagvar2:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlTest-childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }], [{ \"nodeName\": \"b\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Field set body B\" }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-childTests-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" (B) increase childTests inside :tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n      hello child as prop test\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"child-as-prop-test-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" child as prop :tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"child-as-prop-test-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child as prop\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }]];\n","import { html, letState, tag } from 'taggedjs';\nexport const mouseOverTag = tag(({ label, memory, }) => {\n    let mouseOverEditShow = letState(false)(x => [mouseOverEditShow, mouseOverEditShow = x]);\n    let edit = letState(false)(x => [edit, edit = x]);\n    return html.dom(allStrings[0], () => mouseOverEditShow = true, () => mouseOverEditShow = false, label, memory.counter, mouseOverEditShow || 'false', () => ++memory.counter, (edit || mouseOverEditShow) ? 'visible' : 'hidden', () => edit = !edit);\n});\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"background-color:purple;padding:.2em;flex:1\"], [\"onmouseover\", \":tagvar0:\"], [\"onmouseout\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mouseover - :tagvar2:::tagvar3:::tagvar4:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++counter\" }] }, { \"nodeName\": \"a\", \"attributes\": [[\"style.visibility\", \":tagvar6:\"], [\"onclick\", \":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;\" }] }] }]];\n","import { mouseOverTag } from \"./mouseover.tag.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nimport { html, tag, Subject, onInit, letState, callbackMaker, state, ValueSubject, callback, subject } from \"taggedjs\";\nconst loadStartTime = Date.now();\nexport const counters = tag(({ appCounterSubject }) => (readStartTime = state(() => Date.now())) => {\n    state('countersDebug state');\n    let counter = letState(0)(x => [counter, counter = x]);\n    let propCounter = letState(0)(x => [propCounter, propCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let initCounter = letState(0)(x => [initCounter, initCounter = x]);\n    let memory = state(() => ({ counter: 0 }));\n    const callbacks = callbackMaker();\n    const callbackTestSub = state(() => new Subject(counter));\n    const pipedSubject0 = state(() => new ValueSubject('222'));\n    const pipedSubject1 = Subject.all([pipedSubject0, callbackTestSub]).pipe(callback(x => {\n        return counter;\n    }));\n    const pipedSubject2 = subject.all([pipedSubject0, callbackTestSub]).pipe(x => counter);\n    onInit(() => {\n        ++initCounter;\n        console.info('countersDebug.ts:  i should only ever run once');\n        callbackTestSub.subscribe(callbacks(y => {\n            counter = y;\n        }));\n    });\n    // State as a callback only needed so pipedSubject1 has the latest value\n    const increaseCounter = () => {\n        ++counter;\n        pipedSubject0.next('333-' + counter);\n    };\n    const increasePropCounter = () => {\n        ++propCounter;\n    };\n    ++renderCount; // for debugging\n    const sharedMemory = true;\n    const testInnerCounters = true;\n    const displayRenderCounters = true;\n    const testBasics = true;\n    return html.dom(allStrings[0], testBasics && html.dom(allStrings[1], Subject.globalSubCount$, () => console.info('subs', Subject.globalSubs), initCounter, () => appCounterSubject.next((appCounterSubject.value || 0) + 1), appCounterSubject.value, appCounterSubject.value, increaseCounter, counter, counter, counter > 1 && html.dom(allStrings[2], increaseCounter, counter, counter), e => (counter = Number(e.target.value) || 0), increasePropCounter, propCounter, propCounter, () => callbackTestSub.next(counter + 1), counter, callbackTestSub), pipedSubject1, pipedSubject2, sharedMemory && html.dom(allStrings[3], true, mouseOverTag({ label: 'a-a-', memory }), mouseOverTag({ label: 'b-b-', memory }), memory.counter, () => ++memory.counter), testInnerCounters && html.dom(allStrings[4], innerCounters({ propCounter, increasePropCounter })), displayRenderCounters && renderCountDiv({ renderCount, name: 'counters' }), event => event.target.innerText = (Date.now() - loadStartTime).toString(), event => event.target.innerText = (Date.now() - readStartTime).toString());\n});\nconst innerCounters = tag(({ propCounter, increasePropCounter, }) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount; // for debugging\n    return html.dom(allStrings[5], increasePropCounter, propCounter, propCounter, renderCount, renderCountDiv({ renderCount, name: 'inner_counters' }));\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--counters-->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" pipedSubject 1\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-pipedSubject\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" pipedSubject 2\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-pipedSubject-2\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\\n    \\n    :tagvar4:\\n    :tagvar5:\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"font-size:0.8em;opacity:0.8\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" page load to display in&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"oninit\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-\" }] }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"font-size:0.8em;opacity:0.8\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" read in&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"oninit\", \":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-\" }] }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" Subscriptions:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-sub-count\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"log subs\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"initCounter::tagvar2:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"app-counter-subject-button\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++app subject\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counters-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counters-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"standalone-counter\"], [\"onclick\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"stand alone counters::tagvar7:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"standalone-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }, { \"nodeName\": \"input\", \"attributes\": [[\"id\", \"set-main-counter-input\"], [\"onkeyup\", \":tagvar10:\"]] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-increase-counter\"], [\"onclick\", \":tagvar11:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" propCounter::tagvar12:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-subject-increase-counter\"], [\"onclick\", \":tagvar14:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"subject increase:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-subject-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }] }, { \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"subject-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }] }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"conditional-counter\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"conditional counter::tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"conditional-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"shared memory\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class.bold.text-blue\", \":tagvar0:\"], [\"style\", \"display:flex;flex-wrap:wrap;gap:.5em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\\n          :tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \"memory.counter::tagvar3:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase \" }] }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"inner counter\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-inner-counter\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" propCounter::tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-inner-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount::tagvar3:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }]];\n","import { fadeInDown, fadeOutUp } from \"./animations.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nimport { letState, html, tag, providers, state, callbackMaker, Subject, onInit } from \"taggedjs\";\nexport class TagDebugProvider {\n    constructor() {\n        this.tagDebug = 0;\n        this.showDialog = false;\n    }\n}\nconst ProviderFunc = () => ({ counter: 0 });\nexport function tagDebugProvider() {\n    const upper = providers.create(upperTagDebugProvider);\n    return {\n        upper,\n        test: 0\n    };\n}\nexport function upperTagDebugProvider() {\n    return {\n        name: 'upperTagDebugProvider',\n        test: 0\n    };\n}\nexport const providerDebugBase = tag((_x = 'providerDebugBase') => {\n    // providerDebugBase, has provider\n    providers.create(ProviderFunc); // test that an arrow function can be a provider\n    const providerClass = providers.create(TagDebugProvider);\n    const provider = providers.create(tagDebugProvider);\n    const test = letState('props debug base');\n    let propCounter = letState(0)(x => [propCounter, propCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    if (providerClass.showDialog) {\n        document.getElementById('provider_debug_dialog').showModal();\n    }\n    ++renderCount;\n    return html.dom(allStrings[0], provider.test, provider.upper?.test || '?', providerClass.tagDebug || '?', () => ++provider.test, provider.test, provider.test, () => ++provider.upper.test, provider.upper.test, provider.upper.test, () => ++providerClass.tagDebug, providerClass.tagDebug, providerClass.tagDebug, () => ++propCounter, propCounter, propCounter, () => providerClass.showDialog = true, providerClass.showDialog, providerDebug({\n        propCounter,\n        propCounterChange: x => {\n            propCounter = x;\n        }\n    }), renderCount, renderCountDiv({ renderCount, name: 'providerDebugBase' }), dialog(providerClass), /*tagSwitchingWithProvider()*/ false);\n});\nconst tagSwitchingWithProvider = tag(() => (upperProvider = providers.inject(upperTagDebugProvider)) => html.dom(allStrings[1], () => ++upperProvider.test, upperProvider.test, upperProvider.test, upperProvider.test % 2 == 0 ? 'off' : 'on', tagSwitchingProChild1(), upperProvider.test % 2 == 0 ? null : tagSwitchingProChild2()));\nconst tagSwitchingProChild1 = tag(() => (upperProvider = providers.inject(upperTagDebugProvider)) => upperProvider.test % 2 == 0 ? null : html.dom(allStrings[2], () => ++upperProvider.test, upperProvider.test, upperProvider.test));\nconst tagSwitchingProChild2 = tag(() => (upperProvider = providers.inject(upperTagDebugProvider)) => html.dom(allStrings[3], () => ++upperProvider.test, upperProvider.test, upperProvider.test));\nconst dialog = tag((providerClass) => html.dom(allStrings[4], () => providerClass.showDialog = false, providerClass.showDialog ? html.dom(allStrings[5], JSON.stringify(providerClass, null, 2)) : 'no dialog'));\nconst providerDebug = tag(({ propCounter, propCounterChange, }) => {\n    const funcProvider = providers.inject(ProviderFunc); // test that an arrow function can be a provider\n    const provider = providers.inject(tagDebugProvider);\n    const providerClass = providers.inject(TagDebugProvider);\n    const upperProvider = providers.inject(upperTagDebugProvider);\n    let showProProps = letState(false)(x => [showProProps, showProProps = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    // let propCounter: number = letState(0)(x => [propCounter, propCounter = x])\n    const callbacks = callbackMaker();\n    const callbackTestSub = state(() => new Subject());\n    onInit(() => {\n        console.info('providerDebug.ts:   i should only ever run once');\n        callbackTestSub.subscribe(x => {\n            callbacks((y) => {\n                provider.test = x;\n            })();\n        });\n    });\n    ++renderCount;\n    return html.dom(allStrings[6], () => ++provider.test, provider.test, provider.test, () => ++upperProvider.test, upperProvider.test, upperProvider.test, () => ++funcProvider.counter, funcProvider.counter, funcProvider.counter, () => callbackTestSub.next(provider.test + 1), provider.test, () => ++providerClass.tagDebug, providerClass.tagDebug, providerClass.tagDebug, () => propCounterChange(++propCounter), propCounter, propCounter, () => providerClass.showDialog = true, providerClass.showDialog, () => showProProps = !showProProps, showProProps ? 'hide' : 'show', showProProps && html.dom(allStrings[7], fadeInDown, fadeOutUp, testProviderAsProps(providerClass)), renderCount, renderCountDiv({ renderCount, name: 'providerDebugInner' }));\n});\nconst testProviderAsProps = tag((providerClass) => {\n    return html.dom(allStrings[8], JSON.stringify(providerClass, null, 2));\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js-->\" }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"strong\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"provider.test sugar-daddy-77\" }] }, { \"nodeName\": \"text\", \"textContent\": \"::tagvar0:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"strong\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"provider.upper?.test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"::tagvar1:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"strong\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"providerClass.tagDebug\" }] }, { \"nodeName\": \"text\", \"textContent\": \"::tagvar2:\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider--0-button\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase provider.test :tagvar4:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-upper--0-button\"], [\"onclick\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase upper.provider.test :tagvar7:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-upper--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider--0-button\"], [\"onclick\", \":tagvar9:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase provider class :tagvar10:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-prop--0-button\"], [\"onclick\", \":tagvar12:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase propCounter :tagvar13:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-prop--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar15:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" toggle dialog :tagvar16:\" }] }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar17:\" }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \"renderCount outer:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"name\", \"render_count_outer\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar18:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar19:\\n\\n    :tagvar20:\\n\\n    TODOTODOTODOTODO\\n    :tagvar21:\" }], [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch--0-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase switch.provider.test :tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"statue::tagvar3:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }], [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch--1-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase switch.provider.test :tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch--2-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase switch.provider.test :tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch--2-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }], [{ \"nodeName\": \"dialog\", \"attributes\": [[\"id\", \"provider_debug_dialog\"], [\"style\", \"padding:0\"], [\"onmousedown\", \"var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()\"], [\"ondragstart\", \"\\\"const\"], [\"e\", \":tagvar0:\"], [\"dt\", \":tagvar1:\"], [\"t\", \":tagvar2:\"], [\"t:this\", \":tagvar3:\"], [\"e:event\", \":tagvar4:\"], [\"dt:event.datatransfer\", \":tagvar5:\"], [\"const\", \":tagvar6:\"], [\"d\", \"t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'\\\"\\n    ondrag=\\\"const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';\\\"\\n    ondragend=\\\"const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false\\\"\\n    onclose=:tagvar0:\\n  >\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"padding:.25em\"], [\"onmousedown\", \"this.parentNode.draggable=true\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"dialog title\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"padding:.25em\"]], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \"provider_debug_dialog.close()\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" close\" }] }] }] }], [{ \"nodeName\": \"textarea\", \"attributes\": [[\"wrap\", \"off\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js-->\" }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider--1-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase provider.test :tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-upper--1-button\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase upper.provider.test :tagvar4:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-upper--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-arrow-provider--1-button\"], [\"onclick\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase upper.provider.test :tagvar7:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-arrow-provider--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"subject-increase-counter\"], [\"onclick\", \":tagvar9:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" subject increase:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"subject-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider--1-button\"], [\"onclick\", \":tagvar11:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase provider class :tagvar12:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-prop--1-button\"], [\"onclick\", \":tagvar14:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" increase propCounter :tagvar15:\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-prop--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar17:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" toggle dialog :tagvar18:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar19:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar20: provider as props\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar21:\" }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount inner::tagvar22:\\n      :tagvar23:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Provider as Props\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js@TestProviderAsProps-->\" }, { \"nodeName\": \"textarea\", \"attributes\": [[\"wrap\", \"off\"], [\"rows\", \"20\"], [\"style\", \"width:100%;font-size:0.6em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }]];\n","import { watch, letState, html, tag } from \"taggedjs\";\nexport const watchTesting = tag(() => (stateNum = letState(0)(x => [stateNum, stateNum = x]), stateNumChangeCount = letState(0)(x => [stateNumChangeCount, stateNumChangeCount = x]), _ = watch([stateNum], () => ++stateNumChangeCount), slowChangeCount = letState(0)(x => [slowChangeCount, slowChangeCount = x]), watchPropNumSlow = watch.noInit([stateNum], () => ++slowChangeCount), subjectChangeCount = letState(0)(x => [subjectChangeCount, subjectChangeCount = x]), watchPropNumSubject = watch.asSubject([stateNum], () => {\n    return ++subjectChangeCount;\n}), truthChange = letState(false)(x => [truthChange, truthChange = x]), truthChangeCount = letState(0)(x => [truthChangeCount, truthChangeCount = x]), watchTruth = watch.truthy([truthChange], () => ++truthChangeCount), truthSubChangeCount = letState(0)(x => [truthSubChangeCount, truthSubChangeCount = x]), watchTruthAsSub = watch.truthy.asSubject([truthChange], () => {\n    ++truthSubChangeCount;\n    return truthChange;\n}).pipe(x => {\n    if (x === undefined) {\n        return 'undefined';\n    }\n    return x ? truthSubChangeCount : truthSubChangeCount;\n})) => html.dom(allStrings[0], stateNum, () => ++stateNum, stateNumChangeCount, slowChangeCount, watchPropNumSlow, subjectChangeCount, watchPropNumSubject, truthChange ? 'true' : 'false', watchTruth || 'false', truthChangeCount, watchTruthAsSub, truthSubChangeCount, () => truthChange = !truthChange, truthChange ? 'true' : 'false'));\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- watchTesting.tag.ts -->stateNum:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"watch-testing-num-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"watch-testing-num-button\"], [\"type\", \"button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++ stateNum\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"stateNumChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"stateNumChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" slowChangeCount\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-slowChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchPropNumSlow:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-watchPropNumSlow\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }] }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" subjectChangeCount\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-subjectChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(watchPropNumSubject:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-watchPropNumSubject\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" truthChange\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-truthChange\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"simple truth\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTruth:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-watchTruth\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(truthChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-truthChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"truth subject\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTruthAsSub:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-watchTruthAsSub\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(truthSubChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-truthSubChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"-truthChange-button\"], [\"type\", \"button\"], [\"onclick\", \":tagvar12:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle to :tagvar13:\" }] }] }]];\n","import { html, letState, Subject, subject, tag, ValueSubject } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\n/** this tag renders only once */\nexport const oneRender = () => tag.oneRender = (counter = new ValueSubject(0), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    const x = Subject.all([0, 'all', 4]);\n    return html.dom(allStrings[0], x.pipe(x => JSON.stringify(x)), counter, () => ++counter.value, renderCountDiv({ renderCount, name: 'oneRender_tag_ts' }), insideMultiRender());\n};\n/** this tag renders on every event but should not cause parent to re-render */\nconst insideMultiRender = tag(() => (counter = letState(0)(x => [counter, counter = x]), counter$ = subject(0), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    return html.dom(allStrings[1], counter$, counter, () => {\n        counter$.next(++counter);\n    }, renderCountDiv({ renderCount, name: 'insideMultiRender' }));\n});\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-start-\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:elias\" }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"id\", \"-counter-button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }], [{ \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" sub counter-subject-display:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }] }, { \"nodeName\": \"br\", \"attributes\": [] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" sub counter\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }, { \"nodeName\": \"br\", \"attributes\": [] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"id\", \"-counter-button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }]];\n","import { html, tag } from \"taggedjs\";\nexport const arrayFunTag = tag((item, deleteItem) => html.dom(allStrings[0], item, () => deleteItem(item)));\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid black;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"delete\" }] }] }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { arrayFunTag } from \"./arrayFun.tag\";\nimport { main } from \"./funInProps.tag\";\nexport const funInPropsChild = tag((arg0, mainProp, myFunction3) => (other = letState('other')(x => [other, other = x]), counter = letState(0)(x => [counter, counter = x]), renderCount = letState(0)(x => [renderCount, renderCount = x]), _ = ++renderCount, { addArrayItem, myFunction, deleteItem, child, array } = arg0) => html.dom(allStrings[0], mainProp.function.toCall ? 'taggjedjs-wrapped' : 'nowrap', mainProp.count, child.myChildFunction.toCall ? 'taggjedjs-wrapped' : 'nowrap', myFunction.toCall ? 'taggjedjs-wrapped' : 'nowrap', myFunction, child.myChildFunction, myFunction3, main.function, () => ++counter, array.length, array.map(item => arrayFunTag(item, deleteItem).key(item)), addArrayItem, counter, renderCountDiv({ renderCount, name: 'funInProps_tag_child' })));\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"strong\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mainFunction:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0::\" }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"strong\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"childFunction:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"strong\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"myFunction:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop1\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++object argument\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop2\"], [\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++child.myChildFunction\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop3\"], [\"onclick\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"+ +argument\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++main\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar8:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++me\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child array length: :tagvar9:\\n    :tagvar10:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar11:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"addArrayItem\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter:\" }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nexport const addArrayComponent = tag((addArrayItem) => (renderCount = letState(0)(x => [renderCount, renderCount = x]), _ = ++renderCount, handleKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n        const value = e.target.value.trim();\n        addArrayItem(value);\n        e.target.value = \"\";\n    }\n}) => html.dom(allStrings[0], handleKeyDown, e => { addArrayItem(e.target.value); e.target.value = ''; }, addArrayItem, renderCountDiv({ renderCount, name: 'addArrayComponent' })));\nconst allStrings = [[{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"text\"], [\"onkeydown\", \":tagvar0:\"], [\"onchange\", \":tagvar1:\"]] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"add by outside\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { funInPropsChild } from \"./funInPropsChild.tag\";\nimport { addArrayComponent } from \"./addArrayComponent.tag\";\nexport const main = {\n    function: () => ++main.count,\n    count: 0,\n};\nexport default tag(() => (array = letState([])(x => [array, array = x]), counter = letState(0)(x => [counter, counter = x]), myFunction = () => ++counter, renderCount = letState(0)(x => [renderCount, renderCount = x]), showChild = letState(true)(x => [showChild, showChild = x]), somethingElse = letState('a')(x => [somethingElse, somethingElse = x]), _ = ++renderCount, addArrayItem = (x) => { array = array.map(x => x); array.push(typeof (x) === 'string' ? x : 'push' + array.length); }, deleteItem = (item) => array = array.filter(x => x !== item)) => html.dom(allStrings[0], myFunction, counter, renderCountDiv({ renderCount, name: 'funInProps_tag_parent' }), main.function.toCall ? 'taggjedjs-wrapped' : 'nowrap', main.count, () => showChild = !showChild, array.length, addArrayItem, showChild && funInPropsChild({\n    myFunction, array, addArrayItem, deleteItem,\n    child: { myChildFunction: myFunction }\n}, main, myFunction), addArrayComponent(addArrayItem)));\nconst allStrings = [[{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun-parent-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++parent\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"fun_in_prop_display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"strong\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" main:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"main_wrap_state\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"text\", \"textContent\": \"::tagvar4:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"toggle-fun-in-child\"], [\"type\", \"button\"], [\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle child\" }] }, { \"nodeName\": \"text\", \"textContent\": \"array length: :tagvar6:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"reset add\" }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\\n  :tagvar9:\" }]];\n","import { html } from \"taggedjs\";\nconst hasValidMin = (value, min) => {\n    return value.length >= min;\n};\nexport function Input({ onSubmit, placeholder, label, defaultValue, onBlur }) {\n    const handleBlur = () => {\n        if (onBlur)\n            onBlur();\n    };\n    const handleKeyDown = (e) => {\n        if (e.key === \"Enter\") {\n            const value = e.target.value.trim();\n            if (!hasValidMin(value, 2))\n                return;\n            onSubmit(value);\n            e.target.value = \"\";\n        }\n    };\n    return html.dom(allStrings[0], placeholder, defaultValue, handleBlur, handleKeyDown, label);\n}\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"input-container\"]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"new-todo\"], [\"id\", \"todo-input\"], [\"type\", \"text\"], [\"data-testid\", \"text-input\"], [\"placeholder\", \":tagvar0:\"], [\"value\", \":tagvar1:\"], [\"onblur\", \":tagvar2:\"], [\"onkeydown\", \":tagvar3:\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"htmlfor\", \"todo-input\"], [\"style\", \"visibility:hidden\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }] }]];\n","export const ADD_ITEM = \"ADD_ITEM\";\nexport const UPDATE_ITEM = \"UPDATE_ITEM\";\nexport const REMOVE_ITEM = \"REMOVE_ITEM\";\nexport const TOGGLE_ITEM = \"TOGGLE_ITEM\";\nexport const REMOVE_ALL_ITEMS = \"REMOVE_ALL_ITEMS\";\nexport const TOGGLE_ALL = \"TOGGLE_ALL\";\nexport const REMOVE_COMPLETED_ITEMS = \"REMOVE_COMPLETED_ITEMS\";\n","import { Input } from \"./input\";\nimport { ADD_ITEM } from \"../constants\";\nimport { html } from \"taggedjs\";\nexport function Header(dispatch) {\n    const addItem = (title) => dispatch({ type: ADD_ITEM, payload: { title } });\n    return html.dom(allStrings[0], Input({ onSubmit: addItem, label: \"New Todo Input\", placeholder: \"What needs to be done?\" }));\n}\nconst allStrings = [[{ \"nodeName\": \"header\", \"attributes\": [[\"class\", \"header\"], [\"data-testid\", \"header\"]], \"children\": [{ \"nodeName\": \"h1\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todos\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }]];\n","const classnames = (x) => '';\nimport { Input } from \"./input\";\nimport { TOGGLE_ITEM, REMOVE_ITEM, UPDATE_ITEM } from \"../constants\";\nimport { html, letState, state, tag } from \"taggedjs\";\nexport const Item = tag((todo, dispatch, index) => {\n    state('item'); // helpful when debugging states\n    let isWritable = letState(false)(x => [isWritable, isWritable = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    const { title, completed, id } = todo;\n    const toggleItem = () => dispatch({ type: TOGGLE_ITEM, payload: { id } });\n    const removeItem = () => dispatch({ type: REMOVE_ITEM, payload: { id } });\n    const updateItem = (id, title) => dispatch({ type: UPDATE_ITEM, payload: { id, title } });\n    const handleDoubleClick = () => {\n        isWritable = true;\n    };\n    const handleBlur = () => isWritable = false;\n    const handleUpdate = (title) => {\n        if (title.length === 0)\n            removeItem();\n        else\n            updateItem(id, title);\n        isWritable = false;\n        return '44s';\n    };\n    ++renderCount;\n    return html.dom(allStrings[0], classnames({ completed: todo.completed }), isWritable ?\n        html.dom(allStrings[1], Input({ onSubmit: handleUpdate, label: \"Edit Todo Input\", defaultValue: title, onBlur: handleBlur }), title) : html.dom(allStrings[2], completed, completed, toggleItem, handleDoubleClick, title, removeItem), renderCount);\n});\nconst allStrings = [[{ \"nodeName\": \"li\", \"attributes\": [[\"class\", \":tagvar0:\"], [\"data-testid\", \"todo-item\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"view\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"text\", \"textContent\": \"item render count: :tagvar2:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0: - :tagvar1:\" }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n                    completed::tagvar0:\" }, { \"nodeName\": \"input\", \"attributes\": [[\"class\", \"toggle\"], [\"type\", \"checkbox\"], [\"data-testid\", \"todo-item-toggle\"], [\"checked\", \":tagvar1:\"], [\"onchange\", \":tagvar2:\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"data-testid\", \"todo-item-label\"], [\"ondblclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"class\", \"destroy\"], [\"data-testid\", \"todo-item-button\"], [\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"delete\" }] }]];\n","import { Item } from \"./item\";\nimport { TOGGLE_ALL } from \"../constants\";\nimport { html, letState, tag, watch } from \"taggedjs\";\nconst route = ''; // active or completed\nexport const Main = tag(({ todos, dispatch }) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    const toggleAll = (e) => dispatch({ type: TOGGLE_ALL, payload: { completed: e.target.checked } });\n    ++renderCount;\n    const visibleTodos = watch([todos, route], () => {\n        return todos.filter((todo) => {\n            if (route === \"/active\")\n                return !todo.completed;\n            if (route === \"/completed\")\n                return todo.completed;\n            return todo;\n        });\n    });\n    return html.dom(allStrings[0], renderCount, visibleTodos.length, todos.length, JSON.stringify(todos), visibleTodos.length > 0 && html.dom(allStrings[1], visibleTodos.every((todo) => todo.completed), toggleAll), visibleTodos.map((todo, index) => html.dom(allStrings[2], Item(todo, dispatch, index)).key(todo.id)));\n});\nconst allStrings = [[{ \"nodeName\": \"main\", \"attributes\": [[\"class\", \"main\"], [\"data-testid\", \"main\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"main renderCount: :tagvar0: array::tagvar1: of :tagvar2:\" }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"ul\", \"attributes\": [[\"class\", \"todo-list\"], [\"data-testid\", \"todo-list\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"toggle-all-container\"]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"toggle-all\"], [\"type\", \"checkbox\"], [\"data-testid\", \"toggle-all\"], [\"checked\", \":tagvar0:\"], [\"onchange\", \":tagvar1:\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"class\", \"toggle-all-label\"], [\"htmlfor\", \"toggle-all\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Toggle All Input\" }] }] }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }]];\n","const classnames = (x) => '';\nimport { REMOVE_COMPLETED_ITEMS } from \"../constants\";\nimport { html, tag } from \"taggedjs\";\nconst route = ''; // TODO\n// const { pathname: route } = useLocation();\n// prettier-ignore\n// TODO: we should be able to do null here instead of html.dom(allStrings[0])\nexport const Footer = tag((todos, dispatch) => (activeTodos = todos.filter((todo) => !todo.completed), removeCompleted = () => dispatch({ type: REMOVE_COMPLETED_ITEMS })) => todos.length === 0 ? null : html.dom(allStrings[1], activeTodos.length, todos.length, activeTodos.length === 1 ? \"item\" : \"items\", classnames({ selected: route === \"/\" }), classnames({ selected: route === \"/active\" }), classnames({ selected: route === \"/completed\" }), activeTodos.length === todos.length, removeCompleted));\nconst allStrings = [[], [{ \"nodeName\": \"footer\", \"attributes\": [[\"class\", \"footer\"], [\"data-testid\", \"footer\"]], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"class\", \"todo-count\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0: of :tagvar1: :tagvar2: left!\" }] }, { \"nodeName\": \"ul\", \"attributes\": [[\"class\", \"filters\"], [\"data-testid\", \"footer-navigation\"]], \"children\": [{ \"nodeName\": \"li\", \"attributes\": [], \"children\": [{ \"nodeName\": \"a\", \"attributes\": [[\"class\", \":tagvar3:\"], [\"href\", \"#/\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"All\" }] }] }, { \"nodeName\": \"li\", \"attributes\": [], \"children\": [{ \"nodeName\": \"a\", \"attributes\": [[\"class\", \":tagvar4:\"], [\"href\", \"#/active\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Active\" }] }] }, { \"nodeName\": \"li\", \"attributes\": [], \"children\": [{ \"nodeName\": \"a\", \"attributes\": [[\"class\", \":tagvar5:\"], [\"href\", \"#/completed\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Completed\" }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"class\", \"clear-completed\"], [\"disabled\", \":tagvar6:\"], [\"onclick\", \":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Clear completed\" }] }] }]];\n","import { ADD_ITEM, UPDATE_ITEM, REMOVE_ITEM, TOGGLE_ITEM, REMOVE_ALL_ITEMS, TOGGLE_ALL, REMOVE_COMPLETED_ITEMS } from \"./constants\";\n/* Borrowed from https://github.com/ai/nanoid/blob/3.0.2/non-secure/index.js\n\nThe MIT License (MIT)\n\nCopyright 2017 Andrey Sitnik <andrey@sitnik.ru>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. */\n// This alphabet uses `A-Za-z0-9_-` symbols.\n// The order of characters is optimized for better gzip and brotli compression.\n// References to the same file (works both for gzip and brotli):\n// `'use`, `andom`, and `rict'`\n// References to the brotli default dictionary:\n// `-26T`, `1983`, `40px`, `75px`, `bush`, `jack`, `mind`, `very`, and `wolf`\nlet urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nfunction nanoid(size = 21) {\n    let id = \"\";\n    // A compact alternative for `for (var i = 0; i < step; i++)`.\n    let i = size;\n    while (i--) {\n        // `| 0` is more compact and faster than `Math.floor()`.\n        id += urlAlphabet[(Math.random() * 64) | 0];\n    }\n    return id;\n}\nexport const todoReducer = (state, action) => {\n    switch (action.type) {\n        case ADD_ITEM:\n            return state.concat({ id: nanoid(), title: action.payload.title, completed: false });\n        case UPDATE_ITEM:\n            return state.map((todo) => (todo.id === action.payload.id ? { ...todo, title: action.payload.title } : todo));\n        case REMOVE_ITEM:\n            return state.filter((todo) => todo.id !== action.payload.id);\n        case TOGGLE_ITEM:\n            return state.map((todo) => (todo.id === action.payload.id ? { ...todo, completed: !todo.completed } : todo));\n        case REMOVE_ALL_ITEMS:\n            return [];\n        case TOGGLE_ALL:\n            return state.map((todo) => (todo.completed !== action.payload.completed ? { ...todo, completed: action.payload.completed } : todo));\n        case REMOVE_COMPLETED_ITEMS:\n            return state.filter((todo) => !todo.completed);\n    }\n    throw Error(`Unknown action: ${action.type}`);\n};\n","import { Header } from \"./components/header\";\nimport { Main } from \"./components/main\";\nimport { Footer } from \"./components/footer\";\nimport { todoReducer } from \"./reducer\";\nimport { letState, html, tag } from \"taggedjs\";\nexport const App = tag(() => (todos = letState([])(x => [todos, todos = x]), dispatch = (payload) => {\n    todos = todoReducer(todos, payload);\n}) => html.dom(allStrings[0], Header(dispatch), Main({ todos, dispatch }), Footer(todos, dispatch)));\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- TODO APP -->todo app\\n    :tagvar0:\\n    :tagvar1:\\n    :tagvar2:\" }]];\n","import { watch, letState, html, tag, letProp, state } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nexport const propsDebugMain = tag((_ = 'propsDebugMain') => (syncPropNumber = letState(0)(x => [syncPropNumber, syncPropNumber = x]), propNumber = letState(0)(x => [propNumber, propNumber = x]), renderCount = letState(0)(x => [renderCount, renderCount = x]), propsJson = letState({ test: 33, x: 'y' })(x => [propsJson, propsJson = x]), date = letState(() => new Date())(x => [date, date = x]), json = JSON.stringify(propsJson, null, 2)) => html.dom(allStrings[0], event => propsJson = JSON.parse(event.target.value), json, json, ++renderCount, () => ++propNumber, propNumber, propNumber, propsDebug({\n    propNumber,\n    propsJson,\n    propNumberChange: x => {\n        propNumber = x;\n    }\n}), syncPropNumber, () => ++syncPropNumber, renderCountDiv({ renderCount, name: 'sync_props_callback' }), syncPropDebug({\n    syncPropNumber,\n    propNumberChange: x => syncPropNumber = x,\n    parentTest: x => {\n        return x;\n    }\n}), date, timestampToValues(date).date, event => {\n    const newDateString = event.target.value;\n    date = new Date(newDateString);\n}, propDateDebug({ date })));\nconst propDateDebug = tag(({ date }) => html.dom(allStrings[1], date));\n/** Tests calling a property that is a function immediately which should cause rendering */\nconst syncPropDebug = tag(({ syncPropNumber, propNumberChange, parentTest, }) => {\n    state('string forced');\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    if (syncPropNumber % 2 === 1) {\n        propNumberChange(syncPropNumber = syncPropNumber + 1);\n    }\n    return html.dom(allStrings[2], syncPropNumber, () => propNumberChange(++syncPropNumber), counter, parentTest(counter), () => {\n        parentTest(++counter);\n    }, renderCountDiv({ renderCount, name: 'child_sync_props_callback' }));\n});\nconst propsDebug = tag(({ propNumber, propsJson, propNumberChange, }) => (renderCount = letState(0)(x => [renderCount, renderCount = x]), propNumberChangeCount = letState(0)(x => [propNumberChangeCount, propNumberChangeCount = x]), \n// poor way to update an argument\nmyPropNumber = letState(propNumber)(x => [myPropNumber, myPropNumber = x]), _ = watch([propNumber], () => myPropNumber = propNumber), watchResults = watch([myPropNumber], () => ++propNumberChangeCount), \n// simple way to locally only update an argument\n__ = letProp(propNumber)(x => [propNumber, propNumber = x])) => html.dom(allStrings[3], event => {\n    const value = JSON.parse(event.target.value);\n    Object.assign(propsJson, value);\n}, JSON.stringify(propsJson, null, 2), JSON.stringify(propsJson, null, 2), JSON.stringify(watchResults, null, 2), () => propNumberChange(++myPropNumber), myPropNumber, myPropNumber, () => ++propNumber, propNumber, propNumber, () => ++renderCount, ++renderCount, () => ++myPropNumber, myPropNumber, propNumberChangeCount, propFnUpdateTest({\n    propNumber: myPropNumber,\n    callback: () => ++myPropNumber\n})));\nconst propFnUpdateTest = tag(({ propNumber, callback, }) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[4], callback, propNumber, propNumber, renderCountDiv({ renderCount, name: 'propFnUpdateTest' }));\n});\nfunction timestampToValues(timestamp) {\n    const date = new Date(timestamp);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    return {\n        date: `${year}-${month}-${day}`,\n        time: `${hours}:${minutes}`\n    };\n}\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap\"], [\"id\", \"textareawrap\"]], \"children\": [{ \"nodeName\": \"textarea\", \"attributes\": [[\"id\", \"props-debug-textarea\"], [\"wrap\", \"off\"], [\"onchange\", \":tagvar0:\"], [\"style\", \"height:200px;font-size:0.6em;width:100%;max-width:400px\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"pre\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(renderCount::tagvar3:)\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug--0-button\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" propNumber :tagvar5:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug--0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"sync props callback\" }] }, { \"nodeName\": \"text\", \"textContent\": \" syncPropNumber: \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-number-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar9:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"date prop\" }] }, { \"nodeName\": \"text\", \"textContent\": \"date::tagvar12:\" }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"date\"], [\"value\", \":tagvar13:\"], [\"onchange\", \":tagvar14:\"]] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"date::tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--syncPropDebug-->\" }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" child syncPropNumber:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-child-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"sync-prop-child-button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"parentTest\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"nothing-prop-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"nothing-prop-counter-button\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--propsDebug.js-->\" }, { \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Json\" }] }, { \"nodeName\": \"textarea\", \"attributes\": [[\"style\", \"font-size:0.6em;height:200px;width:100%;;max-width:400px\"], [\"wrap\", \"off\"], [\"onchange\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"pre\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap\"]] }, { \"nodeName\": \"text\", \"textContent\": \"-->\" }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Number\" }] }, { \"nodeName\": \"textarea\", \"attributes\": [[\"style\", \"font-size:0.6em;height:200px;width:100%;color:white;\"], [\"wrap\", \"off\"], [\"disabled\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug--1-button\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"  propNumber :tagvar5:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug--1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug--2-button\"], [\"onclick\", \":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"  local set propNumber :tagvar8:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug--2-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"title\", \"test of increasing render count and nothing else\"], [\"onclick\", \":tagvar10:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount :tagvar11:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar12:\"], [\"title\", \"only changes number locally but if change by parent than that is the number\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"  local set myPropNumber :tagvar13:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"small\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(propNumberChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug--change-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }, { \"nodeName\": \"hr\", \"attributes\": [] }, { \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Fn update test\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsOneLevelFunUpdate--button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"  local & 1-parent increase :tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsOneLevelFunUpdate--display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"small\", \"attributes\": [[\"style\", \"opacity:.5\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"the count here and within parent increases but not in parent parent\" }] }]];\n","import { letState } from './letState.function.js';\nimport { watch } from './watch.function.js';\n/**\n * Enables the ability to maintain a change to a props value until the prop itself changes\n * @param prop typically the name of an existing prop\n * @returns immediately call the returned function: letProp(y)(x => [y, y=x])\n */\nexport function letProp(prop) {\n    return getSetProp => {\n        let myProp = letState(prop)(getSetProp);\n        watch([prop], () => getSetProp(myProp = prop));\n        getSetProp(myProp); // always reset to my value and right await so that the old prop value never slips through\n        return myProp;\n    };\n}\n//# sourceMappingURL=letProp.function.js.map","import { fadeInDown, fadeOutUp } from './animations.js';\nimport { renderCountDiv } from './renderCount.component.js';\nimport { html, state, letState, tag } from 'taggedjs';\nconst frameCount = 4;\nexport const arrayTests = tag(function ArrayTests() {\n    const players = state([]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    const getNewPlayer = () => ({\n        name: 'Person ' + players.length,\n        scores: '0,'.repeat(/*frameCount*/ 0).split(',').map((_v, index) => ({\n            frame: index + 1,\n            score: Math.floor(Math.random() * 4) + 1\n        }))\n    });\n    ++renderCount;\n    return html.dom(allStrings[0], playersDisplay({ players, getNewPlayer }), () => {\n        players.push(getNewPlayer());\n    }, players.length + 1, () => {\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n    }, () => {\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n    }, players.length > 0 && html.dom(allStrings[1], fadeInDown, fadeOutUp, () => players.length = 0), renderCountDiv({ renderCount, name: 'arrayTests.ts' }));\n});\nconst scoreData = tag(({ score, playerIndex }) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[2], score.frame, `score-data-${playerIndex}-${score.frame}-inside-button`, () => ++score.score, score.score, `score-data-${playerIndex}-${score.frame}-inside-display`, score.score, () => ++renderCount, renderCountDiv({ renderCount, name: 'scoreData' + score.frame }));\n});\nconst playersDisplay = tag(({ players, getNewPlayer, }) => {\n    const playersContent = players.map((player, index) => html.dom(allStrings[3], fadeInDown, fadeOutUp, player.name, index, player.scores.map((score, playerIndex) => html.dom(allStrings[4], fadeInDown, fadeOutUp, `score-data-${playerIndex}-${score.frame}-outside-button`, () => ++score.score, score.score, `score-data-${playerIndex}-${score.frame}-outside-display`, score.score, scoreData({ score, playerIndex })).key(score)), player.edit && html.dom(allStrings[5], () => {\n        players.splice(index, 1);\n        player.edit = !player.edit;\n    }), player.edit && html.dom(allStrings[6], 'player-remove-promise-btn-' + index, async () => {\n        player.edit = !player.edit;\n        players.splice(index, 1);\n    }), 'player-edit-btn-' + index, () => player.edit = !player.edit, () => {\n        players.splice(index, 0, getNewPlayer());\n    }).key(player));\n    return html.dom(allStrings[7], playersContent);\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--arrayTests.js-->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"array-test-push-item\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push item :tagvar2:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push 3 items\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push 9 items\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\\n\\n    :tagvar6:\" }], [{ \"nodeName\": \"button\", \"attributes\": [[\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"], [\"style\", \"--animate-duration: .1s;\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove all\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n    frame::tagvar0::\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \":tagvar1:\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"inner score button ++:tagvar3:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase renderCount\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"], [\"style\", \"background-color:black;--animate-duration: .1s;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"name::tagvar2:\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"index::tagvar3:\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"background-color:purple;padding:.5em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"scores::tagvar4:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\\n      :tagvar6:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \":tagvar7:\"], [\"onclick\", \":tagvar8:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"edit\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar9:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"add before\" }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid white;--animate-duration: .1s;\"], [\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \":tagvar2:\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"outer score button ++:tagvar4:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove\" }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \":tagvar0:\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove by promise\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!-- playersLoop.js -->:tagvar0:<!-- end:playersLoop.js -->\" }]];\n","import { attributeDebug } from \"./attributeDebug.component\";\nimport { contentDebug } from \"./ContentDebug.component\";\nimport { tableDebug } from \"./tableDebug.component\";\nimport { html, tag, letState, onInit, state, Subject, callbackMaker, onDestroy } from \"taggedjs\";\nimport { tagDebug } from \"./tagJsDebug\";\nimport { tagSwitchDebug } from \"./tagSwitchDebug.component\";\nimport { mirroring } from \"./mirroring.tag\";\nimport { childTests } from \"./childTests\";\nimport { runTests } from \"./tests\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { counters } from \"./countersDebug\";\nimport { providerDebugBase } from \"./providerDebug\";\nimport { watchTesting } from \"./watchTesting.tag\";\nimport { oneRender } from \"./oneRender.tag\";\nimport funInPropsTag from \"./funInProps.tag\";\nimport { App as todo } from \"./todo/app\";\nimport { propsDebugMain } from \"./PropsDebug.tag\";\nimport { arrayTests } from \"./arrayTests\";\nexport const App = tag(() => {\n    let _firstState = letState('app first state')(x => [_firstState, _firstState = x]);\n    let toggleValue = letState(false)(x => [toggleValue, toggleValue = x]);\n    let appCounter = letState(0)(x => [appCounter, appCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let testTimeout = letState(null)(x => [testTimeout, testTimeout = x]);\n    const toggle = () => {\n        toggleValue = !toggleValue;\n    };\n    // if I am destroyed before my test runs, prevent test from running\n    onDestroy(() => {\n        clearTimeout(testTimeout);\n        testTimeout = null;\n    });\n    function runTesting(manual = true) {\n        const waitFor = 2000;\n        testTimeout = setTimeout(async () => {\n            console.debug(' Running tests...');\n            const result = await runTests();\n            if (!manual) {\n                return;\n            }\n            if (result) {\n                alert(' all app tests passed');\n                return;\n            }\n            alert(' tests failed. See console for more details');\n        }, waitFor); // cause delay to be separate from renders\n    }\n    ++renderCount;\n    const callbacks = callbackMaker();\n    const appCounterSubject = state(() => new Subject(appCounter));\n    onInit(() => {\n        console.info('1 app init should only run once');\n        runTesting(false);\n        appCounterSubject.subscribe(callbacks(y => appCounter = y));\n    });\n    const content = html.dom(allStrings[0], 2 + 2, toggle, toggleValue, runTesting, () => appCounterSubject.next(appCounter + 1), appCounter, renderCountDiv({ name: 'app', renderCount }), counters({ appCounterSubject }), watchTesting(), providerDebugBase(undefined), propsDebugMain(undefined), childTests(undefined), attributeDebug(), contentDebug(), tagSwitchDebug(undefined), arrayTests(), mirroring(), tableDebug(), oneRender(), funInPropsTag(), todo(), tagDebug());\n    return content;\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--app.js-->\" }, { \"nodeName\": \"h1\", \"attributes\": [[\"id\", \"h1-app\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" TaggedJs - :tagvar0:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"toggle-test\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle test :tagvar2:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"run test\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"app-counter-subject-button\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++app subject\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagDebug-fx-wrap\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"counters\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counters\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"counters\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" watch testing\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"provider-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Provider Debug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"props-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Debug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Attribute Tests\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"content-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Content Debug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Tag Switching\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"arrays\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Tag Mirroring\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Table Tests\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar17:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"oneRender\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar18:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"functions in props\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar19:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todo\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar20:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar21:\" }] }]];\n","import { execute } from \"./expect\";\nexport async function runTests() {\n    await import('./start.test');\n    await import('./basic.test');\n    await import('./content.test');\n    await import('./counters.test');\n    await import('./props.test');\n    await import('./providers.test');\n    await import('./tagSwitch.test');\n    await import('./child.test');\n    await import('./array.test');\n    await import('./mirror.test');\n    await import('./watch.test');\n    await import('./oneRender.test');\n    await import('./funInProps.test');\n    await import('./todos.test');\n    await import('./last.test');\n    try {\n        const start = Date.now(); //performance.now()\n        await execute();\n        const time = Date.now() - start; // performance.now() - start\n        console.info(` all tests passed in ${time}ms`);\n        return true;\n    }\n    catch (error) {\n        console.error(' tests failed: ' + error.message, error);\n        return false;\n    }\n}\n","import { childTests } from \"./childTests\";\nimport { Subject, callbackMaker, html, onInit, letState, tag, state } from \"taggedjs\";\nimport { arrayTests } from \"./arrayTests\";\nimport { tagSwitchDebug } from \"./tagSwitchDebug.component\";\nimport { mirroring } from \"./mirroring.tag\";\nimport { propsDebugMain } from \"./PropsDebug.tag\";\nimport { providerDebugBase } from \"./providerDebug\";\nimport { counters } from \"./countersDebug\";\nimport { tableDebug } from \"./tableDebug.component\";\nimport { contentDebug } from \"./ContentDebug.component\";\nimport { watchTesting } from \"./watchTesting.tag\";\nimport { oneRender } from \"./oneRender.tag\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport funInPropsTag from \"./funInProps.tag\";\nimport { App as todo } from \"./todo/app\";\nimport { runTests } from \"./isolatedApp.test\";\nexport var ViewTypes;\n(function (ViewTypes) {\n    ViewTypes[\"Todo\"] = \"todo\";\n    ViewTypes[\"FunInPropsTag\"] = \"funInPropsTag\";\n    ViewTypes[\"OneRender\"] = \"oneRender\";\n    ViewTypes[\"WatchTesting\"] = \"watchTesting\";\n    ViewTypes[\"Mirroring\"] = \"mirroring\";\n    ViewTypes[\"Content\"] = \"content\";\n    ViewTypes[\"Arrays\"] = \"arrays\";\n    ViewTypes[\"Counters\"] = \"counters\";\n    ViewTypes[\"TableDebug\"] = \"tableDebug\";\n    ViewTypes[\"Props\"] = \"props\";\n    ViewTypes[\"Child\"] = \"child\";\n    ViewTypes[\"TagSwitchDebug\"] = \"tagSwitchDebug\";\n    ViewTypes[\"ProviderDebug\"] = \"providerDebug\";\n})(ViewTypes || (ViewTypes = {}));\nconst viewTypes = Object.values(ViewTypes);\nconst storage = getScopedStorage();\nfunction getScopedStorage() {\n    const string = localStorage.taggedjs || JSON.stringify({ autoTest: true, views: [] });\n    return JSON.parse(string);\n}\nfunction saveScopedStorage() {\n    localStorage.taggedjs = JSON.stringify(storage);\n}\nexport default tag(() => {\n    state('isolated app state');\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let appCounter = letState(0)(x => [appCounter, appCounter = x]);\n    let testTimeout = letState(null)(x => [testTimeout, testTimeout = x]);\n    const appCounterSubject = state(() => new Subject(appCounter));\n    const callback = callbackMaker();\n    /*\n    const cb = callback((x: number) => {\n      appCounter = x\n    })\n    */\n    function runTesting(manual = true) {\n        const waitFor = 2000;\n        testTimeout = setTimeout(async () => {\n            console.debug(' Running tests...');\n            const result = await runTests(storage.views);\n            if (!manual) {\n                return;\n            }\n            if (result) {\n                alert(' all app tests passed');\n                return;\n            }\n            alert(' tests failed. See console for more details');\n        }, waitFor); // cause delay to be separate from renders\n    }\n    onInit(() => {\n        console.info('1 app init should only run once');\n        appCounterSubject.subscribe(callback(x => {\n            appCounter = x;\n        }));\n        // appCounterSubject.subscribe(cb)\n        if (storage.autoTest) {\n            runTesting(false);\n        }\n    });\n    function toggleViewType(type) {\n        if (storage.views.includes(type)) {\n            (storage.views = storage.views.filter(x => x !== type));\n        }\n        else {\n            storage.views.push(type);\n            if (storage.autoTest) {\n                runTesting();\n            }\n        }\n        saveScopedStorage();\n    }\n    function toggleAutoTesting() {\n        storage.autoTest = storage.autoTest = !storage.autoTest;\n        saveScopedStorage();\n    }\n    ++renderCount;\n    return html.dom(allStrings[0], () => {\n        appCounterSubject.next(appCounter + 1);\n    }, appCounter, /*appCounterSubject*/ 'masked', storage.autoTest ? 'checked' : null, toggleAutoTesting, () => runTesting(true), viewTypes.map(type => html.dom(allStrings[1], 'view-type-' + type, 'view-type-' + type, storage.views.includes(type) && 'checked', () => toggleViewType(type), 'view-type-' + type, type).key(type)), storage.views.includes(ViewTypes.OneRender) && html.dom(allStrings[2], oneRender()), storage.views.includes(ViewTypes.Props) && html.dom(allStrings[3], propsDebugMain(undefined)), storage.views.includes(ViewTypes.WatchTesting) && html.dom(allStrings[4], watchTesting()), storage.views.includes(ViewTypes.TableDebug) && html.dom(allStrings[5], tableDebug()), storage.views.includes(ViewTypes.ProviderDebug) && html.dom(allStrings[6], providerDebugBase(undefined)), storage.views.includes(ViewTypes.TagSwitchDebug) && html.dom(allStrings[7], tagSwitchDebug(undefined)), storage.views.includes(ViewTypes.Mirroring) && html.dom(allStrings[8], mirroring()), storage.views.includes(ViewTypes.Arrays) && html.dom(allStrings[9], arrayTests()), storage.views.includes(ViewTypes.Counters) && html.dom(allStrings[10], counters({ appCounterSubject })), storage.views.includes(ViewTypes.Content) && html.dom(allStrings[11], contentDebug()), storage.views.includes(ViewTypes.Child) && html.dom(allStrings[12], childTests(undefined)), storage.views.includes(ViewTypes.FunInPropsTag) && html.dom(allStrings[13], funInPropsTag()), storage.views.includes(ViewTypes.Todo) && html.dom(allStrings[14], todo()), /*\n      <textarea style=\"font-size:0.6em;min-width:50vw;height:400px\">${ template.string }</textarea>\n      <textarea style=\"font-size:0.6em;min-width:50vw;height:400px\">${ JSON.stringify(template, null, 2) }</textarea>\n      */ false, renderCountDiv({ renderCount, name: 'isolatedApp' }));\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--isolatedApp.js-->\" }, { \"nodeName\": \"h1\", \"attributes\": [[\"id\", \"app\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" TaggedJs - isolated\" }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"app-counter-subject-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" ++app subject\" }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }, { \"nodeName\": \"span\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"auto testing \" }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [\":tagvar3:\"], [\"onchange\", \":tagvar4:\"]] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"run tests\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"h3\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Sections\" }] }, { \"nodeName\": \"text\", \"textContent\": \"<!-- checkbox menu -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;gap:1em;flex-wrap:wrap;margin:1em;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagDebug-fx-wrap\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar7:\\n\\n        :tagvar8:\\n\\n        :tagvar9:\\n\\n        :tagvar10:\\n\\n        :tagvar11:\\n\\n        :tagvar12:\\n\\n        :tagvar13:\\n\\n        :tagvar14:\\n\\n        :tagvar15:\\n\\n        :tagvar16:\\n\\n        :tagvar17:\\n\\n        :tagvar18:\\n\\n        :tagvar19:\\n\\n        :tagvar20:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar21:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [\"id\", \":tagvar0:\"], [\"name\", \":tagvar1:\"], [\":tagvar2:\"], [\"onclick\", \":tagvar3:\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"for\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;:tagvar5:\" }] }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"oneRender\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"propsDebugMain\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTesting\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tableDebug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"providerDebugBase\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tagSwitchDebug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mirroring\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"arrays\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counters\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"content\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Children Tests\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"funInPropsTag\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"attributes\": [], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todo\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }]];\n","import { execute } from \"./expect\";\nimport { ViewTypes } from \"./isolatedApp\";\nexport async function runTests(views) {\n    await import('./start.test');\n    if (views.includes(ViewTypes.Content)) {\n        await import('./content.test');\n    }\n    if (views.includes(ViewTypes.Counters)) {\n        await import('./counters.test');\n    }\n    if (views.includes(ViewTypes.Props)) {\n        await import('./props.test');\n    }\n    if (views.includes(ViewTypes.ProviderDebug)) {\n        await import('./providers.test');\n    }\n    if (views.includes(ViewTypes.TagSwitchDebug)) {\n        await import('./tagSwitch.test');\n    }\n    if (views.includes(ViewTypes.Child)) {\n        await import('./child.test');\n    }\n    if (views.includes(ViewTypes.Arrays)) {\n        await import('./array.test');\n    }\n    if (views.includes(ViewTypes.Mirroring)) {\n        await import('./mirror.test');\n    }\n    if (views.includes(ViewTypes.WatchTesting)) {\n        await import('./watch.test');\n    }\n    if (views.includes(ViewTypes.FunInPropsTag)) {\n        await import('./funInProps.test');\n    }\n    if (views.includes(ViewTypes.OneRender)) {\n        await import('./oneRender.test');\n    }\n    if (views.includes(ViewTypes.Todo)) {\n        await import('./todos.test');\n    }\n    await import('./last.test');\n    try {\n        const start = Date.now(); //performance.now()\n        await execute();\n        const time = Date.now() - start; // performance.now() - start\n        console.info(` isolated tests passed in ${time}ms`);\n        return true;\n    }\n    catch (error) {\n        console.error(' isolated tests failed: ' + error.message, error);\n        return false;\n    }\n}\n","import { tagElement } from \"taggedjs\";\nimport { App } from \"./app.tag\";\nimport IsolatedApp from \"./isolatedApp\";\nexport const app = () => {\n    console.info('attaching app to element...');\n    const element = document.getElementsByTagName('app')[0];\n    const pathname = window.location.pathname;\n    const locationSplit = pathname.split('/').filter(x => x);\n    const location = locationSplit[0]?.toLowerCase();\n    if (location && ['isolated.html', 'index-static.html'].includes(location)) {\n        const start = Date.now();\n        tagElement(IsolatedApp, element, { test: 1 });\n        const end = Date.now() - start;\n        console.info(` isolated render in ${end}ms`);\n        return;\n    }\n    const start = Date.now();\n    tagElement(App, element, { test: 1 });\n    const end = Date.now() - start;\n    console.info(` rendered in ${end}ms`);\n};\n"],"names":["it","toBe","insideCount","click","insideElm","insideDisplay","indexValue","innerText","outsideElm","outsideDisplay","outsideValue","Number","toString","async","onclick","result","time","Promise","res","setTimeout","toBeDefined","toggleTest","propsTextarea","value","replace","firstRun","counterInput","onkeyup","target","beforeRenderCount","beforeInnerRenderCount","currentSubs","skip","pipedSubDisplay","subjectCountDisplay","elmCount","selector","document","querySelectorAll","length","query","focus","q","forEach","elm","map","clickOne","index","html","innerHTML","byId","id","getElementById","htmlById","expectMatchedHtml","queries","elements","reduce","all","push","toBeGreaterThan","lastHtml","pop","every","join","expectHTML","element","expectElmCount","count","message","found","testDuelCounterElements","sets","button0","display0","shift","buttonQuery","ip0","testCounterSelectedElements","elementCountExpected","increase","button1","display1","display1Element","ip1Check","secondIncrease","counterButtons","counterDisplays","counterButtonSelect","counterDisplaySelect","increaseCounter","counterDisplay","body","contains","counterValue","oldCounterValue","testCounterElements","onlyTests","tests","tab","describe","label","run","oldTests","console","debug","repeat","runTests","error","start","Date","now","clearTests","execute","test","err","name","expect","expected","customMessage","Function","JSON","stringify","Error","received","amount","expectNum","isNaN","toBeLessThan","only","getElementsByTagName","counter","propCounter","funUpdateValue","changed","ownerHTML","parentHTML","childHTML","ownerNum","parentNum","childNum","syncCounter","templateTags","dropdown","onchange","todoInput","onkeydown","key","todoToggle2","checked","event","MouseEvent","bubbles","cancelable","view","window","dispatchEvent","editInput","slowCount","startCount","truthStartCount","newCount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","empty","ValueTypes","variablePrefix","variableSuffix","RegExp","BaseTag","values","tagJsType","arrayValue","templater","constructor","this","Tag","strings","tag","children","super","Dom","dom","replacePlaceholders","i","attributes","processAttributes","examineChild","child","nodeName","textChild","textContent","placeholderRegex","match","exec","wIndex","parseInt","varContent","before","slice","after","Array","x","domClone","splice","lastIndex","startsWith","safeVar","safeReplacer","traverseAndRestore","attr","fragReplacer","regexAttr","regexTagOrg","htmlInterpolationToDomMeta","fragmentsWithPlaceholders","results","fragment","diff","balanceArrayByArrays","addPlaceholders","parsedElements","stack","currentElement","valueIndex","position","regexTag","tagMatch","fullMatch","tagName","attrString","isClosingTag","isSelfClosing","endsWith","trim","textNode","attrMatch","_","attrName","attrValueQuoted","attrValueUnquoted","attrValue","toLowerCase","parseHTML","exchangeParsedForValues","lastRuns","getDomMeta","stringId","array","getStringsId","lastRun","matches","string","isLastRunMatched","domMeta","template","interpolation","isStaticTag","includes","isTagComponent","tagComponent","isTagClass","isSubjectInstance","subject","isSubject","subscribe","isTagArray","combineLatest","subjects","output","Subject","subscribeWith","callback","valuesSeen","setValue","subscription","clones","subscriptions","getSubscription","subscribers","countSubject","globalSubCount$","next","_value","unsubscribe","findIndex","sub","removeSubFromArray","add","runPipedMethods","methods","onComplete","cloneMethods","firstMethod","newValue","handler","methodResponse","setHandler","onSubscription","defineValueOn","orgCallback","lastValue","emit","set","subs","toPromise","toCallback","_subscription","pipe","operations","setMethods","args","arg","static","ValueSubject","getSupportInCycle","setUse","memory","stateConfig","support","use","useMe","beforeRender","beforeRedraw","afterRender","beforeDestroy","tagUse","TagError","details","errorCode","ArrayNoKeyError","StateMismatchError","SyncCallbackError","badLetState","state","config","rearray","stateLength","getStateValue","initState","defaultValue","checkValue","oldState","StateEchoBack","getCallbackValue","wrapper","oldStates","newStates","tagFunction","parentWrap","original","warn","item","syncStates","stateFrom","stateTo","fromValue","getSetMethod","restate","oldValue","initValue","newState","global","newest","watch","currentValues","setupWatch","defaultFinally","init","final","previous","pastResult","previousValues","defineOnMethod","getWatch","attachTo","setup","oldWatch","firstSupport","method","nowSupport","setTo","oldestState","letState","makeStateResult","y","deepClone","makeDeepClone","depth","object","clone","isArray","create","getPrototypeOf","deepEqual","obj1","obj2","isDeepEqual","fn0","fn1","getTime","isArrayDeepEqual","keys1","keys","keys2","isObjectDeepEqual","newWatch","providers","constructMethod","stateDiffMemory","stateDiff","provider","oldStateCount","instance","owner","cm","compareTo","ownerSupport","find","msg","isLikeTags","support0","support1","templater0","templater1","tag0","tag1","dom0","dom1","values0","values1","isLikeValueSets","isLikeDomTags","strings0","strings1","isLikeStringTags","runBeforeRender","runAfterRender","tagClosed$","runBeforeDestroy","deleted","hasLiveElements","childTags","filter","oldest","renderTagOnly","newSupport","prevSupport","oldRenderCount","renderCount","parentSupport","lastOwnerSupport","runtimeOwnerSupport","lastState","runBeforeRedraw","beforeWithRender","reSupport","destroyTagMemory","oldSupport","destroy","context","isSimpleType","number","boolean","destroyArrayTag","counts","stagger","removed","getValueType","type","function","date","tagArray","unknown","cloneValueArray","cloneTagJsValue","props","getChildTagsToDestroy","allTags","cTag","kidsToTagArraySubject","templaterResult","madeChildIntoSubject","kid","TemplaterResult","tagged","bind","childSubject","TagJsSubject","tagJsSubject","getNewGlobal","destroy$","blocked","processNewTag","Support","getTestTextNode","cloneNode","_children","createTextNode","style","classS","specialAttribute","names","split","classList","remove","howToSetInputValue","setAttribute","hasPropChanges","pastCloneProps","castedProps","castedPastProps","compare","subCastedProps","subCompareProps","matched","entries","compareProps","onDelete","compareOriginal","processTagResult","subjectTag","lastSupport","updateBy","processTagResultUpdate","newFragment","buildBeforeElement","placeholder","parentNode","insertBefore","afterElmBuild","options","getAttribute","added","nextSibling","onInitDoubleWrap","oninit","onInitWrap","onInit","elementInitCheck","hasAttribute","select","processTag","newSupportByTemplater","afterChildrenBuilt","tagFakeTemplater","getFakeTemplater","fake","isTag","setupNewSupport","processSubjectComponent","substring","ownGlobal","preClones","reGlobal","renderWithSupport","myClones","fClone","renderSubjectComponent","castProps","stateArray","checkProp","alterProp","newProp","toCall","wrap","callWith","supportInCycle","noCycle","locked","callbackResult","lastResult","runBlocked","renderSupport","allMatched","callbackPropOwner","mem","assign","getPropWrap","isSkipPropValue","subValue","afterCheckProp","getset","getOwnPropertyDescriptor","originalValue","updateExistingTagComponent","renderUp","oldWrapper","newWrapper","isSameTag","hasChanged","newTemplater","propsChanged","propsConfig","latestCloned","propsChanged2","kidsChanged","oldCloneKidValues","lastClonedKidValues","newClonedKidValues","hasKidsChanged","hasSupportChanged","syncFunctionProps","isLikeTag","oldestTag","softDestroySupport","buildNewTag","afterTagRender","newPropsArray","priorPropsArray","newArray","syncPriorPropFunction","priorProp","oldOwnerState","hasSetter","useLocks","noData","promiseNoData","runTagCallback","bindTo","findTagToCallback","checkAfterCallbackPromise","last","renderCallbackSupport","afterTagCallback","then","block","INPUT","valueS","ondoubleclick","attrs","scope","howToSet","removeAttribute","processNameValueAttr","processNameOnlyAttr","isSpecialAttr","isSpecial","newAttrValue","oneRender","isChildOverride","subjectFunction","bindSubjectCallback","processAttributeSubjectValue","callbackFun","fun","search","processTagArray","lastArray","removeChild","setPlaceholderElm","runtimeInsertBefore","destroyArrayItem","subTag","tagClass","prevArrayValue","destroyItem","valueA","valueB","areLikeValues","previousSupport","itemSubject","setupNewTemplater","prevSubject","processAddTagArrayItem","updateBeforeTemplate","lastFirstChild","parent","castTextValue","processRegularValue","castedValue","oldClone","processFirstSubjectValue","v","oneRenderToSupport","processFirstRegularValue","swapInsertBefore","updateExistingValue","valueType","displaySubject","hasLastValue","newType","destroySimpleValue","arraySubject","wasArray","isValueTag","checkDestroyPrevious","subjectSup","newestState","prepareUpdateToComponent","isClass","valueSupport","isTagTemplater","handleStillTag","subscribeToTemplate","called","syncRun","onValue","attachDomElement","nodes","node","marker","appendChild","text","DOMParser","parseFromString","newString","documentElement","domElement","createElement","BaseSupport","isApp","appElement","clonePropsBy","kidValue","latest","getHtmlDomMeta","thisTag","update","orgDomMeta","createDocumentFragment","attachClonesToSupport","tempTag","updateConfig","updateValues","updateContext","_string","hasValue","exists","updateContextItem","processNewValue","updateOneContext","byParent","destroySubscriptions","subGlobal","resetSupport","promises","smartRemoveKids","startStagger","childTag","cloneOne","newPromises","promise","destroyClones","unshift","checkCloneRemoval","customElm","ondestroy","onDestroyDoubleWrap","onDestroyWrap","onDestroy","elementDestroyCheck","indexOf","version","getAppSupport","htmlDomMeta","meta","lastTemplater","lastTag","lastDom","lastStrings","oldLength","checkTagSoftDestroy","moveProviders","destroyUnlikeTags","handleProviderChanges","appSupport","hadChanged","tagsWithProvider","getTagsWithProvider","renderExistingTag","oldestSupport","preRenderCount","providersWithChanges","providersChangeCheck","ownerTag","selfPropChange","callbackStateUpdate","maybePromise","finally","innerCallback","a","b","c","e","f","callbackMaker","originalGetter","initMemory","syncError","setCurrentSupport","childrenCurrentSupport","tags","getTagWrap","originalFunction","preCastedProps","lastCastProps","nowState","valuesValue","executeWrap","tagCount","innerTagWrap","tagIndex","route","routeProps","app","routeTag","oneRenderFunction","appElements","tagElement","appElmIndex","appElm","runWrapper","hmr","attributeDebug","selected","isOrange","allStrings","class","contentDebug","vs0","vs1","utils","willPromise","resolve","tableDebug","showCell","test0interval","test1interval","intervalTester0","intervalCount","intervalId","intervalId2","renderCounter","currentTime","startInterval","info","setInterval","stopInterval","clearInterval","intervalTester1","toggleInterval","animateInit","staggerBy","fxName","opacity","wait","animateDestroy","capturePosition","zIndex","toTop","offsetTop","toLeft","offsetLeft","toWidth","clientWidth","offsetWidth","toHeight","clientHeight","offsetHeight","top","left","width","height","captureElementPosition","in","fadeInDown","out","fadeOutUp","fxIn","fxOut","input","createFx","tagDebug","_firstState","showIntervals","renderCountDiv","tagSwitchDebug","_t","selectedTag","tagOutput","title","tag2","tag3","tagOutput2","ternaryPropTest","arraySwitching","outTag","mirroring","tagCounter","innerHtmlTest","_props","innerHtmlPropsTest","test22","childTests","childAsPropTest","mouseOverTag","mouseOverEditShow","edit","loadStartTime","counters","appCounterSubject","readStartTime","initCounter","callbacks","callbackTestSub","pipedSubject0","pipedSubject1","pipedSubject2","increasePropCounter","globalSubs","innerCounters","TagDebugProvider","showDialog","ProviderFunc","tagDebugProvider","upper","upperTagDebugProvider","providerDebugBase","_x","providerClass","showModal","providerDebug","propCounterChange","dialog","tagSwitchingProChild1","upperProvider","tagSwitchingProChild2","funcProvider","showProProps","testProviderAsProps","watchTesting","stateNum","stateNumChangeCount","slowChangeCount","watchPropNumSlow","noInit","subjectChangeCount","watchPropNumSubject","asSubject","truthChange","truthChangeCount","watchTruth","truthy","truthSubChangeCount","watchTruthAsSub","insideMultiRender","counter$","arrayFunTag","deleteItem","funInPropsChild","arg0","mainProp","myFunction3","other","addArrayItem","myFunction","myChildFunction","main","addArrayComponent","handleKeyDown","showChild","somethingElse","hasValidMin","min","Input","onSubmit","onBlur","ADD_ITEM","UPDATE_ITEM","REMOVE_ITEM","TOGGLE_ITEM","TOGGLE_ALL","REMOVE_COMPLETED_ITEMS","Item","todo","dispatch","isWritable","completed","removeItem","payload","updateItem","Main","todos","visibleTodos","Footer","activeTodos","removeCompleted","nanoid","size","Math","random","App","action","concat","todoReducer","Header","propsDebugMain","syncPropNumber","propNumber","propsJson","json","parse","propsDebug","propNumberChange","syncPropDebug","parentTest","timestamp","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","timestampToValues","newDateString","propDateDebug","propNumberChangeCount","myPropNumber","watchResults","__","getSetProp","myProp","letProp","propFnUpdateTest","arrayTests","players","getNewPlayer","scores","_v","frame","score","floor","playersDisplay","scoreData","playerIndex","playersContent","player","toggleValue","appCounter","testTimeout","runTesting","manual","alert","clearTimeout","ViewTypes","viewTypes","storage","localStorage","taggedjs","autoTest","views","getScopedStorage","saveScopedStorage","Content","Counters","Props","ProviderDebug","TagSwitchDebug","Child","Arrays","Mirroring","WatchTesting","FunInPropsTag","OneRender","Todo","toggleViewType","TableDebug","locationSplit","location","pathname","end"],"sourceRoot":""}