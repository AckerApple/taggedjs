{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./src/ContentDebug.component.ts","webpack:///./src/PropsDebug.component.ts","webpack:///./src/animations.ts","webpack:///./src/app.component.ts","webpack:///./src/arrayTests.ts","webpack:///./src/attributeDebug.component.ts","webpack:///./src/childTests.ts","webpack:///./src/countersDebug.ts","webpack:///./src/expect.ts","webpack:///./src/innerHtmlTests.ts","webpack:///./src/intervalDebug.ts","webpack:///./src/isolatedApp.ts","webpack:///./src/providerDebug.ts","webpack:///./src/renderCount.component.ts","webpack:///./src/tableDebug.component.ts","webpack:///./src/tagJsDebug.ts","webpack:///./src/tagSwitchDebug.component.ts","webpack:///./src/tests.ts","webpack:///../main/ts/ElementTargetEvent.interface.ts","webpack:///../main/ts/Subject.ts","webpack:///../main/ts/Tag.class.ts","webpack:///../main/ts/Tag.utils.ts","webpack:///../main/ts/TagSupport.class.ts","webpack:///../main/ts/TemplaterResult.class.ts","webpack:///../main/ts/ValueSubject.ts","webpack:///../main/ts/alterProps.function.ts","webpack:///../main/ts/bindSubjectCallback.function.ts","webpack:///../main/ts/checkDestroyPrevious.function.ts","webpack:///../main/ts/deepFunctions.ts","webpack:///../main/ts/elementDestroyCheck.function.ts","webpack:///../main/ts/elementInitCheck.ts","webpack:///../main/ts/errors.ts","webpack:///../main/ts/getCallback.ts","webpack:///../main/ts/hasTagSupportChanged.function.ts","webpack:///../main/ts/html.ts","webpack:///../main/ts/index.ts","webpack:///../main/ts/inputAttribute.ts","webpack:///../main/ts/interpolateAttributes.ts","webpack:///../main/ts/interpolateContentTemplates.ts","webpack:///../main/ts/interpolateElement.ts","webpack:///../main/ts/interpolateTemplate.ts","webpack:///../main/ts/interpolations.ts","webpack:///../main/ts/isInstance.ts","webpack:///../main/ts/isLikeTags.function.ts","webpack:///../main/ts/onDestroy.ts","webpack:///../main/ts/onInit.ts","webpack:///../main/ts/processAttribute.function.ts","webpack:///../main/ts/processNewValue.function.ts","webpack:///../main/ts/processRegularValue.function.ts","webpack:///../main/ts/processSubjectComponent.function.ts","webpack:///../main/ts/processSubjectValue.function.ts","webpack:///../main/ts/processTagArray.ts","webpack:///../main/ts/processTagResult.function.ts","webpack:///../main/ts/provider.utils.ts","webpack:///../main/ts/providers.ts","webpack:///../main/ts/render.ts","webpack:///../main/ts/renderExistingTag.function.ts","webpack:///../main/ts/scanTextAreaValue.function.ts","webpack:///../main/ts/set.function.ts","webpack:///../main/ts/setLet.function.ts","webpack:///../main/ts/setProp.function.ts","webpack:///../main/ts/setUse.function.ts","webpack:///../main/ts/tag.ts","webpack:///../main/ts/tagElement.ts","webpack:///../main/ts/tagRunner.ts","webpack:///../main/ts/updateExistingTagComponent.function.ts","webpack:///../main/ts/updateExistingValue.function.ts","webpack:///../main/ts/watch.function.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/index.ts"],"sourcesContent":["import { html, tag, setLet } from \"taggedjs\"\n\nexport const contentDebug = tag(() => {\n  let renderCount: number = setLet(0)(x => [renderCount, renderCount=x])\n\n  ++renderCount\n\n  return html`\n    <div style=\"font-size:0.8em\">You should see \"0\" here => \"${0}\"</div>\n    <!--proof you cannot see false values -->\n    <div style=\"font-size:0.8em\">You should see \"\" here => \"${false}\"</div>\n    <div style=\"font-size:0.8em\">You should see \"\" here => \"${null}\"</div>\n    <div style=\"font-size:0.8em\">You should see \"\" here => \"${undefined}\"</div>\n    <!--proof you can see true booleans -->\n    <div style=\"font-size:0.8em\">You should see \"true\" here => \"${true}\"</div>\n    <!--proof you can try to use the tagVar syntax -->\n    <div style=\"font-size:0.8em\">You should see \"${'{'}22${'}'}\" here => \"{22}\"</div>\n    <div style=\"font-size:0.8em\">You should see \"${'{'}__tagVar0${'}'}\" here => \"{__tagVar0}\"</div>\n    <div style=\"font-size:0.8em\">should be a safe string no html \"&lt;div&gt;hello&lt;/div&gt;\" here => \"${'<div>hello</div>'}\"</div>\n    (render count ${renderCount})\n  `\n})","import { watch, setLet, html, tag, InputElementTargetEvent, setProp } from \"taggedjs\"\nimport { renderCountDiv } from \"./renderCount.component\"\n\nexport const propsDebugMain = tag((_='propsDebugMain') => {\n  let renderCount: number = setLet(0)(x => [renderCount, renderCount = x])\n  let propsJson: any = setLet({test:33, x:'y'})(x => [propsJson, propsJson = x])\n  let propNumber: any = setLet(0)(x => [propNumber, propNumber = x])\n\n  function propsJsonChanged(event: InputElementTargetEvent) {\n    propsJson = JSON.parse(event.target.value)\n    return propsJson\n  }\n\n  ++renderCount\n\n  const json = JSON.stringify(propsJson, null, 2)\n\n  console.log(' highest prop', propNumber)\n\n  return html`\n    <textarea id=\"props-debug-textarea\" wrap=\"off\" onchange=${propsJsonChanged}\n      style=\"height:200px;font-size:0.6em;width:100%\"\n      oninit=${() => console.log('text area init')}\n    >${ json }</textarea>\n    \n    <pre>${ json }</pre>\n    <div><small>(renderCount:${renderCount})</small></div>\n    \n    <div>\n      <button id=\"propsDebug--0-button\"\n        onclick=${() => ++propNumber}\n      > propNumber ${propNumber}</button>\n      <span id=\"propsDebug--0-display\">${propNumber}</span>\n    </div>\n    \n    <fieldset>\n      <legend>child</legend>\n      ${propsDebug({\n        propNumber,\n        propsJson,\n        propNumberChange: x => {\n          propNumber = x\n          console.log(' highest prop changed', propNumber)\n        }\n      })}\n    </fieldset>\n    ${/*renderCountDiv({renderCount, name:'propsDebugMain'})*/false}\n  `\n})\n\nconst propsDebug = tag((\n  {\n    propNumber,\n    propsJson,\n    propNumberChange,\n  }: {\n    propNumber: number,\n    propNumberChange: (x: number) => unknown,\n    propsJson: any\n  }\n) => {\n  let renderCount: number = setLet(0)(x => [renderCount, renderCount=x])\n  let propNumberChangeCount = setLet(0)(x => [propNumberChangeCount, propNumberChangeCount=x])\n  console.log('parent received arg propNumber', propNumber)\n  const inProp = propNumber\n  const test = (x: number): [number, number] => {\n    // console.log('setProp currently', propNumber)\n    return [propNumber, propNumber = x]\n  }\n  propNumber = setProp(test)\n\n  if(inProp != propNumber) {\n    console.log('using new prop number', propNumber)\n  } else {\n    console.log('prop state and prop are the same', propNumber)\n  }\n\n  const watchResults = watch([propNumber], () => {\n    ++propNumberChangeCount\n    console.log(' prop change watch detected', propNumber, propNumberChangeCount)\n  })\n\n  ++renderCount\n\n  console.log('parent propNumber', {\n    propNumber,\n    propNumberChangeCount,\n    watchResults,\n  })\n\n  function pasteProps(event: InputElementTargetEvent) {\n    const value = JSON.parse(event.target.value)\n    Object.assign(propsJson, value)\n  }\n\n  return html`<!--propsDebug.js-->\n    <h3>Props Json</h3>\n    <textarea style=\"font-size:0.6em;height:200px;width:100%\" wrap=\"off\" onchange=${pasteProps}>${ JSON.stringify(propsJson, null, 2) }</textarea>\n    <pre>${ JSON.stringify(propsJson, null, 2) }</pre>\n    <hr />\n    <h3>Props Number</h3>\n    \n    <textarea style=\"font-size:0.6em;height:200px;width:100%;color:white;\" wrap=\"off\" disabled>${ JSON.stringify(watchResults, null, 2) }</textarea>\n    \n    <div>\n      <button id=\"propsDebug--1-button\" onclick=${() => propNumberChange(++propNumber)}\n      > propNumber ${propNumber}</button>\n      <span id=\"propsDebug--1-display\">${propNumber}</span>\n    </div>\n    <button\n      title=\"test of increasing render count and nothing else\"\n      onclick=${() => ++renderCount}\n    >renderCount ${renderCount}</button>\n    \n    <button onclick=${() => ++propNumber}\n      title=\"only changes number locally but if change by parent than that is the number\"\n    >local set propNumber ${propNumber}</button>\n    \n    <div><small>(propNumberChangeCount:${propNumberChangeCount})</small></div>\n    \n    <hr />\n    <h3>Fn update test</h3>\n    ${propFnUpdateTest({propNumber, callback: () => {\n      ++propNumber\n      console.log('new propNumber', propNumber)\n      // console.log('new propNumber test ---', test(propNumber))\n    }})}\n    \n    ${/*renderCountDiv({renderCount, name: 'propsDebug'})*/false}\n  `\n})\n\nconst propFnUpdateTest = tag(({\n  propNumber, callback,\n}: {\n  propNumber: number, callback: Function\n}) => {\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  ++renderCount\n  console.log('put down propNumber', propNumber)\n  return html`\n    <button\n      title=\"the count here and within parent increases but not in parent parent\"\n      onclick=${callback}\n    > local & 1-parent increase ${propNumber}</button>\n    ${/*renderCountDiv({renderCount, name: 'propFnUpdateTest'})*/false}\n  `\n})\n","const staggerBy = 300\n\nexport const animateInit = async ({target, stagger}: any) => {/* animateInit */\n  target.style.opacity = 0\n  \n  if(stagger) {\n    await wait(stagger * staggerBy)\n  }\n\n  target.style.opacity = 1\n  target.classList.add('animate__animated','animate__fadeInDown')\n}\n\nexport const animateDestroy = async ({target, stagger, capturePosition=true}: any) => {/* animateDestroy */\n  if(capturePosition) {\n    captureElementPosition(target)\n  }\n\n  if(stagger) {\n    await wait(stagger * staggerBy)\n  }\n\n  target.classList.add('animate__animated','animate__fadeOutUp')\n  \n  await wait(1000) // don't allow remove from stage until animation completed\n  \n  target.classList.remove('animate__animated','animate__fadeOutUp')\n}\n\n// absolute\nexport function captureElementPosition(element: any) {\n  element.style.zIndex = element.style.zIndex || 1\n  const toTop = element.offsetTop + 'px'\n  const toLeft = element.offsetLeft + 'px'  \n  const toWidth = (element.clientWidth + (element.offsetWidth - element.clientWidth) + 1) + 'px'\n  const toHeight = (element.clientHeight + (element.offsetHeight - element.clientHeight) + 1) + 'px'\n\n  const fix = () => {\n    element.style.top = toTop\n    element.style.left = toLeft  \n    element.style.width = toWidth\n    element.style.height = toHeight\n    element.style.position = 'absolute'\n  }\n\n  // element.style.position = 'fixed'\n  // allow other elements that are being removed to have a moment to figure out where they currently sit\n  setTimeout(fix, 0)\n}\n\nfunction wait(time: number) {\n  return new Promise((res) => {\n    setTimeout(res, time)\n  })\n}\n","import { attributeDebug } from \"./attributeDebug.component\"\nimport { contentDebug } from \"./ContentDebug.component\"\nimport { tableDebug } from \"./tableDebug.component\"\nimport { html, tag, setLet, onInit } from \"taggedjs\"\nimport { tagDebug } from \"./tagJsDebug\"\nimport { tagSwitchDebug } from \"./tagSwitchDebug.component\"\nimport { childTests } from \"./childTests\"\nimport { runTests } from \"./tests\"\nimport { renderCountDiv } from \"./renderCount.component\"\nimport { counters } from \"./countersDebug\"\nimport { providerDebugBase } from \"./providerDebug\"\n\nexport const App = tag(() => {\n  console.log('render app.ts')\n  let _firstState: string = setLet('app first state')(x => [_firstState, _firstState=x])\n  let toggleValue: boolean = setLet(false)(x => [toggleValue, toggleValue=x])\n  let renderCount: number = setLet(0)(x => [renderCount, renderCount=x])\n\n  const toggle = () => {\n    toggleValue = !toggleValue\n  }\n\n  function runTesting(manual = true) {\n    const waitFor = 1000\n    setTimeout(() => {\n      console.debug(' Running tests...')\n      const result = runTests()\n\n      if(!manual) {\n        return\n      }\n\n      if(result) {\n        alert(' all tests passed')\n        return\n      }\n\n      alert(' tests failed. See console for more details')\n\n    }, waitFor) // cause delay to be separate from renders\n  }\n\n  ++renderCount\n\n  onInit(() => runTesting(false))\n\n  const content = html`<!--app.js-->\n    <h1 id=\"h1-app\"> TaggedJs - ${2+2}</h1>\n\n    <button id=\"toggle-test\" onclick=${toggle}>toggle test ${toggleValue}</button>\n    <button onclick=${runTesting}>run test</button>\n\n    ${renderCountDiv({name:'app', renderCount},)}\n\n    <div id=\"tagDebug-fx-wrap\">\n      ${tagDebug()}\n\n      <div style=\"display:flex;flex-wrap:wrap;gap:1em\">\n        <fieldset id=\"counters\" style=\"flex:2 2 20em\">\n          <legend>counters</legend>\n          ${counters()}\n        </fieldset>\n\n        <fieldset id=\"provider-debug\" style=\"flex:2 2 20em\">\n          <legend>Provider Debug</legend>\n          ${providerDebugBase(undefined)}\n        </fieldset>\n\n        ${childTests(undefined)}\n\n        <fieldset style=\"flex:2 2 20em\">\n          <legend>Attribute Tests</legend>\n          ${attributeDebug()}\n        </fieldset>\n\n        <fieldset id=\"content-debug\" style=\"flex:2 2 20em\">\n          <legend>Content Debug</legend>\n          ${contentDebug()}\n        </fieldset>\n\n        <fieldset style=\"flex:2 2 20em\">\n          <legend>Tag Switching</legend>\n          ${tagSwitchDebug(undefined)}\n        </fieldset>\n\n        <fieldset style=\"flex:2 2 20em\">\n          <legend>Table Tests</legend>\n          ${tableDebug()}\n        </fieldset>\n      </div>            \n    </div>\n  `\n\n  return content\n})\n","import { animateDestroy, animateInit } from './animations'\nimport { renderCountDiv } from './renderCount.component'\nimport {html, set, setLet, tag} from 'taggedjs'\n\nconst frameCount = 4\n\nexport const arrayTests = tag(function ArrayTests(){/* ArrayTests */\n  const players: {name: string, scores: any[]}[] = set([])\n  let renderCount: number = setLet(0)(x => [renderCount, renderCount = x])\n\n  const getNewPerson = () => ({\n    name: 'Person '+players.length,\n    scores: '0,'.repeat(/*frameCount*/0).split(',').map((_v, index) => ({\n      frame: index + 1,\n      score: Math.floor(Math.random() * 4) + 1\n    }))\n  })\n\n  ++renderCount\n\n  console.log('array test', {x: players[0]?.scores[0]?.score})\n\n  return html`<!--arrayTests.js-->\n    <div style=\"display:flex;flex-wrap:wrap;gap:1em\">\n      ${players.map((item,index) => html`\n        <div oninit=${animateInit} ondestroy=${animateDestroy} style=\"background-color:black;\">\n          <button onclick=${() => {\n            players.splice(index,1)\n          }}>remove</button>\n\n          <div>\n            name:${item.name}\n          </div>\n          <div>\n            index:${index}\n          </div>\n          \n          <div>scores:${item.scores.map((score, playerIndex) => html`\n            <div style=\"border:1px solid white;\"\n              oninit=${animateInit} ondestroy=${animateDestroy}\n            >\n              ${scoreData({score, playerIndex})}\n              <button id=${`score-data-${playerIndex}-${score.frame}-outside`}\n                onclick=${() => ++score.score}\n              >outer score ++${score.score}</button>\n            </div>\n          `.key(score))}</div>\n          \n          <button onclick=${() => {\n            players.splice(index,1)\n          }}>remove</button>\n          <button onclick=${() => {\n            players.splice(index,0,getNewPerson())\n          }}>add before</button>\n        </div>\n      `.key(item))}\n    </div>\n\n    <button id=\"array-test-push-item\" onclick=${() => {\n      players.push(getNewPerson())\n    }}>push item ${players.length+1}</button>\n\n    <button onclick=${() => {\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n    }}>push 3 items</button>\n\n    <button onclick=${() => {\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n      players.push(getNewPerson())\n    }}>push 9 items</button>\n\n    ${players.length > 0 && html`\n      <button oninit=${animateInit} ondestroy=${animateDestroy} onclick=${() => {\n        players.length = 0\n      }}>remove all</button>\n    `}\n\n    ${renderCountDiv({renderCount, name: 'arrayTests.ts'})}\n  `\n})\n\nconst scoreData = tag((\n  {score, playerIndex}: {\n    playerIndex: number\n    score:{score: number, frame: number}\n  }\n) => {\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  \n  ++renderCount\n\n  console.log('inner render', score.score)\n  \n  return html`\n    frame:${score.frame}:\n    <button\n      id=${`score-data-${playerIndex}-${score.frame}-inside`}\n      onclick=${() => ++score.score}\n    >inner score ++${score.score}</button>\n    <button onclick=${() => ++renderCount}>increase renderCount</button>\n    ${renderCountDiv({renderCount, name:'scoreData' + score.frame})}\n  `\n})\n","import { html, setLet, tag } from \"taggedjs\"\n\nexport const attributeDebug = tag(() => {\n  let selected: string = setLet('a')(x => [selected, selected = x])\n  let isOrange: boolean = setLet(true)(x => [isOrange, isOrange = x])\n\n  return html`\n    <input onchange=${(event: any) => selected = event.target.value} placeholder=\"a b or c\" />\n    <select id=\"select-sample-drop-down\">\n      ${['a','b','c'].map(item => html`\n        <option value=${item} ${item == selected ? 'selected' : ''}>${item} - ${item == selected ? 'true' : 'false'}</option>\n      `.key(item))}\n    </select>\n    <hr />\n    <h3>Special Attributes</h3>\n    <div>\n      <input type=\"checkbox\" onchange=${(event: any) => isOrange = event.target.checked} ${isOrange && 'checked'} /> - ${isOrange ? 'true' : 'false'}\n    </div>\n    <div style=\"display: flex;flex-wrap:wrap;gap:1em\">      \n      <div\n        style.background-color=${isOrange ? 'orange' : ''}\n        style.color=${isOrange ? 'black': ''}\n      >style.background-color=&dollar;{'orange'}</div>\n      \n      <div\n        class.background-orange=${isOrange ? true : false}\n        class.text-black=${isOrange ? true : false}\n      >class.background-orange=&dollar;{true}</div>\n      \n      <div class=${isOrange ? 'background-orange text-black' : ''}\n      >class=&dollar;{'background-orange text-black'}</div>\n      \n      <div ${{class: 'text-white' + (isOrange ? ' background-orange' : '')}}\n      >class=&dollar;{'background-orange'} but always white</div>\n    </div>\n    <style>\n      .background-orange {background-color:orange}\n      .text-black {color:black}\n      .text-white {color:white}\n    </style>\n  `\n})\n","import { Tag, html, setLet, tag } from \"taggedjs\"\nimport { innerHtmlPropsTest, innerHtmlTest } from \"./innerHtmlTests\"\nimport { renderCountDiv } from \"./renderCount.component\"\n\nconst childContentTest = tag((\n  {legend, id}:  {legend: string, id: string},\n  children?: Tag[],\n) => {\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  let counter = setLet(0)(x => [counter, counter = x])\n\n  ++renderCount\n  \n  return html`\n    <fieldset id=${id} style=\"flex:2 2 20em\">\n      <legend>${legend}</legend>\n      ${children}\n      <hr />\n      <button onclick=${() => ++counter}>increase childContentTest ${counter}</button>\n      ${renderCountDiv({renderCount, name: 'childContentTest'})}\n    </fieldset>\n  `\n})\n\nexport const childTests = tag((_ = 'childTests') => {\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  let counter = setLet(0)(x => [counter, counter = x])\n\n  ++renderCount\n\n  return html`\n    <fieldset id=\"children-test\" style=\"flex:2 2 20em\">\n      <legend>childTests</legend>\n      \n      ${/*renderCountDiv(renderCount)}- ${renderCount*/false}\n      \n      ${innerHtmlTest({}, html`\n        <b>Field set body A</b>\n        <hr />\n        <button id=\"innerHtmlTest-childTests-button\"\n          onclick=${() => ++counter}\n        >increase childTests inside ${counter}:${renderCount}</button>\n        <span id=\"innerHtmlTest-childTests-display\">${counter}</span>\n        ${renderCountDiv({renderCount, name: 'childTests-innerHtmlTest'})}\n      `)}\n\n      ${innerHtmlPropsTest(22, html`\n        <b>Field set body B</b>\n        <hr />\n        <button id=\"innerHtmlPropsTest-childTests-button\"\n          onclick=${() => ++counter}\n        >increase childTests inside 22 ${counter}</button>\n        <span id=\"innerHtmlPropsTest-childTests-display\">${counter}</span>\n        ${renderCountDiv({renderCount, name: 'innerHtmlPropsTest child'})}\n      `)}\n\n      ${/*childContentTest({legend: 'Inner Test', id:'children-inner-test'}, html`\n        ${innerHtmlTest(html`\n          <b>Field set body C</b>\n        `)}\n        \n        ${innerHtmlPropsTest(33, html`\n          <b>Field set body D</b>\n        `)}\n\n        <hr />\n        \n        <button onclick=${() => ++counter}>increase childTests inside ${counter}</button>\n        ${renderCountDiv(renderCount)}\n      `)*/false}\n      \n      <hr />\n      <button id=\"childTests-button\"\n        onclick=${() => ++counter}\n      >increase childTests outside ${counter} - ${renderCount}</button>\n      <span id=\"childTests-display\">${counter}</span>\n      ${renderCountDiv({renderCount, name:'childTests'})}\n    </fieldset>\n  `\n})\n","import { renderCountDiv } from \"./renderCount.component\"\nimport { html, tag, Subject, onInit, setLet } from \"taggedjs\"\n\nexport const counters = tag(() => {  \n  let counter = setLet(0)(x => [counter, counter = x])\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  let initCounter = setLet(0)(x => [initCounter, initCounter = x])\n\n  onInit(() => {\n    ++initCounter\n    console.info('tagJsDebug.js:  i should only ever run once')\n  })\n\n  const increaseCounter = () => {\n    ++counter\n    console.log('counter increased', counter)\n  }\n\n  ++renderCount // for debugging\n\n  return html`<!--counters-->\n    <div>Subscriptions:${(Subject as any).globalSubCount$}</div>\n    <button onclick=${() => console.info('subs', (Subject as any).globalSubs)}>log subs</button>\n    <div>initCounter:${initCounter}</div>\n    <button id=\"increase-counter\" onclick=${increaseCounter}>counter:${counter}</button>\n    <span id=\"counter-display\">${counter}</span>\n    \n    <fieldset>\n      <legend>inner counter</legend>\n      ${innerCounters({counter, increaseCounter})}\n    </fieldset>\n    ${renderCountDiv({renderCount, name: 'counters'})}\n  `\n})\n\nconst innerCounters = tag(({counter, increaseCounter}) => {\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n\n  ++renderCount // for debugging\n\n  console.log('inner counters', {counter, renderCount})\n\n  return html`\n    <button id=\"inner-increase-counter\" onclick=${increaseCounter}\n    >counter:${counter}</button>\n    <span id=\"inner-counter-display\">${counter}</span>\n    <div>renderCount:${renderCount}</div>\n    ${renderCountDiv({renderCount, name: 'inner counters'})}\n  `\n})\n","type Test = () => unknown\nconst onlyTests: Test[] = []\nconst tests: Test[] = []\n\nexport function it(label: string, run: () => any) {\n  tests.push(() => {\n    try {\n      run()\n      console.debug(' ' + label)\n    } catch (error) {\n      console.debug(' ' + label)\n      throw error\n    }\n  })\n}\n\nit.only = (label: string, run: () => any) => {\n  onlyTests.push(() => {\n    try {\n      run()\n      console.debug(' ' + label)\n    } catch (error) {\n      console.debug(' ' + label)\n      throw error\n    }\n  })\n}\n\nexport function execute() {\n  if(onlyTests.length) {\n    return runTests(onlyTests)\n  }\n  \n  return runTests(tests)\n}\n\nfunction runTests(tests: Test[]) {\n  tests.forEach(test => {    \n    try {\n      test()\n    } catch (err) {\n      console.error(`Error testing ${test.name}`)\n      throw err\n    }\n  })\n}\n\nexport function expect(expected: unknown) {\n  return {\n    toBeDefined: () => {\n      if(expected !== undefined && expected !== null) {\n        return\n      }\n\n      const message = `Expected ${JSON.stringify(expected)} to be defined`\n      console.error(message, {expected})\n      throw new Error(message)\n    },\n    toBe: (received: unknown, customMessage?: string) => {\n      if(expected === received) {\n        return\n      }\n\n      const message = customMessage || `Expected ${typeof(expected)} ${JSON.stringify(expected)} to be ${typeof(received)} ${JSON.stringify(received)}`\n      console.error(message, {received, expected})\n      throw new Error(message)\n    }\n  }\n}","import { html, setLet, tag, Tag, ValueSubject, isSubjectInstance, isTagArray, TagChildren } from \"taggedjs\"\nimport { renderCountDiv } from \"./renderCount.component\"\n\nexport const innerHtmlTest = tag((\n  _props: unknown,\n  children: TagChildren,\n) => {\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  let counter = setLet(0)(x => [counter, counter = x])\n\n  ++renderCount\n\n  return html`<!--innerHtmlTests.js-->\n    <fieldset id=\"innerHtmlTests-1\">\n      <legend>no props test</legend>\n      <div style=\"border:2px solid purple;\">\n        ${children}\n      </div>\n      <div>isSubjectInstance:${isSubjectInstance(children)}</div>\n      <div>isSubjectTagArray:${isTagArray(children.value)}</div>\n      <button id=\"innerHtmlTest-counter-button\"\n      onclick=${() => ++counter}>increase innerHtmlTest ${counter}</button>\n      <span id=\"innerHtmlTest-counter-display\">${counter}</span>\n      ${renderCountDiv({renderCount, name: 'innerHtmlTest'})}\n    </fieldset>\n  `\n})\n\nexport const innerHtmlPropsTest = tag((\n  x: number,\n  children: ValueSubject<Tag[]>\n) => {\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  let counter = setLet(0)(x => [counter, counter = x])\n  \n  ++renderCount\n  \n  return html`<!--innerHtmlTests.js-->\n    <fieldset id=\"innerHtmlTests-2\">\n      <legend>innerHTML Props: ${x}</legend>\n      ${children}\n      <button id=\"innerHtmlPropsTest-button\" onclick=${() => ++counter}\n      >increase innerHtmlPropsTest ${counter}</button>\n      <span id=\"innerHtmlPropsTest-display\">${counter}</span>\n      ${/*renderCountDiv(renderCount)*/ false}\n    </fieldset>\n  `\n})\n","import { setLet, html, tag, onInit, getCallback, onDestroy } from \"taggedjs\"\n\nconst test0interval = 3000\nconst test1interval = 6000\n\nexport const intervalTester0 = tag(() => {\n  let intervalCount: number = setLet(0)(x => [intervalCount, intervalCount = x])\n  let intervalId: any = setLet(undefined)(x => [intervalId, intervalId = x])\n  let intervalId2: any = setLet(undefined)(x => [intervalId2, intervalId2 = x])\n  let renderCounter: number = setLet(0)(x => [renderCounter, renderCounter = x])\n  let currentTime: number = setLet(0)(x => [currentTime, currentTime = x])\n  const callback = getCallback()\n\n  const increase = () => ++intervalCount\n\n  console.log('intervalId', intervalId)\n\n  const startInterval = () => {\n    console.info('interval test 0 started...')\n    trackTime()\n\n    intervalId = setInterval(callback(() => {\n      increase()\n    }),test0interval)\n  }\n\n  const stopInterval = () => {\n    clearInterval(intervalId)\n    clearInterval(intervalId2)\n    intervalId = undefined\n    intervalId2 = undefined\n    console.info(' interval test 0 stopped')\n  }\n\n  function trackTime() {\n    currentTime = 0\n    \n    intervalId2 = setInterval(callback(() => {\n      currentTime = currentTime + 500\n\n      if(currentTime >= test0interval) {\n        currentTime = 0\n        console.log('interval tick')\n      }      \n    }), 500)\n\n    console.log(' interval started')\n  }\n\n  const toggle = () => {\n    if(intervalId || intervalId2) {\n      stopInterval()\n      return\n    }\n\n    startInterval()\n  }\n\n  const delayIncrease = () => setTimeout(callback(() => {\n    currentTime = currentTime + 200\n  }), 1000);\n\n  onInit(startInterval)\n  onDestroy(stopInterval)\n\n  ++renderCounter\n\n  return html`<!--intervalDebug.js-->\n    <div>interval type 1 at ${test0interval}ms</div>\n    intervalId: ${intervalId}\n    <button type=\"button\" onclick=${increase}>${intervalCount}:${renderCounter}</button>\n    <input type=\"range\" min=\"0\" max=${test0interval} step=\"1\" value=${currentTime} />\n    <div>\n      --${currentTime}--\n    </div>\n    <button type=\"button\" onclick=${toggle}\n      style.background-color=${intervalId || intervalId2 ? 'red' : 'green'}\n    >start/stop</button>\n    <button type=\"button\" onclick=${delayIncrease}>delay increase currentTime</button>\n  `\n})\n\nexport const intervalTester1 = tag(() => {  \n  let intervalCount: number = setLet(0)(x => [intervalCount, intervalCount = x])\n  let intervalId: any = setLet(undefined)(x => [intervalId, intervalId = x])\n  let intervalId2: any = setLet(undefined)(x => [intervalId2, intervalId2 = x])\n  let renderCounter: number = setLet(0)(x => [renderCounter, renderCounter = x])\n  let currentTime: number = setLet(0)(x => [currentTime, currentTime = x])\n  \n  const callback = getCallback()\n  const increase = () => ++intervalCount\n\n  function trackTime() {\n    currentTime = 0\n    \n    intervalId2 = setInterval(callback(() => {\n      currentTime = currentTime + 500\n\n      if(currentTime >= test1interval) {\n        currentTime = 0\n      }\n    }), 500)\n  }\n\n  const destroy = () => {\n    clearInterval(intervalId)\n    clearInterval(intervalId2)\n    intervalId = undefined\n    intervalId2 = undefined\n    console.info('interval 1 stopped')\n  }\n\n  function toggleInterval() {\n    if(intervalId) {\n      return destroy()\n    }\n\n    console.info('interval test 1 started...')\n    trackTime()\n    intervalId = setInterval(callback(() => {\n      increase()\n      console.info('slow interval ran')\n    }),test1interval)\n  }\n\n  onInit(toggleInterval)\n  onDestroy(toggleInterval)\n\n  ++renderCounter\n\n  return html`\n    <div>interval type 2 with ${test1interval}ms</div>\n    intervalId: ${intervalId}\n    <button type=\"button\" onclick=${increase}>${intervalCount}:${renderCounter}</button>\n    <input type=\"range\" min=\"0\" max=${test1interval} step=\"1\" value=${currentTime} />\n    <div>\n      --${currentTime}--\n    </div>\n    <button type=\"button\" onclick=${toggleInterval}\n      style.background-color=${intervalId ? 'red' : 'green'}\n    >start/stop</button>\n  `\n})\n","import { childTests } from \"./childTests\"\nimport { html, set, tag } from \"taggedjs\"\nimport { arrayTests } from \"./arrayTests\"\nimport { tagSwitchDebug } from \"./tagSwitchDebug.component\"\nimport { propsDebugMain } from \"./PropsDebug.component\"\nimport { providerDebugBase } from \"./providerDebug\"\nimport { counters } from \"./countersDebug\"\nimport { tableDebug } from \"./tableDebug.component\"\n\ntype viewTypes = 'arrays' | 'counters' | 'tableDebug' | 'props' | 'child' | 'tagSwitchDebug' | 'providerDebug'\nexport const IsolatedApp = tag(() => {\n  const stateTest = set('isolated-app-state')\n  // const component = childTests() as any\n  // const template = component.wrapper().getTemplate()\n\n  const views: viewTypes[] = [\n    // 'arrays',\n    'props'\n  ]\n  \n  return html`<!--isolatedApp.js-->\n    <h1 id=\"app\"> TaggedJs - isolated</h1>\n\n    <div id=\"tagDebug-fx-wrap\">\n      <div style=\"display:flex;flex-wrap:wrap;gap:1em\">\n        ${views.includes('props') && html`\n          <fieldset style=\"flex:2 2 20em\">\n            <legend>propsDebugMain</legend>\n            ${propsDebugMain(undefined)}\n          </fieldset>\n        `}\n\n        ${views.includes('tableDebug') && html`\n          <fieldset style=\"flex:2 2 20em\">\n            <legend>tableDebug</legend>\n            ${tableDebug()}\n          </fieldset>\n        `}\n\n        ${views.includes('providerDebug') && html`\n          <fieldset style=\"flex:2 2 20em\">\n            <legend>providerDebugBase</legend>\n            ${providerDebugBase(undefined)}\n          </fieldset>\n        `}\n\n        ${views.includes('tagSwitchDebug') && html`\n          <fieldset style=\"flex:2 2 20em\">\n            <legend>tagSwitchDebug</legend>\n            ${tagSwitchDebug(undefined)}\n          </fieldset>\n        `}\n\n        ${views.includes('arrays') && html`\n          <fieldset style=\"flex:2 2 20em\">\n            <legend>arrays</legend>\n            ${arrayTests()}\n          </fieldset>\n        `}\n\n        ${views.includes('counters') && html`\n          <fieldset style=\"flex:2 2 20em\">\n            <legend>counters</legend>\n            ${counters()}\n          </fieldset>\n        `}\n\n        ${views.includes('child') && html`\n          <fieldset style=\"flex:2 2 20em\">\n            <legend>Children Tests</legend>\n            ${childTests(undefined)}\n          </fieldset>\n        `}\n\n        ${/*\n          <textarea style=\"font-size:0.6em;min-width:50vw;height:400px\">${ template.string }</textarea>\n          <textarea style=\"font-size:0.6em;min-width:50vw;height:400px\">${ JSON.stringify(template, null, 2) }</textarea>\n          */ false\n        }\n      </div>\n    </div>\n  `\n})\n","import { animateDestroy, animateInit } from \"./animations\"\nimport { renderCountDiv } from \"./renderCount.component\"\nimport { tagDebugProvider, upperTagDebugProvider } from \"./tagJsDebug\"\nimport { setLet, html, tag, providers, set } from \"taggedjs\"\n\nexport class TagDebugProvider {\n  tagDebug = 0\n  showDialog = false\n}\n\nexport const providerDebugBase = tag((_x = 'providerDebugBase') => {\n  const provider = providers.create( tagDebugProvider as any ) as any\n\n  // TODO: Fix provider create typing\n  const providerClass: TagDebugProvider = providers.create( TagDebugProvider as any )\n  const test = setLet('props debug base')\n  let propCounter = setLet(0)(x => [propCounter, propCounter = x])\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n\n  console.log('x.0', propCounter)\n\n  if(providerClass.showDialog) {\n    (document.getElementById('provider_debug_dialog') as any).showModal()\n  }\n\n  ++renderCount\n\n  return html`\n    <div>\n      <strong>testValue</strong>:${provider.test}\n    </div>\n    <div>\n      <strong>upperTest</strong>:${provider.upper?.test || '?'}\n    </div>\n    <div>\n      <strong>providerClass</strong>:${providerClass.tagDebug || '?'}\n    </div>\n\n    <div style=\"display:flex;gap:1em\">\n      <button id=\"increase-provider--0-button\" onclick=${() => ++provider.test}\n      > increase provider.test ${provider.test}</button>\n      <span id=\"increase-provider--0-display\">${provider.test}</span>\n      \n      <button id=\"increase-provider-upper--0-button\" onclick=${() => ++provider.upper.test}\n      > increase upper.provider.test ${provider.upper.test}</button>\n      \n      <span id=\"increase-provider-upper--0-display\">${provider.upper.test}</span>\n      <button id=\"increase-provider--0-button\" onclick=${() => ++providerClass.tagDebug}\n      > increase provider class ${providerClass.tagDebug}</button>\n      <span id=\"increase-provider--0-display\">${providerClass.tagDebug}</span>\n\n      <button id=\"increase-prop--0-button\" onclick=${() => ++propCounter}\n      > increase propCounter ${propCounter}</button>\n      <span id=\"increase-prop--0-display\">${propCounter}</span>\n\n      <button onclick=${() => providerClass.showDialog = true}\n      > toggle dialog ${providerClass.showDialog}</button>\n    </div>\n\n    <hr />\n    ${providerDebug({\n      propCounter,\n      propCounterChange: x => {\n        console.log('x', x)\n        propCounter = x\n      }\n    })}\n\n    <hr />\n    renderCount outer:${renderCount}\n    ${renderCountDiv({renderCount, name:'providerDebugBase'})}\n\n    <dialog id=\"provider_debug_dialog\" style=\"padding:0\"\n      onmousedown=\"var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()\"\n      ondragstart=\"const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'\"\n      ondrag=\"const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';\"\n      ondragend=\"const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false\"\n      onclose=${() => providerClass.showDialog = false}\n    >\n      <div style=\"padding:.25em\" onmousedown=\"this.parentNode.draggable=true\"\n      >dialog title</div>\n      ${providerClass.showDialog ? html`\n        <textarea wrap=\"off\">${JSON.stringify(providerClass, null, 2)}</textarea>\n      ` : 'no dialog'}\n      <div style=\"padding:.25em\">\n        <button type=\"button\" onclick=\"provider_debug_dialog.close()\"> close</button>\n      </div>\n    </dialog>\n  `\n})\n\nconst providerDebug = tag(({\n  propCounter,\n  propCounterChange,\n}: {\n  propCounter: number,\n  propCounterChange: (x: number) => unknown\n}) => {\n  const provider = providers.inject( tagDebugProvider )\n  const upperProvider = providers.inject( upperTagDebugProvider )\n  const providerClass = providers.inject( TagDebugProvider )\n\n  const test = set('provider debug inner test')\n  let showProProps: boolean = setLet(false)(x => [showProProps, showProProps = x])\n  let renderCount: number = setLet(0)(x => [renderCount, renderCount = x])\n  // let propCounter: number = setLet(0)(x => [propCounter, propCounter = x])\n\n  ++renderCount\n\n  return html`<!--providerDebug.js-->\n    <button id=\"increase-provider--1-button\" onclick=${() => ++provider.test}\n    > increase provider.test ${provider.test}</button>\n    <span id=\"increase-provider--1-display\">${provider.test}</span>\n    \n    <button id=\"increase-provider-upper--1-button\" onclick=${() => ++upperProvider.test}\n    > increase upper.provider.test ${upperProvider.test}</button>\n        \n    <span id=\"increase-provider-upper--1-display\">${upperProvider.test}</span>\n    <button id=\"increase-provider--1-button\" onclick=${() => ++providerClass.tagDebug}\n    > increase provider class ${providerClass.tagDebug}</button>\n    <span id=\"increase-provider--1-display\">${providerClass.tagDebug}</span>\n\n    <div>\n      <button id=\"increase-prop--1-button\" onclick=${() => propCounterChange(++propCounter)}\n      > increase propCounter ${propCounter}</button>\n      <span id=\"increase-prop--1-display\">${propCounter}</span>\n    </div>\n\n    <button onclick=${() => providerClass.showDialog = true}\n      > toggle dialog ${providerClass.showDialog}</button>\n\n    <button onclick=${() => showProProps = !showProProps}\n    >${showProProps ? 'hide' : 'show'} provider as props</button>\n    \n    ${showProProps && html`\n      <div oninit=${animateInit} ondestroy=${animateDestroy}>\n        <hr />\n        <h3>Provider as Props</h3>\n        ${testProviderAsProps(providerClass)}\n      </div>\n    `}\n\n    <hr />\n    renderCount inner:${renderCount}\n    ${renderCountDiv({renderCount, name:'providerDebugInner'})}\n  `\n})\n\n\nconst testProviderAsProps = tag((\n  providerClass: TagDebugProvider\n) => {\n  return html`<!--providerDebug.js@TestProviderAsProps-->\n    <textarea wrap=\"off\" rows=\"20\" style=\"width:100%;font-size:0.6em\">${JSON.stringify(providerClass, null, 2)}</textarea>\n  `\n})","import { tag, html } from \"taggedjs\"\n\nexport const renderCountDiv = tag((\n  {renderCount, name}: {\n    renderCount: number\n    name: string\n  }\n) => html`<div><small>(${name} render count ${renderCount})</small></div>`)\n","import { html, tag, setLet } from \"taggedjs\"\n\nexport const tableDebug = tag(() => {\n  let showCell: boolean = setLet(true)(x => [showCell, showCell = x])\n\n  return html`\n    <div style=\"max-height: 800px;overflow-y: scroll;\">\n      <table cellPadding=${5} cellSpacing=${5} border=\"1\">\n        <thead style=\"position: sticky;top: 0;\">\n          <tr>\n            <th>hello</th>\n            <th>hello</th>\n            ${showCell && html`\n              <td>hello 2 thead cell</td>\n            `}\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>world</td>\n            <td>world</td>\n            ${showCell && html`\n              <td>world 2 tbody cell</td>\n            `}\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  `\n})\n","import { propsDebugMain } from \"./PropsDebug.component\"\nimport { animateDestroy, animateInit } from \"./animations\"\nimport { arrayTests } from \"./arrayTests\"\nimport { intervalTester0, intervalTester1 } from \"./intervalDebug\"\nimport { html, tag, providers, setLet } from \"taggedjs\"\nimport { renderCountDiv } from \"./renderCount.component\"\n\nexport function tagDebugProvider() {\n  const upper = providers.create( upperTagDebugProvider as any )\n  return {\n    upper,\n    test: 0\n  }\n}\n\nexport function upperTagDebugProvider() {\n  return {\n    name: 'upperTagDebugProvider',\n    test: 0\n  }\n}\n\nexport const tagDebug = tag(() => {// tagDebug.js\n  let _firstState: string = setLet('tagJsDebug.js')(x => [_firstState, _firstState = x])\n  let showIntervals: boolean = setLet(false)(x => [showIntervals, showIntervals = x])\n  let renderCount: number = setLet(0)(x => [renderCount, renderCount = x])\n\n  ++renderCount\n\n  return html`<!-- tagDebug.js -->\n    <h3 id=\"debugging\">Debugging</h3>\n    ${renderCountDiv({renderCount, name: 'tagJsDebug'})}\n\n    <div style=\"display:flex;flex-wrap:wrap;gap:1em\">\n      <fieldset style=\"flex:4 4 40em\">\n        <legend>arrays</legend>\n        ${arrayTests()}\n      </fieldset>\n    \n      <fieldset id=\"debug-intervals\" style=\"flex:2 2 20em\">\n        <legend>\n          Interval Testing\n        </legend>\n\n        <button\n          onclick=${() => showIntervals = !showIntervals}\n        >hide/show</button>\n\n        ${showIntervals && html`\n          <div oninit=${animateInit} ondestroy=${animateDestroy}>\n            <div>${intervalTester0()}</div>\n            <hr />\n            <div>${intervalTester1()}</div>\n          </div>\n        `}\n      </fieldset>\n\n      <fieldset id=\"props-debug\" style=\"flex:2 2 20em\">\n        <legend>Props Debug</legend>\n        ${propsDebugMain(undefined)}\n      </fieldset>\n    </div>\n  `\n})\n","import { html, tag, setLet, InputElementTargetEvent, Tag } from \"taggedjs\"\nimport { renderCountDiv } from \"./renderCount.component\"\n\ntype SelectedTag = null | string | undefined\n\nexport const tagSwitchDebug = tag((_t='tagSwitchDebug') => {\n  let selectedTag = setLet(null as SelectedTag)(x => [selectedTag, selectedTag = x])\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  \n  function changeSelectedTag(event: InputElementTargetEvent) {\n    console.log('event.target', {event, target:event.target})\n    selectedTag = event.target.value\n\n    if(selectedTag === 'undefined') {\n      selectedTag = undefined\n    }\n\n    if(selectedTag === 'null') {\n      selectedTag = null\n    }\n  }\n\n  let tagOutput: string | Tag = 'select tag below'\n  switch (selectedTag) {\n    case null: tagOutput = 'null, select tag below'\n      break;\n    case '1': tagOutput = tag1({title:'value switch'})\n      break;\n    case '2': tagOutput = tag2({title:'value switch'})\n      break;\n    case '3': tagOutput = tag3({title:'value switch'})\n      break;\n  }\n\n  let tagOutput2 = html`<div id=\"select-tag-above\">select tag above</div>`\n  switch (selectedTag) {\n    case null: tagOutput2 = html`<div id=\"select-tag-above\">null, select tag above</div>`\n      break;\n    case '1': tagOutput2 = tag1({title:'tag switch'})\n      break;\n    case '2': tagOutput2 = tag2({title:'tag switch'})\n      break;\n    case '3': tagOutput2 = tag3({title:'tag switch'})\n      break;\n  }\n\n  ++renderCount\n\n  console.log('selectedTag', selectedTag)\n\n  return html`\n    <div>\n      selectedTag: |${selectedTag == null ? 'null' : selectedTag}|\n    </div>\n    \n    <select id=\"tag-switch-dropdown\" onchange=${changeSelectedTag}>\n\t    <option></option>\n      <!-- TODO: implement selected attribute --->\n\t    <option value=\"undefined\" ${ selectedTag === undefined ? {selected: true} : {} }>undefined</option>\n\t    <option value=\"null\" ${ selectedTag === null ? {selected: true} : {} }>null</option>\n\t    <option value=\"1\" ${ selectedTag === '1' ? {selected: true} : {} }>tag 1</option>\n\t    <option value=\"2\" ${ selectedTag === '2' ? {selected: true} : {} }>tag 2</option>\n\t    <option value=\"3\" ${ selectedTag === '3' ? {selected: true} : {} }>tag 3</option>\n    </select>\n\n    <div style=\"display:flex;gap:1em;\">\n      <div style=\"border:1px solid blue;flex-grow:1\">\n        <h3>Test 1 - string | Tag</h3>\n        <div>${tagOutput}</div>\n      </div>\n\n      <div style=\"border:1px solid blue;flex-grow:1\">\n        <h3>Test 2 - Tag</h3>\n        <div>${tagOutput2}</div>\n      </div>\n      \n      <div style=\"border:1px solid blue;flex-grow:1\">\n        <h3>Test 3 - ternary (only 1 or 3 shows)</h3>\n        <div>${selectedTag === '3' ? tag3({title: 'ternary simple'}) : tag1({title: 'ternary simple'})}</div>\n      </div>\n      \n      <div style=\"border:1px solid blue;flex-grow:1\">\n        <h3>Test 3.2 - ternary via prop (only 1 or 3 shows)</h3>\n        <div>${ternaryPropTest({selectedTag})}</div>\n      </div>\n      \n      <div style=\"border:1px solid red;flex-grow:1\">\n        <h3>Test 4 - arraySwitching</h3>\n        <div>${arraySwitching({selectedTag})}</div>\n      </div>\n    </div>\n    ${renderCountDiv({renderCount, name:'tagSwitchDebug'})}\n  `\n})\n\nexport const ternaryPropTest = tag((\n  {selectedTag}: {selectedTag: string | undefined | null}\n) => {\n  return html`\n  <div>${selectedTag === '3' ? tag3({title: 'ternaryPropTest'}) : tag1({title: 'ternaryPropTest'})}</div>\n  `\n})\n\nexport const tag1 = tag(({title}: {title: string}) => {\n  let counter = setLet(0)(x => [counter, counter = x])\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  ++renderCount\n  return html`\n    <div style=\"border:1px solid orange;\">\n      <div id=\"tagSwitch-1-hello\">Hello 1 ${title} World</div>\n      <button onclick=${() => ++counter}>increase ${counter}</button>\n      ${renderCountDiv({renderCount, name:'tag1'})}\n    </div>\n  `\n})\n\nexport const tag2 = tag(({title}: {title: string}) => {\n  let counter = setLet(0)(x => [counter, counter = x])\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  ++renderCount\n  return html`\n    <div style=\"border:1px solid orange;\">\n      <div id=\"tagSwitch-2-hello\">Hello 2 ${title} World</div>\n      <button onclick=${() => ++counter}>increase ${counter}</button>\n      ${renderCountDiv({renderCount, name:'tag1'})}\n    </div>\n  `\n})\n\nexport const tag3 = tag(({title}: {title: string}) => {\n  let counter = setLet(0)(x => [counter, counter = x])\n  let renderCount = setLet(0)(x => [renderCount, renderCount = x])\n  ++renderCount\n  return html`\n    <div style=\"border:1px solid orange;\">\n      <div id=\"tagSwitch-3-hello\">Hello 3 ${title} World</div>\n      <button onclick=${() => ++counter}>increase ${counter}</button>\n      ${renderCountDiv({renderCount, name:'tag1'})}\n    </div>\n  `\n})\n\nexport const arraySwitching = tag((\n  {selectedTag}: {selectedTag: SelectedTag}\n) => {\n  switch (selectedTag) {\n    case undefined:\n      return html`its an undefined value`\n\n    case null:\n      return html`its a null value`\n\n    case '1':\n      // return html`${['a'].map(x => html`${tag1({title: `array ${selectedTag} ${x}`})}`.key(x))}`\n      return html`${tag1({title: `tag ${selectedTag}`})}`\n\n    case '2':\n      return html`${['b','c'].map(x => html`${tag2({title: `array ${selectedTag} ${x}`})}`.key(x))}`\n\n    case '3':\n      return html`${['d','e','f'].map(x => html`${tag3({title: `array ${selectedTag} ${x}`})}`.key(x))}`\n  }\n\n  return html`nothing to show for in arrays`\n})\n","import { execute, expect, it } from \"./expect\"\n\nexport function runTests() {  \n  it('elements exists', () => {\n    console.log('787')\n    expect(document.getElementById('h1-app')).toBeDefined()\n    console.log('787-2')\n    const toggleTest = document.getElementById('toggle-test')\n    expect(toggleTest).toBeDefined()\n    console.log('787-3')\n    expect(toggleTest?.innerText).toBe('toggle test')\n  })\n\n  it('toggle test', () => {\n    const toggleTest = document.getElementById('toggle-test')\n    toggleTest?.click()\n    console.log('787-4')\n    expect(toggleTest?.innerText).toBe('toggle test true')\n    toggleTest?.click()\n    console.log('787-5')\n    expect(toggleTest?.innerText).toBe('toggle test')\n    \n    const propsTextarea = document.getElementById('props-debug-textarea') as HTMLTextAreaElement\n    expect(propsTextarea.value.replace(/\\s/g,'')).toBe(`{\"test\":33,\"x\":\"y\"}`)\n    console.log('788')\n  })\n\n  it('basic increase counter', () => {\n    testCounterElements('#increase-counter', '#counter-display')\n  })\n\n  it('props testing', () => {\n    testCounterElements('#innerHtmlPropsTest-button', '#innerHtmlPropsTest-display')\n\n    testDuelCounterElements(\n      ['#propsDebug--0-button', '#propsDebug--0-display'],\n      ['#propsDebug--1-button', '#propsDebug--1-display'],\n    )\n  })\n\n  it('providers', async () => {\n    testDuelCounterElements(\n      ['#increase-provider--0-button', '#increase-provider--0-display'],\n      ['#increase-provider--1-button', '#increase-provider--1-display'],\n    )\n\n    testDuelCounterElements(\n      ['#increase-provider-upper--0-button', '#increase-provider-upper--0-display'],\n      ['#increase-provider-upper--1-button', '#increase-provider-upper--1-display'],\n    )\n\n    testDuelCounterElements(\n      ['#increase-provider--0-button', '#increase-provider--0-display'],\n      ['#increase-provider--1-button', '#increase-provider--1-display'],\n    )\n  })\n\n  it('provider debug', () => {\n    testDuelCounterElements(\n      ['#increase-prop--0-button', '#increase-prop--0-display'],\n      ['#increase-prop--1-button', '#increase-prop--1-display'],\n    )\n  })\n\n  it('tagSwitching', () => {\n    console.log('0 - 0')\n    expect(elementCount('#select-tag-above')).toBe(1, 'Expected select-tag-above element to be defined')\n    expect(elementCount('#tag-switch-dropdown')).toBe(1, 'Expected one #tag-switch-dropdown')\n    expect(elementCount('#tagSwitch-1-hello')).toBe(2, 'Expected two #tagSwitch-1-hello elements')\n    expect(elementCount('#tagSwitch-2-hello')).toBe(0)\n    expect(elementCount('#tagSwitch-3-hello')).toBe(0)\n    console.log('0 - 1')\n    const dropdown = document.getElementById('tag-switch-dropdown') as HTMLSelectElement\n    dropdown.value = \"1\"\n\n    ;(dropdown as any).onchange({target:dropdown})\n    console.log('0 - 2')\n    expectElementCount('#tagSwitch-1-hello', 5)\n    expect(elementCount('#tagSwitch-2-hello')).toBe(0)\n    expect(elementCount('#tagSwitch-3-hello')).toBe(0)\n    expect(elementCount('#select-tag-above')).toBe(0)\n\n    dropdown.value = \"2\"\n    ;(dropdown as any).onchange({target:dropdown})\n\n    expectElementCount('#tagSwitch-1-hello', 2)\n    expectElementCount('#tagSwitch-2-hello', 4)\n    expect(elementCount('#tagSwitch-3-hello')).toBe(0)\n    expect(elementCount('#select-tag-above')).toBe(0)\n\n    dropdown.value = \"3\"\n    ;(dropdown as any).onchange({target:dropdown})\n\n    expect(elementCount('#tagSwitch-1-hello')).toBe(0,'Expected no hello 1s')\n    expect(elementCount('#tagSwitch-2-hello')).toBe(0)\n    expectElementCount('#tagSwitch-3-hello', 7)\n    expect(elementCount('#select-tag-above')).toBe(0)\n\n    dropdown.value = \"\"\n    ;(dropdown as any).onchange({target:dropdown})\n\n    expectElementCount('#select-tag-above',1)\n    expectElementCount('#tag-switch-dropdown',1)\n    expectElementCount('#tagSwitch-1-hello',2)\n    expectElementCount('#tagSwitch-2-hello',0)\n    expectElementCount('#tagSwitch-3-hello',0)\n  })\n\n  it('array testing', () => {\n    expect(elementCount('#array-test-push-item')).toBe(1)\n    expect(elementCount('#score-data-0-1-inside')).toBe(0)\n    expect(elementCount('#score-data-0-1-outside')).toBe(0)\n    document.getElementById('array-test-push-item')?.click()\n    expect(elementCount('#score-data-0-1-inside')).toBe(1)\n    expect(elementCount('#score-data-0-1-outside')).toBe(1)\n    \n    const insideElm = document.getElementById('score-data-0-1-inside')\n    let indexValue = insideElm?.innerText\n    const outsideElm = document.getElementById('score-data-0-1-outside')\n    const outsideValue = outsideElm?.innerText\n    expect(indexValue).toBe(outsideValue)\n\n    insideElm?.click()\n    expect(insideElm?.innerText).toBe(outsideElm?.innerText)\n    expect(indexValue).toBe((Number(insideElm?.innerText) - 1).toString())\n    expect(indexValue).toBe((Number(outsideElm?.innerText) - 1).toString())\n\n    outsideElm?.click()\n    expect(insideElm?.innerText).toBe(outsideElm?.innerText)\n    expect(indexValue).toBe((Number(insideElm?.innerText) - 2).toString())\n    expect(indexValue).toBe((Number(outsideElm?.innerText) - 2).toString())\n  })\n\n  it('child tests', () => {\n    testCounterElements('#innerHtmlTest-counter-button', '#innerHtmlTest-counter-display')\n    testDuelCounterElements(\n      ['#childTests-button', '#childTests-display'],\n      ['#innerHtmlPropsTest-childTests-button', '#innerHtmlPropsTest-childTests-display'],\n    )\n\n    testDuelCounterElements(\n      ['#childTests-button', '#childTests-display'],\n      ['#innerHtmlTest-childTests-button', '#innerHtmlTest-childTests-display'],\n    )\n  })\n\n  try {\n    console.log('execute')\n    execute()\n    console.info(' all tests passed')\n    return true\n  } catch (error: unknown) {\n    console.error(' tests failed: ' + (error as Error).message, error)\n    return false\n  }\n}\n\nfunction elementCount(selector: string) {\n  return document.querySelectorAll(selector).length\n}\n\nfunction testDuelCounterElements(\n  [button0, display0]: [string, string], // button, display\n  [button1, display1]: [string, string], // button, display\n) {\n  let query = expectElementCount(display0, 1)\n  const display0Element = query[0] as HTMLElement\n  const ip0 = display0Element.innerText\n  testCounterElements(button0, display0)\n  \n  query = expectElementCount(display1, 1)\n  let display1Element = query[0] as HTMLElement\n  let ip1Check = display1Element.innerText\n  const value = (Number(ip0) + 2).toString()\n  expect(ip1Check).toBe(value, `Expected second increase provider to be increased to ${ip0} but got ${ip1Check}`)\n \n  testCounterElements(button1, display1)\n  \n  query = expectElementCount(display1, 1)\n  display1Element = query[0] as HTMLElement\n  ip1Check = display1Element.innerText\n  expect(ip1Check).toBe((Number(ip0) + 4).toString(), `Expected ${display1} innerText to be ${Number(ip0) + 4} but instead it is ${ip1Check}`)\n}\n\n/** increases counter by two */\nfunction testCounterElements(\n  counterButtonId: string,\n  counterDisplayId: string,\n  {elementCountExpected} = {\n    elementCountExpected: 1\n  }\n) {\n  // const getByIndex = (selector: string, index: number) => document.querySelectorAll(selector)[index] as unknown as HTMLElement[]\n  const increaseCounters = document.querySelectorAll(counterButtonId) as unknown as HTMLElement[]\n  const counterDisplays = document.querySelectorAll(counterDisplayId) as unknown as HTMLElement[]\n\n  expect(increaseCounters.length).toBe(elementCountExpected, `Expected ${counterButtonId} to be ${elementCountExpected} elements but is instead ${increaseCounters.length}`)\n  expect(counterDisplays.length).toBe(elementCountExpected, `Expected ${counterDisplayId} to be ${elementCountExpected} elements but is instead ${counterDisplays.length}`)\n\n  increaseCounters.forEach((increaseCounter, index) => {\n    const counterDisplay = counterDisplays[index]\n    // const counterDisplay = getByIndex(index)\n    \n    let counterValue = Number(counterDisplay?.innerText)\n    increaseCounter?.click()\n\n    let oldCounterValue = counterValue + 1\n    counterValue = Number(counterDisplay?.innerText)\n    expect(oldCounterValue).toBe(counterValue, `Expected element(s) ${counterDisplayId} to be value ${oldCounterValue} but is instead ${counterValue}`)\n    increaseCounter?.click()\n\n    counterValue = Number(counterDisplay?.innerText)\n    ++oldCounterValue\n    expect(oldCounterValue).toBe(counterValue, `Expected element(s) ${counterDisplayId} to increase value to ${oldCounterValue} but is instead ${counterValue}`)\n  })\n}\n\nfunction expectElementCount(\n  query: string,\n  count: number,\n  message?: string\n) {\n//  const found = elementCount(query)\n  const elements = document.querySelectorAll(query)\n  const found = elements.length\n\n  message = message || `Expected ${count} elements to match query ${query} but found ${found}`\n\n  expect(found).toBe(count, message)\n\n  return elements\n}\n","export interface ElementTargetEvent extends Event {\n  target: HTMLElement\n}\n\nexport interface InputElementTargetEvent extends Event {\n  target: HTMLInputElement\n}\n","export type Subscription = (() => void) & {\n  unsubscribe: () => any\n}\n\ntype Subscriber = (value?: any) => any\n\nexport interface SubjectLike {\n  subscribe?: (callback: (value?: any) => any) => any,\n  isSubject?: boolean\n}\n\nexport class Subject<T> implements SubjectLike {\n  isSubject = true\n  subscribers: Subscriber[] = []\n  // unsubcount = 0 //  testing\n\n  constructor(public value?: T) {}\n\n  subscribe(callback: Subscriber) {\n    this.subscribers.push(callback)\n    SubjectClass.globalSubs.push(callback) //  testing\n    const countSubject = SubjectClass.globalSubCount$ as {value: number}\n    SubjectClass.globalSubCount$.set( countSubject.value + 1 )\n\n    const unsubscribe: Subscription = () => {\n      unsubscribe.unsubscribe()\n    }\n\n    // Return a function to unsubscribe from the BehaviorSubject\n    unsubscribe.unsubscribe = () => {\n      removeSubFromArray(this.subscribers, callback)\n      removeSubFromArray(SubjectClass.globalSubs, callback) //  testing\n      SubjectClass.globalSubCount$.set( countSubject.value - 1 )\n      \n      // any double unsubscribes will be ignored\n      unsubscribe.unsubscribe = () => undefined\n    }\n\n    return unsubscribe\n  }\n\n  set(value: any) {\n    this.value = value\n    \n    // Notify all subscribers with the new value\n    this.subscribers.forEach((callback: any) => {\n      callback.value = value\n      callback(value)\n    })\n  }\n  next = this.set\n}\n\nfunction removeSubFromArray(\n  subscribers: Subscriber[],\n  callback: Subscriber,\n) {\n  const index = subscribers.indexOf(callback)\n  if (index !== -1) {\n    subscribers.splice(index, 1)\n  }\n}\n\nconst SubjectClass = Subject as typeof Subject & {\n  globalSubCount$: Subject<number>\n  globalSubs: Subscriber[]\n}\nSubjectClass.globalSubs = [] //  for testing\nSubjectClass.globalSubCount$ = new Subject() // for ease of debugging\nSubjectClass.globalSubCount$.set(0)","import { TagSupport } from './TagSupport.class'\nimport { Subscription } from './Subject'\nimport { runBeforeDestroy } from './tagRunner'\nimport { buildClones } from './render'\nimport { interpolateElement, interpolateString } from './interpolateElement'\nimport { Counts, Template, afterElmBuild, subscribeToTemplate } from './interpolateTemplate'\nimport { State } from './set.function'\nimport { elementDestroyCheck } from './elementDestroyCheck.function'\nimport { InterpolatedTemplates } from './interpolations'\nimport { processNewValue } from './processNewValue.function'\nimport { InterpolateSubject } from './processSubjectValue.function'\nimport { Clones } from './Clones.type'\nimport { TagSubject } from './Tag.utils'\nimport { TagArraySubject } from './processTagArray'\nimport { isSubjectInstance, isTagComponent } from './isInstance'\nimport { isLikeTags } from './isLikeTags.function'\n\nexport const variablePrefix = '__tagvar'\nexport const escapeVariable = '--' + variablePrefix + '--'\n\nconst prefixSearch = new RegExp(variablePrefix, 'g')\nexport const escapeSearch = new RegExp(escapeVariable, 'g')\n\nexport type Context = {\n  [index: string]: InterpolateSubject // ValueSubject<unknown>\n}\nexport type TagMemory = {\n  // context: Context\n  state: State\n}\n\nexport interface TagTemplate {\n  interpolation: InterpolatedTemplates,\n  string: string,\n  strings: string[],\n  values: unknown[],\n  context: Context,\n}\n\nexport class ArrayValueNeverSet {\n  isArrayValueNeverSet = true\n}\n\nexport class Tag {\n  isTag = true\n  hasLiveElements = false\n\n  clones: (Element | Text | ChildNode)[] = [] // elements on document. Needed at destroy process to know what to destroy\n  cloneSubs: Subscription[] = [] // subscriptions created by clones\n  childTags: Tag[] = [] // tags on me\n\n  tagSupport!: TagSupport\n  lastTemplateString: string | undefined = undefined // used to compare templates for updates\n  \n  // only present when a child of a tag\n  ownerTag?: Tag\n  // insertBefore?: Element\n  appElement?: Element // only seen on this.getAppElement().appElement\n  \n  // present only when an array. Populated by this.key()\n  arrayValue: unknown | ArrayValueNeverSet = new ArrayValueNeverSet()\n\n  constructor(\n    public strings: string[],\n    public values: any[],\n  ) {}\n\n  /** Used for array, such as array.map(), calls aka array.map(x => html``.key(x)) */\n  key(arrayValue: unknown) {\n    this.arrayValue = arrayValue\n    return this\n  }\n\n  async destroy(\n    options: DestroyOptions = {\n      stagger: 0,\n      byParent: false, // Only destroy clones of direct children\n    }\n  ) {\n    if(!this.hasLiveElements) {\n      throw new Error('destroying wrong tag')\n    }\n\n    // the isComponent check maybe able to be removed\n    const isComponent = this.tagSupport ? true : false    \n    if(isComponent) {\n      runBeforeDestroy(this.tagSupport, this)    \n    }\n\n    this.destroySubscriptions()\n\n    if(this.ownerTag) {\n      this.ownerTag.childTags = this.ownerTag.childTags.filter(child => child !== this)\n    }\n\n    if( !options.byParent ) {\n      const {stagger, promise} = this.destroyClones(options)\n      options.stagger = stagger\n      \n      if(promise) {\n        await promise\n      }\n    } else {\n      this.destroyClones()\n    }\n\n    const promises = this.childTags.map(kid => kid.destroy({stagger:0, byParent: true}))\n    this.childTags.length = 0\n    await Promise.all(promises)\n\n    this.hasLiveElements = false\n    delete this.tagSupport.templater.global.oldest\n    delete this.tagSupport.templater.global.newest\n\n    return options.stagger\n  }\n\n  destroySubscriptions() {\n    this.cloneSubs.forEach(cloneSub => cloneSub.unsubscribe())\n    this.cloneSubs.length = 0\n  }\n\n  destroyClones(\n    {stagger}: DestroyOptions = {\n      stagger: 0,\n    }\n  ) {\n    //const promises = this.clones.reverse().map(\n    const promises = this.clones.map(\n      clone => this.checkCloneRemoval(clone, stagger)\n    ).filter(x => x) // only return promises\n\n    this.clones.length = 0 // tag maybe used for something else\n    \n    if(promises.length) {\n      return {promise: Promise.all(promises), stagger}\n    }\n\n    return {stagger}\n  }\n\n  checkCloneRemoval(\n    clone: Element | Text | ChildNode,\n    stagger: number,\n  ) {\n    let promise: Promise<unknown> | undefined\n    \n    const customElm = clone as any\n    if( customElm.ondestroy ) {\n      promise = elementDestroyCheck(customElm, stagger)\n    }\n\n    const next = () => {\n      clone.parentNode?.removeChild(clone)\n\n      const ownerTag = this.ownerTag\n      if(ownerTag) {\n        // Sometimes my clones were first registered to my owner, remove them from owner\n        ownerTag.clones = ownerTag.clones.filter(compareClone => compareClone !== clone)\n      }\n    }\n\n    if(promise instanceof Promise) {\n      return promise.then(next)\n    } else {\n      next()\n    }\n\n\n    return promise\n  }\n\n  getTemplate(): TagTemplate {\n    const string = this.strings.map((string, index) => {\n      const safeString = string.replace(prefixSearch, escapeVariable)\n      const endString = safeString + (this.values.length > index ? `{${variablePrefix}${index}}` : '')\n      // const trimString = index === 0 || index === this.strings.length-1 ? endString.trim() : endString\n      const trimString = endString.replace(/>\\s*/g,'>').replace(/\\s*</g,'<')\n      return trimString\n    }).join('')\n\n    const interpolation = interpolateString(string)\n    this.lastTemplateString = interpolation.string\n    return {\n      interpolation,\n      // string,\n      string: interpolation.string,\n      strings: this.strings,\n      values: this.values,\n      context: this.tagSupport.templater.global.context || {},\n    }\n  }\n\n  isLikeTag(tag: Tag) {\n    return isLikeTags(this, tag)\n    const {string} = tag.getTemplate()\n\n    // TODO: most likely remove?\n    if(!this.lastTemplateString) {\n      throw new Error('no template here')\n    }\n\n    const stringMatched = string === this.lastTemplateString\n    if(!stringMatched || tag.values.length !== this.values.length) {\n      return false\n    }\n\n    const allVarsMatch = tag.values.every((value, index)=> {\n      const compareTo = this.values[index]\n      const isFunctions = value instanceof Function && compareTo instanceof Function\n      \n      if(isFunctions) {\n        const stringMatch = value.toString() === compareTo.toString()\n        if(stringMatch) {\n          return true\n        }\n\n        return false\n      }\n\n      return true\n    })\n\n    if(allVarsMatch) {\n      return true\n    }\n\n    return false\n  }\n\n  updateByTag(tag: Tag) {\n    if(!this.tagSupport.templater.global.oldest) {\n      throw new Error('no oldest here')\n    }\n\n    if(!this.hasLiveElements) {\n      throw new Error('trying to update a tag with no elements on stage')\n    }\n\n    // ???\n    // this.tagSupport.propsConfig = {...tag.tagSupport.propsConfig}\n    this.tagSupport.templater.global.newest = tag\n\n    if(!this.tagSupport.templater.global.context) {\n      throw new Error('issue back here')\n    }\n\n    this.updateConfig(tag.strings, tag.values)\n  }\n  \n  updateConfig(strings: string[], values: any[]) {\n    this.strings = strings\n    this.updateValues(values)\n  }\n\n  update() {\n    return this.updateContext( this.tagSupport.templater.global.context )\n  }\n\n  updateValues(values: any[]) {\n    this.values = values\n    return this.updateContext( this.tagSupport.templater.global.context )\n  }\n\n  updateContext(context: Context) {\n    this.strings.map((_string, index) => {\n      const variableName = variablePrefix + index\n      const hasValue = this.values.length > index\n      const value = this.values[index]\n\n      // is something already there?\n      const exists = variableName in context\n\n      if(exists) {\n        const subject = context[variableName]\n        const tag = (subject as any).tag as Tag\n\n        if(tag) {\n          const oldWrap = tag.tagSupport.templater.wrapper // tag versus component\n          if(oldWrap && isTagComponent(value)) {\n            const oldValueFn = oldWrap.original\n            const newValueFn = value.wrapper?.original\n            const fnMatched = oldValueFn === newValueFn\n            if(fnMatched) {\n              // ???\n              // console.log(' global disconnect')\n              // value.global = tag.tagSupport.templater.global\n              value.global = tag.tagSupport.templater.global\n            }\n          }\n        }\n\n        // return updateExistingValue(subject, value, this)\n        if(isSubjectInstance(value)) {\n          // value.set(value.value)\n          return\n        }\n\n        subject.set(value)\n        return\n      }\n\n      if(!hasValue) {\n        return\n      }\n\n      //  First time values below\n      context[variableName] = processNewValue(\n        hasValue,\n        value,\n        this,\n      )\n    })\n\n    return context\n  }\n\n  getAppElement() {\n    let tag: Tag = this\n    \n    while(tag.ownerTag) {\n      tag = tag.ownerTag\n    }\n\n    return tag\n  }\n\n  /** Used during HMR only where static content itself could have been edited */\n  rebuild() {\n    // const insertBefore = this.insertBefore\n    const insertBefore = this.tagSupport.templater.global.insertBefore\n\n    if(!insertBefore) {\n      const err = new Error('Cannot rebuild. Previous insertBefore element is not defined on tag')\n      ;(err as any).tag = this\n      throw err\n    }\n\n    this.buildBeforeElement(insertBefore, {\n      forceElement: true,\n      counts: {added: 0, removed: 0}, test: false,\n    })\n  }\n\n  buildBeforeElement(\n    insertBefore: Element | Text,\n    options: ElementBuildOptions & {test:boolean} = {\n      forceElement: false,\n      counts: {added:0, removed: 0},\n      test: false\n    },\n  ) {\n    if(!insertBefore.parentNode) {\n      throw new Error('no parent before removing clones')\n    }\n\n    // remove old clones\n    if(this.clones.length) {\n      this.clones.forEach(clone => this.checkCloneRemoval(clone, 0))\n    }\n\n    // this.insertBefore = insertBefore\n    this.tagSupport.templater.global.insertBefore = insertBefore\n    \n    // const context = this.tagSupport.memory.context // this.update()\n    const context = this.update()\n    const template = this.getTemplate()\n\n\n    if(!insertBefore.parentNode) {\n      throw new Error('no parent before building tag')\n    }\n\n    const elementContainer = document.createElement('div')\n    elementContainer.id = 'tag-temp-holder'\n    // render content with a first child that we can know is our first element\n    elementContainer.innerHTML = `<template id=\"temp-template-tag-wrap\">${template.string}</template>`\n\n    // Search/replace innerHTML variables but don't interpolate tag components just yet\n    const {tagComponents} = interpolateElement(\n      elementContainer,\n      context,\n      template,\n      this, // ownerTag,\n      {\n        forceElement: options.forceElement,\n        counts: options.counts\n      },\n      options.test,\n    )\n\n    if(!insertBefore.parentNode) {\n      throw new Error('no parent building tag')\n    }\n\n    afterInterpolateElement(\n      elementContainer,\n      insertBefore,\n      this, // ownerTag\n      [],\n      context,\n      options,\n    )\n\n    // this.clones.push(...clones)\n\n    // Any tag components that were found should be processed AFTER the owner processes its elements. Avoid double processing of elements attributes like (oninit)=${}\n    let isForceElement = options.forceElement\n    tagComponents.forEach(tagComponent => {\n      const preClones = this.clones.map(clone => clone)\n\n      subscribeToTemplate(\n        tagComponent.insertBefore, // temporary,\n        tagComponent.subject as TagSubject | TagArraySubject,\n        tagComponent.ownerTag,\n        options.counts,\n        {isForceElement},\n        context,\n        tagComponent.variableName,\n        options.test\n      )\n\n      if(!insertBefore.parentNode) {\n        throw new Error('no parent building tag components')\n      }\n\n      afterInterpolateElement(\n        elementContainer,\n        insertBefore,\n        this,\n        [], // preClones,\n        context,\n        options,\n      )\n\n        // remove component clones from ownerTag as they will belong to the components they live on\n        /*\n        if( preClones.length ) {\n          this.clones = this.clones.filter(cloneFilter => !preClones.find(clone => clone === cloneFilter))\n        }\n        */\n    })\n\n    this.tagSupport.templater.global.oldest = this\n    this.tagSupport.templater.global.newest = this\n    this.hasLiveElements = true\n  }\n}\n\nfunction afterInterpolateElement(\n  container: Element,\n  insertBefore: Element | Text | Template,\n  ownerTag: Tag,\n  preClones: Clones,\n  context: Context,\n  options: ElementBuildOptions,\n) {\n\n  const clones = buildClones(container, insertBefore)\n\n  ownerTag.clones.push( ...clones )\n  clones.forEach(clone => afterElmBuild(clone, options, context, ownerTag))\n\n  return clones\n}\n\ntype DestroyOptions = {\n  stagger: number\n  byParent?: boolean // who's destroying me? if byParent, ignore possible animations\n}\n\nexport type ElementBuildOptions = {\n  counts: Counts\n  forceElement?: boolean\n}\n","import { TagSupport } from \"./TagSupport.class\"\nimport { ValueSubject } from \"./ValueSubject\"\nimport { Subject } from \"./Subject\"\nimport { Tag } from \"./Tag.class\"\nimport { TemplaterResult, renderWithSupport } from \"./TemplaterResult.class\"\nimport { bindSubjectCallback } from \"./bindSubjectCallback.function\"\nimport { Template } from \"./interpolateTemplate\"\nimport { isLikeTags } from \"./isLikeTags.function\"\nimport { destroyTagMemory } from \"./checkDestroyPrevious.function\"\nimport { processSubjectValue } from \"./processSubjectValue.function\"\n\nexport type TagSubject = Subject<TemplaterResult> & {\n  tag: Tag //  consider renaming to latestTag\n  template: Element | Text | Template\n}\n\ntype RegularValue = string | number | boolean\nexport type DisplaySubject = Subject<RegularValue> & {\n  lastValue?: RegularValue\n  clone?: Element | Text | Template\n  template: Element | Text | Template\n}\n\nexport function getSubjectFunction(\n  value: any,\n  tag: Tag,\n) {\n  return new ValueSubject( bindSubjectCallback(value, tag) )\n}\n\n/** for components */\nexport function redrawTag(\n  subject: TagSubject,\n  templater: TemplaterResult,\n  ownerTag: Tag,\n) {\n  const existingTag = subject.tag || templater.global.newest || templater.global.oldest\n\n  if(!templater.global.oldest) {\n    throw new Error('issue before event redraw')\n  }\n\n  const tagSupport = templater.tagSupport // || existingTag?.tagSupport\n\n  if(!templater.tagSupport) {\n    throw new Error('need tag support')\n  }\n\n  if(!tagSupport.templater.global.oldest) {\n    throw new Error('33333')\n  }\n  \n\n  console.log('call for ----> renderWithSupport',{\n    tagProps: tagSupport.templater.props,\n    exNewProps: existingTag.tagSupport.templater.global.newest?.tagSupport.templater.props,\n  })\n  let {retag} = renderWithSupport(\n    tagSupport,\n    existingTag,\n    subject,\n    ownerTag,\n  )\n\n  const isLikeTag = !existingTag || isLikeTags(existingTag, retag)\n  if(!isLikeTag) {\n    console.log('UNLIKE TAG DESTROY')\n    destroyTagMemory(existingTag, subject)\n\n    delete templater.global.oldest\n    delete templater.global.newest\n\n    templater.global.insertBefore = existingTag.tagSupport.templater.global.insertBefore\n    return retag\n  }\n\n  return retag\n}","import { Props } from './Props'\nimport { Tag, TagMemory } from './Tag.class'\nimport { deepClone } from './deepFunctions'\nimport { isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { StateConfigArray } from './set.function'\nimport { TagChildren } from './tag'\nimport { TemplaterResult } from './TemplaterResult.class'\nimport { alterProps } from './alterProps.function'\nimport { TagSubject } from './Tag.utils'\nimport { renderExistingTag } from './renderExistingTag.function'\n\nexport class BaseTagSupport {\n  isApp = true\n\n  propsConfig: {\n    latest: Props // new props NOT cloned props\n    // props from **constructor** are converted for comparing over renders\n    latestCloned: Props // This seems to be a duplicate of clonedProps\n    lastClonedKidValues: unknown[][]\n    clonedProps: Props // duplicate of latestClonedProps\n  }\n\n  memory: TagMemory = {\n    // context: {}, // populated after reading interpolated.values array converted to an object {variable0, variable:1}\n    state: {\n      newest: [] as StateConfigArray,\n    },\n  }\n\n  constructor(\n    public templater: TemplaterResult,\n    public subject: TagSubject,\n    ) {\n    const children: TagChildren = this.templater.children // children tags passed in as arguments\n    const props: Props = this.templater.props  // natural props\n\n    const latestCloned = deepClone(props) // alterProps(props, templater)\n    this.propsConfig = {\n      latest: props,\n      latestCloned, // assume its HTML children and then detect\n      clonedProps: latestCloned, // maybe duplicate\n      lastClonedKidValues: children.value.map(kid => {\n        const cloneValues = cloneValueArray(kid.values)\n        return cloneValues\n      })  \n    }\n\n    // if the latest props are not HTML children, then clone the props for later render cycles to compare\n    if(!isTagInstance(props)) {\n      this.propsConfig.latestCloned = deepClone( latestCloned )\n      this.propsConfig.clonedProps = this.propsConfig.latestCloned\n    }\n  }\n}\n\nexport function renderTagSupport(\n  tagSupport: BaseTagSupport,\n  renderUp: boolean,\n): Tag {\n  if(isTagInstance(tagSupport.templater)) {\n    const newTag = tagSupport.templater.global.newest as Tag\n    const ownerTag = newTag.ownerTag as Tag\n    \n    return renderTagSupport(ownerTag.tagSupport, true)\n  }\n\n  // const oldTagSetup = this\n  const subject = tagSupport.subject\n  const templater = tagSupport.templater // oldTagSetup.templater // templater\n  \n  console.log('xxxxxxxxxxxxxxx',{\n    tempProps: templater.props,\n    exProps: subject.tag?.tagSupport.templater.global.newest?.tagSupport.templater.props,\n  })\n\n  const useTagSupport = tagSupport.templater.global.newest?.tagSupport as TagSupport // oldTagSetup\n  // const oldest = templater.global.oldest as Tag\n\n  if(!templater.global.oldest) {\n    throw new Error('888')\n  }\n\n  const exit = renderExistingTag(\n    // templater.global.newest as Tag,\n    templater.global.oldest as Tag,\n    templater,\n    useTagSupport,\n    subject,\n    tagSupport.templater.global.oldest as Tag,\n  )\n\n  const tag = exit.redraw\n\n  // oldest.updateByTag(exit.redraw)\n\n  // only update and no more?\n  if(exit.remit) {\n    // console.log('-- update tag', tag.tagSupport.templater.wrapper.original)\n    // oldest.updateByTag(exit.redraw)\n    return tag\n  }\n  \n  // Have owner re-render\n  if(renderUp && tag.ownerTag) {    \n    const ownerTagSupport = tag.ownerTag.tagSupport\n    console.log('child is asking to render owner - render function')\n    renderTagSupport(\n      ownerTagSupport,\n      true,\n    )\n\n    return tag\n  }\n\n  return tag\n}\n\n\nfunction cloneValueArray<T>(values: (T | Tag | Tag[])[]): T[] {\n  return values.map((value) => {\n    const tag = value as Tag\n\n    if(isTagInstance(tag)) {\n      return cloneValueArray(tag.values)\n    }\n\n    if(isTagComponent(tag)) {\n      const tagComponent = tag as unknown as TemplaterResult\n      return deepClone(tagComponent.props)\n    }\n\n    if(isTagArray(tag)) {\n      return cloneValueArray(tag as unknown as Tag[])\n    }\n\n    return deepClone(value)\n  })\n}\n\nexport class TagSupport extends BaseTagSupport {\n  isApp = false\n\n  constructor(\n    public ownerTagSupport: TagSupport,\n    public templater: TemplaterResult,\n    public subject: TagSubject,\n  ) {\n    super(templater, subject)\n  }\n}\n","import { Context, Tag } from './Tag.class'\nimport { BaseTagSupport } from './TagSupport.class'\nimport { runAfterRender, runBeforeRedraw, runBeforeRender } from './tagRunner'\nimport { setUse } from './setUse.function'\nimport { Props } from './Props'\nimport { TagChildren } from './tag'\nimport { Provider } from './providers'\nimport { OnDestroyCallback } from './onDestroy'\nimport { TagSubject } from './Tag.utils'\n\nexport type Wrapper = ((\n  tagSupport: BaseTagSupport,\n  subject: TagSubject,\n) => Tag) & {\n  original: () => Tag\n}\n\nexport class TemplaterResult {\n  tagged!: boolean\n  wrapper!: Wrapper\n\n  global: {\n    newestTemplater: TemplaterResult\n    oldest?: Tag\n    newest?: Tag\n    context: Context // populated after reading interpolated.values array converted to an object {variable0, variable:1}\n    providers: Provider[]\n    /** Indicator of re-rending. Saves from double rending something already rendered */\n    renderCount: number\n    destroyCallback?: OnDestroyCallback  \n    insertBefore?: Element | Text\n  } = {\n    newestTemplater: this,\n    context: {}, // populated after reading interpolated.values array converted to an object {variable0, variable:1}\n    providers: [],\n    /** Indicator of re-rending. Saves from double rending something already rendered */\n    renderCount: 0,\n  }\n\n  tagSupport!: BaseTagSupport\n\n  constructor(\n    public props: Props,\n    public children: TagChildren,\n  ) {}\n\n  redraw?: (\n    force?: boolean, // force children to redraw\n  ) => Tag\n  isTemplater = true\n\n}\n\nexport function renderWithSupport(\n  tagSupport: BaseTagSupport,\n  existingTag: Tag | undefined,\n  subject: TagSubject,\n  ownerTag?: Tag,\n) {\n  const wrapTagSupport = tagSupport // this.tagSupport\n  // const wrapTagSupport = existingTag?.tagSupport.templater.global.newest?.tagSupport || tagSupport\n  // this.tagSupport = wrapTagSupport\n\n  /* BEFORE RENDER */\n    // signify to other operations that a rendering has occurred so they do not need to render again\n    // ++wrapTagSupport.memory.renderCount\n\n    const runtimeOwnerTag = existingTag?.ownerTag || ownerTag\n\n    if(existingTag) {\n      console.log('redrawing existing tag', {\n        existingTag,\n        org: existingTag.tagSupport.templater.wrapper.original,\n        state: existingTag.tagSupport.memory.state.newest,\n\n        wrapTagSupport: wrapTagSupport.templater.wrapper.original,\n        wrapState: wrapTagSupport.memory.state.newest,\n        ttt: tagSupport.templater.props,\n        newestProps: existingTag.tagSupport.templater.global.newest?.tagSupport.templater.props,\n      })\n      wrapTagSupport.memory.state.newest = [...existingTag.tagSupport.memory.state.newest]\n      // ??? - new\n      wrapTagSupport.templater.global = existingTag.tagSupport.templater.global\n      \n      runBeforeRedraw(wrapTagSupport, existingTag)\n    } else {\n      if(!wrapTagSupport) {\n        throw new Error('63521')\n      }\n      // first time render\n      runBeforeRender(wrapTagSupport, runtimeOwnerTag as Tag)\n\n      // TODO: Logic below most likely could live within providers.ts inside the runBeforeRender function\n      const providers = setUse.memory.providerConfig\n      providers.ownerTag = runtimeOwnerTag\n    }\n  /* END: BEFORE RENDER */\n  \n  const retag = wrapTagSupport.templater.wrapper(wrapTagSupport, subject)\n\n  /* AFTER */\n\n  runAfterRender(wrapTagSupport, retag)\n\n  retag.ownerTag = runtimeOwnerTag\n  wrapTagSupport.templater.global.newest = retag\n  subject.tag = retag\n  \n  if(wrapTagSupport.templater.global.oldest && !wrapTagSupport.templater.global.oldest.hasLiveElements) {\n    throw new Error('56513540')\n  }\n\n  if(wrapTagSupport.templater.global.oldest && !wrapTagSupport.templater.global.oldest.hasLiveElements) {\n    throw new Error('5555 - 10')\n  }\n\n  // new maybe not needed\n  // this.oldest = this.oldest || retag\n  // wrapTagSupport.oldest = wrapTagSupport.oldest || retag\n\n  return {remit: true, retag}\n}\n","import { Subject } from './Subject'\n\nexport class ValueSubject<T> extends Subject<T> {\n  constructor(public value: T) {\n    super(value)\n  }\n\n  subscribe(callback: any) {\n    const unsubscribe = super.subscribe(callback)\n    \n    // Call the callback immediately with the current value\n    callback(this.value)\n\n    return unsubscribe\n  }\n}\n","import { Props } from './Props'\nimport { Tag } from './Tag.class'\nimport { TagSupport, renderTagSupport } from './TagSupport.class'\nimport { TemplaterResult } from './TemplaterResult.class'\nimport { isTagInstance } from './isInstance'\n\n/* Used to rewrite props that are functions. When they are called it should cause parent rendering */\nexport function alterProps(\n  props: Props,\n  templater: TemplaterResult,\n  ownerSupport: TagSupport,\n) {\n  function callback(toCall: any, callWith: any) {\n    const renderCount = templater.global.renderCount\n    const callbackResult = toCall(...callWith)\n\n    const tag = templater.global.newest\n    \n    if(templater.global.renderCount > renderCount) {\n      throw new Error('already rendered')\n    }\n\n    const ownerTag = tag?.ownerTag as Tag\n    const ownerTagSupport = ownerTag.tagSupport\n    const ownerGlobal = ownerTagSupport.templater.global\n    const newestOwner = ownerGlobal.newest as Tag\n    const oldestGlobal = newestOwner.tagSupport.templater.global\n\n    console.log('--- render parent that passed props ---', {\n      original: newestOwner.tagSupport.templater.wrapper?.original,\n      state: newestOwner.tagSupport.memory.state.newest,\n      subject: newestOwner.tagSupport.subject.tag,\n      equal: newestOwner === newestOwner.tagSupport.subject.tag,\n      // lastTagOwner2: lastTag?.ownerTag?.tagSupport.memory.state.newest[2]?.get(),\n      // equalLast: lastTag === newestOwner.tagSupport.subject.tag\n      state2: newestOwner.tagSupport.memory.state.newest[2]?.get(),\n      ownerState2: ownerSupport.memory.state.newest[2].get(),\n      equalOwnerWrap: ownerTagSupport.templater.wrapper?.original === newestOwner.tagSupport.templater.wrapper?.original,\n      \n      ownerOriginal: ownerTagSupport.templater.wrapper?.original,\n      \n      ownerGlobal: ownerGlobal.oldest?.hasLiveElements,\n      oldestGlobal: oldestGlobal.oldest?.hasLiveElements,\n      \n      equalGlobal: ownerGlobal == oldestGlobal,\n      \n      argOrg: ownerSupport.templater.wrapper.original,\n      argOwner: ownerSupport.templater.global.oldest?.hasLiveElements,\n    })\n\n    // ??? - new\n    // newestOwner.tagSupport.render(\n    renderTagSupport(\n      ownerSupport,\n      true,\n    )\n    return callbackResult\n  }\n  \n  const isPropTag = isTagInstance(props)\n  const watchProps = isPropTag ? 0 : props\n  const newProps = resetFunctionProps(watchProps, callback)\n\n  return newProps\n}\n\nfunction resetFunctionProps(\n  props: any,\n  callback: (toCall: any, callWith: any) => unknown,\n) {\n  if(typeof(props)!=='object') {\n    return props\n  }\n\n  const newProps = props\n  // BELOW: Do not clone because if first argument is object, the memory ref back is lost\n  // const newProps = {...props} \n\n  Object.entries(newProps).forEach(([name, value]) => {\n    if(value instanceof Function) {\n      const original = newProps[name].original\n      \n      if(original) {\n        return // already previously converted\n      }\n\n      newProps[name] = (...args: any[]) => {\n        return callback(value, args)\n      }\n\n      newProps[name].original = value\n\n      return\n    }\n  })\n\n  return newProps\n}\n","/** File largely responsible for reacting to element events, such as onclick */\n\nimport { Tag } from \"./Tag.class\"\nimport { renderTagSupport } from \"./TagSupport.class\"\n\nexport type Callback = (...args: any[]) => any & {\n  isChildOverride?: true // if this is set, then a parent tag passed children to a tag/component\n}\n\nexport function bindSubjectCallback(\n  value: Callback,\n  tag: Tag,\n) {\n  // Is this children? No override needed\n  if((value as any).isChildOverride) {\n    return value\n  }\n\n  const subjectFunction = (\n    element: Element, args: any[]\n  ) => runTagCallback(value, tag, element, args)\n\n  // link back to original. Mostly used for <div oninit ondestroy> animations\n  subjectFunction.tagFunction = value\n\n  return subjectFunction\n}\n\nexport function runTagCallback(\n  value: Callback,\n  tag: Tag,\n  bindTo: unknown,\n  args: any[]\n) {\n  const tagSupport = tag.tagSupport\n  const renderCount = tagSupport ? tagSupport.templater.global.renderCount : 0  \n  const method = value.bind(bindTo)\n  const callbackResult = method(...args)\n\n  const sameRenderCount = renderCount === tagSupport.templater.global.renderCount\n  \n  if(tagSupport && !sameRenderCount) {    \n    return // already rendered\n  }\n\n  console.log('click render --- ')\n  renderTagSupport(\n    tagSupport,\n    false,\n    // tagSupport, tagSupport.subject\n  )\n\n  if(callbackResult instanceof Promise) {\n    return callbackResult.then(() => {\n      console.log('click promise render --- ')\n      renderTagSupport(\n        tagSupport,\n        false,\n        // tagSupport, tagSupport.subject\n      )\n      return 'promise-no-data-ever'\n    })\n  }\n\n  // Caller always expects a Promise\n  return 'no-data-ever'\n}\n","import { DisplaySubject, TagSubject } from './Tag.utils'\nimport { isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { Tag } from './Tag.class'\nimport { InterpolateSubject } from './processSubjectValue.function'\nimport { TagArraySubject } from './processTagArray'\nimport { isLikeTags } from './isLikeTags.function'\nimport { Counts, Template } from './interpolateTemplate'\nimport { TagSupport } from './TagSupport.class'\n\nexport function checkDestroyPrevious(\n  existing: InterpolateSubject, // existing.value is the old value\n  newValue: unknown,\n) {\n  const existingSubArray = existing as TagArraySubject\n  const wasArray = existingSubArray.lastArray\n  \n  // no longer an array\n  if (wasArray && !isTagArray(newValue)) {\n    wasArray.forEach(({tag}) => destroyArrayTag(tag, {added:0, removed:0}))\n    delete (existing as TagArraySubject).lastArray  \n    return 1\n  }\n\n  const tagSubject = existing as TagSubject\n  const existingTag = tagSubject.tag\n  \n  // no longer tag or component?\n  if(existingTag) {\n    const isValueTag = isTagInstance(newValue)\n    const isSubjectTag = isTagInstance(existing.value)\n\n    if(isSubjectTag && isValueTag) {\n      const newTag = newValue as Tag\n      if(!isLikeTags(newTag, existingTag)) {\n        destroyTagMemory(existingTag, tagSubject)\n        return 2\n      }\n\n      return false\n    }\n\n    const isValueTagComponent = isTagComponent(newValue)\n    if(isValueTagComponent) {\n      return false // its still a tag component\n    }\n\n    // destroy old component, value is not a component\n    destroyTagMemory(existingTag, tagSubject)\n    return 3\n  }\n\n  const displaySubject = existing as DisplaySubject\n  const hasLastValue = 'lastValue' in displaySubject\n  const lastValue = displaySubject.lastValue // TODO: we maybe able to use displaySubject.value and remove concept of lastValue\n  // was simple value but now something bigger\n  if(hasLastValue && lastValue !== newValue) {\n    destroySimpleValue(displaySubject.template, displaySubject)\n    return 4\n  }\n\n  return false\n}\n\nexport function destroyTagMemory(\n  tag: Tag,\n  existingSubject: TagSubject,\n) {\n  const oldTagSupport = tag.tagSupport\n  destroyTagSupportPast(oldTagSupport)\n  delete (existingSubject as any).tag\n  tag.destroy()\n}\n\nexport function destroyTagSupportPast(oldTagSupport: TagSupport) {\n  delete oldTagSupport.templater.global.oldest\n  delete oldTagSupport.templater.global.newest\n}\n\nexport function destroyArrayTag(\n  tag: Tag,\n  counts: Counts,\n) {\n  destroyTagSupportPast(tag.tagSupport)\n\n  tag.destroy({\n    stagger: counts.removed++,\n  })\n}\n\nfunction destroySimpleValue(\n  template: Element | Text | Template,\n  subject: DisplaySubject,\n) {\n  const clone = subject.clone as Element\n  const parent = clone.parentNode as ParentNode\n\n  // put the template back down\n  parent.insertBefore(template, clone)\n  parent.removeChild(clone)\n  \n  delete subject.clone\n  delete subject.lastValue\n  // subject.template = template\n}\n","export function deepClone(\n  obj: any,\n) {\n  return makeDeepClone(obj, new WeakMap())\n}\n\nfunction makeDeepClone(\n  obj: any,\n  visited: WeakMap<any, any>\n) {\n  // If obj is a primitive type or null, return it directly\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n\n  // If obj is already visited, return the cloned reference\n  if (visited.has(obj)) {\n    return visited.get(obj)\n  }\n\n  // Handle special cases like Date and RegExp\n  if (obj instanceof Date) {\n    return new Date(obj);\n  }\n\n  if (obj instanceof RegExp) {\n    return new RegExp(obj);\n  }\n\n  // Create an empty object or array with the same prototype\n  const clone = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n\n  // Register the cloned object to avoid cyclic references\n  visited.set(obj, clone)\n\n  // Clone each property or element of the object or array\n  if (Array.isArray(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      clone[i] = makeDeepClone(obj[i], visited)\n    }\n  } else {\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        clone[key] = makeDeepClone(obj[key], visited)\n      }\n    }\n  }\n\n  return clone;\n}\n\nexport function deepEqual(\n  obj1: any,\n  obj2: any,\n) {\n  return isDeepEqual(obj1, obj2, new WeakMap())\n}\n\nfunction isDeepEqual(\n  obj1: any,\n  obj2: any,\n  visited: WeakMap<any, any>,\n) {\n  if (obj1 === obj2 || isSameFunctions(obj1,obj2)) {\n    return true\n  }\n\n  if (\n    typeof obj1 !== 'object' ||\n    typeof obj2 !== 'object' ||\n    obj1 === null ||\n    obj2 === null\n  ) {\n    return false\n  }\n\n  const keys1 = Object.keys(obj1)\n  const keys2 = Object.keys(obj2)\n\n  if (keys1.length !== keys2.length) {\n    return false\n  }\n\n  // If obj is already visited, return the cloned reference\n  if (visited.has(obj1)) {\n    return true\n  }\n\n  // Register the cloned object to avoid cyclic references\n  visited.set(obj1, 0)\n\n  for (const key of keys1) {\n    const keyFound = keys2.includes(key)\n    if (!keyFound || !isDeepEqual(obj1[key], obj2[key], visited)) {\n      /*\n      if(isSameFunctions(obj1[key], obj2[key])) {\n        continue\n      }\n      */\n      return false\n    }\n  }\n\n  // Check if obj1 and obj2 are both arrays\n  if (Array.isArray(obj1) && Array.isArray(obj2)) {\n    if (obj1.length !== obj2.length) {\n      return false\n    }\n\n    for (let i = 0; i < obj1.length; i++) {\n      if (!isDeepEqual(obj1[i], obj2[i], visited)) {\n        return false\n      }\n    }\n  } else if (Array.isArray(obj1) || Array.isArray(obj2)) {\n    // One is an array, and the other is not\n    return false\n  }\n\n  return true\n}\n\nfunction isSameFunctions(\n  fn0: Function,\n  fn1: Function\n): Boolean {\n  const bothFunction = fn0 instanceof Function && fn1 instanceof Function\n  return bothFunction && fn0.toString() === fn1.toString()\n}","export function elementDestroyCheck<T>(\n  nextSibling: Element & {ondestroy?: (event: Event) => T},\n  stagger: number,\n): T | undefined {\n  const onDestroyDoubleWrap = nextSibling.ondestroy\n  if(!onDestroyDoubleWrap) {\n    return\n  }\n\n  const onDestroyWrap = (onDestroyDoubleWrap as any).tagFunction\n  if(!onDestroyWrap) {\n    return\n  }\n\n  const onDestroy = onDestroyWrap.tagFunction\n  if(!onDestroy) {\n    return\n  }\n\n  const event = {target: nextSibling, stagger} as unknown as Event\n  return onDestroy(event)\n}\n","import { InputElementTargetEvent } from \"./ElementTargetEvent.interface\"\nimport { Counts } from \"./interpolateTemplate\"\n\nexport function elementInitCheck(\n  nextSibling: Element | ChildNode,\n  counts: Counts\n) {\n  const onInitDoubleWrap = (nextSibling as any).oninit\n  if (!onInitDoubleWrap) {\n    return counts.added\n  }\n\n  const onInitWrap = onInitDoubleWrap.tagFunction\n  if (!onInitWrap) {\n    return counts.added\n  }\n  \n  const onInit = onInitWrap.tagFunction\n  if (!onInit) {\n    return counts.added\n  }\n  \n  const event = { target: nextSibling, stagger: counts.added } as unknown as InputElementTargetEvent\n  onInit(event)\n  \n  return ++counts.added\n}\n","export type TagErrorDetails = Record<string, unknown>\nexport type TagErrorFullDetails = Record<string, unknown> & {errorCode: string}\n\nexport class TagError extends Error {\n  details: TagErrorFullDetails\n\n  constructor(\n    message: string,\n    errorCode: string,\n    details: Record<string, unknown> = {},\n  ) {\n    super(message);\n    this.name = TagError.name;\n    this.details = {...details, errorCode}\n  }\n}\n\nexport class ArrayNoKeyError extends TagError {\n  constructor(message: string, details?: TagErrorDetails) {\n    super(message, 'array-no-key-error', details);\n    this.name = ArrayNoKeyError.name;\n  }\n}\n\nexport class StateMismatchError extends TagError {\n  constructor(message: string, details?: TagErrorDetails) {\n    super(message, 'state-mismatch-error', details);\n    this.name = StateMismatchError.name;\n  }\n}\n","import { BaseTagSupport, renderTagSupport } from \"./TagSupport.class\"\nimport { setUse } from \"./setUse.function\"\nimport { State, StateConfigArray, getStateValue } from \"./set.function\"\n\ntype Callback = <T>(...args: unknown[]) => (T | void)\n\nexport let getCallback = () => (callback: Callback) => (): void => {\n  throw new Error('The real callback function was called and that should never occur')\n}\n\nsetUse({\n  beforeRender: (tagSupport: BaseTagSupport) => initMemory(tagSupport),\n  beforeRedraw: (tagSupport: BaseTagSupport) => initMemory(tagSupport),\n  // afterRender: (tagSupport: TagSupport) => {},\n})\n\nfunction updateState(\n  stateFrom: StateConfigArray,\n  stateTo: StateConfigArray,\n) {\n  stateFrom.forEach((state, index) => {\n    const fromValue = getStateValue(state)\n    const callback = stateTo[index].callback\n    \n    if(callback) {\n      callback( fromValue ) // set the value\n    }\n    \n    stateTo[index].lastValue = fromValue // record the value\n  })\n}\n\ntype Trigger = () => void\ntype CallbackMaker = (callback: Callback) => Trigger\n\nfunction initMemory (tagSupport: BaseTagSupport) {\n  getCallback = () => {\n    const oldState: StateConfigArray = setUse.memory.stateConfig.array\n\n    const callbackMaker: CallbackMaker = (\n      callback: Callback\n    ) => {\n      const trigger = (...args: any[]) => triggerStateUpdate(tagSupport, callback, oldState, ...args)\n      return trigger\n    }\n\n    return callbackMaker\n  }\n}\n\nfunction triggerStateUpdate(\n  tagSupport: BaseTagSupport,\n  callback: Callback,\n  oldState: StateConfigArray,\n  ...args: any[]\n) {\n  const state = tagSupport.memory.state as State\n  const newest = state.newest\n\n  // ensure that the oldest has the latest values first\n  updateState(newest, oldState)\n  \n  // run the callback\n  const promise = callback(...args)\n\n  // send the oldest state changes into the newest\n  updateState(oldState, newest)\n  \n  renderTagSupport(\n    tagSupport,\n    false,\n    // tagSupport,\n    // tagSupport.subject\n  )\n  \n  // TODO: turn back on below\n  if(promise instanceof Promise) {\n    promise.finally(() => {\n      // send the oldest state changes into the newest\n      updateState(oldState, newest)\n\n      renderTagSupport(\n        tagSupport,\n        false,\n      )\n    })\n  }\n}","import { Props } from \"./Props\"\nimport { BaseTagSupport } from \"./TagSupport.class\"\nimport { TemplaterResult } from \"./TemplaterResult.class\"\nimport { deepEqual } from \"./deepFunctions\"\n\nexport function hasTagSupportChanged(\n  oldTagSupport: BaseTagSupport,\n  newTagSupport: BaseTagSupport,\n  newTemplater: TemplaterResult,\n) {\n  const sameSupport = oldTagSupport === newTagSupport\n  const samePropConfig = oldTagSupport.propsConfig === newTagSupport.propsConfig\n  // const sameProps = oldTagSupport.propsConfig.latest === newTagSupport.propsConfig.latest\n  if(sameSupport || samePropConfig) {\n    throw new Error('something here - 22')\n  }\n  \n  const latestProps = newTemplater.props // newTagSupport.propsConfig.latest\n  const oldClonedProps = oldTagSupport.propsConfig.latestCloned\n  const propsChanged = hasPropChanges(latestProps, oldClonedProps)\n\n  // if no changes detected, no need to continue to rendering further tags\n  if(propsChanged) {\n    return true\n  }\n\n  const kidsChanged = hasKidsChanged(oldTagSupport, newTagSupport)\n\n  // we already know props didn't change and if kids didn't either, than don't render\n  return kidsChanged\n}\n\nexport function hasPropChanges(\n  props: Props, // natural props\n  pastCloneProps: Props, // previously cloned props\n  // newTemplater: TemplaterResult,\n) {\n  /*\n  const isCommonEqual = props === undefined && props === compareToProps\n  if(isCommonEqual) {\n    return false\n  }\n  */\n  let castedProps: Props = props\n  let castedPastProps: Props = pastCloneProps\n\n  // check all prop functions match\n  if(typeof(props) === 'object') {\n    if(!pastCloneProps) {\n      return true\n    }\n\n    castedProps = {...props}\n    castedPastProps = {...(pastCloneProps || {})}\n    \n    const allFunctionsMatch = Object.entries(castedProps as any).every(([key,value]) => {      \n      /*if(!(key in (castedPastProps as any))) {\n        return false\n      }*/\n\n      let compare = (castedPastProps as any)[key]\n\n      if(!(value instanceof Function)) {\n        return true // this will be checked in deepEqual\n      }\n\n      if(!(compare instanceof Function)) {\n        return false // its a function now but was not before\n      }\n\n      // ensure we are comparing apples to apples as function get wrapped\n      if(compare.original) {\n        compare = compare.original\n      }\n\n      const original = (value as any).original\n      if(original) {\n        value = (value as any).original\n      }\n      \n      if((value as any).toString() !== compare.toString()) {\n        return false // both are function but not the same\n      }\n\n      delete (castedProps as any)[key] // its a function and not needed to be compared\n      delete (castedPastProps as any)[key] // its a function and not needed to be compared\n\n      return true\n    })\n\n    if(!allFunctionsMatch) {\n      return true // a change has been detected by function comparisons\n    }\n  }\n\n  const isEqual = deepEqual(pastCloneProps, props)\n  return !isEqual // if equal then no changes\n}\n\nexport function hasKidsChanged(\n  oldTagSupport: BaseTagSupport,\n  newTagSupport: BaseTagSupport,\n) {\n  const oldCloneKidValues = oldTagSupport.propsConfig.lastClonedKidValues\n  const newClonedKidValues = newTagSupport.propsConfig.lastClonedKidValues\n\n  const everySame = oldCloneKidValues.every((set, index) => {\n    const x = newClonedKidValues[index]\n    return set.every((item, index) => item === x[index])\n  })\n\n  return !everySame\n}\n","import { Tag } from \"./Tag.class\"\n\nexport function html(\n  strings: string[] | TemplateStringsArray,\n  ...values: unknown[]\n) {\n  return new Tag(strings as string[], values)\n}\n","// import { redrawTag } from \"./redrawTag.function\"\nimport { tagElement } from \"./tagElement\"\n\nexport * from \"./ElementTargetEvent.interface\"\n\nexport * from \"./tag\"\nexport * from \"./html\"\nexport * from \"./errors\"\nexport * from \"./Subject\"\nexport * from \"./isInstance\"\nexport * from \"./ValueSubject\"\nexport * from \"./watch.function\"\nexport * from \"./TagSupport.class\"\n// export * from \"./redrawTag.function\"\nexport * from \"./interpolateElement\"\n\n// TODO: export *\nexport { tagElement } from \"./tagElement\"\nexport { Tag } from \"./Tag.class\"\nexport { runBeforeRender } from \"./tagRunner\"\nexport { setUse } from \"./setUse.function\"\n\n/* hooks */\n  // TODO: export *\n  export { providers } from \"./providers\"\n  export { set } from \"./set.function\"\n  export { setLet } from \"./setLet.function\"\n  export { setProp } from \"./setProp.function\"\n  export * from \"./onInit\"\n  export * from \"./onDestroy\"\n  export * from \"./getCallback\"\n/* end: hooks */\n\nexport const hmr = {\n  tagElement,\n  // redrawTag\n}\n","export function inputAttribute(\n  name: string,\n  value: any,\n  element: Element,\n) {\n  const names = name.split('.')\n\n  // style.position = \"absolute\"\n  if(names[0] === 'style') {\n    (element as any).style[names[1]] = value\n  }\n\n  // Example: class.width-full = \"true\"\n  if(names[0] === 'class') {\n    names.shift()\n    if(value) {\n      names.forEach(name => element.classList.add(name))\n    } else {\n      names.forEach(name => element.classList.remove(name))\n    }\n    return\n  }\n}\n","import { Context, Tag } from \"./Tag.class\"\nimport { processAttribute } from \"./processAttribute.function\"\n\nexport type HowToSet = (element: Element, name: string, value: string) => any\n\nfunction howToSetAttribute(\n  element: Element,\n  name: string,\n  value: string\n) {\n  element.setAttribute(name, value)\n}\n\nfunction howToSetInputValue(\n  element: Element,\n  name: string,\n  value: string\n) {\n  (element as any)[name] = value\n}\n\nexport function interpolateAttributes(\n  child: Element,\n  scope: Context,\n  ownerTag: Tag,\n) {\n  const attrNames = child.getAttributeNames()\n\n  let howToSet = howToSetAttribute\n\n  attrNames.forEach(attrName => {\n    if(child.nodeName === 'INPUT' && attrName === 'value') {\n      howToSet = howToSetInputValue\n    }\n\n    const value = child.getAttribute(attrName)\n    processAttribute(attrName, value, child, scope, ownerTag, howToSet)\n\n    howToSet = howToSetAttribute // put back\n  })\n}\n","import { Clones } from \"./Clones.type\"\nimport { Tag } from \"./Tag.class\"\nimport { InterpolateOptions } from \"./interpolateElement\"\nimport { InterpolateComponentResult, Template, interpolateTemplate } from \"./interpolateTemplate\"\n\nexport type InterpolatedContentTemplates = {\n  clones: Clones\n  tagComponents: InterpolateComponentResult[]\n}\n\nexport function interpolateContentTemplates(\n  element: Element,\n  context: any,\n  tag: Tag,\n  options: InterpolateOptions,\n  children: HTMLCollection,\n): InterpolatedContentTemplates {\n  if ( !children || element.tagName === 'TEMPLATE' ) {\n    return {clones:[], tagComponents: []} // done\n  }\n\n  // counting for animation stagger computing\n  const counts = options.counts\n  const clones: Clones = []\n  const tagComponents: InterpolateComponentResult[] = []\n  const childArray = new Array(...children)\n\n  childArray.forEach(child => {\n    const {clones: nextClones, tagComponent} = interpolateTemplate(\n      child as Template,\n      context,\n      tag,\n      counts,\n      options,\n    )\n\n    clones.push(...nextClones)\n\n    if(tagComponent) {\n      tagComponents.push(tagComponent)\n      return\n    }\n      \n    if ( child.children ) {      \n      const nextKids = new Array(...child.children)\n      nextKids.forEach((subChild, index) => {\n\n        // IF <template end /> its a variable to be processed\n        if ( isRenderEndTemplate(subChild) ) {\n          const {tagComponent} = interpolateTemplate(\n            subChild as Template,\n            context,\n            tag,\n            counts,\n            options,\n          )\n\n          if(tagComponent) {\n            tagComponents.push(tagComponent)\n          }\n        }\n\n        const {clones:nextClones, tagComponents: nextTagComponent} = interpolateContentTemplates(\n          subChild,\n          context,\n          tag,\n          options,\n          subChild.children\n        )\n\n        clones.push( ...nextClones )\n        tagComponents.push( ...nextTagComponent )\n      })\n    }\n  })\n\n  return {clones, tagComponents}\n}\n\nfunction isRenderEndTemplate(child: Element) {\n  const isTemplate = child.tagName==='TEMPLATE'\n  return isTemplate &&\n  child.getAttribute('interpolate') !== undefined && \n  child.getAttribute('end') !== undefined\n}\n","import { interpolateAttributes } from \"./interpolateAttributes\"\nimport { interpolateToTemplates } from \"./interpolations\"\nimport { InterpolatedContentTemplates, interpolateContentTemplates } from \"./interpolateContentTemplates\"\nimport { Context, Tag, TagTemplate, escapeSearch, variablePrefix } from \"./Tag.class\"\nimport { Clones } from \"./Clones.type\"\nimport { Counts, InterpolateComponentResult } from \"./interpolateTemplate\"\n\nexport type InterpolateOptions = {\n  /** make the element go on document */\n  forceElement?: boolean\n  counts: Counts\n}\n\n/** Review elements within an element */\nexport function interpolateElement(\n  container: Element,\n  context: Context, // variables used to evaluate\n  interpolatedTemplates: TagTemplate,\n  tagOwner: Tag,\n  options: InterpolateOptions,\n  test = false\n): InterpolatedContentTemplates {\n  const clones: Clones = []\n  const tagComponents: InterpolateComponentResult[] = []\n  const result = interpolatedTemplates.interpolation\n  const template = container.children[0] as HTMLTemplateElement\n  const children = template.content.children\n\n  if(result.keys.length) {\n    const {clones: nextClones, tagComponents: nextTagComponents} = interpolateContentTemplates(\n      container, context, tagOwner, options, children\n    )\n    clones.push( ...nextClones )\n    tagComponents.push( ...nextTagComponents )\n  }\n\n  interpolateAttributes(container, context, tagOwner)\n  processChildrenAttributes(children, context, tagOwner)\n\n  return {clones, tagComponents}\n}\n\nfunction processChildrenAttributes(\n  children: HTMLCollection,\n  context: Context,\n  ownerTag: Tag,\n) {\n  new Array(...children).forEach(child => {\n    interpolateAttributes(child, context, ownerTag)\n\n    if(child.children) {\n      processChildrenAttributes(child.children, context, ownerTag)\n    }\n  })\n}\n\nexport function interpolateString(string: string) {\n  const result = interpolateToTemplates(string)\n  result.string = result.string.replace(escapeSearch, variablePrefix)\n  return result\n}\n","import { Context, ElementBuildOptions, Tag, variablePrefix } from \"./Tag.class\"\nimport { InterpolateOptions } from \"./interpolateElement\"\nimport { elementInitCheck } from \"./elementInitCheck\"\nimport { Clones } from \"./Clones.type\"\nimport { InterpolateSubject, processSubjectValue } from \"./processSubjectValue.function\"\nimport { isTagArray, isTagComponent, isTagInstance } from \"./isInstance\"\nimport { DisplaySubject, TagSubject } from \"./Tag.utils\"\nimport { scanTextAreaValue } from \"./scanTextAreaValue.function\"\nimport { processSubjectComponent } from \"./processSubjectComponent.function\"\nimport { TemplaterResult } from \"./TemplaterResult.class\"\nimport { ExistingValue, updateExistingValue } from \"./updateExistingValue.function\"\n\nexport type Template = Element & {clone?: any}\nexport type InterpolateComponentResult = {\n  subject: InterpolateSubject\n  insertBefore: Element | Text | Template\n  ownerTag: Tag\n  variableName: string\n}\nexport type InterpolateTemplateResult = {\n  clones: Clones\n  tagComponent?: InterpolateComponentResult\n}\n\nexport function interpolateTemplate(\n  insertBefore: Template, // <template end interpolate /> (will be removed)\n  context: Context, // variable scope of {`__tagvar${index}`:'x'}\n  ownerTag: Tag, // Tag class\n  counts: Counts, // used for animation stagger computing\n  options: InterpolateOptions,\n): InterpolateTemplateResult {\n  // TODO: THe clones array is useless here\n  const clones: Clones = []\n\n  if ( !insertBefore.hasAttribute('end') ) {\n    return {clones} // only care about <template end>\n  }\n\n  const variableName = insertBefore.getAttribute('id')\n  if(variableName?.substring(0, variablePrefix.length) !== variablePrefix) {\n    return {clones} // ignore, not a tagVar\n  }\n\n  const existingSubject = context[variableName]\n  const isDynamic = isTagComponent(existingSubject.value) || isTagArray(existingSubject.value)\n\n  // process dynamics later\n  if(isDynamic) {\n    return {\n      clones,\n      tagComponent: {\n        variableName,\n        ownerTag,\n        subject: existingSubject,\n        insertBefore\n      }}\n  }\n  \n  let isForceElement = options.forceElement\n  subscribeToTemplate(\n    insertBefore,\n    existingSubject,\n    ownerTag,\n    counts,\n    {isForceElement},\n    context,\n    variableName,\n  )\n\n  return {clones}\n}\n\nexport function subscribeToTemplate(\n  insertBefore: Element | Text | Template,\n  subject: InterpolateSubject,\n  ownerTag: Tag,\n  counts: Counts, // used for animation stagger computing\n  {isForceElement}: {isForceElement?:boolean},\n  context: Context,\n  variableName: string,\n  test = false\n) {\n  let called = false\n  const callback = (value: ExistingValue) => {\n    // const orgInsert = insertBefore\n    const clone = (subject as DisplaySubject).clone\n\n    if(clone && clone.parentNode) {\n      insertBefore = clone\n    }\n\n    if(called) {\n      context[variableName] = updateExistingValue(\n        subject,\n        value,\n        ownerTag,\n        insertBefore, // needed incase type of value changed and a redraw required\n      )\n      return\n    }\n\n    processSubjectValue(\n      value,\n      subject,\n      insertBefore,\n      ownerTag,\n      {\n        counts: {...counts},\n        forceElement: isForceElement,\n      },\n      test\n    )\n\n    if(isForceElement) {\n      isForceElement = false // only can happen once\n    }\n\n    // ownerTag.clones.push(...clones)\n    // ownerTag.clones.push(...nextClones)\n    // clones.push(...nextClones)\n    called = true\n  }\n\n  const sub = subject.subscribe(callback as any)\n  ownerTag.cloneSubs.push(sub)\n}\n\n// Function to update the value of x\nexport function updateBetweenTemplates(\n  value: string | undefined | boolean | number,\n  lastFirstChild: Element | Text,\n) {\n  const parent = lastFirstChild.parentNode as ParentNode\n  \n  // mimic React skipping to display EXCEPT for true does display on page\n  if(value === undefined || value === false || value === null) { // || value === true\n    value = ''\n  }\n\n  // Insert the new value (never use innerHTML here)\n  const textNode = document.createTextNode(value as string) // never innerHTML\n  parent.insertBefore(textNode, lastFirstChild)\n\n  /* remove existing nodes */\n  parent.removeChild(lastFirstChild)\n  \n  return textNode\n}\n\nexport type Counts = {\n  added: number\n  removed: number // increased when item removed from array\n}\n\nexport function afterElmBuild(\n  elm: Element | ChildNode,\n  options: ElementBuildOptions,\n  context: Context,\n  ownerTag: Tag,\n) {\n  if(!(elm as Element).getAttribute) {\n    return\n  }\n\n  const tagName = elm.nodeName // elm.tagName\n  if(tagName==='TEXTAREA') {\n    scanTextAreaValue(elm as HTMLTextAreaElement, context, ownerTag)\n  }\n\n  let diff = options.counts.added\n  if(!options.forceElement) {\n    diff = elementInitCheck(elm, options.counts) - diff\n  }\n\n  if((elm as Element).children) {\n    /*\n    const subCounts = {\n      added: options.counts.added, // - diff,\n      removed: options.counts.removed,\n    }\n    */\n\n    new Array(...(elm as Element).children as any).forEach((child, index) => {\n      const subOptions = {\n        ...options,\n       counts: options.counts,\n      }\n\n      return afterElmBuild(child, subOptions, context, ownerTag)\n    })\n  }\n}\n","// support arrow functions in attributes\nexport const interpolateReplace = /(?:<[^>]*?(?:(?:\\s+\\w+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^>\\s]+)))*\\s*)\\/?>)|({__tagvar[^}]+})/g\n\n// stops after arrow function\n// export const interpolateReplace = /(?:<[^>]*>)|({__tagvar[^}]+})/g\n\nexport type InterpolatedTemplates = {\n  string: string\n  keys: string[]\n}\n\n/** replaces ${x} with <template id=\"x-start\"></template><template id=\"x-end\"></template> */\nexport function interpolateToTemplates(\n  template: string,\n): InterpolatedTemplates {\n  const keys: string[] = []\n  const string = template.replace(interpolateReplace, (match, expression) => {\n    if (match.startsWith('<')) {\n      // If the match is an HTML tag, don't replace\n      return match\n    }\n    \n    const noBraces = expression.substring(1, expression.length-1)\n    const id = noBraces\n    keys.push(id)\n    return `<template interpolate end id=\"${id}\"></template>`\n  })\n\n  return { string, keys }\n}\n","import { SubjectLike } from \"./Subject\"\nimport { Tag } from \"./Tag.class\"\nimport { TemplaterResult } from \"./TemplaterResult.class\"\n\nexport function isTagComponent(value?: TemplaterResult | unknown) {\n  return (value as TemplaterResult)?.isTemplater === true\n}\n\nexport function isTagInstance(tag?: Tag | unknown) {\n  return (tag as Tag)?.isTag === true\n}\n\nexport function isSubjectInstance(\n  subject?: SubjectLike | any\n): Boolean {\n  return (subject?.isSubject === true || subject?.subscribe) ? true : false // subject?.isSubject === true || \n}\n\nexport function isTagArray(value: any) {\n  return value instanceof Array && value.every(x => isTagInstance(x))\n}\n","import { Tag } from \"./Tag.class\"\nimport { deepEqual } from \"./deepFunctions\"\n\nexport function isLikeTags(tag0: Tag, tag1: Tag): Boolean {\n  if(tag0.strings.length !== tag1.strings.length) {\n    return false\n  }\n\n  const everyStringMatched = tag0.strings.every((string,index) => tag1.strings[index] === string)\n  if(!everyStringMatched) {\n    return false\n  }\n\n  const valuesLengthsMatch = tag0.values.length === tag1.values.length\n  if(!valuesLengthsMatch) {\n    return false\n  }\n\n  const allVarsMatch = tag1.values.every((value, index)=> {\n    const compareTo = tag0.values[index]\n    const isFunctions = value instanceof Function && compareTo instanceof Function\n    \n    if(isFunctions) {\n      const stringMatch = value.toString() === compareTo.toString()\n      if(stringMatch) {\n        return true\n      }\n\n      return false\n    }\n\n    return true // deepEqual(value, compareTo)\n  })\n\n  if(allVarsMatch) {\n    return true\n  }\n\n  return false\n}","import { BaseTagSupport } from \"./TagSupport.class\"\nimport { setUse } from \"./setUse.function\"\n\nexport type OnDestroyCallback = () => unknown\n\n/** When undefined, it means a tag is being built for the first time so do run destroy(s) */\nlet destroyCurrentTagSupport: BaseTagSupport\n\nexport function onDestroy(\n  callback: OnDestroyCallback\n) {\n  destroyCurrentTagSupport.templater.global.destroyCallback = callback\n}\n\nsetUse({\n  beforeRender: tagSupport => destroyCurrentTagSupport = tagSupport,\n  beforeRedraw: tagSupport => destroyCurrentTagSupport = tagSupport,\n  beforeDestroy: (tagSupport, tag) => {\n    const callback = tagSupport.templater.global.destroyCallback\n\n    if(callback) {\n      callback()\n    }\n  }\n})\n","import { BaseTagSupport } from \"./TagSupport.class\"\nimport { setUse } from \"./setUse.function\"\n\nexport type OnInitCallback = () => unknown\n\nfunction setCurrentTagSupport(support: BaseTagSupport) {\n  setUse.memory.initCurrentSupport = support\n}\n\nexport function onInit(\n  callback: OnInitCallback\n) {\n  if(!setUse.memory.initCurrentSupport.memory.init) {\n    setUse.memory.initCurrentSupport.memory.init = callback\n    callback() // fire init\n  }\n}\n\nsetUse({\n  beforeRender: tagSupport => setCurrentTagSupport(tagSupport),\n  beforeRedraw: tagSupport => setCurrentTagSupport(tagSupport),\n})\n","import { inputAttribute } from './inputAttribute'\nimport { isSubjectInstance } from './isInstance'\nimport { Context, Tag } from './Tag.class'\nimport { HowToSet } from './interpolateAttributes'\nimport { getSubjectFunction } from './Tag.utils'\nimport { bindSubjectCallback } from './bindSubjectCallback.function'\n\nconst startRegX = /^\\s*{__tagvar/\nconst endRegX = /}\\s*$/\nfunction isTagVar(value: string | null) {\n  return value && value.search(startRegX) >= 0 && value.search(endRegX) >= 0\n}\n\nexport function processAttribute(\n  attrName: string,\n  value: string | null,\n  child: Element,\n  scope: Context,\n  ownerTag: Tag,\n  howToSet: HowToSet,\n) {\n  if ( isTagVar(value) ) {  \n    return processScopedNameValueAttr(\n      attrName,\n      value as string,\n      child,\n      scope,\n      ownerTag,\n      howToSet,\n    )\n  }\n\n  if( isTagVar(attrName) ) {  \n    const contextValueSubject = getContextValueByVarString(scope, attrName)\n    let lastValue: any;\n\n    // the above callback gets called immediately since its a ValueSubject()\n    const sub = contextValueSubject.subscribe((value: any) => {\n      processNameOnlyAttr(\n        value,\n        lastValue,\n        child,\n        ownerTag,\n        howToSet,\n      )\n\n      lastValue = value\n    })\n    ownerTag.cloneSubs.push(sub) // this is where unsubscribe is picked up\n    child.removeAttribute(attrName)\n\n    return\n  }\n\n  // Non dynamic\n  const isSpecial = isSpecialAttr(attrName)\n  if (isSpecial) {\n    return inputAttribute(attrName, value, child)\n  }\n}\n\nfunction processScopedNameValueAttr(\n  attrName: string,\n  value: string, // {__tagVarN}\n  child: Element,\n  scope: Context,\n  ownerTag: Tag,\n  howToSet: HowToSet\n) {\n  // get the code inside the brackets like \"variable0\" or \"{variable0}\"\n  const result = getContextValueByVarString(scope, value)\n  return processNameValueAttr(attrName, result, child, ownerTag, howToSet)\n}\n\nfunction getContextValueByVarString(\n  scope: Context,\n  value: string,\n) {\n  const code = value.replace('{','').split('').reverse().join('').replace('}','').split('').reverse().join('')\n  return scope[code]\n}\nfunction processNameOnlyAttr(\n  attrValue: string | Record<string, any>,\n  lastValue: string | Record<string, any> | undefined,\n  child: Element,\n  ownerTag: Tag,\n  howToSet: HowToSet,\n) {\n  if(lastValue && lastValue != attrValue) {\n    if(typeof(lastValue) === 'string') {\n      child.removeAttribute(lastValue as string)\n    } else if(lastValue instanceof Object) {\n      Object.entries(lastValue).forEach(([name]) =>\n        child.removeAttribute(name)\n      )\n    }\n  }\n\n  if(typeof(attrValue) === 'string') {\n    if(!attrValue.length) {\n      return\n    }\n\n    processNameValueAttr(\n      attrValue as string,\n      '',\n      child,\n      ownerTag,\n      howToSet,\n    )\n\n    return\n  }\n\n  if(attrValue instanceof Object) {\n    Object.entries(attrValue).forEach(([name, value]) =>\n      processNameValueAttr(\n        name,\n        value,\n        child,\n        ownerTag,\n        howToSet,\n      )\n    )\n\n    return\n  }\n}\n\nfunction processNameValueAttr(\n  attrName: string,\n  result: any,\n  child: Element,\n  ownerTag: Tag,\n  howToSet: HowToSet\n) {\n  const isSpecial = isSpecialAttr(attrName)\n\n  // attach as callback?\n  if(result instanceof Function) {\n    const action = function(...args: any[]) {\n      return result(child, args)\n    }\n    \n    ;(child as any)[attrName].action = action\n    // child.addEventListener(attrName, action)\n  }\n\n  // Most every variable comes in here since everything is made a ValueSubject\n  if(isSubjectInstance(result)) {\n    child.removeAttribute(attrName)\n    const callback = (newAttrValue: any) => {\n      if(newAttrValue instanceof Function) {\n        newAttrValue = bindSubjectCallback(newAttrValue, ownerTag)\n      }\n      \n      return processAttributeSubjectValue(\n        newAttrValue,\n        child,\n        attrName,\n        isSpecial,\n        howToSet,\n      )\n    }\n\n    //  Subscribe. Above callback called immediately since its a ValueSubject()\n    const sub = result.subscribe(callback as any)\n    \n    // Record subscription for later unsubscribe when element destroyed\n    ownerTag.cloneSubs.push(sub)\n\n    return\n  }\n\n  howToSet(child, attrName, result)\n  // child.setAttribute(attrName, result.value)\n  return\n}\n\nfunction processAttributeSubjectValue(\n  newAttrValue: any,\n  child: Element,\n  attrName: string,\n  isSpecial: boolean,\n  howToSet: HowToSet,\n) {\n  if(newAttrValue instanceof Function) {\n    const fun = function(...args: any[]) {\n      const result = newAttrValue(child, args)\n      return result\n    }\n\n    // access to original function\n    fun.tagFunction = newAttrValue\n\n    ;(child as any)[attrName] = fun\n\n    return\n  }\n\n  if (isSpecial) {\n    inputAttribute(attrName, newAttrValue, child)\n    return\n  }\n\n  if(newAttrValue) {\n    howToSet(child, attrName, newAttrValue)\n    return\n  }\n\n  const isDeadValue = newAttrValue === undefined || newAttrValue === false || newAttrValue === null\n  if(isDeadValue) {\n    child.removeAttribute(attrName)\n    return\n  }\n\n  // value is 0\n  howToSet(child, attrName, newAttrValue)\n}\n\n/** Looking for (class | style) followed by a period */\nfunction isSpecialAttr(\n  attrName: string | String\n) {\n  return attrName.search(/^(class|style)(\\.)/) >= 0\n}\n","import { Tag } from './Tag.class'\nimport { TagSubject } from './Tag.utils'\nimport { ValueSubject } from './ValueSubject'\nimport { isSubjectInstance, isTagComponent, isTagInstance } from './isInstance'\n\nexport function processNewValue(\n  hasValue: boolean,\n  value: any,\n  ownerTag: Tag,\n) {\n  if(isTagComponent(value)) {\n    const tagSubject = new ValueSubject(value) as TagSubject\n    // setValueRedraw(value, tagSubject, ownerTag)\n    return tagSubject\n  }\n\n  if(value instanceof Function) {\n    // return getSubjectFunction(value, ownerTag)\n    return new ValueSubject(value)\n  }\n\n  if(!hasValue) {\n    return // more strings than values, stop here\n  }\n\n  if(isTagInstance(value)) {\n    value.ownerTag = ownerTag\n    ownerTag.childTags.push(value)\n    return new ValueSubject(value)\n  }\n\n  if(isSubjectInstance(value)) {\n    return value // its already a value subject\n  }\n\n  return new ValueSubject(value)\n}\n","import { DisplaySubject } from './Tag.utils'\nimport { Template, updateBetweenTemplates } from './interpolateTemplate'\n\nexport type RegularValue = string | number | undefined | boolean\n\nexport function processRegularValue(\n  value: RegularValue,\n  subject: DisplaySubject, // could be tag via subject.tag\n  template: Element | Text | Template, // <template end interpolate /> (will be removed)\n) {\n  subject.template = template\n  const before = subject.clone || template // Either the template is on the doc OR its the first element we last put on doc\n\n  subject.lastValue = value\n  \n  // Processing of regular values\n  const clone = updateBetweenTemplates(\n    value,\n    before, // this will be removed\n  )\n\n  subject.clone = clone // remember single element put down, for future updates\n\n  return []\n}\n","import { TemplaterResult, renderWithSupport } from './TemplaterResult.class'\nimport { setUse } from './setUse.function'\nimport { Counts, Template } from './interpolateTemplate'\nimport { Tag } from './Tag.class'\nimport { processTagResult } from './processTagResult.function'\nimport { TagSubject } from './Tag.utils'\nimport { TagSupport } from './TagSupport.class'\n\nexport function processSubjectComponent(\n  templater: TemplaterResult,\n  subject: TagSubject,\n  template: Element | Text | Template,\n  ownerTag: Tag,\n  options: {counts: Counts, forceElement?: boolean},\n) {\n  // Check if function component is wrapped in a tag() call\n  // TODO: This below check not needed in production mode\n  if(templater.tagged !== true) {\n    let name: string | undefined = templater.wrapper.original.name || templater.wrapper.original.constructor?.name\n\n    if(name === 'Function') {\n      name = undefined\n    }\n\n    const label = name || templater.wrapper.original.toString().substring(0,120)\n    const error = new Error(`Not a tag component. Wrap your function with tag(). Example tag(props => html\\`\\`) on component:\\n\\n${label}\\n\\n`)\n    throw error\n  }\n\n  if(!templater.tagSupport) {\n    templater.tagSupport = new TagSupport(\n      ownerTag.tagSupport,\n      templater,\n      subject,\n    )\n  }\n\n  // templater.oldest = subject.tag?.tagSupport.oldest || templater.oldest\n  templater.global.insertBefore = template\n  const tagSupport = templater.tagSupport\n  let retag = subject.tag\n  \n  const providers = setUse.memory.providerConfig\n  providers.ownerTag = ownerTag\n  \n  const isRedraw = !retag || options.forceElement\n  if(isRedraw) {\n    const preClones = ownerTag.clones.map(clone => clone)\n\n    if(!tagSupport) {\n      throw new Error('a0')\n    }\n\n    const result = renderWithSupport(\n      tagSupport,\n      subject.tag,\n      subject,\n      ownerTag,\n    )\n\n    retag = result.retag\n    templater.global.newest = retag\n\n    if(ownerTag.clones.length > preClones.length) {\n      const myClones = ownerTag.clones.filter(fClone => !preClones.find(clone => clone === fClone))\n      retag.clones.push(...myClones)\n    }\n    \n    ownerTag.childTags.push(retag)\n  }\n\n  processTagResult(\n    retag,\n    subject, // The element set here will be removed from document. Also result.tag will be added in here\n    template, // <template end interpolate /> (will be removed)\n    options,\n  )\n}\n","import { processSubjectComponent } from './processSubjectComponent.function'\nimport { isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { TagArraySubject, processTagArray } from './processTagArray'\nimport { TemplaterResult } from './TemplaterResult.class'\nimport { TagSupport } from './TagSupport.class'\nimport { Clones } from './Clones.type'\nimport { Tag } from './Tag.class'\nimport { Counts, Template } from './interpolateTemplate'\nimport { DisplaySubject, TagSubject } from './Tag.utils'\nimport { ValueSubject } from './ValueSubject'\nimport { processRegularValue } from './processRegularValue.function'\nimport { Callback } from './bindSubjectCallback.function'\nimport { Props } from './Props'\n\nenum ValueTypes {\n  tag = 'tag',\n  tagArray = 'tag-array',\n  tagComponent = 'tag-component',\n  value = 'value',\n}\n\nfunction getValueType(value: any): ValueTypes {\n  if(isTagComponent(value)) {\n    return ValueTypes.tagComponent\n  }\n\n  if (isTagInstance(value)) {\n    return ValueTypes.tag\n  }\n\n  if (isTagArray(value)) {\n    return ValueTypes.tagArray\n  }\n\n  return ValueTypes.value\n}\n\ntype processOptions = {\n  forceElement?: boolean\n  counts: Counts // used to count stagger\n}\n\nexport type ClonesAndPromise = {\n  clones: Clones\n  // promise?: Promise<any>\n}\n\nexport type InterpolateSubject = TagArraySubject | TagSubject | DisplaySubject | ValueSubject<Callback>\n\nexport function processSubjectValue(\n  value: any,\n  subject: InterpolateSubject, // could be tag via result.tag\n  template: Element | Text | Template, // <template end interpolate /> (will be removed)\n  ownerTag: Tag, // owner\n  options: processOptions, // {added:0, removed:0}\n  test = false\n): Clones {\n  const valueType = getValueType(value)\n  \n  switch (valueType) {\n    case ValueTypes.tag:\n      processTag(\n        value,\n        subject as TagSubject,\n        template,\n        ownerTag,\n        options\n      )\n      return []\n  \n    case ValueTypes.tagArray:\n      return processTagArray(subject as TagArraySubject, value, template, ownerTag, options)\n    \n    case ValueTypes.tagComponent:\n      processSubjectComponent(\n        value,\n        subject as TagSubject,\n        template,\n        ownerTag,\n        options,\n      )\n      return []\n  }\n\n  return processRegularValue(\n    value,\n    subject as DisplaySubject,\n    template,\n  )\n}\n\n/** Could be a regular tag or a component. Both are Tag.class */\nexport function processTag(\n  tag: Tag,\n  subject: TagSubject, // could be tag via result.tag\n  insertBefore: Element | Text | Template, // <template end interpolate /> (will be removed)\n  ownerTag: Tag, // owner\n  options: processOptions, // {added:0, removed:0}\n) {\n  // first time seeing this tag?\n  if(!tag.tagSupport) {\n    if(!isTagInstance(tag)) {\n      throw new Error('issue non-tag here')\n    }\n\n    const fakeTemplater = {\n      global:{\n        providers: [],\n        context: {},\n      },\n      children: new ValueSubject([]), // no children\n      props: {} as Props,\n    } as unknown as TemplaterResult\n\n    tag.tagSupport = new TagSupport(\n      ownerTag.tagSupport,\n      fakeTemplater, // the template is provided via html`` call\n      subject,\n    )\n\n    // asking me to render will cause my parent to render\n    ownerTag.childTags.push(tag as Tag)\n  }\n  \n  tag.ownerTag = ownerTag\n  subject.template = insertBefore\n\n  tag.buildBeforeElement(insertBefore, {\n    counts: {added:0, removed:0},\n    forceElement: true, test: false,\n  })\n\n  tag.tagSupport.templater.global.oldest = tag\n  if(!tag.lastTemplateString) {\n    throw new Error('999 - 1')\n  }\n\n  tag.tagSupport.templater.global.newest = tag\n\n  if(!tag.tagSupport.templater.global.oldest || !tag.tagSupport.templater.global.oldest.hasLiveElements) {\n    throw new Error('4711654')\n  }\n  \n  subject.tag = tag\n}\n","import { Clones } from './Clones.type'\nimport { ArrayValueNeverSet, Tag } from './Tag.class'\nimport { ValueSubject } from './ValueSubject'\nimport { TagSupport } from './TagSupport.class'\nimport { Counts, Template } from './interpolateTemplate'\nimport { TemplaterResult } from './TemplaterResult.class'\nimport { ArrayNoKeyError } from './errors'\nimport { destroyArrayTag, destroyTagSupportPast } from './checkDestroyPrevious.function'\nimport { Provider } from './providers'\nimport { TagSubject } from './Tag.utils'\n\nexport type LastArrayItem = {\n  tag: Tag\n  index: number\n  deleted?: boolean\n}\n\nexport type TagArraySubject = ValueSubject<Tag[]> & {\n  lastArray?: LastArrayItem[]\n  template: Element | Text | Template\n  isChildSubject?: boolean // present when children passed as prop0 or prop1\n}\n\nexport function processTagArray(\n  subject: TagArraySubject,\n  value: Tag[], // arry of Tag classes\n  template: Element | Text | Template, // <template end interpolate />\n  ownerTag: Tag,\n  options: {\n    counts: Counts\n    forceElement?: boolean\n  },\n): Clones {\n  // const clones: Clones = []\n  const clones: Clones = ownerTag.clones // []\n  let lastArray = subject.lastArray = subject.lastArray || []\n\n  subject.template = template\n\n  let removed = 0\n  \n  /**  remove previous items first */\n  lastArray = subject.lastArray = subject.lastArray.filter((\n    item: any,\n    index: number,\n  ) => {\n    const newLength = value.length-1\n    const at = index - removed\n    const lessLength = newLength < at\n    const subTag = value[index - removed]\n    const subArrayValue = subTag?.arrayValue\n    const destroyItem = lessLength || !areLikeValues(subArrayValue, item.tag.arrayValue)\n    \n    if(destroyItem) {\n      const last = lastArray[index]\n      const tag: Tag = last.tag\n      destroyArrayTag(tag, options.counts)\n      last.deleted = true\n\n      ++removed\n      ++options.counts.removed\n      \n      return false\n    }\n\n    return true\n  })\n\n  // const masterBefore = template || (template as any).clone\n  const before = template || (subject.value as any).insertBefore || (template as any).clone\n\n  value.forEach((subTag, index) => {\n    const previous = lastArray[index]\n    const previousSupport = !previous?.deleted && previous?.tag.tagSupport\n\n    subTag.tagSupport = new TagSupport(\n      ownerTag.tagSupport,\n      {\n        global: {\n          providers: [] as Provider[],\n          context: {},\n        },\n        children: new ValueSubject<Tag[]>([]),\n      } as TemplaterResult,\n      new ValueSubject({} as Tag) as unknown as TagSubject,\n    )\n    \n    if(previousSupport) {\n      subTag.tagSupport.templater.global = previousSupport.templater.global\n      previousSupport.templater.global.newest = subTag\n    } else {  \n      ownerTag.childTags.push(subTag)\n    }\n    \n    subTag.ownerTag = ownerTag    \n\n    // check for html``.key()\n    const keyNotSet = subTag.arrayValue as ArrayValueNeverSet | undefined\n    if (keyNotSet?.isArrayValueNeverSet) {\n      const details = {\n        template: subTag.getTemplate().string,\n        array: value,\n        ownerTagContent: ownerTag.lastTemplateString,\n      }\n      const message = 'Use html`...`.key(item) instead of html`...` to template an Array'\n      console.error(message, details)\n      const err = new ArrayNoKeyError(message, details)\n      throw err\n    }\n    \n    const couldBeSame = lastArray.length > index\n    if (couldBeSame) {\n\n      const isSame = areLikeValues(previous.tag.arrayValue, subTag.arrayValue)\n      if (isSame) {\n        subTag.tagSupport = subTag.tagSupport || previous.tag.tagSupport\n        const oldest = previous.tag.tagSupport.templater.global.oldest as Tag\n        oldest.updateByTag(subTag)\n        return []\n      }\n\n      processAddTagArrayItem(before, subTag, index, options, lastArray, true)\n      throw new Error('item should be back')\n      // return [] // removed: item should have been previously deleted and will be added back\n    }\n\n    processAddTagArrayItem(before, subTag, index, options, lastArray, true)\n  })\n\n  return clones\n}\n\nfunction processAddTagArrayItem(\n  before: Element | Text | Template,\n  subTag: Tag,\n  index: number,\n  options: {\n    counts: Counts\n    forceElement?: boolean\n  },\n  lastArray: LastArrayItem[],\n  test: boolean,\n) {\n  const lastValue = {\n    tag: subTag, index\n  }\n  \n  // Added to previous array\n  lastArray.push(lastValue)\n\n  const counts: Counts = {\n    added: options.counts.added + index,\n    removed: options.counts.removed,\n  }\n\n  const lastFirstChild = before // tag.clones[0] // insertBefore.lastFirstChild    \n  if(!lastFirstChild.parentNode) {\n    throw new Error('issue adding array item')\n  }\n\n  subTag.buildBeforeElement(\n    lastFirstChild,\n    {counts, forceElement: options.forceElement, test}\n  )\n\n  subTag.tagSupport.templater.global.oldest = subTag\n  subTag.tagSupport.templater.global.newest = subTag\n}\n\n/** compare two values. If both values are arrays then the items will be compared */\nfunction areLikeValues(valueA: unknown, valueB: unknown): Boolean {\n  if(valueA === valueB) {\n    return true\n  }\n\n  const bothArrays = valueA instanceof Array && valueB instanceof Array\n  const matchLengths = bothArrays && valueA.length == valueB.length\n  if(matchLengths) {\n    return valueA.every((item, index) => item == valueB[index])\n  }\n\n  return false\n}\n","import { Tag } from './Tag.class'\nimport { Counts, Template } from './interpolateTemplate'\nimport { TagArraySubject } from './processTagArray'\nimport { TagSubject } from './Tag.utils'\nimport { destroyTagMemory } from './checkDestroyPrevious.function'\n\nexport function processTagResult(\n  tag: Tag,\n  subject: TagArraySubject | TagSubject | Function, // used for recording past and current value\n  insertBefore: Element | Text | Template, // <template end interpolate />\n  {\n    counts, forceElement,\n  }: {\n    counts: Counts\n    forceElement?: boolean\n  },\n) {\n  if(!insertBefore.parentNode) {\n    throw new Error('before here processTagResult')\n  }\n\n  // *if appears we already have seen\n  const subjectTag = subject as TagSubject\n  const existingTag = subjectTag.tag\n  const previousTag = existingTag?.tagSupport.templater.global.oldest as Tag || undefined // || tag.tagSupport.oldest // subjectTag.tag\n  const justUpdate = previousTag // && !forceElement\n\n  \n  if(previousTag) {\n    if(justUpdate) {\n      const areLike = previousTag.isLikeTag(tag)\n\n      // are we just updating an if we already had?\n      if(areLike) {\n        // components\n        if(subject instanceof Function) {\n          const newTag: Tag = subject(previousTag.tagSupport)\n          previousTag.updateByTag(newTag)\n          if(!newTag.tagSupport.templater.global.oldest) {\n            throw new Error('maybe 0')\n          }\n          subjectTag.tag = newTag\n          return\n        }\n\n        previousTag.updateByTag(tag)\n        if(!tag.tagSupport.templater.global.oldest) {\n          throw new Error('maybe 1')\n        }\n\n        subjectTag.tag = tag\n        return\n      }\n\n      destroyTagMemory(previousTag, subject as TagSubject)\n      throw new Error('585')\n    }\n  }\n  tag.buildBeforeElement(insertBefore, {\n    counts,\n    forceElement, test: false,\n  })\n\n  tag.tagSupport.templater.global.oldest = tag\n  if(!tag.lastTemplateString) {\n    throw new Error('999 - 3')\n  }\n\n  tag.tagSupport.templater.global.newest = tag\n  \n  if(!tag.tagSupport.templater.global.oldest) {\n    throw new Error('maybe 3')\n  }\n\n  subjectTag.tag = tag // let reprocessing know we saw this previously as an if\n}\n","import { Tag } from './Tag.class'\nimport { TagSubject } from './Tag.utils'\nimport { renderTagSupport } from './TagSupport.class'\nimport { deepClone, deepEqual } from './deepFunctions'\nimport { Provider } from './providers'\n\nexport function providersChangeCheck(tag: Tag) {\n  const providersWithChanges = tag.tagSupport.templater.global.providers.filter(provider =>\n    !deepEqual(provider.instance, provider.clone)\n  )\n\n  // reset clones\n  providersWithChanges.forEach(provider => {\n    const appElement = tag.getAppElement()\n\n    handleProviderChanges(appElement, provider)\n\n    provider.clone = deepClone(provider.instance)\n  })\n}\n\nfunction handleProviderChanges(\n  appElement: Tag,\n  provider: Provider,\n) {\n  const tagsWithProvider = getTagsWithProvider(appElement, provider)\n\n  tagsWithProvider.forEach(({tag, renderCount, provider}) => {\n    const notRendered = renderCount === tag.tagSupport.templater.global.renderCount\n    if(notRendered) {\n      provider.clone = deepClone(provider.instance)\n      renderTagSupport(\n        tag.tagSupport,\n        false,\n        // tag.tagSupport,\n        // tag.tagSupport.subject\n      )\n    }\n  })\n}\n\nfunction getTagsWithProvider(\n  tag: Tag,\n  provider: Provider,\n  memory: {\n    tag: Tag\n    renderCount: number\n    provider: Provider,\n  }[] = []\n) {\n  const compare = tag.tagSupport.templater.global.providers\n\n  const hasProvider = compare.find(\n    xProvider => xProvider.constructMethod === provider.constructMethod\n  )\n  \n  if(hasProvider) {\n    memory.push({\n      tag,\n      renderCount: tag.tagSupport.templater.global.renderCount,\n      provider: hasProvider,\n    })\n  }\n\n  tag.childTags.forEach(child => getTagsWithProvider(\n    child,\n    provider,\n    memory,\n  ))\n\n  return memory\n}\n","import { Tag } from './Tag.class'\nimport { deepClone } from './deepFunctions'\nimport { BaseTagSupport } from './TagSupport.class'\nimport { setUse } from './setUse.function'\n\nexport type Provider = {\n  constructMethod: any\n  instance: any\n  clone: any\n}\n\ntype ProviderConstructor<T> = (new (...args: any[]) => T) | (() => T)\n\n// TODO: rename\nsetUse.memory.providerConfig = {\n  providers: [] as Provider[],\n\n  //currentTagSupport: undefined as TagSupport | undefined,\n  ownerTag: undefined as Tag | undefined,\n}\n\nfunction get(constructMethod: Function) {\n  const config = setUse.memory.providerConfig\n  const providers: Provider[] = config.providers\n  return providers.find(provider => provider.constructMethod === constructMethod)\n}\n\ntype functionProvider = <T>() => T\ntype classProvider = new <T>(...args: any[]) => T\n\nexport const providers = {\n  create: <T>(\n    constructMethod: classProvider | functionProvider\n  ): T => {\n    const existing = get(constructMethod)\n    if(existing) {\n      existing.clone = deepClone(existing.instance)\n      return existing.instance\n    }\n\n    // Providers with provider requirements just need to use providers.create() and providers.inject()\n    const instance: T = constructMethod.constructor ? new (constructMethod as classProvider)() : (constructMethod as functionProvider)()\n    \n    const config = setUse.memory.providerConfig\n    config.providers.push({\n      constructMethod,\n      instance,\n      clone: deepClone(instance)\n    })\n    \n    return instance\n  },\n  \n  /**\n   * @template T\n   * @param {(new (...args: any[]) => T) | () => T} constructor \n   * @returns {T}\n   */\n  inject: <T>(constructor: ProviderConstructor<T>): T => {\n    const oldValue = get(constructor)\n    if(oldValue) {\n      return oldValue.instance\n    }\n\n    const config = setUse.memory.providerConfig\n    let owner = {\n      ownerTag: config.ownerTag\n    } as Tag\n  \n    while(owner.ownerTag) {\n      const ownerProviders = owner.ownerTag.tagSupport.templater.global.providers\n\n      const provider = ownerProviders.find(provider => {\n        if(provider.constructMethod === constructor) {\n          return true\n        }\n      })\n\n      if(provider) {\n        provider.clone = deepClone(provider.instance) // keep a copy of the latest before any change occur\n        config.providers.push(provider)\n        return provider.instance\n      }\n\n      owner = owner.ownerTag // cause reloop\n    }\n    \n    const msg = `Could not inject provider: ${constructor.name} ${constructor}`\n    console.warn(`${msg}. Available providers`, config.providers)\n    throw new Error(msg)\n  }\n}\n\nsetUse({ // providers\n  beforeRender: (\n    tagSupport: BaseTagSupport,\n    ownerTag: Tag,\n  ) => {\n    run(tagSupport, ownerTag)\n  },\n  beforeRedraw: (\n    tagSupport: BaseTagSupport,\n    tag: Tag,\n  ) => {\n    run(tagSupport, tag.ownerTag as Tag)\n  },\n  afterRender: (\n    tagSupport: BaseTagSupport,\n    // tag: Tag\n  ) => {\n    const config = setUse.memory.providerConfig\n    tagSupport.templater.global.providers = [...config.providers]\n    config.providers.length = 0\n  }\n})\n\nfunction run(\n  tagSupport: BaseTagSupport,\n  ownerTag: Tag,\n  // tag: Tag,\n) {\n  const config = setUse.memory.providerConfig\n  // config.currentTagSupport = tagSupport\n  \n  config.ownerTag = ownerTag\n  \n  if(tagSupport.templater.global.providers.length) {\n    config.providers.length = 0\n    config.providers.push(...tagSupport.templater.global.providers)\n  }\n}","export function buildClones(\n  temporary: Element,\n  insertBefore: Element | Text,\n) {\n  const clones = []\n  const template = temporary.children[0] as HTMLTemplateElement\n  let nextSibling = template.content.firstChild\n  \n  while (nextSibling) {\n    const nextNextSibling = nextSibling.nextSibling\n    buildSibling(nextSibling, insertBefore)\n    clones.push(nextSibling)\n    nextSibling = nextNextSibling\n  }\n\n  return clones\n}\n\nfunction buildSibling(\n  nextSibling: ChildNode,\n  insertBefore: Element | Text,\n) {\n  const parentNode = insertBefore.parentNode as ParentNode\n  parentNode.insertBefore(\n    nextSibling,\n    insertBefore\n  )\n}\n","import { Tag } from './Tag.class'\nimport { BaseTagSupport } from './TagSupport.class'\nimport { hasTagSupportChanged } from './hasTagSupportChanged.function'\nimport { providersChangeCheck } from './provider.utils'\nimport { TemplaterResult } from './TemplaterResult.class'\nimport { TagSubject, redrawTag } from './Tag.utils'\n\n/** Returns true when rendering owner is not needed. Returns false when rendering owner should occur */\nexport function renderExistingTag(\n  oldestTag: Tag, // existing tag already there\n  newTemplater: TemplaterResult,\n  tagSupport: BaseTagSupport,\n  subject: TagSubject,\n  ownerTag: Tag,\n): {redraw: Tag, remit: boolean} {\n\n  if(subject.tag) {\n    console.log('already the same?', newTemplater.global === subject.tag?.tagSupport.templater.global)\n    newTemplater.global = subject.tag.tagSupport.templater.global\n  }\n\n  if(!oldestTag.hasLiveElements) {\n    throw new Error('1080')\n  }\n\n  const preRenderCount = tagSupport.templater.global.renderCount\n  providersChangeCheck(oldestTag)\n\n  // When the providers were checked, a render to myself occurred and I do not need to re-render again\n  if(preRenderCount !== tagSupport.templater.global.renderCount) {\n    const redraw = tagSupport.templater.global.newest as Tag\n    oldestTag.updateByTag(redraw)\n\n    return {\n      remit: true,\n      redraw\n    }\n  }\n\n  const oldTagSupport = oldestTag.tagSupport\n  const hasChanged = hasTagSupportChanged(\n    oldTagSupport,\n    newTemplater.tagSupport,\n    newTemplater,\n  )\n\n  const oldTemplater = tagSupport.templater || newTemplater\n\n  const redraw = redrawTag(\n    subject,\n    newTemplater,\n    oldestTag.ownerTag as Tag, // subject.tag.ownerTag as Tag\n  )\n\n  const oldest = tagSupport.templater.global.oldest\n  /*\n  newTemplater.global.newest = redraw\n  redraw.tagSupport.templater.global.newest = redraw\n  redraw.tagSupport.templater.global.oldest = oldest\n  tagSupport.templater.global.newest = redraw\n  newTemplater.global.newest = redraw\n  */\n  \n  if(!redraw.tagSupport.templater.global.oldest) {\n    throw new Error('8888888 - 0')\n  }\n\n  if(!oldTemplater.global.oldest) {\n    throw new Error('8888888')\n  }\n\n\n  if(newTemplater.global.oldest && !newTemplater.global.oldest.hasLiveElements) {\n    throw new Error('7777')\n  }\n\n\n  if(!hasChanged) {\n    oldest?.updateByTag(redraw)\n    return {redraw, remit:true}\n  }\n\n  return {redraw, remit:false}\n}\n","import { Context, Tag } from './Tag.class'\nimport { HowToSet } from './interpolateAttributes'\nimport { processAttribute } from './processAttribute.function'\n\nconst search = new RegExp('\\\\s*<template interpolate end id=\"__tagvar(\\\\d{1,4})\"([^>]*)></template>(\\\\s*)')\n\nexport function scanTextAreaValue(\n  textarea: HTMLTextAreaElement,\n  context: Context,\n  ownerTag: Tag,\n) {\n  const value = textarea.value\n  if( value.search(search) >=0 ) {\n    const match = value.match(/__tagvar(\\d{1,4})/);\n    const token = match ? match[0] : ''\n    const dynamic = '{' + token + '}'\n    textarea.value = ''\n    textarea.setAttribute('text-var-value', dynamic)\n\n    const howToSet: HowToSet = (_elm, _name, value: string) => textarea.value = value\n\n    processAttribute(\n      'text-var-value',\n      dynamic, // realValue, // context[token].value,\n      textarea,\n      context,\n      ownerTag,\n      howToSet,\n    )  \n  }\n}\n","import { StateMismatchError } from './errors'\nimport { BaseTagSupport } from './TagSupport.class'\nimport { setUse } from './setUse.function'\n\nexport type StateConfig<T> = (x: T) => [T, T]\n\nexport type StateConfigItem<T> = {\n  get: () => T // TODO: only a convenience, not needed, remove\n  callback?: StateConfig<T>\n  lastValue?: T\n  defaultValue?: T\n  watch?: T // when this value changes, the state becomes this value\n}\n\nexport type StateConfigArray = StateConfigItem<any>[]\n\nexport type Config = {\n  tagSupport: BaseTagSupport\n  array: StateConfigArray // state memory on the first render\n  rearray?: StateConfigArray // state memory to be used before the next render\n}\n\nexport type State = {\n  newest: StateConfigArray\n  // update: () => any\n  // oldest?: StateConfigArray\n  // config: Config\n}\n\n// TODO: rename\nsetUse.memory.stateConfig = {\n  array: [] as StateConfigArray, // state memory on the first render\n  // rearray: [] as StateConfigArray, // state memory to be used before the next render\n} as Config\n\nexport type GetSet<T> = (y: T) => [T, T]\n\nsetUse({\n  beforeRender: (tagSupport: BaseTagSupport) => initState(tagSupport),\n  beforeRedraw: (tagSupport: BaseTagSupport) => initState(tagSupport),\n  afterRender: (\n    tagSupport: BaseTagSupport,\n    // tag: Tag,\n  ) => {\n    const state: State = tagSupport.memory.state\n    const config: Config = setUse.memory.stateConfig\n    const rearray = config.rearray as unknown as State[]\n    \n    if(rearray.length) {\n      if(rearray.length !== config.array.length) {\n        const message = `States lengths has changed ${rearray.length} !== ${config.array.length}. Typically occurs when a function is intended to be wrapped with a tag() call`\n        const details = {\n          oldStates: config.array,\n          newStates: config.rearray,\n          component: tagSupport.templater?.wrapper.original,\n        }\n        const error = new StateMismatchError(message,details)\n        console.warn(message,details)\n        throw error\n      }\n    }\n    \n    delete config.rearray // clean up any previous runs\n\n    state.newest = config.array // [...config.array]\n    \n    config.array = []\n  }\n})\n\n\nexport function getStateValue<T>(\n  // state: StateConfig,\n  state: StateConfigItem<T>,\n) {\n  const callback = state.callback\n  \n  if(!callback) {\n    return state.defaultValue\n  }\n\n  const oldState = callback(StateEchoBack as any) // get value and set to undefined\n  const [oldValue] = oldState\n  const [checkValue] = callback( oldValue ) // set back to original value\n\n  if(checkValue !== StateEchoBack) {\n    const message = 'State property not used correctly. Second item in array is not setting value as expected.\\n\\n' +\n    'For \"let\" state use `let name = state(default)(x => [name, name = x])`\\n\\n' +\n    'For \"const\" state use `const name = state(default)()`\\n\\n' +\n    'Problem state:\\n' + (callback ? callback.toString() : JSON.stringify(state)) +'\\n'\n    \n    console.error(message, {state, callback, oldState, oldValue, checkValue})\n    \n    throw new Error(message)\n  }\n\n  state.lastValue = oldValue\n\n  return oldValue\n}\n\nexport class StateEchoBack {}\n\nfunction initState(\n  tagSupport: BaseTagSupport\n) {\n  const state = tagSupport.memory.state as State\n  const config: Config = setUse.memory.stateConfig\n  \n  // TODO: This guard may no longer be needed\n  if (config.rearray) {\n    const message = 'last state not cleared. Possibly in the middle of rendering one component and another is trying to render'\n    console.error(message, {\n      config,\n      component: tagSupport.templater?.wrapper.original,\n      wasInMiddleOf: config.tagSupport?.templater.wrapper.original,\n      state,\n      expectedClearArray: config.rearray,\n    })\n\n    throw new StateMismatchError(message, {\n      config,\n      component: tagSupport.templater?.wrapper.original,\n      state,\n      expectedClearArray: config.rearray,\n    })\n  }\n\n  // TODO: this maybe redundant and not needed\n  config.rearray = [] // .length = 0\n\n  if(state?.newest.length) {\n    state.newest.map(state => getStateValue(state))\n    config.rearray.push( ...state.newest )\n  }\n\n  config.tagSupport = tagSupport\n}\n\n/** Used for variables that need to remain the same variable during render passes */\nexport function set <T>(\n  defaultValue: T | (() => T),\n): T {\n  const config: Config = setUse.memory.stateConfig\n  let getSetMethod: StateConfig<T>\n  const rearray = config.rearray as StateConfigArray\n\n  const restate = rearray[config.array.length]\n  if(restate) {\n    let oldValue = getStateValue(restate) as T\n    getSetMethod = ((x: T) => [oldValue, oldValue = x])\n    const push: StateConfigItem<T> = {\n      get: () => getStateValue(push) as T,\n      callback: getSetMethod,\n      lastValue: oldValue,\n      defaultValue: restate.defaultValue,\n    }\n\n    config.array.push(push)\n\n    return oldValue\n  }\n\n  // State first time run\n  const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue\n  let initValue = defaultFn()\n\n  getSetMethod = ((x: T) => [initValue, initValue = x])\n  const push: StateConfigItem<T> = {\n    get: () => getStateValue(push) as T,\n    callback: getSetMethod,\n    lastValue: initValue,\n    defaultValue: initValue,\n  }\n  config.array.push(push)\n  \n  return initValue\n}\n","import { Config, GetSet, StateConfig, StateConfigArray, StateConfigItem, getStateValue } from './set.function'\nimport { setUse } from './setUse.function'\n\n/** Used for variables that need to remain the same variable during render passes */\nexport function setLet <T>(\n  defaultValue: T | (() => T),\n): ((getSet: GetSet<T>) => T) {\n  const config: Config = setUse.memory.stateConfig\n  const rearray = config.rearray as StateConfigArray\n  let getSetMethod: StateConfig<T>\n  \n  const restate = rearray[config.array.length]\n  if(restate) {\n    let oldValue = getStateValue(restate) as T\n\n    getSetMethod = ((x: T) => [oldValue, oldValue = x])\n    const push: StateConfigItem<T> = {\n      get: () => getStateValue(push) as T,\n      callback: getSetMethod,\n      lastValue: oldValue,\n      defaultValue: restate.defaultValue,\n    }\n\n    config.array.push(push)\n\n    return makeStateResult(oldValue, push)\n  }\n\n  // State first time run\n  const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue\n  let initValue = defaultFn()\n\n  getSetMethod = ((x: T) => [initValue, initValue = x])\n  const push: StateConfigItem<T> = {\n    get: () => getStateValue(push) as T,\n    callback: getSetMethod,\n    lastValue: initValue,\n    defaultValue: initValue,\n  }\n  config.array.push(push)\n  \n  return makeStateResult(initValue, push)\n}\n\nfunction makeStateResult<T>(\n  initValue: T,\n  push: StateConfigItem<T>,\n) {\n  // return initValue\n  const result =  (y: any) => {\n    push.callback = y || (x => [initValue, initValue = x])\n\n    return initValue\n  }\n\n  return result\n}\n","import { Config, GetSet, StateConfigArray, StateConfigItem, getStateValue } from './set.function'\nimport { setUse } from './setUse.function'\n\n/** Used for variables that need to remain the same variable during render passes */\nexport function setProp <T>(\n  getSet: GetSet<any>\n): T {\n  const config: Config = setUse.memory.stateConfig\n  const rearray = config.rearray as StateConfigArray\n\n  const [propValue] = getSet(undefined as T)\n  getSet(propValue) // restore original value instead of undefined\n\n  const restate = rearray[config.array.length]\n  if(restate) {\n    let watchValue = restate.watch as T\n    let oldValue = getStateValue(restate) as T\n\n    const push: StateConfigItem<T> = {\n      get: () => getStateValue(push) as T,\n      callback: getSet,\n      lastValue: oldValue,\n      watch: restate.watch,\n    }\n\n    // has the prop value changed?\n    if(propValue != watchValue) {\n      push.watch = propValue\n      oldValue = push.lastValue = propValue\n    }\n\n    config.array.push(push)\n\n    getSet(oldValue)\n\n    return oldValue\n  }\n\n  const push: StateConfigItem<T> = {\n    get: () => getStateValue(push) as T,\n    callback: getSet,\n    lastValue: propValue,\n    watch: propValue,\n  }\n  config.array.push(push)\n  \n  return propValue\n}\n","import { Tag } from './Tag.class'\nimport { BaseTagSupport } from './TagSupport.class'\nimport { Config } from './set.function'\n\nconst tagUse: TagUse[] = []\n\ninterface TagUse {\n  // runs only one time at creation of component html elements\n  beforeRender: (tagSupport: BaseTagSupport, ownerTag: Tag) => void\n  \n  // runs every render\n  beforeRedraw: (tagSupport: BaseTagSupport, tag: Tag) => void\n  \n  // runs every render\n  afterRender: (tagSupport: BaseTagSupport, tag: Tag) => void\n  \n  beforeDestroy: (tagSupport: BaseTagSupport, tag: Tag) => void\n}\n\nexport type UseOptions = {\n  beforeRender?: (tagSupport: BaseTagSupport, ownerTag: Tag) => void\n  beforeRedraw?: (tagSupport: BaseTagSupport, tag: Tag) => void\n  afterRender?: (tagSupport: BaseTagSupport, tag: Tag) => void\n  beforeDestroy?: (tagSupport: BaseTagSupport, tag: Tag) => void\n}\n\nexport function setUse(use: UseOptions) {\n  // must provide defaults\n  const useMe: TagUse = {\n    beforeRender: use.beforeRender || (() => undefined),\n    beforeRedraw: use.beforeRedraw || (() => undefined),\n    afterRender: use.afterRender || (() => undefined),\n    beforeDestroy: use.beforeDestroy || (() => undefined),\n  }\n\n  setUse.tagUse.push(useMe)\n}\n\nsetUse.tagUse = tagUse\nsetUse.memory = {} as (Record<string,any> & {stateConfig: Config})\n","import { Tag } from './Tag.class'\nimport { isSubjectInstance, isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { setUse } from './setUse.function'\nimport { TemplaterResult, Wrapper } from './TemplaterResult.class'\nimport { ValueSubject } from './ValueSubject'\nimport { runTagCallback } from './bindSubjectCallback.function'\nimport { deepClone } from './deepFunctions'\nimport { TagSupport } from './TagSupport.class'\nimport { renderExistingTag } from './renderExistingTag.function'\nimport { TagSubject } from './Tag.utils'\nimport { alterProps } from './alterProps.function'\n\nexport type TagChildren = ValueSubject<Tag[]> & { lastArray?: Tag[] }\nexport type TagChildrenInput = Tag[] | Tag | TagChildren\nexport type TagComponentArg<T extends any[]> = (...args: T) => Tag;\ntype FirstArgOptional<T extends any[]> = T['length'] extends 0 ? true : false;\n\n// export type TagComponent = TagComponentArg<[any?, TagChildren?]>\nexport type TagComponentBase<T extends any[]> = (\n  arg: FirstArgOptional<T> extends true ? (T[0] | void) : T[0],\n  // props: FirstParameter<T>,\n  children?: TagChildrenInput\n) => Tag\n\nexport const tags: TagComponentBase<any>[] = []\nexport type TagComponent = TagComponentBase<[any?, TagChildren?]> | TagComponentBase<[]>\n\nlet tagCount = 0\n\n/** Wraps a tag component in a state manager and always push children to last argument as an array */\n// export function tag<T>(a: T): T;\nexport function tag<T extends any[]>(\n  tagComponent: TagComponentArg<T>\n): (TagComponentBase<T>) {\n  const result = (function tagWrapper(\n    props?: T | Tag | Tag[],\n    children?: TagChildrenInput\n  ) {\n    const isPropTag = isTagInstance(props) || isTagArray(props)    \n    \n    if(isPropTag) {\n      children = props as Tag | Tag[] | TagChildren\n      props = undefined\n    }\n\n    const { childSubject, madeSubject } = kidsToTagArraySubject(children)\n    ;(childSubject as any).isChildSubject = true\n\n    const templater: TemplaterResult = new TemplaterResult(props, childSubject)\n    const innerTagWrap: Wrapper = getTagWrap(\n      templater,\n      madeSubject,\n    )\n\n    innerTagWrap.original = tagComponent\n    \n    templater.tagged = true    \n    templater.wrapper = innerTagWrap as Wrapper\n\n    return templater\n  }) // we override the function provided and pretend original is what's returned\n\n  updateResult(result, tagComponent as unknown as TagComponent)\n\n  // group tags together and have hmr pickup\n  updateComponent(tagComponent)\n  tags.push(tagComponent as unknown as TagComponent)\n\n  return result as any\n}\n\nfunction kidsToTagArraySubject(\n  children?: TagChildrenInput\n): {\n  childSubject: ValueSubject<Tag[]>,\n  madeSubject: boolean\n} {\n  if(isSubjectInstance(children)) {\n    return {childSubject: children as ValueSubject<Tag[]>, madeSubject: false}\n  }\n  \n  const kidArray = children as Tag[]\n  if(isTagArray(kidArray)) {\n    return {childSubject: new ValueSubject(children as Tag[]), madeSubject: true}\n  }\n\n  const kid = children as Tag\n  if(kid) {\n    kid.arrayValue = 0\n    return {childSubject: new ValueSubject([kid]), madeSubject: true}\n  }\n\n  return {childSubject: new ValueSubject([]), madeSubject: true}\n}\n\nfunction updateResult(\n  result: any,\n  tagComponent: TagComponent\n) {\n  result.isTag = true\n  result.original = tagComponent\n}\n\nfunction updateComponent(\n  tagComponent: any\n) {\n  tagComponent.tags = tags\n  tagComponent.setUse = setUse\n  tagComponent.tagIndex = tagCount++ // needed for things like HMR\n}\n\n/** creates/returns a function that when called then calls the original component function */\nfunction getTagWrap(\n  templater: TemplaterResult,\n  madeSubject: boolean\n): Wrapper {\n  const innerTagWrap = function(\n    oldTagSetup: TagSupport,\n    subject: TagSubject,\n  ) {\n    oldTagSetup.templater.global.newestTemplater = templater\n    ++oldTagSetup.templater.global.renderCount\n    \n    templater.global = oldTagSetup.templater.global\n    \n    const childSubject = templater.children\n    const lastArray = oldTagSetup.templater.global.oldest?.tagSupport.templater.children.lastArray\n    if(lastArray) {\n      childSubject.lastArray = lastArray\n    }\n\n    const originalFunction = (innerTagWrap as any).original as unknown as TagComponent\n    // const oldTagSetup = templater.tagSupport\n\n    const oldest = templater.global.oldest\n\n    if(oldest && !oldest.hasLiveElements) {\n      throw new Error('issue already 22')\n    }\n\n    // ???\n    let props = templater.props\n    // let props = oldTagSetup.propsConfig.latest\n    const ownerTagSupport = oldTagSetup.ownerTagSupport\n    const oldTemplater = ownerTagSupport?.templater\n    const oldLatest = oldTemplater?.global.newest\n    const newestOwnerTemplater = oldLatest?.tagSupport.templater\n\n    if(oldLatest && !newestOwnerTemplater) {\n      throw new Error('what to do here?')\n    }\n\n    // ???\n    let castedProps = alterProps(\n      props,\n      // templater,\n      newestOwnerTemplater as TemplaterResult,\n      oldTagSetup.ownerTagSupport,\n    )\n    // let castedProps = alterProps(props, oldTagSetup.templater)\n    \n    // CALL ORIGINAL COMPONENT FUNCTION\n    const tag = originalFunction(castedProps, childSubject)\n\n    /*\n    const isFirstRun = oldTagSetup.mutatingRender === TagSupport.prototype.mutatingRender\n    if(isFirstRun) {\n      // oldTagSetup.oldest = tag\n      // templater.oldest = tag\n      // tag.tagSupport = oldTagSetup\n\n    }\n    */\n\n    tag.tagSupport = new TagSupport(\n      oldTagSetup.ownerTagSupport,\n      templater,\n      subject,\n    )\n\n    const clonedProps = deepClone(castedProps) // castedProps\n    tag.tagSupport.propsConfig = {\n      latest: props, // castedProps\n      latestCloned: clonedProps,\n      clonedProps: clonedProps,\n      lastClonedKidValues: tag.tagSupport.propsConfig.lastClonedKidValues,\n    }\n\n    tag.tagSupport.memory = oldTagSetup.memory // state handover\n    // tag.tagSupport.mutatingRender = oldTagSetup.mutatingRender\n\n    // ???\n    /*\n    oldTagSetup.propsConfig = {...tag.tagSupport.propsConfig}\n    if(oldest) {\n      oldest.tagSupport.propsConfig = {...tag.tagSupport.propsConfig}\n    }\n    */\n\n    if(madeSubject) {\n      childSubject.value.forEach(kid => {\n        kid.values.forEach((value, index) => {            \n          if(!(value instanceof Function)) {\n            return\n          }\n          \n          if(kid.values[index].isChildOverride) {\n            return // already overwritten\n          }\n          \n          // all functions need to report to me\n          kid.values[index] = function(...args: unknown[]) {\n            runTagCallback(\n              value,\n              tag.ownerTag as Tag,\n              this, // bindTo\n              args\n            )\n          }\n          \n          kid.values[index].isChildOverride = true\n        })\n      })\n    }\n\n    return tag\n  }\n\n  return innerTagWrap as Wrapper\n}","import { BaseTagSupport, renderTagSupport } from './TagSupport.class'\nimport { runAfterRender, runBeforeRender } from './tagRunner'\nimport { TemplaterResult } from './TemplaterResult.class'\nimport { Tag } from './Tag.class'\nimport { TagComponent } from './tag'\nimport { renderExistingTag } from './renderExistingTag.function'\nimport { Props } from './Props'\nimport { ValueSubject } from './ValueSubject'\nimport { TagSubject } from './Tag.utils'\n\nconst appElements: {tag: Tag, element: Element}[] = []\n\nexport function tagElement(\n  app: TagComponent, // (...args: unknown[]) => TemplaterResult,\n  element: HTMLElement | Element,\n  props: unknown,\n): {tag: Tag, tags: TagComponent[]} {\n  const appElmIndex = appElements.findIndex(appElm => appElm.element === element)\n  if(appElmIndex >= 0) {\n    appElements[appElmIndex].tag.destroy()\n    appElements.splice(appElmIndex, 1)\n    // an element already had an app on it\n    console.warn('Found and destroyed app element already rendered to element', {element})\n  }\n\n  // Create the app which returns [props, runOneTimeFunction]\n  const wrapper = app(props) as unknown as TemplaterResult\n\n  // have a function setup and call the tagWrapper with (props, {update, async, on})\n  const result = applyTagUpdater(wrapper)\n  const {tag} = result\n\n  // TODO: is the below needed?\n  tag.appElement = element\n    \n  const templateElm = document.createElement('template')\n  templateElm.setAttribute('id', 'app-tag-' + appElements.length)\n  templateElm.setAttribute('app-tag-detail', appElements.length.toString())\n  element.appendChild(templateElm)\n  \n  tag.buildBeforeElement(templateElm)\n\n  wrapper.global.oldest = tag\n  wrapper.global.newest = tag\n\n  if(!tag.hasLiveElements) {\n    throw new Error('x')\n  }\n\n  ;(element as any).setUse = (app as any).original.setUse\n\n  appElements.push({element, tag})\n\n  return {tag, tags: (app as any).original.tags}\n}\n\nexport function applyTagUpdater(\n  wrapper: TemplaterResult,\n) {\n  const subject = new ValueSubject<Tag>({} as Tag) as unknown as TagSubject\n  const tagSupport = new BaseTagSupport(wrapper, subject)\n  wrapper.tagSupport = tagSupport\n  runBeforeRender(tagSupport, undefined as any as Tag)\n\n  // Call the apps function for our tag templater\n  const tag = wrapper.wrapper(\n    tagSupport,\n    subject,\n  )\n  // wrapper.global.oldest = tag\n  // wrapper.global.newest = tag\n  runAfterRender(tagSupport, tag)\n\n  return { tag, tagSupport }\n}\n","// TODO: This should be more like `new TaggedJs().use({})`\n\nimport { Tag } from './Tag.class'\nimport { BaseTagSupport } from './TagSupport.class'\nimport { setUse } from './setUse.function'\n\n// Life cycle 1\nexport function runBeforeRender(\n  tagSupport: BaseTagSupport,\n  tagOwner: Tag,\n) {\n  setUse.tagUse.forEach(tagUse => tagUse.beforeRender(tagSupport, tagOwner))\n}\n\n// Life cycle 2\nexport function runAfterRender(\n  tagSupport: BaseTagSupport,\n  tag: Tag,\n) {\n  setUse.tagUse.forEach(tagUse => tagUse.afterRender(tagSupport, tag))\n}\n\n// Life cycle 3\nexport function runBeforeRedraw(\n  tagSupport: BaseTagSupport,\n  tag: Tag,\n) {\n  setUse.tagUse.forEach(tagUse => tagUse.beforeRedraw(tagSupport, tag))\n}\n\n// Life cycle 4 - end of life\nexport function runBeforeDestroy(\n  tagSupport: BaseTagSupport,\n  tag: Tag,\n) {\n  setUse.tagUse.forEach(tagUse => tagUse.beforeDestroy(tagSupport, tag))\n}\n","import { TagSubject } from './Tag.utils'\nimport { TemplaterResult } from './TemplaterResult.class'\nimport { Tag } from './Tag.class'\nimport { hasTagSupportChanged } from './hasTagSupportChanged.function'\nimport { destroyTagMemory } from './checkDestroyPrevious.function'\nimport { TagSupport, renderTagSupport } from './TagSupport.class'\nimport { processSubjectComponent } from './processSubjectComponent.function'\nimport { State } from './set.function'\n\nexport function updateExistingTagComponent(\n  ownerTag: Tag,\n  tempResult: TemplaterResult,\n  subject: TagSubject,\n  insertBefore: Element | Text,\n): void {\n  let existingTag: Tag | undefined = subject.tag\n  const oldWrapper = existingTag.tagSupport.templater.wrapper\n  const newWrapper = tempResult.wrapper\n  let isSameTag = false\n\n  if(tempResult.global.oldest && !tempResult.global.oldest.hasLiveElements) {\n    throw new Error('88893434')\n  }\n  \n  if(oldWrapper && newWrapper) {\n    const oldFunction = oldWrapper.original\n    const newFunction = newWrapper.original\n    isSameTag = oldFunction === newFunction\n  }\n\n  const oldTagSupport = existingTag.tagSupport\n  const oldGlobal = oldTagSupport.templater.global\n  const globalInsert = oldGlobal.insertBefore\n  const oldInsertBefore = globalInsert?.parentNode ? globalInsert : insertBefore\n\n  if(!oldInsertBefore.parentNode) {\n    throw new Error('stop here no parent node update existing tag')\n  }\n\n  if(!isSameTag) {\n    destroyTagMemory(oldTagSupport.templater.global.oldest as Tag, subject)\n    processSubjectComponent(tempResult, subject, oldInsertBefore, ownerTag, {\n      forceElement: false,\n      counts: {added: 0, removed: 0},\n    })\n    return\n  } else {\n    // const subjectTagSupport = existingTag.tagSupport\n    // old props may have changed, reclone first\n    \n    /*\n    const newProps = subjectTagSupport.propsConfig.latest\n    let oldCloneProps = subjectTagSupport.propsConfig.clonedProps\n    // if the new props are NOT HTML children, then clone the props for later render cycle comparing\n    if(!isTagInstance(newProps)) {\n      oldCloneProps = deepClone( newProps )\n    }\n    */\n\n    if(!tempResult.tagSupport) {\n      tempResult.tagSupport = new TagSupport(\n        oldTagSupport.ownerTagSupport,\n        tempResult,\n        subject,\n      )\n    }\n\n\n    const newTagSupport = tempResult.tagSupport\n\n    /*\n    const hasStateChanged = checkStateChanged(oldTagSupport.memory.state)\n    if(hasStateChanged) {\n      console.log('support changed!!!!')\n    }\n    */\n    // const hasChanged = hasStateChanged || hasTagSupportChanged(oldTagSupport, newTagSupport, tempResult)\n    const hasChanged = hasTagSupportChanged(oldTagSupport, newTagSupport, tempResult)\n    if(!hasChanged) {\n      console.log('!hasChanged', {\n        original: tempResult.wrapper.original,\n        old: oldTagSupport.propsConfig.latest,\n        new: newTagSupport.propsConfig.latest,\n        tempProps: tempResult.props,\n        equal: oldTagSupport.propsConfig.latest == newTagSupport.propsConfig.latest,\n        state: newTagSupport.memory.state.newest,\n        oldState: oldTagSupport.memory.state.newest,\n      })\n\n      const newTag = renderTagSupport(\n        tempResult.tagSupport,\n        false,\n      )\n\n      const oldTag = oldGlobal.oldest as Tag\n      oldTag.updateByTag(newTag)\n    \n      return // its the same tag component\n    }\n  }\n\n  // setValueRedraw(tempResult, subject, ownerTag)\n\n  // ???\n  // oldTagSupport.templater = tempResult\n    \n  const oldestTag = tempResult.global.oldest as Tag // oldTagSupport.oldest as Tag // existingTag\n  const previous = tempResult.global.newest as Tag\n\n  if(!previous || !oldestTag) {\n    throw new Error('how?')\n  }\n\n  console.log('updateExistingTagComponent.function.ts - start', {\n    original: tempResult.wrapper.original,\n    props: tempResult.props,\n    oldProps: subject.tag.tagSupport.templater.props,\n    oldestProps: subject.tag.tagSupport.templater.global.oldest?.tagSupport.templater.props,\n    \n    previousState: previous.tagSupport.memory.state.newest,\n    newestState: tempResult.tagSupport.memory.state.newest,\n    olderState: tempResult.tagSupport.subject.tag.tagSupport.memory.state.newest,\n  })\n  const newTag = renderTagSupport(\n    tempResult.tagSupport,\n    false,\n  )\n\n  const hasOldest = newTag.tagSupport.templater.global.oldest ? true : false\n\n  console.log('updateExistingTagComponent.function.ts - done', {\n    original: tempResult.wrapper.original,\n    props: tempResult.props,\n    oldProps: subject.tag.tagSupport.templater.props,\n    oldestProps: subject.tag.tagSupport.templater.global.oldest?.tagSupport.templater.props,\n    hasOldest,\n  })\n\n  if(!hasOldest) {\n    newTag.buildBeforeElement(oldInsertBefore, {\n      forceElement: true,\n      counts: {added: 0, removed: 0}, test: false,\n    })\n\n    newTag.tagSupport.templater.global.oldest = newTag\n    newTag.tagSupport.templater.global.newest = newTag\n    oldTagSupport.templater.global.oldest = newTag\n    oldTagSupport.templater.global.newest = newTag\n\n    if(!newTag.tagSupport.templater.global.oldest) {\n      throw new Error('maybe 5')\n    }\n\n    subject.tag = newTag\n\n    oldTagSupport.templater.global.newest = newTag\n    // ???\n    // oldTagSupport.propsConfig = {...tempResult.tagSupport.propsConfig}\n  \n    return\n  }\n\n  // const newTag = tempResult.newest as Tag\n\n  if(previous && !oldestTag) {\n    throw new Error('bad elders')\n  }\n\n  // detect if both the function is the same and the return is the same\n  const isLikeTag = isSameTag && previous.isLikeTag(newTag)\n\n  if(previous && !oldestTag) {\n    throw new Error('bad elders')\n  }\n\n  if(isLikeTag) {\n    if(!newTag.tagSupport.templater.global.oldest) {\n      throw new Error('maybe 6')\n    }\n\n    subject.tag = newTag\n    // existingTag.updateByTag(newTag)\n    oldestTag.updateByTag(newTag) // the oldest tag has element references\n  } else {\n    // Although function looked the same it returned a different html result\n    if(isSameTag) {\n      destroyTagMemory(existingTag, subject)\n    }\n\n    // oldTagSupport.oldest = newTag\n    if(!newTag.tagSupport.templater.global.oldest) {\n      throw new Error('maybe 7')\n    }\n\n    subject.tag = newTag\n  }\n\n  if(!oldTagSupport.templater.global.oldest) {\n    newTag.buildBeforeElement(oldTagSupport.templater.global.insertBefore as Element, {\n      forceElement: true,\n      counts: {added: 0, removed: 0}, test:false,\n    })\n\n    newTag.tagSupport.templater.global.oldest = newTag\n    oldTagSupport.templater.global.oldest = newTag\n    newTag.tagSupport.templater.global.newest = newTag\n    oldTagSupport.templater.global.newest = newTag\n\n    if(!newTag.tagSupport.templater.global.oldest) {\n      throw new Error('maybe 8')\n    }\n\n    subject.tag = newTag\n\n    if(!newTag.hasLiveElements) {\n      throw new Error('55555')\n    }\n  }\n\n  oldTagSupport.templater.global.newest = newTag\n  // ???\n  // oldTagSupport.propsConfig = {...tempResult.tagSupport.propsConfig}\n\n  return\n}\n\nfunction checkStateChanged(state: State) {\n  return !state.newest.every(state => {\n    const lastValue = state.lastValue\n    const nowValue = state.get()\n    const matched = lastValue === nowValue\n\n    if(matched) {\n      return true\n    }\n\n    return false\n  })\n}","import { DisplaySubject, TagSubject, getSubjectFunction } from './Tag.utils'\nimport { TagSupport } from './TagSupport.class'\nimport { Subject } from './Subject'\nimport { TemplaterResult } from './TemplaterResult.class'\nimport { isSubjectInstance, isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { Tag } from './Tag.class'\nimport { InterpolateSubject, processTag } from './processSubjectValue.function'\nimport { TagArraySubject, processTagArray } from './processTagArray'\nimport { updateExistingTagComponent } from './updateExistingTagComponent.function'\nimport { RegularValue, processRegularValue } from './processRegularValue.function'\nimport { checkDestroyPrevious } from './checkDestroyPrevious.function'\nimport { ValueSubject } from './ValueSubject'\nimport { processSubjectComponent } from './processSubjectComponent.function'\nimport { isLikeTags } from './isLikeTags.function'\n\nexport type ExistingValue = TemplaterResult | Tag[] | TagSupport | Function | Subject<unknown> | RegularValue | Tag\n\nexport function updateExistingValue(\n  subject: InterpolateSubject,\n  value: ExistingValue,\n  ownerTag: Tag,\n  insertBefore: Element | Text,\n): InterpolateSubject {\n  const subjectSubArray = subject as TagArraySubject\n  const subjectSubTag = subject as TagSubject\n  const isChildSubject = subjectSubArray.isChildSubject\n  const isComponent = isTagComponent(value)\n  \n  // If we are working with tag component 2nd argument children, the value has to be digged\n  if(isChildSubject) {\n    value = (value as TagSubject).value // A subject contains the value\n  }\n\n  const oldInsertBefore = (subject as DisplaySubject).template || subjectSubTag.tag?.tagSupport.templater.global.insertBefore || (subjectSubTag as DisplaySubject).clone\n\n  checkDestroyPrevious(subject, value)\n\n  // handle already seen tag components\n  if(isComponent) {\n    const templater = value as TemplaterResult\n    // When was something before component\n    if(!subjectSubTag.tag) {\n      processSubjectComponent(\n        templater,\n        subject as TagSubject,\n        oldInsertBefore,\n        ownerTag,\n        {\n          forceElement: true,\n          counts: {added: 0, removed: 0},\n        }\n      )\n\n      return subjectSubTag\n    }\n\n    if(!templater.global.oldest) {\n      const oldTag = subjectSubTag.tag\n      \n      const oldWrap = oldTag.tagSupport.templater.wrapper // tag versus component\n      if(oldWrap) {\n        if(oldWrap.original === templater.wrapper?.original) {\n          console.log(' disconnected global', {\n            oldWrap: oldTag.tagSupport.templater.wrapper.original,\n            tempWrap: templater.wrapper.original,\n          })\n          templater.global = {...oldTag.tagSupport.templater.global}\n        }\n      }\n    }\n\n    console.log('call for update of existing tag', {\n      wrap: templater.wrapper.original,\n      props: templater.props,\n    })\n    updateExistingTagComponent(\n      ownerTag,\n      templater, // latest value\n      subjectSubTag,\n      insertBefore,\n    )\n\n    return subjectSubTag\n  }\n  \n  // was component but no longer\n  const subjectTag = subjectSubTag.tag\n  if(subjectTag) {\n    handleStillTag(\n      subjectTag,\n      subject as TagSubject | TagArraySubject,\n      value as Tag,\n      ownerTag\n    )\n\n    return subjectSubTag\n  }\n\n  // its another tag array\n  if(isTagArray(value)) {\n    processTagArray(\n      subject as TagArraySubject,\n      value as any as Tag[],\n      oldInsertBefore,\n      ownerTag,\n      {counts: {\n        added: 0,\n        removed: 0,\n      }}\n    )\n\n    return subject\n  }\n\n  // now its a function\n  if(value instanceof Function) {\n    return getSubjectFunction(value, ownerTag)\n  }\n\n  if(isTagInstance(value)) {\n    subjectSubTag.template = oldInsertBefore\n    processTag(\n      value as Tag,\n      subjectSubTag,\n      subjectSubTag.template,\n      ownerTag,// existingTag, // tag,\n      {\n        counts: {\n          added: 0,\n          removed: 0,\n        }\n      }\n    )\n    return subjectSubTag\n  }\n\n  // we have been given a subject\n  if(isSubjectInstance(value)) {\n    return value as ValueSubject<any>\n  }\n\n  // This will cause all other values to render\n  processRegularValue(\n    value as RegularValue,\n    subject as DisplaySubject,\n    oldInsertBefore,\n  )\n\n  return subjectSubTag\n}\n\nfunction handleStillTag(\n  existingTag: Tag,\n  subject: InterpolateSubject,\n  value: Tag | TemplaterResult | RegularValue,\n  ownerTag: Tag,\n) {\n  const oldWrapper = existingTag.tagSupport.templater.wrapper\n  const newWrapper = (value as any)?.wrapper\n  // const wrapMatch = oldWrapper && newWrapper && oldWrapper?.original === newWrapper?.original\n\n  // TODO: We shouldn't need both of these\n  const isSameTag = value && isLikeTags(existingTag, value as Tag)\n  const isSameTag2 = value && (value as any).getTemplate && existingTag.isLikeTag(value as any)\n\n  const tag = value as Tag\n\n  if(!tag.tagSupport) {\n    const fakeTemplater = {\n      global: {\n        context: {},\n        oldest: tag,\n      },\n      children: new ValueSubject<Tag[]>([]),\n    } as TemplaterResult\n    tag.tagSupport = new TagSupport(ownerTag.tagSupport, fakeTemplater, subject as TagSubject)\n  }\n\n  if(isSameTag) {\n    existingTag.updateByTag(tag)\n    return\n  }\n\n  if(isSameTag || isSameTag2) {\n    return processTag(\n      value as Tag,\n      subject as TagSubject,\n      (subject as TagSubject).template,\n      ownerTag,// existingTag, // tag,\n      {\n        counts: {\n          added: 0,\n          removed: 0,\n        }\n      }\n    )\n  }\n\n  return processRegularValue(\n    value as RegularValue,\n    subject as DisplaySubject,\n    (subject as DisplaySubject).template\n  )\n}\n","import { setLet } from './setLet.function'\n\nexport type WatchCallback = (\n  currentValues: any[],\n  previousValues: any[] | undefined // first run this is undefined\n) => unknown | ((currentValues: any[]) => unknown) | (() => unknown)\n\n/** When an item in watch array changes, callback function will be triggered */\nexport function watch<T>(\n  currentValues: T[],\n  callback: WatchCallback\n): T[] {\n  let previousValues = setLet(undefined as undefined | unknown[])(x => [previousValues, previousValues = x])\n\n  console.log('previousValues', {currentValues, previousValues})\n\n  if(previousValues === undefined) {\n    callback(currentValues, previousValues)\n    // const result = {currentValues, previousValues}\n    previousValues = currentValues\n    return currentValues\n  }\n\n  const allExact = currentValues.every((item, index) => item === (previousValues as any[])[index])\n  console.log('allExact',{\n    allExact,\n    currentValues,\n    previousValues\n  })\n  if(allExact) {\n    return currentValues\n  }\n\n  callback(currentValues, previousValues)\n  previousValues.length = 0\n  previousValues.push(...currentValues)\n\n  return currentValues\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export { App } from \"./app.component\"\nexport { IsolatedApp } from \"./isolatedApp\"\nexport { hmr } from \"taggedjs\"\n"],"names":[],"sourceRoot":""}