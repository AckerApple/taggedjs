{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./src/array.test.ts","webpack:///./src/basic.test.ts","webpack:///./src/child.test.ts","webpack:///./src/content.test.ts","webpack:///./src/counters.test.ts","webpack:///./src/elmSelectors.ts","webpack:///./src/expect.html.ts","webpack:///./src/expect.ts","webpack:///./src/funInProps.test.ts","webpack:///./src/last.test.ts","webpack:///./src/mirror.test.ts","webpack:///./src/oneRender.test.ts","webpack:///./src/props.test.ts","webpack:///./src/providers.test.ts","webpack:///./src/start.test.ts","webpack:///./src/tagSwitch.test.ts","webpack:///./src/todos.test.ts","webpack:///./src/watch.test.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./node_modules/taggedjs/js/tag/ValueTypes.enum.js","webpack:///./node_modules/taggedjs/js/tag/Tag.class.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/htmlInterpolationToDomMeta.function.js","webpack:///./node_modules/taggedjs/js/tag/domMetaCollector.js","webpack:///./node_modules/taggedjs/js/tag/getStringsId.function.js","webpack:///./node_modules/taggedjs/js/tag/isLastRunMatched.function.js","webpack:///./node_modules/taggedjs/js/isInstance.js","webpack:///./node_modules/taggedjs/js/subject/combineLatest.function.js","webpack:///./node_modules/taggedjs/js/subject/subject.utils.js","webpack:///./node_modules/taggedjs/js/subject/Subject.class.js","webpack:///./node_modules/taggedjs/js/subject/ValueSubject.js","webpack:///./node_modules/taggedjs/js/tag/getSupportInCycle.function.js","webpack:///./node_modules/taggedjs/js/state/setUse.function.js","webpack:///./node_modules/taggedjs/js/errors.js","webpack:///./node_modules/taggedjs/js/state/state.utils.js","webpack:///./node_modules/taggedjs/js/state/syncStates.function.js","webpack:///./node_modules/taggedjs/js/state/state.function.js","webpack:///./node_modules/taggedjs/js/state/watch.function.js","webpack:///./node_modules/taggedjs/js/state/subject.function.js","webpack:///./node_modules/taggedjs/js/state/letState.function.js","webpack:///./node_modules/taggedjs/js/deepFunctions.js","webpack:///./node_modules/taggedjs/js/state/providers.js","webpack:///./node_modules/taggedjs/js/tag/hasPropChanges.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTagResult.function.js","webpack:///./node_modules/taggedjs/js/tag/getValueType.function.js","webpack:///./node_modules/taggedjs/js/tag/cloneValueArray.function.js","webpack:///./node_modules/taggedjs/js/tag/tagRunner.js","webpack:///./node_modules/taggedjs/js/tag/destroy.support.js","webpack:///./node_modules/taggedjs/js/tag/TemplaterResult.class.js","webpack:///./node_modules/taggedjs/js/tag/update/TagJsSubject.class.js","webpack:///./node_modules/taggedjs/js/tag/update/processNewValue.function.js","webpack:///./node_modules/taggedjs/js/tag/textNode.js","webpack:///./node_modules/taggedjs/js/interpolations/specialAttribute.js","webpack:///./node_modules/taggedjs/js/interpolations/interpolateAttributes.js","webpack:///./node_modules/taggedjs/js/interpolations/bindSubjectCallback.function.js","webpack:///./node_modules/taggedjs/js/interpolations/processAttribute.function.js","webpack:///./node_modules/taggedjs/js/tag/destroyTag.function.js","webpack:///./node_modules/taggedjs/js/tag/checkDestroyPrevious.function.js","webpack:///./node_modules/taggedjs/js/updateBeforeTemplate.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processRegularValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/afterChildrenBuilt.function.js","webpack:///./node_modules/taggedjs/js/interpolations/elementInitCheck.js","webpack:///./node_modules/taggedjs/js/tag/update/processTag.function.js","webpack:///./node_modules/taggedjs/js/tag/setTagPlaceholder.function.js","webpack:///./node_modules/taggedjs/js/tag/update/updateExistingValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processTagArray.js","webpack:///./node_modules/taggedjs/js/alterProp.function.js","webpack:///./node_modules/taggedjs/js/tag/html.js","webpack:///./node_modules/taggedjs/js/tag/getTagWrap.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderTagOnly.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processFirstSubjectValue.function.js","webpack:///./node_modules/taggedjs/js/tag/update/oneRenderToSupport.function.js","webpack:///./node_modules/taggedjs/js/interpolations/subscribeToTemplate.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/metaAttachDomElements.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/replacePlaceholders.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/restorePlaceholders.function.js","webpack:///./node_modules/taggedjs/js/interpolations/optimizers/exchangeParsedForValues.function.js","webpack:///./node_modules/taggedjs/js/tag/Support.class.js","webpack:///./node_modules/taggedjs/js/tag/update/updateContextItem.function.js","webpack:///./node_modules/taggedjs/js/tag/elementDestroyCheck.function.js","webpack:///./node_modules/taggedjs/js/tag/render/softDestroySupport.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderWithSupport.function.js","webpack:///./node_modules/taggedjs/js/tag/render/destroyUnlikeTags.function.js","webpack:///./node_modules/taggedjs/js/tag/update/updateExistingTagComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/update/processSubjectComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderSubjectComponent.function.js","webpack:///./node_modules/taggedjs/js/tag/hasSupportChanged.function.js","webpack:///./node_modules/taggedjs/js/tag/isLikeTags.function.js","webpack:///./node_modules/taggedjs/js/state/handleProviderChanges.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderExistingTag.function.js","webpack:///./node_modules/taggedjs/js/state/providersChangeCheck.function.js","webpack:///./node_modules/taggedjs/js/tag/render/renderSupport.function.js","webpack:///./node_modules/taggedjs/js/state/callbackStateUpdate.function.js","webpack:///./node_modules/taggedjs/js/state/callbackMaker.function.js","webpack:///./node_modules/taggedjs/js/state/onInit.js","webpack:///./node_modules/taggedjs/js/state/onDestroy.js","webpack:///./node_modules/taggedjs/js/tag/tag.utils.js","webpack:///./node_modules/taggedjs/js/tag/tag.js","webpack:///./node_modules/taggedjs/js/tag/key.js","webpack:///./node_modules/taggedjs/js/tag/tagElement.js","webpack:///./node_modules/taggedjs/js/index.js","webpack:///./src/attributeDebug.component.ts","webpack:///./src/ContentDebug.component.ts","webpack:///./node_modules/taggedjs/js/subject/will.functions.js","webpack:///./src/tableDebug.component.ts","webpack:///./src/intervalDebug.ts","webpack:///./node_modules/taggedjs-animate-css/js/createFx.function.js","webpack:///./node_modules/taggedjs-animate-css/js/index.js","webpack:///./src/tagJsDebug.ts","webpack:///./src/renderCount.component.ts","webpack:///./src/tagSwitchDebug.component.ts","webpack:///./src/mirroring.tag.ts","webpack:///./src/innerHtmlTests.ts","webpack:///./src/childTests.ts","webpack:///./src/mouseover.tag.ts","webpack:///./src/countersDebug.ts","webpack:///./src/providerDialog.tag.ts","webpack:///./src/providerDebug.ts","webpack:///./src/watchTesting.tag.ts","webpack:///./src/oneRender.tag.ts","webpack:///./src/arrayFun.tag.ts","webpack:///./src/funInPropsChild.tag.ts","webpack:///./src/addArrayComponent.tag.ts","webpack:///./src/funInProps.tag.ts","webpack:///./src/todo/components/input.ts","webpack:///./src/todo/constants.ts","webpack:///./src/todo/components/header.ts","webpack:///./src/todo/components/item.ts","webpack:///./src/todo/components/main.ts","webpack:///./src/todo/components/footer.ts","webpack:///./src/todo/reducer.ts","webpack:///./src/todo/todos.app.ts","webpack:///./src/statePropDebug.tag.ts","webpack:///./src/PropsDebug.tag.ts","webpack:///./node_modules/taggedjs/js/state/letProp.function.js","webpack:///./src/arrayScoreData.tag.ts","webpack:///./src/arrayTests.ts","webpack:///./src/app.tag.ts","webpack:///./src/tests.ts","webpack:///./src/isolatedApp.ts","webpack:///./src/isolatedApp.test.ts","webpack:///./src/app.function.ts"],"sourcesContent":["import { byId, elmCount } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\ndescribe('array testing', () => {\n    it('array basics', () => {\n        expect(elmCount('#array-test-push-item')).toBe(1);\n        const insideCount = elmCount('#score-data-0-1-inside-button');\n        expect(insideCount).toBe(0);\n        expect(elmCount('#score-data-0-1-outside-button')).toBe(0);\n        // add player 0\n        byId('array-test-push-item').click();\n        expect(elmCount('#score-data-0-1-inside-button')).toBe(1);\n        expect(elmCount('#score-data-0-1-outside-button')).toBe(1);\n        const insideElm = byId('score-data-0-1-inside-button');\n        const insideDisplay = byId('score-data-0-1-inside-display');\n        let indexValue = insideDisplay.innerText;\n        const outsideElm = byId('score-data-0-1-outside-button');\n        const outsideDisplay = byId('score-data-0-1-outside-display');\n        const outsideValue = outsideDisplay.innerText;\n        expect(indexValue).toBe(outsideValue);\n        // score for player 0\n        insideElm.click();\n        expect(insideDisplay.innerText).toBe(outsideDisplay.innerText);\n        expect(insideDisplay).toBe(byId('score-data-0-1-inside-display'), 'test element #score-data-0-1-inside-display was not redrawn');\n        expect(indexValue).toBe((Number(insideDisplay.innerText) - 1).toString());\n        expect(indexValue).toBe((Number(outsideDisplay.innerText) - 1).toString());\n        // score for player 0\n        outsideElm.click();\n        expect(insideDisplay.innerText).toBe(outsideDisplay.innerText);\n        expect(indexValue).toBe((Number(insideDisplay.innerText) - 2).toString());\n        expect(indexValue).toBe((Number(outsideDisplay.innerText) - 2).toString());\n    });\n    it('🗑️ deletes', async () => {\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(0);\n        expect(elmCount('#player-edit-btn-0')).toBe(1);\n        await byId('player-edit-btn-0').onclick();\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(1);\n        const result = await byId('player-remove-promise-btn-0').onclick();\n        expect(result).toBe('promise-no-data-ever');\n        await delay(1000); // animation\n        expect(elmCount('#player-remove-promise-btn-0')).toBe(0);\n        expect(elmCount('#player-edit-btn-0')).toBe(0);\n    });\n});\nfunction delay(time) {\n    return new Promise((res) => setTimeout(res, time));\n}\n","import { byId } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nit('elements exists', () => {\n    expect(byId('h1-app')).toBeDefined();\n    const toggleTest = byId('toggle-test');\n    expect(toggleTest).toBeDefined();\n    expect(toggleTest.innerText).toBe('toggle test');\n});\nit('toggle test', () => {\n    const toggleTest = byId('toggle-test');\n    toggleTest.click();\n    expect(toggleTest.innerText).toBe('toggle test true');\n    toggleTest.click();\n    expect(toggleTest.innerText).toBe('toggle test');\n    const propsTextarea = byId('props-debug-textarea');\n    expect(propsTextarea.value.replace(/\\s/g, '')).toBe(`{\"test\":33,\"x\":\"y\"}`);\n});\n","import { it } from \"./expect\";\nimport { testCounterElements, testDuelCounterElements } from \"./expect.html\";\nit('child tests', () => {\n    testCounterElements('#innerHtmlPropsTest-button', '#innerHtmlPropsTest-display');\n    testCounterElements('#innerHtmlTest-counter-button', '#innerHtmlTest-counter-display');\n    testDuelCounterElements(['#childTests-button', '#childTests-display'], ['#child-as-prop-test-button', '#child-as-prop-test-display'], ['#innerHtmlPropsTest-childTests-button', '#innerHtmlPropsTest-childTests-display']);\n    testDuelCounterElements(['#childTests-button', '#childTests-display'], ['#innerHtmlTest-childTests-button', '#innerHtmlTest-childTests-display']);\n});\n","import { click, html, query } from \"./elmSelectors\";\nimport { expect, describe, it } from \"./expect\";\nimport { expectMatchedHtml } from \"./expect.html\";\ndescribe('content', () => {\n    it('basic', () => {\n        expectMatchedHtml('#content-subject-pipe-display0', '#content-subject-pipe-display1');\n        expectMatchedHtml('#content-combineLatest-pipe-display0', '#content-combineLatest-pipe-display1');\n    });\n    it('html', () => {\n        expectMatchedHtml('#content-combineLatest-pipeHtml-display0', '#content-combineLatest-pipeHtml-display1');\n    });\n    it('spacing', () => {\n        expect(html('#hello-big-dom-world')).toBe('hello <b>big</b> world');\n        expect(html('#hello-big-string-world')).toBe('hello <b>big</b> world');\n        expect(html('#hello-spacing-dom-world')).toBe('54 hello worlds');\n    });\n    it('style.', () => {\n        expect(query('#style-simple-border-orange')[0].style.border).toBe('3px solid orange');\n        expect(query('#style-var-border-orange')[0].style.border).toBe('3px solid orange');\n        expect(query('#style-toggle-border-orange')[0].style.border).toBe('3px solid orange');\n        click('#toggle-border-orange');\n        expect(query('#style-toggle-border-orange')[0].style.border).toBe('3px solid green');\n        click('#toggle-border-orange');\n        expect(query('#style-toggle-border-orange')[0].style.border).toBe('3px solid orange');\n    });\n});\n","import { byId, html, htmlById } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectElmCount, testCounterElements } from \"./expect.html\";\ndescribe('counters', () => {\n    const slowCount = html('#🍄-slowChangeCount');\n    // tests can be run multiple times. Only the first time will this expect below work\n    const firstRun = slowCount === '0';\n    it('basics', () => {\n        const counterInput = byId('set-main-counter-input');\n        expect(counterInput).toBeDefined();\n        counterInput.value = '0';\n        counterInput.onkeyup({ target: counterInput });\n        const beforeRenderCount = Number(html('#counters_render_count'));\n        const beforeInnerRenderCount = Number(html('#inner_counters_render_count'));\n        expectElmCount('#conditional-counter', 0);\n        const currentSubs = htmlById('👉-counter-sub-count');\n        testCounterElements('#❤️-increase-counter', '#❤️-counter-display');\n        expect(htmlById('👉-counter-sub-count')).toBe(currentSubs);\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + 2).toString());\n        // the parent changed a value passed to child as a prop\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 2).toString());\n        testCounterElements('#❤️-inner-counter', '#❤️-inner-display');\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + 4).toString());\n        // the child changed a value passed from parent as a prop\n        // expect(html('#inner_counters_render_count')).toBe( (beforeInnerRenderCount + 1).toString() )\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 4).toString());\n        testCounterElements('#standalone-counter', '#standalone-display');\n        expect(html('#counters_render_count')).toBe((beforeRenderCount + (firstRun ? 6 : 6)).toString(), 'render count check failed');\n        // the child was not rendered again because props did not change so value should be less\n        // expect(html('#inner_counters_render_count')).toBe( (beforeInnerRenderCount + 1).toString() )\n        expect(html('#inner_counters_render_count')).toBe((beforeInnerRenderCount + 4).toString());\n        expectElmCount('#conditional-counter', 1);\n        expectElmCount('#conditional-display', 1);\n        if (firstRun) {\n            expect(html('#conditional-display')).toBe('2');\n        }\n        testCounterElements('#conditional-counter', '#conditional-display');\n        // test again after higher elements have had reruns\n        testCounterElements('#❤️-inner-counter', '#❤️-inner-display');\n    });\n    /* TODO - bring this back\n      it.skip('piped subject', () => {\n        if(firstRun) {\n          expect(html('#🪈-pipedSubject')).toBe('')\n          expect(html('#🪈-pipedSubject-2')).toBe('')\n        }\n        \n        click('#🥦-subject-increase-counter')\n    \n        const pipedSubDisplay = html('#🪈-pipedSubject')\n        const subjectCountDisplay = html('#🥦-subject-counter-display')\n        expect(pipedSubDisplay).toBe(subjectCountDisplay, `Expected #🪈-pipedSubject value(${pipedSubDisplay}) to match #🥦-subject-counter-display value(${subjectCountDisplay})`)\n        expect(html('#🪈-pipedSubject-2')).toBe(html('#🥦-subject-counter-display') )\n      })\n    */\n});\n","export function elmCount(selector) {\n    return document.querySelectorAll(selector).length;\n}\nexport function query(query) {\n    return document.querySelectorAll(query); // allow .style to just work\n}\nexport function focus(q) {\n    return query(q).forEach(elm => elm.focus());\n}\nexport function click(q) {\n    return [...query(q)].map(elm => elm.click());\n}\nexport function clickOne(q, index = 0) {\n    const element = query(q)[index];\n    return element.click();\n}\nexport function html(q) {\n    let html = '';\n    query(q).forEach(elm => html = html + elm.innerHTML);\n    return html;\n}\nexport function byId(id) {\n    return document.getElementById(id);\n}\nexport function htmlById(id) {\n    return document.getElementById(id).innerHTML;\n}\nexport function lastById(id) {\n    const elms = document.querySelectorAll('#' + id);\n    return elms[elms.length - 1];\n}\n","import { expect } from \"./expect\";\n/* all elements in each query must have the same html */\nexport function expectMatchedHtml(...queries) {\n    const elements = queries.reduce((all, query) => {\n        const elements = document.querySelectorAll(query);\n        all.push(...elements);\n        return all;\n    }, []);\n    expect(elements.length).toBeGreaterThan(0, 'Expected elements to be present in expectMatchedHtml() query but found none');\n    const lastElm = elements.pop();\n    const lastHtml = lastElm.innerHTML;\n    elements.every(elm => expect(lastHtml).toBe(elm.innerHTML, () => `expectMatchedHtml unmatched html - queries: ${queries.join(' - ')}`));\n}\nexport function expectHTML(query, innerHTML) {\n    const elements = document.querySelectorAll(query);\n    elements.forEach(element => expect(element.innerHTML).toBe(innerHTML, () => `Expected element ${query} innerHTML to be -->${innerHTML}<-- but it was -->${element.innerHTML}<--`));\n}\nexport function expectElmCount(query, count, message) {\n    const elements = document.querySelectorAll(query);\n    const found = elements.length;\n    message = message || `Expected ${count} elements to match query ${query} but found ${found}`;\n    expect(found).toBe(count, message);\n    return elements;\n}\nexport function testDuelCounterElements(...sets\n// [button0, display0]: [string, string], // button, display\n// [button1, display1]: [string, string], // button, display\n) {\n    const [button0, display0] = sets.shift();\n    let query = expectElmCount(display0, 1);\n    let buttonQuery = expectElmCount(button0, 1);\n    const display0Element = query[0];\n    const ip0 = display0Element.innerText;\n    testCounterSelectedElements(buttonQuery, query, { elementCountExpected: 1 }, button0, display0);\n    let increase = 2;\n    sets.forEach(([button1, display1]) => {\n        query = expectElmCount(display1, 1);\n        buttonQuery = expectElmCount(button1, 1);\n        let display1Element = query[0];\n        let ip1Check = display1Element.innerText;\n        const value = (Number(ip0) + increase).toString();\n        expect(ip1Check).toBe(value, () => `Expected second ${display1} increase provider to be increased to ${ip0} but got ${ip1Check}`);\n        testCounterSelectedElements(buttonQuery, query, { elementCountExpected: 1 }, button0, display0);\n        display1Element = query[0];\n        ip1Check = display1Element.innerText;\n        const secondIncrease = increase + 2;\n        expect(ip1Check).toBe((Number(ip0) + secondIncrease).toString(), () => `Expected ${display1} innerText to be ${Number(ip0) + secondIncrease} but instead it is ${ip1Check}`);\n        increase = increase + 2;\n    });\n}\nfunction testCounterSelectedElements(counterButtons, counterDisplays, { elementCountExpected } = {\n    elementCountExpected: 1\n}, counterButtonSelect, counterDisplaySelect) {\n    expect(counterButtons.length).toBe(elementCountExpected, () => `Expected ${counterButtonSelect} to be ${elementCountExpected} elements but is instead ${counterButtons.length}`);\n    expect(counterDisplays.length).toBe(elementCountExpected, () => `Expected ${counterDisplaySelect} to be ${elementCountExpected} elements but is instead ${counterDisplays.length}`);\n    counterButtons.forEach((increaseCounter, index) => {\n        const counterDisplay = document.querySelectorAll(counterDisplaySelect)[index]; // counterDisplays[index]\n        expect(document.body.contains(counterDisplay)).toBe(true, `The selected element ${counterDisplaySelect} is no longer an element on the document body BEFORE clicking ${counterButtonSelect}`);\n        let counterValue = Number(counterDisplay?.innerText);\n        increaseCounter.click();\n        expect(counterDisplay).toBeDefined();\n        expect(document.body.contains(counterDisplay)).toBe(true, `The selected element ${counterDisplaySelect} is no longer an element on the document body AFTER clicking ${counterButtonSelect}`);\n        let oldCounterValue = counterValue + 1;\n        counterValue = Number(counterDisplay.innerText);\n        expect(document.body.contains(counterDisplay)).toBe(true);\n        expect(oldCounterValue).toBe(counterValue, () => `Counter test 1 of 2 expected ${counterDisplaySelect} to be value ${oldCounterValue} but it is ${counterValue}`);\n        increaseCounter.click();\n        counterValue = Number(counterDisplay?.innerText);\n        ++oldCounterValue;\n        expect(oldCounterValue).toBe(counterValue, () => `Counter test 2 of 2 expected ${counterDisplaySelect} to increase value to ${oldCounterValue} but it is ${counterValue}`);\n    });\n}\n/** increases counter by two */\nexport function testCounterElements(counterButtonSelect, counterDisplaySelect, { elementCountExpected } = {\n    elementCountExpected: 1\n}) {\n    const increaseCounters = document.querySelectorAll(counterButtonSelect);\n    const counterDisplays = document.querySelectorAll(counterDisplaySelect);\n    return testCounterSelectedElements(increaseCounters, counterDisplays, { elementCountExpected }, counterButtonSelect, counterDisplaySelect);\n}\n","const onlyTests = [];\nlet tests = [];\nlet tab = 0;\nexport function describe(label, run) {\n    tests.push(async () => {\n        const oldTests = tests;\n        tests = [];\n        try {\n            console.debug('  '.repeat(tab) + '↘ ' + label);\n            ++tab;\n            await run();\n            await runTests(tests);\n            --tab;\n        }\n        catch (error) {\n            --tab;\n            // console.debug(' '.repeat(tab) + '❌ ' + label)\n            throw error;\n        }\n        finally {\n            tests = oldTests;\n        }\n    });\n}\ndescribe.skip = (label, run) => {\n    console.debug('⏭️ Skipped ' + label);\n};\ndescribe.only = (label, run) => {\n    onlyTests.push(async () => {\n        const oldTests = tests;\n        tests = [];\n        try {\n            console.debug('  '.repeat(tab) + '↘ ' + label);\n            ++tab;\n            await run();\n            await runTests(tests);\n            --tab;\n        }\n        catch (error) {\n            --tab;\n            // console.debug(' '.repeat(tab) + '❌ ' + label)\n            throw error;\n        }\n        finally {\n            tests = oldTests;\n        }\n    });\n};\nexport function it(label, run) {\n    tests.push(async () => {\n        try {\n            const start = Date.now();\n            await run();\n            const time = Date.now() - start;\n            console.debug(' '.repeat(tab) + `✅ ${label} - ${time}ms`);\n        }\n        catch (error) {\n            console.debug(' '.repeat(tab) + '❌ ' + label);\n            throw error;\n        }\n    });\n}\nit.only = (label, run) => {\n    onlyTests.push(async () => {\n        try {\n            const start = Date.now();\n            await run();\n            const time = Date.now() - start;\n            console.debug(`✅ ${label} - ${time}ms`);\n        }\n        catch (error) {\n            console.debug('❌ ' + label);\n            throw error;\n        }\n    });\n};\nit.skip = (label, run) => {\n    console.debug('⏭️ Skipped ' + label);\n};\nfunction clearTests() {\n    onlyTests.length = 0;\n    tests.length = 0;\n}\nexport async function execute() {\n    if (onlyTests.length) {\n        return runTests(onlyTests);\n    }\n    return runTests(tests);\n}\nasync function runTests(tests) {\n    for (const test of tests) {\n        try {\n            await test();\n        }\n        catch (err) {\n            console.error(`Error testing ${test.name}`);\n            clearTests();\n            throw err;\n        }\n    }\n    clearTests();\n}\nexport function expect(expected) {\n    return {\n        toBeDefined: (customMessage) => {\n            if (expected !== undefined && expected !== null) {\n                return;\n            }\n            if (customMessage instanceof Function) {\n                customMessage = customMessage();\n            }\n            const message = customMessage || `Expected ${JSON.stringify(expected)} to be defined`;\n            console.error(message, { expected });\n            throw new Error(message);\n        },\n        toBe: (received, customMessage) => {\n            if (expected === received) {\n                return;\n            }\n            if (customMessage instanceof Function) {\n                customMessage = customMessage();\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be ${typeof (received)} ${JSON.stringify(received)}`;\n            console.error(message, { received, expected });\n            throw new Error(message);\n        },\n        toBeGreaterThan: (amount, customMessage) => {\n            const expectNum = expected;\n            if (!isNaN(expectNum) && expectNum > amount) {\n                return;\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be greater than amount`;\n            console.error(message, { amount, expected });\n            throw new Error(message);\n        },\n        toBeLessThan: (amount, customMessage) => {\n            const expectNum = expected;\n            if (!isNaN(expectNum) && expectNum < amount) {\n                return;\n            }\n            const message = customMessage || `Expected ${typeof (expected)} ${JSON.stringify(expected)} to be less than amount`;\n            console.error(message, { amount, expected });\n            throw new Error(message);\n        }\n    };\n}\n","import { click, html } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { testCounterElements } from \"./expect.html\";\nit('function in props', () => {\n    testCounterElements('#fun_in_prop1', '#fun_in_prop_display');\n    testCounterElements('#fun_in_prop2', '#fun_in_prop_display');\n    testCounterElements('#fun_in_prop3', '#fun_in_prop_display');\n    expect(html('#main_wrap_state')).toBe('taggjedjs-wrapped');\n    click('#toggle-fun-in-child');\n    click('#fun-parent-button');\n    expect(html('#main_wrap_state')).toBe('nowrap');\n    click('#toggle-fun-in-child');\n    click('#fun-parent-button');\n    expect(html('#main_wrap_state')).toBe('taggjedjs-wrapped');\n});\n","import { expect, it } from \"./expect\";\nit('has no templates', () => {\n    expect(document.getElementsByTagName('template').length).toBe(0, 'expected no templates on document');\n});\n","import { byId, htmlById } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { expectElmCount, expectMatchedHtml } from \"./expect.html\";\nit('🪞 mirror testing', () => {\n    expectElmCount('#mirror-counter-display', 2);\n    expectElmCount('#mirror-counter-button', 2);\n    const counter = Number(htmlById('mirror-counter-display'));\n    byId('mirror-counter-button').click();\n    expect(counter + 1).toBe(Number(htmlById('mirror-counter-display')));\n    expectElmCount('#mirror-counter-display', 2);\n    expectMatchedHtml('#mirror-counter-display');\n});\n","import { html } from \"./elmSelectors\";\nimport { expect, it } from \"./expect\";\nimport { testCounterElements } from \"./expect.html\";\nit('oneRender', () => {\n    expect(html('#oneRender_tag_ts_render_count')).toBe('1');\n    testCounterElements('#👍-counter-button', '#👍-counter-display');\n    testCounterElements('#👍🔨-counter-button', '#👍🔨-counter-display');\n    testCounterElements('#👍🔨-counter-button', '#👍🔨-counter-subject-display');\n    expect(html('#oneRender_tag_ts_render_count')).toBe('1');\n});\n","import { byId, html, htmlById, query } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectHTML, expectMatchedHtml, testCounterElements, testDuelCounterElements } from \"./expect.html\";\ndescribe('props', () => {\n    it('test duels', () => {\n        testDuelCounterElements(['#propsDebug-🥩-0-button', '#propsDebug-🥩-0-display'], ['#propsDebug-🥩-1-button', '#propsDebug-🥩-1-display']);\n    });\n    it('child prop communications', () => {\n        testDuelCounterElements(['#propsDebug-🥩-1-button', '#propsDebug-🥩-1-display'], ['#propsOneLevelFunUpdate-🥩-button', '#propsOneLevelFunUpdate-🥩-display']);\n    });\n    it('letProp', () => {\n        // local and outside currently match\n        expectMatchedHtml('#propsDebug-🥩-0-display', '#propsDebug-🥩-2-display');\n        const propCounter = Number(html('#propsDebug-🥩-0-display'));\n        const result = query('#propsDebug-🥩-2-button')[0].onclick();\n        expect(result).toBe('no-data-ever');\n        // outer should not have changed\n        expect(html('#propsDebug-🥩-0-display')).toBe(propCounter.toString());\n        expect(html('#propsDebug-🥩-2-display')).toBe((propCounter + 1).toString());\n    });\n    it('basics', () => {\n        // the number of times the watch counted a change happens to match that increase counter\n        const funUpdateValue = byId('propsOneLevelFunUpdate-🥩-display').innerHTML;\n        const changed = html('#propsDebug-🥩-change-display');\n        // test that watch runs onInit\n        expect(changed).toBe((Number(funUpdateValue) + 1).toString());\n        // expect(changed).toBe( (Number(funUpdateValue) - 4).toString() )\n        const ownerHTML = byId('propsDebug-🥩-0-display').innerHTML;\n        const parentHTML = byId('propsDebug-🥩-1-display').innerHTML;\n        const childHTML = byId('propsOneLevelFunUpdate-🥩-display').innerHTML;\n        const ownerNum = Number(ownerHTML);\n        const parentNum = Number(parentHTML);\n        const childNum = Number(childHTML);\n        expect(parentNum).toBe(childNum);\n        expect(ownerNum + 2).toBe(parentNum); // testing of setProp() doesn't change owner\n        byId('propsDebug-🥩-1-button').click();\n    });\n    it('props as functions', () => {\n        const syncCounter = Number(htmlById('sync-prop-number-display'));\n        // const syncCounter = Number( htmlById('sync-prop-child-display') )\n        expectMatchedHtml('#sync-prop-number-display', '#sync-prop-child-display');\n        byId('sync-prop-child-button').click();\n        expectHTML('#sync-prop-number-display', (syncCounter + 2).toString());\n        testCounterElements('#nothing-prop-counter-button', '#nothing-prop-counter-display');\n        expectHTML('#sync-prop-number-display', (syncCounter + 2).toString());\n        expectMatchedHtml('#sync-prop-counter-display', '#nothing-prop-counter-display');\n    });\n});\n","import { describe, it } from \"./expect\";\nimport { testDuelCounterElements } from \"./expect.html\";\ndescribe('providers', () => {\n    it('basics', () => {\n        testDuelCounterElements(['#increase-provider-🍌-0-button', '#increase-provider-🍌-0-display'], ['#increase-provider-🍌-1-button', '#increase-provider-🍌-1-display']);\n        testDuelCounterElements(['#increase-provider-upper-🌹-0-button', '#increase-provider-upper-🌹-0-display'], ['#increase-provider-upper-🌹-1-button', '#increase-provider-upper-🌹-1-display']);\n        testDuelCounterElements(['#increase-provider-🍀-0-button', '#increase-provider-🍀-0-display'], ['#increase-provider-🍀-1-button', '#increase-provider-🍀-1-display']);\n    });\n    it('inner outer debug', () => {\n        testDuelCounterElements(['#increase-prop-🐷-0-button', '#increase-prop-🐷-0-display'], ['#increase-prop-🐷-1-button', '#increase-prop-🐷-1-display']);\n        // change a counter in the parent element\n        testDuelCounterElements(['#increase-provider-🍀-0-button', '#increase-provider-🍀-0-display'], ['#increase-provider-🍀-1-button', '#increase-provider-🍀-1-display']);\n        // now ensure that this inner tag still operates correctly even though parent just rendered but i did not from that change\n        testDuelCounterElements(['#increase-prop-🐷-0-button', '#increase-prop-🐷-0-display'], ['#increase-prop-🐷-1-button', '#increase-prop-🐷-1-display']);\n    });\n});\n","import { expect, it } from \"./expect\";\nit('no template tags', () => {\n    const templateTags = document.getElementsByTagName('template');\n    expect(templateTags.length).toBe(0, 'Expected no templates to be on document');\n});\n","import { byId, elmCount } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectElmCount } from \"./expect.html\";\ndescribe('tagSwitching', () => {\n    it('0', () => {\n        expect(elmCount('#select-tag-above')).toBe(1, 'Expected select-tag-above element to be defined');\n        expect(elmCount('#tag-switch-dropdown')).toBe(1, 'Expected one #tag-switch-dropdown');\n        expect(elmCount('#tagSwitch-1-hello')).toBe(2, 'Expected two #tagSwitch-1-hello elements');\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n    });\n    it('1', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"1\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#tagSwitch-1-hello', 5);\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('2', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"2\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#tagSwitch-1-hello', 2);\n        expectElmCount('#tagSwitch-2-hello', 4);\n        expect(elmCount('#tagSwitch-3-hello')).toBe(0);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('3', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"3\";\n        dropdown.onchange({ target: dropdown });\n        expect(elmCount('#tagSwitch-1-hello')).toBe(0, 'Expected no hello 1s');\n        expect(elmCount('#tagSwitch-2-hello')).toBe(0, 'Expected no #tagSwitch-2-hello elements');\n        expectElmCount('#tagSwitch-3-hello', 7);\n        expect(elmCount('#select-tag-above')).toBe(0);\n    });\n    it('4', () => {\n        const dropdown = byId('tag-switch-dropdown');\n        dropdown.value = \"\";\n        dropdown.onchange({ target: dropdown });\n        expectElmCount('#select-tag-above', 1);\n        expectElmCount('#tag-switch-dropdown', 1);\n        expectElmCount('#tagSwitch-1-hello', 2);\n        expectElmCount('#tagSwitch-2-hello', 0);\n        expectElmCount('#tagSwitch-3-hello', 0);\n    });\n});\n","import { byId, click, clickOne, focus, query } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\ndescribe('todos', () => {\n    const todoInput = byId('todo-input');\n    it('add one remove one', () => {\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0);\n        todoInput.value = 'one';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(1, 'expected one new todo');\n        // delete it\n        click('button[data-testid=\"todo-item-button\"]');\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0);\n    });\n    it('basic', () => {\n        todoInput.value = 'one';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        // checkbox toggle\n        click('input[data-testid=\"todo-item-toggle\"]');\n        // delete it\n        click('button[data-testid=\"todo-item-button\"]');\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(0);\n        todoInput.value = 'one';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        todoInput.value = 'two';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        const todoToggle2 = query('input[data-testid=\"todo-item-toggle\"]')[1];\n        todoToggle2.click();\n        expect(todoToggle2.checked).toBe(true);\n        todoInput.value = 'three';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(3);\n        // delete 0\n        clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(2);\n        // delete 0\n        clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(1);\n        // delete 0\n        clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('input[data-testid=\"todo-item-toggle\"]').length).toBe(0);\n    });\n    it('editing', () => {\n        // create todo\n        todoInput.value = 'one';\n        todoInput.onkeyup({ key: 'Enter', target: todoInput });\n        // prepare to make new todo become editable\n        let event = new MouseEvent('dblclick', {\n            bubbles: true, // Event will bubble up through the DOM\n            cancelable: true, // Event can be cancelled\n            view: window // Default view (window)\n        });\n        // Dispatch the event on the specified element\n        query('label[data-testid=\"todo-item-label\"]')[0].dispatchEvent(event);\n        const parentNode = query('button[data-testid=\"todo-item-button\"]')[0].parentNode;\n        expect(parentNode.style.display).toBe('none', 'expect the delete button hidden');\n        // should have two inputs, the main and the edit\n        expect(query('input[data-testid=\"text-input\"]').length).toBe(2);\n        focus('input[data-testid=\"text-input\"]');\n        const editInput = query('input[data-testid=\"text-input\"]')[1];\n        editInput.value = 'two';\n        editInput.onkeyup({ key: 'Enter', target: editInput }); // cause save\n        // expect one delete button\n        expect(query('button[data-testid=\"todo-item-button\"]').length).toBe(1);\n        // main input + array input\n        expect(query('input[data-testid=\"text-input\"]').length).toBe(2);\n        // delete 0\n        clickOne('button[data-testid=\"todo-item-button\"]');\n        expect(query('label[data-testid=\"todo-item-label\"]').length).toBe(0);\n    });\n});\n","import { click, html, htmlById } from \"./elmSelectors\";\nimport { describe, expect, it } from \"./expect\";\nimport { expectMatchedHtml } from \"./expect.html\";\ndescribe('⌚️ watch tests', () => {\n    const slowCount = html('#🍄-slowChangeCount');\n    // tests can be run multiple times. Only the first time will this expect below work\n    const firstRun = slowCount === '0';\n    it('basic', () => {\n        const startCount = Number(htmlById('watch-testing-num-display'));\n        expectMatchedHtml('#watch-testing-num-display', '#🍄-slowChangeCount');\n        // always starts at \"false\"\n        expect(html('#🦷-truthChange')).toBe('false');\n        if (firstRun) {\n            expect(html('#🍄-watchPropNumSlow')).toBe('');\n            expect(html('#🦷-watchTruth')).toBe('false');\n            expect(html('#🦷-watchTruthAsSub')).toBe('undefined');\n        }\n        else {\n            expect(html('#🍄-watchPropNumSlow')).toBe(slowCount);\n            expect(Number(html('#🦷-watchTruth'))).toBeGreaterThan(Number(slowCount));\n            expect(html('#🦷-watchTruthAsSub')).toBe(html('#🦷-truthSubChangeCount'));\n        }\n        click('#watch-testing-num-button');\n        expectMatchedHtml('#watch-testing-num-display', '#🍄-slowChangeCount');\n        expectMatchedHtml('#🍄-watchPropNumSlow', '#🍄-slowChangeCount');\n        expect(html('#🍄‍🟫-subjectChangeCount')).toBe((startCount + 2).toString());\n        expectMatchedHtml('#🍄‍🟫-subjectChangeCount', '#🍄‍🟫-watchPropNumSubject');\n        const truthStartCount = Number(html('#🦷-truthChangeCount'));\n        click('#🦷-truthChange-button');\n        let newCount = (truthStartCount + 1).toString();\n        // its been changed to \"true\", that causes a change watch count increase\n        expect(html('#🦷-truthChange')).toBe('true');\n        expect(html('#🦷-watchTruth')).toBe(newCount);\n        expect(html('#🦷-truthChangeCount')).toBe(newCount);\n        click('#🦷-truthChange-button');\n        newCount = (truthStartCount + 1).toString();\n        // its been changed to back to \"false\", that does NOT cause a change watch count increase\n        expect(html('#🦷-truthChange')).toBe('false');\n        expect(html('#🦷-watchTruth')).toBe(newCount);\n        expect(html('#🦷-truthChangeCount')).toBe(newCount);\n        click('#🦷-truthChange-button');\n        // its been changed to \"true\", that causes a change watch count increase\n        newCount = (truthStartCount + 2).toString();\n        expect(html('#🦷-truthChange')).toBe('true');\n        expect(html('#🦷-watchTruth')).toBe(newCount);\n        expect(html('#🦷-truthChangeCount')).toBe(newCount);\n        click('#🦷-truthChange-button'); // reset so tests can pass every time\n        click('#🦷-reset-button'); // reset so tests can pass every time\n        expect(html('#🦷-watchTruthAsSub')).toBe(html('#🦷-watchTruth'));\n    });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const empty = '';\nexport var ImmutableTypes;\n(function (ImmutableTypes) {\n    ImmutableTypes[\"string\"] = \"string\";\n    ImmutableTypes[\"number\"] = \"number\";\n    ImmutableTypes[\"boolean\"] = \"boolean\";\n    ImmutableTypes[\"undefined\"] = \"undefined\";\n})(ImmutableTypes || (ImmutableTypes = {}));\nexport var BasicTypes;\n(function (BasicTypes) {\n    BasicTypes[\"function\"] = \"function\";\n    BasicTypes[\"date\"] = \"date\";\n    BasicTypes[\"unknown\"] = \"unknown\";\n    BasicTypes[\"object\"] = \"object\";\n})(BasicTypes || (BasicTypes = {}));\nexport const ValueTypes = {\n    tag: ['html'], // html'' aka StringTag | DomTag\n    dom: ['dom'], // compiled version of html''\n    templater: ['templater'],\n    tagComponent: ['tag-component'],\n    tagArray: ['tag-array'],\n    subject: ['subject'],\n    tagJsSubject: ['tagJsSubject'],\n    oneRender: ['oneRender'],\n    stateRender: ['stateRender'],\n};\n//# sourceMappingURL=ValueTypes.enum.js.map","// taggedjs-no-compile\nimport { ValueTypes } from './ValueTypes.enum.js';\nexport const variablePrefix = ':tagvar';\nexport const variableSuffix = ':';\nexport class Tag {\n    values;\n    tagJsType;\n    templater;\n    constructor(values) {\n        this.values = values;\n    }\n    // DEPRECATED REMOVE\n    /** Used for array, such as array.map(), calls aka array.map(x => html``.key(x)) */\n    // present only when an array. Populated by Tag.key()\n    // arrayValue?: unknown\n    key(arrayValue) {\n        ;\n        this.arrayValue = arrayValue;\n        return this;\n    }\n}\nexport class StringTag extends Tag {\n    strings;\n    values;\n    tagJsType = ValueTypes.tag;\n    children;\n    constructor(strings, values) {\n        super(values);\n        this.strings = strings;\n        this.values = values;\n    }\n    html(strings, ...values) {\n        this.children = { strings, values };\n        return this;\n    }\n}\nexport class DomTag extends Tag {\n    dom;\n    values;\n    tagJsType = ValueTypes.dom;\n    children;\n    constructor(dom, values) {\n        super(values);\n        this.dom = dom;\n        this.values = values;\n    }\n    html = {\n        // $this: this,\n        dom: (\n        // a loose typing for better compatibility with compiled code\n        dom, // ObjectChildren\n        ...values) => {\n            this.children = { dom, values };\n            return this;\n        }\n    };\n}\n//# sourceMappingURL=Tag.class.js.map","/* best */\nimport { variablePrefix, variableSuffix } from \"../../tag/Tag.class.js\";\nconst fragFindAny = /(:tagvar\\d+:)/;\nconst fragReplacer = /(^:tagvar\\d+:|:tagvar\\d+:$)/g;\nconst safeVar = '__safeTagVar';\n// name?=value\nconst regexAttr = /([:_a-zA-Z0-9\\-\\.]+)\\s*(?:=\\s*\"([^\"]*)\"|=\\s*(\\S+))?/g;\n// const regexAttr = /([:_a-zA-Z0-9\\-.]+)\\s*=\\s*\"([^\"]*)\"|([:_a-zA-Z0-9\\-.]+)\\s*=\\s*'([^']*)'|([:_a-zA-Z0-9\\-.]+)\\s*=\\s*([^>\\s]+)/g;\n// const regexTagOrg = /<\\/?([a-zA-Z0-9\\-]+)([^>]*)>/\nconst regexTagOrg = /<\\/?([a-zA-Z0-9\\-]+)((?:\\s+[a-zA-Z_:][\\w:.\\-]*(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s\"'=<>`]+))?)+\\s*|\\s*)\\/?>/g;\nexport function htmlInterpolationToDomMeta(strings, values) {\n    // Sanitize placeholders in the fragments\n    const sanitizedFragments = sanitizePlaceholders(strings);\n    // Add placeholders to the fragments\n    const fragmentsWithPlaceholders = addPlaceholders(sanitizedFragments, values);\n    // Parse the modified fragments\n    const htmlString = fragmentsWithPlaceholders.join('');\n    const domMeta = parseHTML(htmlString);\n    return domMeta;\n}\nfunction sanitizePlaceholders(fragments) {\n    return fragments.map(fragment => fragment.replace(fragReplacer, (match, index) => safeVar + index));\n}\nfunction addPlaceholders(strings, values) {\n    const results = strings.map((fragment, index) => {\n        if (index < values.length) {\n            return fragment + variablePrefix + index + variableSuffix;\n        }\n        return fragment;\n    });\n    balanceArrayByArrays(results, strings, values);\n    return results;\n}\nfunction parseHTML(html) {\n    const valuePositions = [];\n    const elements = [];\n    const stack = [];\n    let currentElement = null;\n    let valueIndex = 0;\n    let position = 0;\n    const regexTag = new RegExp(regexTagOrg, 'g');\n    html = preprocessTagsInComments(html);\n    while (position < html.length) {\n        const tagMatch = regexTag.exec(html);\n        if (!tagMatch) {\n            break;\n        }\n        const [fullMatch, tagName, attrString] = tagMatch;\n        const isClosingTag = fullMatch.startsWith('</');\n        const isSelfClosing = fullMatch.endsWith('/>');\n        if (position < tagMatch.index) {\n            const textContent = html.slice(position, tagMatch.index);\n            if (textContent.trim()) {\n                const textVarMatches = splitByTagVar(textContent);\n                textVarMatches.forEach(textContent => pushTextTo(currentElement, elements, textContent));\n            }\n        }\n        position = tagMatch.index + fullMatch.length;\n        if (isClosingTag) {\n            currentElement = stack.pop() || null;\n            continue;\n        }\n        const attributes = [];\n        const element = {\n            nodeName: tagName,\n            attributes,\n        };\n        let attrMatch;\n        while ((attrMatch = regexAttr.exec(attrString)) !== null) {\n            const attrName = attrMatch[1] || attrMatch[3] || attrMatch[5];\n            let attrValue = attrMatch[2] || attrMatch[4] || attrMatch[6];\n            if (attrName === undefined) {\n                continue;\n            }\n            if (attrValue === undefined) {\n                const standAloneVar = attrName.slice(0, variablePrefix.length) === variablePrefix;\n                if (standAloneVar) {\n                    valuePositions.push(['attributes', attrName]);\n                    attributes.push([attrName]); // the name itself is dynamic\n                    continue;\n                }\n                attrValue = variablePrefix + (valueIndex++) + variableSuffix;\n            }\n            const fixedName = attrName.toLowerCase();\n            attributes.push([fixedName, attrValue]);\n        }\n        if (!attributes.length) {\n            delete element.attributes;\n        }\n        if (currentElement) {\n            if (!currentElement.children) {\n                currentElement.children = [];\n            }\n            currentElement.children.push(element);\n        }\n        else {\n            elements.push(element);\n        }\n        if (!isSelfClosing) {\n            stack.push(currentElement);\n            currentElement = element;\n        }\n    }\n    if (position < html.length) {\n        const textContent = html.slice(position);\n        if (textContent.trim()) {\n            const textVarMatches = splitByTagVar(textContent);\n            textVarMatches.forEach(textContent => pushTextTo(currentElement, elements, textContent));\n        }\n    }\n    return elements;\n}\nexport function balanceArrayByArrays(results, strings, values) {\n    const diff = values.length - strings.length;\n    if (diff > 0) {\n        for (let x = diff; x > 0; --x) {\n            results.push(variablePrefix + (strings.length + x - 1) + variableSuffix);\n        }\n    }\n}\nfunction splitByTagVar(inputString) {\n    // Split the string using the regular expression, keep delimiters in the output\n    const parts = inputString.split(fragFindAny);\n    // Filter out any empty strings from the results\n    const filteredParts = parts.filter(part => part !== '');\n    return filteredParts;\n}\nfunction pushTo(currentElement, elements, textNode) {\n    if (currentElement) {\n        if (!currentElement.children) {\n            currentElement.children = [];\n        }\n        currentElement.children.push(textNode);\n    }\n    else {\n        elements.push(textNode);\n    }\n}\nfunction pushTextTo(currentElement, elements, textContent) {\n    const textNode = {\n        nodeName: 'text',\n        textContent: postprocessTagsInComments(textContent),\n    };\n    pushTo(currentElement, elements, textNode);\n}\nfunction preprocessTagsInComments(html) {\n    // Use a regex to find all HTML comments\n    return html.replace(/(<!--[\\s\\S]*?-->)/g, function (match) {\n        // For each comment found, replace < and > inside it\n        return match.replace(/\\[l t\\]/g, '[l&nbsp;t]').replace(/\\[g t\\]/g, '[g&nbsp;t]').replace(/</g, '[l t]').replace(/>/g, '[g t]');\n    });\n}\nfunction postprocessTagsInComments(html) {\n    // Use a regex to find all segments that look like processed comments\n    return html.replace(/(\\[l t\\]!--[\\s\\S]*?--\\[g t\\])/g, function (match) {\n        // For each processed comment found, replace *lt* and *gt* back to < and >\n        return match.replace(/\\[l t\\]/g, '<').replace(/\\[g t\\]/g, '>').replace(/\\[l&nbsp;t\\]/g, '[l t]').replace(/\\[g&nbsp;t\\]/g, '[g t]');\n    });\n}\n//# sourceMappingURL=htmlInterpolationToDomMeta.function.js.map","import { htmlInterpolationToDomMeta } from '../interpolations/optimizers/htmlInterpolationToDomMeta.function.js';\nimport { getStringsId } from './getStringsId.function.js';\nimport { isLastRunMatched } from './isLastRunMatched.function.js';\nconst lastRuns = {};\n/** Converts strings & values into dom meta */\nexport function getDomMeta(strings, values) {\n    const stringId = getStringsId(strings, values);\n    const lastRun = lastRuns[stringId];\n    const matches = lastRun && isLastRunMatched(strings, values, lastRun);\n    let domMeta;\n    if (matches) {\n        domMeta = lastRun.domMeta;\n        return domMeta;\n    }\n    domMeta = htmlInterpolationToDomMeta(strings, values);\n    const template = {\n        interpolation: undefined,\n        string: undefined,\n        strings,\n        values,\n        domMeta,\n    };\n    lastRuns[stringId] = template;\n    return domMeta;\n}\n//# sourceMappingURL=domMetaCollector.js.map","export function getStringsId(strings, values) {\n    const array = strings.map(x => x.length);\n    array.push(strings.length);\n    // array.push(values.length)\n    return Number(array.join(''));\n}\n//# sourceMappingURL=getStringsId.function.js.map","export function isLastRunMatched(strings, values, lastRun) {\n    if (lastRun) {\n        if (lastRun.strings.length === strings.length) {\n            const stringsMatch = lastRun.strings.every((string, index) => \n            // string.length === strings[index].length\n            string === strings[index]);\n            if (stringsMatch && lastRun.values.length === values.length) {\n                return true; // performance savings using the last time this component was rendered\n            }\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=isLastRunMatched.function.js.map","import { ImmutableTypes, ValueTypes } from './tag/ValueTypes.enum.js';\nexport function isSimpleType(value) {\n    return [\n        ImmutableTypes.string,\n        ImmutableTypes.number,\n        ImmutableTypes.boolean,\n    ].includes(value);\n}\nexport function isStaticTag(value) {\n    return [\n        ValueTypes.dom,\n        ValueTypes.tag,\n        ValueTypes.templater,\n    ].includes(value?.tagJsType);\n}\nexport function isTagTemplater(value) {\n    return value?.tagJsType === ValueTypes.templater;\n}\n// TODO: whats the difference between isTagClass and isTagComponent\nexport function isTagComponent(value) {\n    const tagType = value?.tagJsType;\n    return tagType && [ValueTypes.tagComponent, ValueTypes.stateRender].includes(tagType);\n}\nexport function isTagClass(value) {\n    const tagJsType = value?.tagJsType;\n    return tagJsType && [ValueTypes.tag, ValueTypes.dom].includes(tagJsType);\n}\n// isSubjectLike\nexport function isSubjectInstance(subject) {\n    const isSubject = subject?.isSubject === true;\n    return (isSubject || subject?.subscribe) ? true : false; // subject?.isSubject === true || \n}\nexport function isTagArray(value) {\n    return value instanceof Array; /* && value.every(x => [\n      ValueTypes.tag,\n      ValueTypes.templater,\n      ValueTypes.dom,\n      ValueTypes.tagComponent\n      ValueTypes.stateRender\n    ].includes( x?.tagJsType ))*/\n}\n//# sourceMappingURL=isInstance.js.map","import { Subject } from './Subject.class.js';\nexport function combineLatest(subjects) {\n    const output = new Subject();\n    const subscribe = (callback) => {\n        const valuesSeen = [];\n        const values = [];\n        const setValue = (x, index) => {\n            valuesSeen[index] = true;\n            values[index] = x;\n            const countMatched = valuesSeen.length === subjects.length;\n            if (!countMatched) {\n                return;\n            }\n            for (let index = valuesSeen.length - 1; index >= 0; --index) {\n                if (!valuesSeen[index]) {\n                    return;\n                }\n            }\n            // everyone has reported values\n            callback(values, subscription);\n        };\n        const clones = [...subjects];\n        const firstSub = clones.shift();\n        const subscription = firstSub.subscribe(x => setValue(x, 0));\n        const subscriptions = clones.map((subject, index) => {\n            return subject.subscribe(x => setValue(x, index + 1));\n        });\n        subscription.subscriptions = subscriptions;\n        return subscription;\n    };\n    output.subscribeWith = subscribe;\n    return output;\n}\n//# sourceMappingURL=combineLatest.function.js.map","import { Subject } from './Subject.class.js';\nfunction removeSubFromArray(subscribers, callback) {\n    const index = subscribers.findIndex(sub => sub.callback === callback);\n    if (index !== -1) {\n        subscribers.splice(index, 1);\n    }\n}\nexport function getSubscription(subject, callback, subscribers) {\n    const countSubject = Subject.globalSubCount$;\n    Subject.globalSubCount$.next(countSubject._value + 1);\n    const subscription = function () {\n        subscription.unsubscribe();\n    };\n    subscription.callback = callback;\n    subscription.subscriptions = [];\n    // Return a function to unsubscribe from the BehaviorSubject\n    subscription.unsubscribe = function () {\n        return unsubscribe(subscription, subscribers, callback);\n    };\n    subscription.add = (sub) => {\n        subscription.subscriptions.push(sub);\n        return subscription;\n    };\n    subscription.next = (value) => {\n        callback(value, subscription);\n    };\n    return subscription;\n}\nexport function runPipedMethods(value, methods, onComplete) {\n    const cloneMethods = [...methods];\n    const firstMethod = cloneMethods.shift();\n    const next = (newValue) => {\n        if (cloneMethods.length) {\n            return runPipedMethods(newValue, cloneMethods, onComplete);\n        }\n        onComplete(newValue);\n    };\n    let handler = next;\n    const setHandler = (x) => handler = x;\n    const pipeUtils = { setHandler, next };\n    const methodResponse = firstMethod(value, pipeUtils);\n    handler(methodResponse);\n}\nfunction unsubscribe(subscription, subscribers, callback) {\n    removeSubFromArray(subscribers, callback); // each will be called when update comes in\n    Subject.globalSubCount$.next(Subject.globalSubCount$._value - 1);\n    // any double unsubscribes will be ignored\n    subscription.unsubscribe = () => subscription;\n    // unsubscribe from any combined subjects\n    const subscriptions = subscription.subscriptions;\n    for (let index = subscriptions.length - 1; index >= 0; --index) {\n        subscriptions[index].unsubscribe();\n    }\n    return subscription;\n}\n//# sourceMappingURL=subject.utils.js.map","import { isSubjectInstance } from '../isInstance.js';\nimport { combineLatest } from './combineLatest.function.js';\nimport { getSubscription, runPipedMethods } from './subject.utils.js';\nexport class Subject {\n    value;\n    onSubscription;\n    // private?\n    methods = [];\n    isSubject = true;\n    // private?\n    subscribers = [];\n    subscribeWith;\n    _value;\n    constructor(value, \n    // private?\n    onSubscription) {\n        this.value = value;\n        this.onSubscription = onSubscription;\n        this._value = value;\n        defineValueOn(this);\n    }\n    subscribe(callback) {\n        const subscription = getSubscription(this, callback, this.subscribers);\n        // are we within a pipe?\n        const subscribeWith = this.subscribeWith;\n        if (subscribeWith) {\n            // are we in a pipe?\n            if (this.methods.length) {\n                const orgCallback = callback;\n                callback = (value) => {\n                    runPipedMethods(value, this.methods, lastValue => orgCallback(lastValue, subscription));\n                };\n            }\n            return subscribeWith(callback);\n        }\n        this.subscribers.push(subscription);\n        if (this.onSubscription) {\n            this.onSubscription(subscription);\n        }\n        return subscription;\n    }\n    next(value) {\n        this._value = value;\n        this.emit();\n    }\n    set = this.next;\n    emit() {\n        const value = this._value;\n        // Notify all subscribers with the new value\n        // const subs = [...this.subscribers] // subs may change as we call callbacks\n        const subs = this.subscribers; // subs may change as we call callbacks\n        // const length = subs.length\n        for (let index = 0; index < subs.length; ++index) {\n            const sub = subs[index];\n            sub.callback(value, sub);\n        }\n    }\n    toPromise() {\n        return new Promise(res => {\n            this.subscribe((x, subscription) => {\n                subscription.unsubscribe();\n                res(x);\n            });\n        });\n    }\n    /** like toPromise but faster */\n    toCallback(callback) {\n        const subscription = this.subscribe((x, _subscription) => {\n            subscription.unsubscribe();\n            callback(x);\n        });\n        return this;\n    }\n    pipe(...operations) {\n        const subject = new Subject(this._value);\n        subject.setMethods(operations);\n        subject.subscribeWith = (x) => this.subscribe(x);\n        subject.next = x => this.next(x);\n        return subject;\n    }\n    setMethods(operations) {\n        this.methods = operations;\n    }\n    static all(args) {\n        const switched = args.map(arg => {\n            if (isSubjectInstance(arg))\n                return arg;\n            // Call the callback immediately with the current value\n            const x = new Subject(arg, subscription => {\n                subscription.next(arg);\n                return subscription;\n            });\n            return x;\n        });\n        return combineLatest(switched);\n    }\n    static globalSubCount$ = new Subject(0); // for ease of debugging\n}\nexport function defineValueOn(subject) {\n    Object.defineProperty(subject, 'value', {\n        // supports subject.value = x\n        set(value) {\n            subject._value = value;\n            subject.emit();\n        },\n        // supports subject.value\n        get() {\n            return subject._value;\n        }\n    });\n}\n//# sourceMappingURL=Subject.class.js.map","import { Subject, defineValueOn } from './Subject.class.js';\nexport class ValueSubject extends Subject {\n    value;\n    constructor(value) {\n        super(value);\n        this.value = value;\n        defineValueOn(this); // if you extend this AND have a constructor, you must call this in your extension\n    }\n    subscribe(callback) {\n        const subscription = super.subscribe(callback);\n        // Call the callback immediately with the current value\n        callback(this._value, subscription);\n        return subscription;\n    }\n}\n//# sourceMappingURL=ValueSubject.js.map","import { setUse } from '../state/index.js';\nexport function getSupportInCycle() {\n    return setUse.memory.stateConfig.support;\n}\n//# sourceMappingURL=getSupportInCycle.function.js.map","const tagUse = [];\nexport function setUse(use) {\n    // must provide defaults\n    const useMe = {\n        beforeRender: use.beforeRender || (() => undefined),\n        beforeRedraw: use.beforeRedraw || (() => undefined),\n        afterRender: use.afterRender || (() => undefined),\n        beforeDestroy: use.beforeDestroy || (() => undefined),\n    };\n    setUse.tagUse.push(useMe);\n}\nsetUse.tagUse = tagUse;\nsetUse.memory = {};\n//# sourceMappingURL=setUse.function.js.map","export class TagError extends Error {\n    details;\n    constructor(message, errorCode, details = {}) {\n        super(message);\n        this.name = TagError.name;\n        this.details = { ...details, errorCode };\n    }\n}\nexport class ArrayNoKeyError extends TagError {\n    constructor(message, details) {\n        super(message, 'array-no-key-error', details);\n        this.name = ArrayNoKeyError.name;\n    }\n}\nexport class StateMismatchError extends TagError {\n    constructor(message, details) {\n        super(message, 'state-mismatch-error', details);\n        this.name = StateMismatchError.name;\n    }\n}\nexport class SyncCallbackError extends TagError {\n    constructor(message, details) {\n        super(message, 'sync-callback-error', details);\n        this.name = SyncCallbackError.name;\n    }\n}\n//# sourceMappingURL=errors.js.map","import { StateMismatchError } from '../errors.js';\nimport { setUse } from './setUse.function.js';\nconst badLetState = 'letState function incorrectly used. Second item in array is not setting expected value.\\n\\n' +\n    'For \"let\" state use `let name = state(default)(x => [name, name = x])`\\n\\n' +\n    'For \"const\" state use `const name = state(default)()`\\n\\n' +\n    'Problem state:\\n';\nsetUse.memory.stateConfig = {\n    array: [], // state memory on the first render\n    // rearray: [] as State,\n};\nconst beforeRender = (support) => initState(support);\nsetUse({\n    beforeRender,\n    beforeRedraw: beforeRender,\n    afterRender: (support) => {\n        const state = support.state;\n        const config = setUse.memory.stateConfig;\n        const rearray = config.rearray;\n        if (rearray.length) {\n            if (rearray.length !== config.array.length) {\n                const message = `States lengths have changed ${rearray.length} !== ${config.array.length}. State tracking requires the same amount of function calls every render. Typically this errors is thrown when a state like function call occurs only for certain conditions or when a function is intended to be wrapped with a tag() call`;\n                const wrapper = support.templater?.wrapper;\n                const details = {\n                    oldStates: config.array,\n                    newStates: config.rearray,\n                    tagFunction: wrapper.parentWrap.original,\n                };\n                const error = new StateMismatchError(message, details);\n                console.warn(message, details);\n                throw error;\n            }\n        }\n        delete config.rearray; // clean up any previous runs\n        delete config.support;\n        state.length = 0;\n        state.push(...config.array);\n        for (let index = state.length - 1; index >= 0; --index) {\n            const item = state[index];\n            item.lastValue = getStateValue(item); // set last values\n        }\n        config.array = [];\n    }\n});\nexport function getStateValue(state) {\n    const callback = state.callback;\n    if (!callback) {\n        return state.defaultValue;\n    }\n    const [value, checkValue] = getCallbackValue(callback);\n    if (checkValue !== StateEchoBack) {\n        const message = badLetState + (callback ? callback.toString() : JSON.stringify(state)) + '\\n';\n        console.error(message, { state, callback, value, checkValue });\n        throw new Error(message);\n    }\n    return value;\n}\nexport class StateEchoBack {\n}\nfunction initState(support) {\n    const state = support.state;\n    const config = setUse.memory.stateConfig;\n    config.rearray = [];\n    const stateLength = state?.length;\n    if (stateLength) {\n        for (let index = 0; index < stateLength; ++index) {\n            getStateValue(state[index]);\n        }\n        config.rearray.push(...state);\n    }\n    config.support = support;\n}\nexport function getCallbackValue(callback) {\n    const oldState = callback(StateEchoBack); // get value and set to undefined\n    const [value] = oldState;\n    const [checkValue] = callback(value); // set back to original value\n    return [value, checkValue];\n}\n//# sourceMappingURL=state.utils.js.map","export function syncStates(stateFrom, stateTo) {\n    for (let index = stateFrom.length - 1; index >= 0; --index) {\n        const state = stateFrom[index];\n        const fromValue = state.get();\n        const callback = stateTo[index].callback;\n        if (callback) {\n            callback(fromValue); // set the value\n        }\n        stateTo[index].lastValue = fromValue; // record the value\n    }\n}\n//# sourceMappingURL=syncStates.function.js.map","import { setUse } from './setUse.function.js';\nimport { getStateValue } from './state.utils.js';\nimport { syncStates } from './syncStates.function.js';\n/** Used for variables that need to remain the same variable during render passes */\nexport function state(defaultValue) {\n    const config = setUse.memory.stateConfig;\n    let getSetMethod;\n    const rearray = config.rearray;\n    const restate = rearray[config.array.length];\n    if (restate) {\n        let oldValue = getStateValue(restate);\n        getSetMethod = ((x) => [oldValue, oldValue = x]);\n        const push = {\n            get: () => getStateValue(push),\n            callback: getSetMethod,\n            lastValue: oldValue,\n            defaultValue: restate.defaultValue,\n        };\n        config.array.push(push);\n        return oldValue;\n    }\n    // State first time run\n    const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue;\n    let initValue = defaultFn();\n    // the state is actually intended to be a function\n    if (initValue instanceof Function) {\n        const oldState = config.array;\n        const support = config.support;\n        const original = initValue;\n        initValue = ((...args) => {\n            const global = support.subject.global;\n            const newest = global.newest;\n            const newState = newest.state;\n            syncStates(newState, oldState);\n            const result = original(...args);\n            syncStates(oldState, newState);\n            return result;\n        });\n        initValue.original = original;\n    }\n    getSetMethod = ((x) => [initValue, initValue = x]);\n    const push = {\n        get: () => getStateValue(push),\n        callback: getSetMethod,\n        lastValue: initValue,\n        defaultValue: initValue,\n    };\n    config.array.push(push);\n    return initValue;\n}\n//# sourceMappingURL=state.function.js.map","import { ValueSubject } from '../subject/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nimport { syncStates } from './syncStates.function.js';\n/**\n * When an item in watch array changes, callback function will be triggered. Triggers on initial watch setup. TIP: try watch.noInit()\n * @param currentValues T[]\n * @param callback WatchCallback\n * @returns T[]\n */\nexport const watch = ((currentValues, callback) => {\n    return setupWatch(currentValues, callback);\n});\nconst defaultFinally = (x) => x;\nfunction newWatch(setup) {\n    const method = (currentValues, callback) => {\n        return setupWatch(currentValues, callback, setup);\n    };\n    method.setup = setup;\n    defineOnMethod(() => method, method);\n    return method;\n}\n/**\n * puts above functionality together\n * @param currentValues values being watched\n * @param callback (currentValue, previousValues) => resolveToValue\n * @param param2\n * @returns\n */\nconst setupWatch = (currentValues, callback, { init, before = () => true, final = defaultFinally, } = {}) => {\n    let previous = state({\n        pastResult: undefined,\n        values: undefined,\n    });\n    const previousValues = previous.values;\n    // First time running watch?\n    if (previousValues === undefined) {\n        if (!before(currentValues)) {\n            previous.values = currentValues;\n            return previous.pastResult; // do not continue\n        }\n        const castedInit = init || callback;\n        const result = castedInit(currentValues, previousValues);\n        previous.pastResult = final(result);\n        previous.values = currentValues;\n        return previous.pastResult;\n    }\n    const allExact = currentValues.every((item, index) => item === previousValues[index]);\n    if (allExact) {\n        return previous.pastResult;\n    }\n    if (!before(currentValues)) {\n        previous.values = currentValues;\n        return previous.pastResult; // do not continue\n    }\n    const result = callback(currentValues, previousValues);\n    previous.pastResult = final(result);\n    previousValues.length = 0;\n    previousValues.push(...currentValues);\n    return previous.pastResult;\n};\nfunction defineOnMethod(getWatch, attachTo) {\n    Object.defineProperty(attachTo, 'noInit', {\n        get() {\n            const watch = getWatch();\n            watch.setup.init = () => undefined;\n            return watch;\n        },\n    });\n    Object.defineProperty(attachTo, 'asSubject', {\n        get() {\n            const oldWatch = getWatch();\n            const firstSupport = state(() => getSupportInCycle());\n            const subject = state(() => new ValueSubject(undefined));\n            const method = (currentValues, callback) => {\n                setupWatch(currentValues, (currentValues, previousValues) => {\n                    const nowSupport = getSupportInCycle();\n                    const setTo = callback(currentValues, previousValues);\n                    if (nowSupport !== firstSupport) {\n                        const newestState = setUse.memory.stateConfig.array;\n                        syncStates(newestState, firstSupport.state);\n                    }\n                    subject.next(setTo);\n                }, oldWatch.setup);\n                return subject;\n            };\n            method.setup = oldWatch.setup;\n            defineOnMethod(() => method, method);\n            return method;\n        },\n    });\n    Object.defineProperty(attachTo, 'truthy', {\n        get() {\n            const watch = getWatch();\n            watch.setup.before = (currentValues) => currentValues.every(x => x);\n            return watch;\n        },\n    });\n    return attachTo;\n}\ndefineOnMethod(() => newWatch({}), watch);\n//# sourceMappingURL=watch.function.js.map","import { Subject, ValueSubject } from '../subject/index.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nimport { syncStates } from './syncStates.function.js';\n/** Create a Subject that on updates will sync state values to keep chained functions using latest variables */\nexport function subject(value, onSubscription) {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return state(() => {\n        const subject = new Subject(value, onSubscription).pipe(x => {\n            syncStates(nowSupport.state, oldestState);\n            return x;\n        });\n        return subject;\n    });\n}\nsubject._value = (value) => {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return state(() => {\n        const subject = new ValueSubject(value).pipe(x => {\n            syncStates(nowSupport.state, oldestState);\n            return x;\n        });\n        return subject;\n    });\n};\nfunction all(args) {\n    const oldestState = state(() => setUse.memory.stateConfig.array);\n    const nowSupport = getSupportInCycle();\n    return Subject.all(args).pipe(x => {\n        syncStates(nowSupport.state, oldestState);\n        return x;\n    });\n}\nsubject.all = all;\n//# sourceMappingURL=subject.function.js.map","import { getStateValue } from './state.utils.js';\nimport { setUse } from './setUse.function.js';\n/** Used for variables that need to remain the same variable during render passes. If defaultValue is a function it is called only once, its return value is first state, and let value can changed */\nexport function letState(defaultValue) {\n    const config = setUse.memory.stateConfig;\n    const rearray = config.rearray;\n    let getSetMethod;\n    const restate = rearray[config.array.length];\n    if (restate) {\n        let oldValue = getStateValue(restate);\n        getSetMethod = ((x) => [oldValue, oldValue = x]);\n        const push = {\n            get: () => getStateValue(push),\n            callback: getSetMethod,\n            lastValue: oldValue,\n            defaultValue: restate.defaultValue,\n        };\n        config.array.push(push);\n        return makeStateResult(oldValue, push);\n    }\n    // State first time run\n    const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue;\n    let initValue = defaultFn();\n    getSetMethod = ((x) => [initValue, initValue = x]);\n    const push = {\n        get: () => getStateValue(push),\n        callback: getSetMethod,\n        lastValue: initValue,\n        defaultValue: initValue,\n    };\n    config.array.push(push);\n    return makeStateResult(initValue, push);\n}\nfunction makeStateResult(initValue, push) {\n    // return initValue\n    const result = (y) => {\n        push.callback = y || (x => [initValue, initValue = x]);\n        return initValue;\n    };\n    return result;\n}\n//# sourceMappingURL=letState.function.js.map","import { BasicTypes } from './tag/ValueTypes.enum.js';\nexport function deepClone(obj, maxDepth = 15) {\n    // return makeDeepClone(obj, new WeakMap())\n    return makeDeepClone(obj, maxDepth);\n}\nfunction makeDeepClone(obj, \n// visited: WeakMap<any, any>\nmaxDepth) {\n    // If obj is a primitive type or null, return it directly\n    if (obj === null || typeof obj !== BasicTypes.object) {\n        return obj;\n    }\n    // If obj is already visited, return the cloned reference\n    /*\n    if (visited.has(obj)) {\n      return visited.get(obj)\n    }\n    */\n    if (maxDepth < 0) {\n        return obj;\n    }\n    // Handle special cases like Date and RegExp\n    if (obj instanceof Date) {\n        return new Date(obj);\n    }\n    if (obj instanceof RegExp) {\n        return new RegExp(obj);\n    }\n    // Create an empty object or array with the same prototype\n    const clone = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n    // Register the cloned object to avoid cyclic references\n    // visited.set(obj, clone)\n    // Clone each property or element of the object or array\n    if (Array.isArray(obj)) {\n        for (let i = 0; i < obj.length; i++) {\n            // clone[i] = makeDeepClone(obj[i], visited)\n            clone[i] = makeDeepClone(obj[i], maxDepth - 1);\n        }\n    }\n    else {\n        for (const key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                // clone[key] = makeDeepClone(obj[key], visited)\n                clone[key] = makeDeepClone(obj[key], maxDepth - 1);\n            }\n        }\n    }\n    return clone;\n}\nexport function deepEqual(obj1, obj2, maxDepth = 15) {\n    // return isDeepEqual(obj1, obj2, new WeakMap())\n    return isDeepEqual(obj1, obj2, maxDepth);\n}\nfunction isDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\nmaxDepth) {\n    const directEqual = obj1 === obj2;\n    if (directEqual || isSameFunctions(obj1, obj2)) {\n        return true;\n    }\n    // If obj is already visited, return the cloned reference\n    // if (visited.has(obj1)) {\n    if (maxDepth < 0) {\n        return true;\n    }\n    if (typeof obj1 === BasicTypes.object && typeof obj2 === BasicTypes.object) {\n        // both are dates and were already determined not the same\n        if (obj1 instanceof Date && obj2 instanceof Date) {\n            return obj1.getTime() === obj2.getTime();\n        }\n        // Register the cloned object to avoid cyclic references\n        // visited.set(obj1, 0)\n        // Check if obj1 and obj2 are both arrays\n        if (Array.isArray(obj1) && Array.isArray(obj2)) {\n            // return isArrayDeepEqual(obj1, obj2, visited)\n            return isArrayDeepEqual(obj1, obj2, maxDepth - 1);\n        }\n        else if (Array.isArray(obj1) || Array.isArray(obj2)) {\n            // One is an array, and the other is not\n            return false;\n        }\n        // return isObjectDeepEqual(obj1, obj2, visited)\n        return isObjectDeepEqual(obj1, obj2, maxDepth - 1);\n    }\n    return false;\n}\nfunction isObjectDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\nmaxDepth) {\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length === 0 && keys2.length === 0) {\n        return true;\n    }\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const keyFound = keys2.includes(key);\n        if (!keyFound || !isDeepEqual(obj1[key], obj2[key], maxDepth - 1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isArrayDeepEqual(obj1, obj2, \n// visited: WeakMap<any, any>,\nmaxDepth) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    for (let i = 0; i < obj1.length; i++) {\n        // if (!isDeepEqual(obj1[i], obj2[i], visited)) {\n        if (!isDeepEqual(obj1[i], obj2[i], maxDepth - 1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isSameFunctions(fn0, fn1) {\n    const bothFunction = fn0 instanceof Function && fn1 instanceof Function;\n    return bothFunction && fn0.toString() === fn1.toString();\n}\n//# sourceMappingURL=deepFunctions.js.map","import { deepClone } from '../deepFunctions.js';\nimport { setUse } from './setUse.function.js';\nimport { state } from './state.function.js';\nexport const providers = {\n    create: (constructMethod) => {\n        const stateDiffMemory = state(() => ({ stateDiff: 0, provider: undefined }));\n        // mimic how many states were called the first time\n        if (stateDiffMemory.stateDiff) {\n            for (let x = stateDiffMemory.stateDiff; x > 0; --x) {\n                state(undefined);\n            }\n            const result = state(undefined);\n            return result;\n        }\n        const result = state(() => {\n            const memory = setUse.memory;\n            const stateConfig = memory.stateConfig;\n            const oldStateCount = stateConfig.array.length;\n            // Providers with provider requirements just need to use providers.create() and providers.inject()\n            const instance = 'prototype' in constructMethod ? new constructMethod() : constructMethod();\n            const support = stateConfig.support;\n            const stateDiff = stateConfig.array.length - oldStateCount;\n            const provider = {\n                constructMethod,\n                instance,\n                clone: deepClone(instance),\n                stateDiff,\n                owner: support,\n                children: [],\n            };\n            stateDiffMemory.provider = provider;\n            support.subject.global.providers.push(provider);\n            stateDiffMemory.stateDiff = stateDiff;\n            return instance;\n        });\n        const cm = constructMethod;\n        // const compareTo = cm.compareTo = cm.compareTo || cm.toString()\n        const compareTo = cm.compareTo = cm.toString();\n        stateDiffMemory.provider.constructMethod.compareTo = compareTo;\n        return result;\n    },\n    /**\n     * @template T\n     * @param {(new (...args: any[]) => T) | () => T} constructor\n     * @returns {T}\n     */\n    inject: (constructor) => {\n        // find once, return same every time after\n        return state(() => {\n            const memory = setUse.memory;\n            const cm = constructor;\n            const compareTo = cm.compareTo = cm.compareTo || constructor.toString();\n            const support = memory.stateConfig.support;\n            const providers = [];\n            let owner = {\n                ownerSupport: support.ownerSupport\n            };\n            while (owner.ownerSupport) {\n                const ownerProviders = owner.ownerSupport.subject.global.providers;\n                const provider = ownerProviders.find(provider => {\n                    providers.push(provider);\n                    const constructorMatch = provider.constructMethod.compareTo === compareTo;\n                    if (constructorMatch) {\n                        return true;\n                    }\n                });\n                if (provider) {\n                    provider.clone = deepClone(provider.instance); // keep a copy of the latest before any change occur\n                    const support = memory.stateConfig.support;\n                    support.subject.global.providers.push(provider);\n                    provider.children.push(support);\n                    return provider.instance;\n                }\n                owner = owner.ownerSupport; // cause reloop checking next parent\n            }\n            const msg = `Could not inject provider: ${constructor.name} ${constructor}`;\n            console.warn(`${msg}. Available providers`, providers);\n            throw new Error(msg);\n        });\n    }\n};\n//# sourceMappingURL=providers.js.map","import { deepEqual } from '../deepFunctions.js';\nimport { BasicTypes } from './ValueTypes.enum.js';\n/**\n *\n * @param props\n * @param pastCloneProps\n * @returns WHEN number then props have changed. WHEN false props have not changed\n */\nexport function hasPropChanges(props, // natural props\npastCloneProps) {\n    /*\n    const isCommonEqual = props === undefined && props === compareToProps\n    if(isCommonEqual) {\n      return false\n    }\n    */\n    let castedProps = props;\n    let castedPastProps = pastCloneProps;\n    // check all prop functions match\n    if (typeof (props) === BasicTypes.object) {\n        if (!pastCloneProps) {\n            return 3;\n        }\n        castedProps = [...props];\n        castedPastProps = [...(pastCloneProps || [])];\n        const allFunctionsMatch = castedProps.every((value, index) => {\n            let compare = castedPastProps[index];\n            if (value && typeof (value) === BasicTypes.object) {\n                const subCastedProps = { ...value };\n                const subCompareProps = { ...compare || {} };\n                const matched = Object.entries(subCastedProps).every(([key, value]) => compareProps(value, subCompareProps[key], () => {\n                    delete subCastedProps[key]; // its a function and not needed to be compared\n                    delete subCompareProps[key]; // its a function and not needed to be compared\n                }));\n                return matched;\n            }\n            return compareProps(value, compare, () => {\n                castedProps.splice(index, 1);\n                castedPastProps.splice(index, 1);\n            });\n        });\n        if (!allFunctionsMatch) {\n            return 'functions-changed'; // a change has been detected by function comparisons\n        }\n    }\n    // const isEqual = deepEqual(castedPastProps, castedProps)\n    // return isEqual ? false : 7 // if equal then no changes\n    return false;\n}\n/** returning a number means true good comparison */\nfunction compareProps(value, compare, onDelete) {\n    if (!(value instanceof Function)) {\n        return deepEqual(value, compare) ? 4 : false;\n    }\n    const compareFn = compare;\n    if (!(compareFn instanceof Function)) {\n        return false; // its a function now but was not before\n    }\n    // ensure we are comparing apples to apples as function get wrapped\n    const compareOriginal = compare?.original;\n    if (compareOriginal) {\n        compare = compareOriginal;\n    }\n    const original = value.original;\n    if (original) {\n        value = value.original;\n    }\n    const valueString = value.toString();\n    const compareString = compare.toString();\n    if (valueString === compareString) {\n        onDelete();\n        return 3; // both are function the same\n    }\n    onDelete();\n    return 5;\n}\n//# sourceMappingURL=hasPropChanges.function.js.map","/** checks if previous support exists on subject or as a last global support. If first render, calls builder. Otherwise calls support.updateBy()\n * Being used for FIRST and UPDATE renders\n*/\nexport function processTagResult(support, subject, // used for recording past and current value\n{ counts, }) {\n    // *if appears we already have seen\n    const subjectTag = subject;\n    const lastSupport = subjectTag.support;\n    const prevSupport = lastSupport?.subject.global.oldest || undefined;\n    const justUpdate = prevSupport;\n    if (prevSupport && justUpdate) {\n        return processTagResultUpdate(support, subjectTag, prevSupport);\n    }\n    const newFragment = support.buildBeforeElement(undefined, { counts });\n    const placeholder = subjectTag.global.placeholder;\n    const parentNode = placeholder.parentNode;\n    // TODO: since function used for both new and update, can;t get appendChild performance boost on first\n    // parentNode.appendChild(newFragment)\n    parentNode.insertBefore(newFragment, placeholder);\n    return support;\n}\nfunction processTagResultUpdate(support, subject, // used for recording past and current value\nprevSupport) {\n    // components\n    if (subject instanceof Function) {\n        const newSupport = subject(prevSupport);\n        prevSupport.updateBy(newSupport);\n        subject.support = newSupport;\n        return newSupport;\n    }\n    // ??? - new removed\n    // prevSupport.updateBy(support)\n    subject.global.oldest.updateBy(support);\n    subject.support = support;\n    return support;\n}\n//# sourceMappingURL=processTagResult.function.js.map","import { BasicTypes, ImmutableTypes, ValueTypes } from './ValueTypes.enum.js';\nimport { isSimpleType, isSubjectInstance, isTagArray } from '../isInstance.js';\nexport function getValueType(value) {\n    if (value === undefined || value === null) {\n        return ImmutableTypes.undefined;\n    }\n    const tagJsType = value.tagJsType;\n    if (tagJsType) {\n        return tagJsType; // oneRender, stateRender\n    }\n    if (value instanceof Function) {\n        return BasicTypes.function;\n    }\n    const type = typeof (value);\n    if (isSimpleType(type)) {\n        return type;\n    }\n    if (type === BasicTypes.object) {\n        if (value instanceof Date) {\n            return BasicTypes.date;\n        }\n        if (isTagArray(value)) {\n            return ValueTypes.tagArray;\n        }\n        if (isSubjectInstance(value)) {\n            return ValueTypes.subject;\n        }\n    }\n    return BasicTypes.unknown;\n}\n//# sourceMappingURL=getValueType.function.js.map","import { deepClone } from '../deepFunctions.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { getValueType } from './getValueType.function.js';\nexport function cloneValueArray(values) {\n    return values.map(cloneTagJsValue);\n}\n/** clones only what is needed to compare differences later */\nexport function cloneTagJsValue(value) {\n    const tag = value;\n    switch (getValueType(value)) {\n        case ValueTypes.stateRender:\n            return undefined;\n        case ValueTypes.tagComponent:\n            const tagComponent = value;\n            return deepClone(tagComponent.props);\n        case ValueTypes.dom:\n        case ValueTypes.tag:\n        case ValueTypes.templater:\n            return cloneValueArray(tag.values);\n        case ValueTypes.tagArray:\n            return cloneValueArray(tag);\n    }\n    return deepClone(value);\n}\n//# sourceMappingURL=cloneValueArray.function.js.map","import { setUse } from '../state/index.js';\nimport { Subject } from '../subject/index.js';\nimport { getSupportInCycle } from './getSupportInCycle.function.js';\n// Emits event at the end of a tag being rendered. Use tagClosed$.toPromise() to render a tag after a current tag is done rendering\nsetUse.memory.tagClosed$ = new Subject(undefined, subscription => {\n    if (!getSupportInCycle()) {\n        subscription.next(); // we are not currently processing so process now\n    }\n});\n// Life cycle 1\nexport function runBeforeRender(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeRender(support, ownerSupport);\n    }\n}\n// Life cycle 2\nexport function runAfterRender(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].afterRender(support, ownerSupport);\n    }\n    setUse.memory.tagClosed$.next(ownerSupport);\n}\n// Life cycle 3\nexport function runBeforeRedraw(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeRedraw(support, ownerSupport);\n    }\n}\n// Life cycle 4 - end of life\nexport function runBeforeDestroy(support, ownerSupport) {\n    const tagUse = setUse.tagUse;\n    const length = tagUse.length;\n    for (let index = 0; index < length; ++index) {\n        tagUse[index].beforeDestroy(support, ownerSupport);\n    }\n    support.subject.global.deleted = true;\n    support.hasLiveElements = false;\n    // remove me from my parents\n    if (ownerSupport) {\n        ownerSupport.subject.global.childTags = ownerSupport.subject.global.childTags.filter(child => child !== support.subject.global.oldest);\n        const global = support.subject.global;\n        global.providers.forEach(provider => provider.children.forEach((child, index) => {\n            if (child.subject.global === global) {\n                provider.children.splice(index, 1);\n            }\n        }));\n    }\n}\n//# sourceMappingURL=tagRunner.js.map","export function getChildTagsToDestroy(childTags, allTags = []) {\n    for (let index = childTags.length - 1; index >= 0; --index) {\n        const cTag = childTags[index];\n        allTags.push(cTag);\n        const subTags = cTag.subject.global.childTags;\n        getChildTagsToDestroy(subTags, allTags);\n    }\n    return allTags;\n}\n//# sourceMappingURL=destroy.support.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nexport class TemplaterResult {\n    props;\n    tagJsType = ValueTypes.templater;\n    tagged;\n    wrapper;\n    tag;\n    constructor(props) {\n        this.props = props;\n    }\n    // ??? TODO: removed as it create arrayValue = undefined which then make `'arrayValue' in` pass as true\n    // arrayValue?: unknown // used for tag components used in arrays\n    key(arrayValue) {\n        ;\n        this.arrayValue = arrayValue;\n        return this;\n    }\n}\n//# sourceMappingURL=TemplaterResult.class.js.map","import { Subject, defineValueOn } from '../../subject/Subject.class.js';\nimport { ValueSubject } from '../../subject/ValueSubject.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getValueType } from '../getValueType.function.js';\nexport class TagJsSubject extends ValueSubject {\n    tagJsType = ValueTypes.tagJsSubject;\n    // travels with all renderings\n    global = getNewGlobal();\n    constructor(value, valueType) {\n        super(value);\n        this.global.nowValueType = valueType || getValueType(value);\n        defineValueOn(this); // if you extend this AND have a constructor, you must call this in your extension\n    }\n}\nexport function getNewGlobal() {\n    return {\n        destroy$: new Subject(),\n        context: [], // populated after reading interpolated.values array converted to an object {variable0, variable:1}\n        providers: [],\n        /** Indicator of re-rending. Saves from double rending something already rendered */\n        renderCount: 0,\n        subscriptions: [],\n        oldest: undefined, // TODO: This needs to addressed\n        blocked: [], // renders that did not occur because an event was processing\n        childTags: [], // tags on me\n        htmlDomMeta: [],\n    };\n}\n//# sourceMappingURL=TagJsSubject.class.js.map","import { TemplaterResult } from '../TemplaterResult.class.js';\nimport { Support } from '../Support.class.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { getValueType } from '../getValueType.function.js';\nimport { TagJsSubject, getNewGlobal } from './TagJsSubject.class.js';\nexport function processNewValue(value, ownerSupport) {\n    const valueType = getValueType(value);\n    switch (valueType) {\n        case ValueTypes.stateRender:\n        case ValueTypes.tagComponent:\n            return new TagJsSubject(value, valueType); // ownerSupport.global.value\n        case ValueTypes.templater:\n            const templater = value;\n            const tag = templater.tag;\n            const subject = processNewTag(tag, ownerSupport);\n            subject.global.nowValueType = valueType;\n            return subject;\n        case ValueTypes.tag:\n        case ValueTypes.dom:\n            const htmlSubject = processNewTag(value, ownerSupport);\n            htmlSubject.global.nowValueType = valueType;\n            return htmlSubject;\n        case ValueTypes.subject:\n            const newGlobal = getNewGlobal();\n            value.global = newGlobal;\n            return value;\n    }\n    const subject = new TagJsSubject(value, valueType);\n    return subject;\n}\nfunction processNewTag(value, ownerSupport) {\n    const tag = value;\n    let templater = tag.templater;\n    // TODO: Can this ever happen?\n    if (!templater) {\n        templater = new TemplaterResult([]);\n        templater.tag = tag;\n        tag.templater = templater;\n    }\n    const subject = new TagJsSubject(templater);\n    subject.support = new Support(templater, ownerSupport, subject);\n    subject.global.oldest = subject.support;\n    ownerSupport.subject.global.childTags.push(subject.support);\n    return subject;\n}\n//# sourceMappingURL=processNewValue.function.js.map","import { empty } from \"./ValueTypes.enum.js\";\nexport const textNode = typeof document === 'undefined' ? getTestTextNode() : document.createTextNode(empty);\nfunction getTestTextNode() {\n    return {\n        textContent: empty,\n        cloneNode: (_children) => getTestTextNode()\n    };\n}\n//# sourceMappingURL=textNode.js.map","const style = 'style';\nconst classS = 'class';\nexport function specialAttribute(name, value, element) {\n    const names = name.split('.');\n    // style.position = \"absolute\"\n    if (names[0] === style) {\n        element.style[names[1]] = value;\n    }\n    // Example: class.width-full = \"true\"\n    if (names[0] === classS) {\n        names.shift();\n        if (value) {\n            for (let index = 0; index < names.length; ++index) {\n                element.classList.add(names[index]);\n            }\n        }\n        else {\n            for (let index = 0; index < names.length; ++index) {\n                element.classList.remove(names[index]);\n            }\n        }\n    }\n}\n//# sourceMappingURL=specialAttribute.js.map","import { processAttribute } from './processAttribute.function.js';\nfunction howToSetAttribute(element, name, value) {\n    element.setAttribute(name, value);\n}\nexport function howToSetInputValue(element, name, value) {\n    element.setAttribute(name, value);\n}\nexport function interpolateAttributes(element, scope, ownerSupport) {\n    const attrNames = element.getAttributeNames();\n    let howToSet = howToSetAttribute;\n    for (let index = 0; index < attrNames.length; ++index) {\n        const attrName = attrNames[index];\n        const value = element.getAttribute(attrName);\n        processAttribute([attrName, value], element, scope, ownerSupport, howToSet);\n    }\n}\n//# sourceMappingURL=interpolateAttributes.js.map","/** File largely responsible for reacting to element events, such as onclick */\nimport { syncStates } from '../state/syncStates.function.js';\nimport { ValueTypes } from '../tag/ValueTypes.enum.js';\nimport { renderSupport } from '../tag/render/renderSupport.function.js';\nimport { updateExistingTagComponent } from '../tag/update/updateExistingTagComponent.function.js';\nconst useLocks = true;\nconst noData = 'no-data-ever';\nconst promiseNoData = 'promise-no-data-ever';\nexport function bindSubjectCallback(value, support) {\n    // Is this children? No override needed\n    if (value.isChildOverride) {\n        return value;\n    }\n    // const state = setUse.memory.stateConfig.support?.state as State\n    const state = support.state;\n    const subjectFunction = (element, args) => runTagCallback(value, support, element, args, state);\n    // link back to original. Mostly used for <div oninit ondestroy> animations\n    subjectFunction.tagFunction = value;\n    return subjectFunction;\n}\nexport function runTagCallback(value, support, bindTo, args, state) {\n    const tag = findTagToCallback(support);\n    const global = tag.subject.global;\n    if (global.deleted) {\n        return noData;\n    }\n    const newest = global.newest;\n    const newState = newest.state;\n    if (newState.length === state.length) {\n        syncStates(newState, state);\n    }\n    // syncStates(newState, tag.state)\n    // const renderCount = global.renderCount\n    const method = value.bind(bindTo);\n    tag.subject.global.locked = useLocks; // prevent another render from re-rendering this tag\n    const callbackResult = method(...args);\n    /*\n    if(renderCount !== global.renderCount) {\n      // ??? new - the lock should have been respected\n      // return \"no-data-ever\"\n    }\n    */\n    return afterTagCallback(tag, callbackResult, state);\n}\nexport function afterTagCallback(tag, callbackResult, state) {\n    const global = tag.subject.global;\n    delete global.locked;\n    const blocked = global.blocked;\n    if (blocked.length) {\n        let lastResult;\n        lastResult = runBlocked(tag, state, lastResult);\n        return checkAfterCallbackPromise(callbackResult, lastResult, global);\n    }\n    const result = renderCallbackSupport(global.newest, callbackResult, global);\n    return result;\n}\nexport function findTagToCallback(support) {\n    // If we are NOT a component than we need to render my owner instead\n    if (support.templater.tagJsType === ValueTypes.templater) {\n        const owner = support.ownerSupport;\n        return findTagToCallback(owner);\n    }\n    return support;\n}\nfunction renderCallbackSupport(last, callbackResult, global) {\n    if (global.deleted) {\n        return noData; // || last.global.deleted\n    }\n    renderSupport(last, true);\n    return checkAfterCallbackPromise(callbackResult, last, global);\n}\nexport function checkAfterCallbackPromise(callbackResult, last, global) {\n    if (callbackResult instanceof Promise) {\n        last.subject.global.locked = useLocks;\n        return callbackResult.then(() => {\n            delete last.subject.global.locked;\n            if (global.deleted) {\n                return promiseNoData; // tag was deleted during event processing\n            }\n            delete last.subject.global.locked;\n            renderSupport(global.newest, true);\n            return promiseNoData;\n        });\n    }\n    return noData;\n}\nexport function runBlocked(tag, state, lastResult) {\n    const global = tag.subject.global;\n    const blocked = global.blocked;\n    while (blocked.length > 0) {\n        const block = blocked[0];\n        blocked.splice(0, 1);\n        lastResult = updateExistingTagComponent(block.ownerSupport, block, block.subject, block.subject.global.insertBefore);\n        global.newest = lastResult;\n    }\n    global.blocked.length = 0;\n    // global.oldest.updateBy( lastResult as Support )\n    /*\n    if(lastResult) {\n      const newState = lastResult.state\n      syncStates(state, newState)\n  \n      const newest = renderSupport(\n        lastResult,\n        true,\n      )\n      \n      global.newest = newest\n      global.oldest.updateBy( lastResult as Support )\n      syncStates(newState, state)\n    }\n      */\n    return lastResult;\n}\n//# sourceMappingURL=bindSubjectCallback.function.js.map","import { specialAttribute } from './specialAttribute.js';\nimport { isSubjectInstance } from '../isInstance.js';\nimport { howToSetInputValue } from './interpolateAttributes.js';\nimport { bindSubjectCallback } from './bindSubjectCallback.function.js';\nimport { ImmutableTypes, ValueTypes, empty } from '../tag/ValueTypes.enum.js';\nimport { TagJsSubject } from '../tag/update/TagJsSubject.class.js';\nconst INPUT = 'INPUT';\nconst valueS = 'value';\nconst ondoubleclick = 'ondoubleclick';\n/** Sets attribute value, subscribes to value updates  */\nexport function processAttribute(attrs, element, scope, support, howToSet = howToSetInputValue) {\n    const attrName = attrs[0];\n    const value = attrs[1];\n    if (element.nodeName === INPUT && attrName === valueS) {\n        howToSet = howToSetInputValue;\n    }\n    const isNameVar = attrs.length === 1; // isTagVar(attrName)\n    if (isNameVar) {\n        const contextValueSubject = attrName; // getContextValueByVarString(scope, attrName)\n        let lastValue;\n        // the above callback gets called immediately since its a ValueSubject()\n        const sub = contextValueSubject.subscribe((value) => {\n            if (value === lastValue) {\n                return; // value did not change\n            }\n            processNameOnlyAttr(value, lastValue, element, support, howToSet);\n            lastValue = value;\n        });\n        support.subject.global.subscriptions.push(sub); // this is where unsubscribe is picked up\n        element.removeAttribute(attrName);\n        return;\n    }\n    const isSubject = value && isSubjectInstance(value);\n    // const isSubject = isTagVar(value)\n    if (isSubject) {\n        return processNameValueAttr(attrName, value, element, support, howToSet);\n    }\n    // Non dynamic\n    const isSpecial = isSpecialAttr(attrName);\n    if (isSpecial) {\n        return specialAttribute(attrName, value, element);\n    }\n    howToSet(element, attrName, value);\n}\nfunction processNameOnlyAttr(attrValue, lastValue, child, ownerSupport, howToSet) {\n    // check to remove previous attribute(s)\n    if (lastValue && lastValue != attrValue) {\n        if (typeof (lastValue) === ImmutableTypes.string) {\n            child.removeAttribute(lastValue);\n        }\n        else if (lastValue instanceof Object) {\n            for (const name in lastValue) {\n                child.removeAttribute(name);\n            }\n        }\n    }\n    // regular attributes\n    if (typeof (attrValue) === ImmutableTypes.string) {\n        if (!attrValue.length) {\n            return;\n        }\n        processNameValueAttr(attrValue, // name\n        new TagJsSubject(empty), child, ownerSupport, howToSet);\n        return;\n    }\n    // process an object of attributes ${{class:'something, checked:true}}\n    if (attrValue instanceof Object) {\n        for (const name in attrValue) {\n            processNameValueAttr(name, attrValue[name], child, ownerSupport, howToSet);\n        }\n    }\n}\n/** Processor for flat attributes and object attributes */\nfunction processNameValueAttr(attrName, result, child, support, howToSet) {\n    // Most every variable comes in here since everything is made a ValueSubject\n    if (isSubjectInstance(result)) {\n        const isSpecial = isSpecialAttr(attrName);\n        child.removeAttribute(attrName);\n        let lastValue;\n        const callback = (newAttrValue) => {\n            // should the function be wrapped so every time its called we re-render?\n            if (newAttrValue instanceof Function) {\n                return callbackFun(support, newAttrValue, child, attrName, isSpecial, howToSet);\n            }\n            // TODO: we maybe able to block higher before instance of check\n            if (lastValue === newAttrValue) {\n                return lastValue;\n            }\n            lastValue = newAttrValue;\n            return processAttributeSubjectValue(newAttrValue, child, attrName, isSpecial, howToSet);\n        };\n        // 🗞️ Subscribe. Above callback called immediately since its a ValueSubject()\n        const sub = result.subscribe(callback);\n        // Record subscription for later unsubscribe when element destroyed\n        support.subject.global.subscriptions.push(sub);\n        return;\n    }\n    howToSet(child, attrName, result._value);\n    return;\n}\nfunction processAttributeSubjectValue(newAttrValue, child, attrName, isSpecial, howToSet) {\n    if (newAttrValue instanceof Function) {\n        const fun = function (...args) {\n            return newAttrValue(child, args);\n        };\n        // access to original function\n        fun.tagFunction = newAttrValue;\n        // shorthand corrections\n        if (attrName === ondoubleclick) {\n            attrName = 'ondblclick';\n        }\n        ;\n        child[attrName] = fun;\n        return;\n    }\n    if (isSpecial) {\n        specialAttribute(attrName, newAttrValue, child);\n        return;\n    }\n    if (newAttrValue) {\n        howToSet(child, attrName, newAttrValue);\n        return;\n    }\n    const isDeadValue = [undefined, false, null].includes(newAttrValue);\n    if (isDeadValue) {\n        child.removeAttribute(attrName);\n        return;\n    }\n    // value is 0\n    howToSet(child, attrName, newAttrValue);\n}\n/** Looking for (class | style) followed by a period */\nfunction isSpecialAttr(attrName) {\n    return attrName.search(/^(class|style)(\\.)/) >= 0;\n}\nfunction callbackFun(support, newAttrValue, child, attrName, isSpecial, howToSet) {\n    const wrapper = support.templater.wrapper;\n    const parentWrap = wrapper?.parentWrap;\n    const tagJsType = wrapper?.tagJsType || parentWrap?.tagJsType;\n    const oneRender = tagJsType === ValueTypes.oneRender;\n    if (!oneRender) {\n        // tag has state and will need all functions wrapped to cause re-renders\n        newAttrValue = bindSubjectCallback(newAttrValue, support);\n    }\n    return processAttributeSubjectValue(newAttrValue, child, attrName, isSpecial, howToSet);\n}\n//# sourceMappingURL=processAttribute.function.js.map","export function destroyTagMemory(oldSupport) {\n    const global = oldSupport.subject.global;\n    const oldest = global.oldest;\n    oldest.destroy();\n}\n//# sourceMappingURL=destroyTag.function.js.map","import { isSimpleType, isStaticTag } from '../isInstance.js';\nimport { isLikeTags } from './isLikeTags.function.js';\nimport { destroyTagMemory } from './destroyTag.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nconst tagTypes = [ValueTypes.tagComponent, ValueTypes.stateRender, ValueTypes.oneRender];\nexport function checkDestroyPrevious(subject, // existing.value is the old value\nnewValue, valueType) {\n    const displaySubject = subject;\n    const hasLastValue = 'lastValue' in displaySubject;\n    const lastValue = displaySubject.lastValue; // TODO: we maybe able to use displaySubject.value and remove concept of lastValue\n    // was simple value but now something bigger\n    if (hasLastValue && lastValue !== newValue) {\n        // below is faster than using getValueType\n        const newType = typeof (newValue);\n        if (isSimpleType(newType) && typeof (lastValue) === newType) {\n            return false;\n        }\n        if (newValue instanceof Function && lastValue instanceof Function) {\n            return false;\n        }\n        destroySimpleValue(displaySubject);\n        return 'changed-simple-value';\n    }\n    const arraySubject = subject;\n    const wasArray = arraySubject.lastArray;\n    // no longer an array\n    if (wasArray && valueType !== ValueTypes.tagArray) {\n        delete arraySubject.lastArray;\n        for (let index = wasArray.array.length - 1; index >= 0; --index) {\n            const { support } = wasArray.array[index];\n            destroyArrayTag(support, { added: 0, removed: 0 });\n        }\n        return 'array';\n    }\n    const tagSubject = subject;\n    const global = subject.global;\n    const lastSupport = tagSubject.support;\n    // no longer tag or component?\n    if (lastSupport && !global.deleted) {\n        const isValueTag = isStaticTag(newValue);\n        // ??? recently changed\n        // const isSubjectTag = isStaticTag(subject._value)\n        const isSubjectTag = isStaticTag(newValue);\n        const newTag = newValue;\n        if (isSubjectTag && isValueTag) {\n            // its a different tag now\n            const likeTags = isLikeTags(newTag, lastSupport);\n            if (!likeTags) {\n                destroyTagMemory(lastSupport);\n                delete subject.global.deleted;\n                return 'tag-swap';\n            }\n            return false;\n        }\n        const isTag = tagTypes.includes(valueType);\n        if (isTag) {\n            return false; // its still a tag component\n        }\n        // destroy old component, value is not a component\n        destroyTagMemory(lastSupport);\n        delete subject.global.deleted; // prevent replacing tag from thinking it was deleted\n        return 'different-tag';\n    }\n    return false;\n}\nexport function destroyArrayTag(support, counts) {\n    const global = support.subject.global;\n    const placeholder = global.placeholder;\n    const parentNode = placeholder.parentNode;\n    parentNode.removeChild(placeholder);\n    delete global.placeholder;\n    support.destroy({\n        stagger: counts.removed++,\n    });\n}\nfunction destroySimpleValue(subject) {\n    delete subject.lastValue;\n    const elm = subject.global.simpleValueElm;\n    const parentNode = elm.parentNode;\n    parentNode.removeChild(elm);\n    delete subject.global.simpleValueElm;\n}\n//# sourceMappingURL=checkDestroyPrevious.function.js.map","import { empty } from './tag/ValueTypes.enum.js';\n// Function to update the value of x\nexport function updateBeforeTemplate(value, // value should be casted before calling here\nlastFirstChild) {\n    const parent = lastFirstChild.parentNode;\n    // Insert the new value (never use innerHTML here)\n    const textNode = document.createTextNode(value); // never innerHTML\n    parent.insertBefore(textNode, lastFirstChild);\n    /* remove existing nodes */\n    // parent.removeChild(lastFirstChild)\n    return textNode;\n}\nexport function castTextValue(value) {\n    // mimic React skipping to display EXCEPT for true does display on page\n    if ([undefined, false, null].includes(value)) { // || value === true\n        return empty;\n    }\n    return value;\n}\n//# sourceMappingURL=updateBeforeTemplate.function.js.map","import { castTextValue, updateBeforeTemplate } from '../../updateBeforeTemplate.function.js';\n/** Used during update value process */\nexport function processRegularValue(value, subject, // could be tag via subject.tag\ninsertBefore) {\n    subject.global.insertBefore = insertBefore;\n    const before = subject.global.placeholder || insertBefore; // Either the template is on the doc OR its the first element we last put on doc\n    // matches but also was defined at some point\n    if (subject.lastValue === value && 'lastValue' in subject) {\n        return; // no need to update display, its the same\n    }\n    subject.lastValue = value;\n    const castedValue = castTextValue(value);\n    // replace existing string?\n    const oldClone = subject.global.simpleValueElm; // placeholder\n    if (oldClone) {\n        oldClone.textContent = castedValue;\n        return;\n    }\n    // Processing of regular values\n    const clone = updateBeforeTemplate(castedValue, before);\n    subject.global.simpleValueElm = clone;\n    // subject.global.placeholder = clone // remember single element put down, for future updates\n}\nexport function processFirstRegularValue(value, subject, // could be tag via subject.tag\ninsertBefore) {\n    subject.lastValue = value;\n    const castedValue = castTextValue(value);\n    // Processing of regular values\n    const clone = updateBeforeTemplate(castedValue, insertBefore);\n    subject.global.simpleValueElm = clone;\n    // subject.global.placeholder = clone // remember single element put down, for future updates \n}\n//# sourceMappingURL=processRegularValue.function.js.map","import { elementInitCheck } from '../../interpolations/elementInitCheck.js';\nexport function afterChildrenBuilt(children, // Element[],\nsubject, ownerSupport) {\n    for (let index = 0; index < children.length; ++index) {\n        const child = children[index];\n        afterElmBuild(child, { counts: { added: 0, removed: 0 } }, subject.global.context, ownerSupport);\n    }\n}\n/** This is the function that enhances elements such as [class.something] and [style.color] OR it fixes elements that alter innerHTML */\nfunction afterElmBuild(elm, options, context, ownerSupport) {\n    if (!elm.getAttribute) {\n        return;\n    }\n    let diff = options.counts.added;\n    diff = elementInitCheck(elm, options.counts) - diff;\n    const hasFocusFun = elm.focus;\n    if (hasFocusFun) {\n        if (elm.hasAttribute('autofocus')) {\n            elm.focus();\n        }\n        if (elm.hasAttribute('autoselect')) {\n            elm.select();\n        }\n    }\n    const children = elm.children;\n    if (children) {\n        for (let index = children.length - 1; index >= 0; --index) {\n            const child = children[index];\n            const subOptions = {\n                ...options,\n                counts: options.counts,\n            };\n            afterElmBuild(child, subOptions, context, ownerSupport);\n        }\n    }\n}\n//# sourceMappingURL=afterChildrenBuilt.function.js.map","export function elementInitCheck(nextSibling, counts) {\n    const onInitDoubleWrap = nextSibling.oninit;\n    if (!onInitDoubleWrap) {\n        return counts.added;\n    }\n    const onInitWrap = onInitDoubleWrap.tagFunction;\n    if (!onInitWrap) {\n        return counts.added;\n    }\n    const onInit = onInitWrap.tagFunction;\n    if (!onInit) {\n        return counts.added;\n    }\n    const event = { target: nextSibling, stagger: counts.added };\n    onInit(event);\n    return ++counts.added;\n}\n//# sourceMappingURL=elementInitCheck.js.map","import { Support } from '../Support.class.js';\nimport { afterChildrenBuilt } from './afterChildrenBuilt.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\n/** When first time render, adds to owner childTags\n * Used for BOTH inserts & updates\n*/\nexport function processTag(templater, ownerSupport, // owner\nsubject) {\n    let support = subject.support;\n    const firstTime = support ? false : true;\n    // first time seeing this tag?\n    if (firstTime) {\n        support = newSupportByTemplater(templater, ownerSupport, subject);\n    }\n    subject.support = support;\n    support.ownerSupport = ownerSupport;\n    const fragment = support.buildBeforeElement(undefined, { counts: { added: 0, removed: 0 } });\n    const children = fragment.children;\n    const placeholder = subject.global.placeholder;\n    const parentNode = placeholder.parentNode;\n    parentNode.insertBefore(fragment, placeholder);\n    if (firstTime) {\n        afterChildrenBuilt(children, subject, ownerSupport);\n    }\n    return { support, fragment };\n}\nexport function tagFakeTemplater(tag) {\n    const templater = getFakeTemplater();\n    templater.tag = tag;\n    tag.templater = templater;\n    return templater;\n}\nexport function getFakeTemplater() {\n    const fake = {\n        // children: new ValueSubject<StringTag[]>([]), // no children\n        // props: {} as Props,\n        props: [],\n        isTag: true,\n        tagJsType: ValueTypes.templater,\n        tagged: false,\n        html: () => fake,\n        dom: () => fake,\n        key: () => fake,\n        type: 'fake-templater',\n    };\n    return fake;\n}\n/** Create Support for a tag component */\nexport function newSupportByTemplater(templater, ownerSupport, subject) {\n    const support = new Support(templater, ownerSupport, subject);\n    setupNewSupport(support, ownerSupport, subject);\n    return support;\n}\nexport function setupNewSupport(support, ownerSupport, subject) {\n    support.subject = subject;\n    subject.global.oldest = support;\n    subject.global.newest = support;\n    // asking me to render will cause my parent to render\n    support.ownerSupport = ownerSupport;\n}\n//# sourceMappingURL=processTag.function.js.map","import { textNode } from './textNode.js';\nexport function setTagPlaceholder(global) {\n    const insertBefore = global.insertBefore;\n    return global.placeholder = swapInsertBefore(insertBefore);\n}\nexport function swapInsertBefore(insertBefore) {\n    const placeholder = textNode.cloneNode(false);\n    const parentNode = insertBefore.parentNode;\n    parentNode.insertBefore(placeholder, insertBefore);\n    parentNode.removeChild(insertBefore);\n    return placeholder;\n}\n//# sourceMappingURL=setTagPlaceholder.function.js.map","import { Support } from '../Support.class.js';\nimport { TemplaterResult } from '../TemplaterResult.class.js';\nimport { isTagClass, isTagTemplater } from '../../isInstance.js';\nimport { processTagArray } from './processTagArray.js';\nimport { updateExistingTagComponent } from './updateExistingTagComponent.function.js';\nimport { processRegularValue } from './processRegularValue.function.js';\nimport { checkDestroyPrevious } from '../checkDestroyPrevious.function.js';\nimport { processSubjectComponent } from './processSubjectComponent.function.js';\nimport { isLikeTags } from '../isLikeTags.function.js';\nimport { getFakeTemplater, processTag, setupNewSupport } from './processTag.function.js';\nimport { swapInsertBefore } from '../setTagPlaceholder.function.js';\nimport { BasicTypes, ValueTypes } from '../ValueTypes.enum.js';\nimport { getValueType } from '../getValueType.function.js';\nconst tagTypes = [ValueTypes.tagComponent, ValueTypes.stateRender];\nexport function updateExistingValue(subject, value, ownerSupport, insertBefore) {\n    let valueType = subject.global.nowValueType;\n    if (!valueType || valueType === ValueTypes.subject) {\n        valueType = getValueType(value);\n    }\n    checkDestroyPrevious(subject, value, valueType);\n    // handle already seen tag components\n    const isStateTag = tagTypes.includes(valueType);\n    if (isStateTag) {\n        return prepareUpdateToComponent(value, subject, insertBefore, ownerSupport);\n    }\n    // was component but no longer\n    const support = subject.support;\n    if (support) {\n        const oneRender = [BasicTypes.function, ValueTypes.oneRender].includes(valueType);\n        if (oneRender) {\n            return subject; // its a oneRender tag\n        }\n        handleStillTag(subject, value, ownerSupport);\n        return subject;\n    }\n    switch (valueType) {\n        case ValueTypes.tagArray:\n            processTagArray(subject, value, insertBefore, // oldInsertBefore as InsertBefore,\n            ownerSupport, { counts: {\n                    added: 0,\n                    removed: 0,\n                } });\n            return subject;\n        case ValueTypes.templater:\n            processTag(value, ownerSupport, subject);\n            return subject;\n        case ValueTypes.tag:\n        case ValueTypes.dom:\n            const tag = value;\n            let templater = tag.templater;\n            if (!templater) {\n                templater = getFakeTemplater();\n                tag.templater = templater;\n                templater.tag = tag;\n            }\n            processTag(templater, ownerSupport, subject);\n            return subject;\n        case ValueTypes.subject:\n            // ;(value as any).global.nowValueType = valueType\n            return value;\n        // now its a useless function (we don't automatically call functions)\n        case BasicTypes.function:\n            if (!subject.global.placeholder) {\n                subject.global.placeholder = swapInsertBefore(insertBefore);\n            }\n            return subject;\n    }\n    // This will cause all other values to render\n    processRegularValue(value, subject, insertBefore);\n    return subject;\n}\nfunction handleStillTag(subject, value, ownerSupport) {\n    const lastSupport = subject.support;\n    let templater = value;\n    const isClass = isTagClass(value);\n    if (isClass) {\n        const tag = value;\n        templater = tag.templater;\n        if (!templater) {\n            templater = new TemplaterResult([]);\n            templater.tag = tag;\n            tag.templater = templater;\n        }\n    }\n    const valueSupport = new Support(templater, ownerSupport, subject);\n    const isSameTag = value && isLikeTags(lastSupport, valueSupport);\n    if (isTagTemplater(value)) {\n        setupNewSupport(valueSupport, ownerSupport, subject);\n    }\n    if (isSameTag) {\n        // lastSupport.updateBy(valueSupport)\n        // ??? recently changed from above\n        lastSupport.subject.global.oldest.updateBy(valueSupport);\n        return;\n    }\n    return processRegularValue(value, subject, subject.global.insertBefore);\n}\nfunction prepareUpdateToComponent(templater, subjectTag, insertBefore, ownerSupport) {\n    // When last value was not a component\n    if (!subjectTag.support) {\n        processSubjectComponent(templater, subjectTag, insertBefore, ownerSupport, {\n            counts: { added: 0, removed: 0 },\n        });\n        return subjectTag;\n    }\n    const support = new Support(templater, ownerSupport, subjectTag);\n    const subjectSup = subjectTag.support;\n    const prevSupport = subjectSup.subject.global.newest;\n    if (prevSupport) {\n        const newestState = prevSupport.state;\n        support.state.length = 0;\n        support.state.push(...newestState);\n    }\n    else {\n        processSubjectComponent(templater, subjectTag, insertBefore, ownerSupport, { counts: { added: 0, removed: 0 } });\n        return subjectTag;\n    }\n    subjectTag.global = subjectSup.subject.global;\n    subjectTag.support = support;\n    updateExistingTagComponent(ownerSupport, support, // latest value\n    subjectTag, insertBefore);\n    return subjectTag;\n}\n//# sourceMappingURL=updateExistingValue.function.js.map","// taggedjs-no-compile\nimport { ArrayNoKeyError } from '../../errors.js';\nimport { destroyArrayTag } from '../checkDestroyPrevious.function.js';\nimport { isTagClass } from '../../isInstance.js';\nimport { TagJsSubject } from './TagJsSubject.class.js';\nimport { textNode } from '../textNode.js';\nimport { processFirstSubjectValue } from './processFirstSubjectValue.function.js';\nimport { updateExistingValue } from './updateExistingValue.function.js';\nimport { afterChildrenBuilt } from './afterChildrenBuilt.function.js';\nexport function processTagArray(subject, value, // arry of Tag classes\ninsertBefore, // <template end interpolate />\nownerSupport, options, fragment) {\n    const global = subject.global;\n    ++global.renderCount;\n    const existed = subject.lastArray ? true : false;\n    const lastArray = subject.lastArray = subject.lastArray || { array: [] };\n    let lastFragment;\n    const runtimeInsertBefore = global.placeholder;\n    let removed = 0;\n    /** 🗑️ remove previous items first */\n    lastArray.array = lastArray.array.filter((item, index) => {\n        const { newRemoved, same } = reviewLastArrayItem(item, value, index, lastArray, removed, options);\n        removed = removed + newRemoved;\n        return same;\n    });\n    const length = value.length;\n    for (let index = 0; index < length; ++index) {\n        lastFragment = reviewArrayItem(value, index, lastArray, ownerSupport, existed, runtimeInsertBefore, options, fragment);\n    }\n    return lastFragment || fragment;\n}\nfunction reviewArrayItem(value, index, lastArray, ownerSupport, existed, runtimeInsertBefore, options, fragment) {\n    const item = value[index];\n    const previous = lastArray.array[index];\n    const previousSupport = previous?.support;\n    const subTag = item;\n    // const tagClass = isTagClass(subTag)\n    const itemSubject = previousSupport?.subject || new TagJsSubject(\n    // undefined\n    item);\n    let templater = subTag.templater;\n    // let support: Support\n    // check for html``.key()\n    const tag = templater?.tag || subTag;\n    const keySet = 'arrayValue' in tag;\n    if (existed && lastArray.array.length != value.length && !keySet) {\n        const details = {\n            // template: support.getTemplate().string,\n            array: value,\n        };\n        const message = 'Found Tag in array without key value, during array update. Be sure to use \"html`...`.key(unique)\" OR import TaggedJs \"key\" \"key(unique).html = CustomTag(props)\"';\n        console.error(message, details);\n        const err = new ArrayNoKeyError(message, details);\n        throw err;\n    }\n    const couldBeSame = lastArray.array.length > index;\n    if (couldBeSame) {\n        updateExistingValue(itemSubject, item, ownerSupport, // prevSupport,\n        // ??? recently switched\n        // prevGlobal.insertBefore as InsertBefore,\n        runtimeInsertBefore);\n        return;\n    }\n    const { newFragment, newSupport } = processAddTagArrayItem(item, runtimeInsertBefore, // thisInsert as any,\n    itemSubject, index, ownerSupport, options, lastArray.array, fragment);\n    if (newSupport) {\n        ownerSupport.subject.global.childTags.push(newSupport);\n    }\n    return newFragment;\n}\nfunction setPlaceholderElm(subject) {\n    const elm = textNode.cloneNode(false);\n    return subject.global.placeholder = elm;\n}\nfunction processAddTagArrayItem(item, before, itemSubject, index, ownerSupport, options, lastArray, fragment) {\n    options.counts.added = options.counts.added + 1; // index\n    // options.counts.removed\n    const insertBefore = document.createTextNode('');\n    const subPlaceholder = setPlaceholderElm(itemSubject);\n    const parentNode = before.parentNode;\n    if (fragment) {\n        fragment.insertBefore(insertBefore, before);\n        fragment.insertBefore(subPlaceholder, before);\n    }\n    else {\n        parentNode.insertBefore(insertBefore, before);\n        parentNode.insertBefore(subPlaceholder, before);\n    }\n    const { fragment: newFragment, support } = processFirstSubjectValue(item, itemSubject, insertBefore, // subPlaceholder,\n    ownerSupport, // support,\n    options);\n    const children = itemSubject.global.htmlDomMeta;\n    if (newFragment) {\n        if (fragment) {\n            fragment.insertBefore(newFragment, subPlaceholder);\n        }\n        else {\n            parentNode.insertBefore(newFragment, subPlaceholder);\n        }\n    }\n    children.forEach(child => {\n        const element = child.domElement;\n        if (element && child.nodeName !== 'text') {\n            afterChildrenBuilt([element], itemSubject, support);\n        }\n    });\n    const lastValue = {\n        support: support, index\n    };\n    // Added to previous array\n    lastArray.push(lastValue);\n    return { newFragment, newSupport: support };\n}\n/** compare two values. If both values are arrays then the items will be compared */\nfunction areLikeValues(valueA, valueB) {\n    if (valueA === valueB) {\n        return true;\n    }\n    const bothArrays = valueA instanceof Array && valueB instanceof Array;\n    const matchLengths = bothArrays && valueA.length == valueB.length;\n    if (matchLengths) {\n        return valueA.every((item, index) => item === valueB[index]);\n    }\n    return false;\n}\nfunction destroyArrayItem(lastArray, index, options) {\n    const last = lastArray[index];\n    const support = last.support;\n    destroyArrayTag(support, options.counts);\n    last.deleted = true;\n    ++options.counts.removed;\n}\nfunction reviewLastArrayItem(item, value, index, lastArray, removed, options) {\n    const newLength = value.length - 1;\n    const at = index - removed;\n    const lessLength = at < 0 || newLength < at;\n    if (lessLength) {\n        destroyArrayItem(lastArray.array, index, options);\n        ++removed;\n        return { same: false, newRemoved: removed };\n    }\n    const subTag = value[index - removed];\n    const tagClass = isTagClass(subTag);\n    let tag = subTag;\n    let templater = tag.templater; // || subTag\n    let prevArrayValue;\n    if (tagClass) {\n        prevArrayValue = tag.arrayValue;\n    }\n    else {\n        templater = subTag;\n        // tag = templater.tag as StringTag | DomTag\n        prevArrayValue = templater.arrayValue;\n    }\n    // const tag = subTag?.templater.tag as Tag\n    const lateTemp = item.support.templater;\n    const lastTag = lateTemp?.tag || lateTemp;\n    const lastArrayValue = lastTag.arrayValue;\n    const destroyItem = !areLikeValues(prevArrayValue, lastArrayValue);\n    if (destroyItem) {\n        destroyArrayItem(lastArray.array, index, options);\n        ++removed;\n        return { same: false, newRemoved: removed };\n    }\n    return { same: true, newRemoved: removed };\n}\n//# sourceMappingURL=processTagArray.js.map","import { deepEqual } from './deepFunctions.js';\nimport { isStaticTag } from './isInstance.js';\nimport { renderSupport } from './tag/render/renderSupport.function.js';\nimport { setUse } from './state/index.js';\nimport { getSupportInCycle } from './tag/getSupportInCycle.function.js';\nimport { runBlocked } from './interpolations/bindSubjectCallback.function.js';\nimport { cloneTagJsValue } from './tag/cloneValueArray.function.js';\nexport function castProps(props, newSupport, stateArray, depth) {\n    return props.map(prop => alterProp(prop, newSupport.ownerSupport, stateArray, newSupport, depth));\n}\n/* Used to rewrite props that are functions. When they are called it should cause parent rendering */\nexport function alterProp(prop, ownerSupport, stateArray, newSupport, depth) {\n    if (isStaticTag(prop) || !prop) {\n        return prop;\n    }\n    if (!ownerSupport) {\n        return prop; // no one above me\n    }\n    return checkProp(prop, ownerSupport, stateArray, newSupport, depth);\n}\nexport function checkProp(value, ownerSupport, stateArray, newSupport, depth, index, newProp) {\n    if (!value) {\n        return value;\n    }\n    if (value.tagJsType) {\n        return value;\n    }\n    if (value instanceof Function) {\n        return getPropWrap(value, ownerSupport, stateArray);\n    }\n    // if(seen.includes(value)) {\n    if (depth === 15) {\n        return value;\n    }\n    // seen.push(value)\n    const skip = isSkipPropValue(value);\n    if (skip) {\n        return value; // no children to crawl through\n    }\n    if (value instanceof Array) {\n        for (let index = value.length - 1; index >= 0; --index) {\n            const subValue = value[index];\n            value[index] = checkProp(subValue, ownerSupport, stateArray, newSupport, depth + 1, index, value);\n            if (subValue instanceof Function) {\n                if (subValue.toCall) {\n                    continue;\n                }\n                afterCheckProp(depth + 1, index, subValue, value, newSupport);\n            }\n        }\n        return value;\n    }\n    const keys = Object.keys(value);\n    for (const name of keys) {\n        const subValue = value[name];\n        const result = checkProp(subValue, ownerSupport, stateArray, newSupport, depth + 1, name, value);\n        if (value[name] === result) {\n            continue;\n        }\n        const getset = Object.getOwnPropertyDescriptor(value, name);\n        const hasSetter = getset?.get || getset?.set;\n        if (hasSetter) {\n            continue;\n        }\n        value[name] = result;\n        if (result instanceof Function) {\n            if (subValue.toCall) {\n                continue;\n            }\n            afterCheckProp(depth + 1, name, subValue, value, newSupport);\n        }\n    }\n    return value;\n}\nfunction afterCheckProp(depth, index, originalValue, newProp, newSupport) {\n    if (originalValue?.toCall) {\n        throw new Error('meg');\n        return; // already been done\n    }\n    // restore object to have original function on destroy\n    if (depth > 0) {\n        const global = newSupport.subject.global;\n        newProp[index].subscription = global.destroy$.toCallback(() => {\n            newProp[index] = originalValue;\n        });\n    }\n}\nexport function getPropWrap(value, ownerSupport, stateArray) {\n    const toCall = value.toCall;\n    // already previously converted by a parent?\n    if (toCall) {\n        return value;\n    }\n    const wrap = (...args) => wrap.toCall(...args); // what gets called can switch over parent state changes\n    // Currently, call self but over parent state changes, I may need to call a newer parent tag owner\n    wrap.toCall = (...args) => {\n        return callbackPropOwner(wrap.mem.prop, args, ownerSupport);\n    };\n    wrap.original = value;\n    wrap.mem = {\n        prop: value,\n        // stateArray: stateArray\n    };\n    // copy data properties that maybe on source function\n    Object.assign(wrap, value);\n    return wrap;\n}\n/** Function shared by alterProps() and updateExistingTagComponent... TODO: May want to have to functions to reduce cycle checking?  */\nexport function callbackPropOwner(toCall, callWith, ownerSupport) {\n    const global = ownerSupport.subject.global;\n    const newest = global.newest;\n    const supportInCycle = getSupportInCycle();\n    const noCycle = supportInCycle === undefined;\n    if (supportInCycle) {\n        supportInCycle.subject.global.locked = true;\n    }\n    const callbackResult = toCall(...callWith);\n    if (supportInCycle) {\n        const blocked = supportInCycle?.subject.global.blocked;\n        if (supportInCycle && blocked?.length) {\n            setUse.memory.tagClosed$.toCallback(() => {\n                let lastResult = supportInCycle;\n                // throw new Error('cycles ready')\n                // syncStates(supportInCycle.state, (supportInCycle.subject.global.newest as Support).state)\n                delete supportInCycle.subject.global.locked;\n                lastResult = runBlocked(supportInCycle, supportInCycle.state, supportInCycle);\n                // syncStates((supportInCycle.subject.global.newest as Support).state, supportInCycle.state)\n                // delete supportInCycle.subject.global.locked\n                renderSupport(lastResult, false);\n            });\n            return callbackResult;\n        }\n        delete supportInCycle.subject.global.locked;\n    }\n    const run = () => {\n        // are we in a rendering cycle? then its being called by alterProps\n        if (noCycle === false) {\n            // appears a prop function was called sync/immediately so lets see if owner changed state\n            const allMatched = newest.state.every(state => {\n                const lastValue = state.lastValue;\n                const get = state.get();\n                const equal = deepEqual(cloneTagJsValue(lastValue), get);\n                return equal;\n            });\n            if (allMatched) {\n                return callbackResult; // owner did not change\n            }\n        }\n        renderSupport(newest, true);\n        return callbackResult;\n    };\n    if (noCycle) {\n        return run();\n    }\n    setUse.memory.tagClosed$.toCallback(run);\n    return callbackResult;\n}\nexport function isSkipPropValue(value) {\n    return typeof (value) !== 'object' || !value || value.tagJsType; // || isSubjectInstance(value)\n}\n//# sourceMappingURL=alterProp.function.js.map","import { StringTag, DomTag } from './Tag.class.js';\nexport function html(strings, ...values) {\n    return new StringTag(strings, values);\n}\nhtml.dom = function (dom, ...values) {\n    return new DomTag(dom, values);\n};\n//# sourceMappingURL=html.js.map","import { Support } from './Support.class.js';\nimport { castProps } from '../alterProp.function.js';\nimport { setUse } from '../state/setUse.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { html } from './html.js';\nimport { syncFunctionProps } from './update/updateExistingTagComponent.function.js';\n/** creates/returns a function that when called then calls the original component function\n * Gets used as templater.wrapper()\n */\nexport function getTagWrap(templater, result) {\n    const stateArray = setUse.memory.stateConfig.array;\n    // this function gets called by taggedjs\n    const wrapper = (newSupport, subject, lastSupport) => executeWrap(stateArray, templater, result, newSupport, subject, lastSupport);\n    return wrapper;\n}\nexport function executeWrap(stateArray, templater, result, newSupport, subject, lastSupport) {\n    const global = subject.global;\n    const originalFunction = result.original; // (innerTagWrap as any).original as unknown as TagComponent\n    let tag;\n    let castedProps = [];\n    ++global.renderCount;\n    if (templater.tagJsType === ValueTypes.stateRender) {\n        tag = templater;\n    }\n    else {\n        let props = templater.props;\n        // When defined, this must be an update where my new props have already been made for me\n        let preCastedProps = newSupport.propsConfig.castProps;\n        const lastCastProps = lastSupport?.propsConfig.castProps;\n        if (lastCastProps) {\n            newSupport.propsConfig.castProps = lastCastProps;\n            preCastedProps = syncFunctionProps(newSupport, lastSupport, lastSupport.ownerSupport, props);\n        }\n        castedProps = preCastedProps || castProps(props, newSupport, stateArray, 0);\n        tag = originalFunction(...castedProps);\n    }\n    // CALL ORIGINAL COMPONENT FUNCTION\n    if (tag instanceof Function) {\n        tag = tag();\n    }\n    const unknown = !tag || (tag.tagJsType && ![ValueTypes.tag, ValueTypes.dom].includes(tag.tagJsType));\n    if (unknown) {\n        tag = html `${tag}`; // component returned a non-component value\n    }\n    tag.templater = templater;\n    templater.tag = tag;\n    tag.arrayValue = templater.arrayValue; // tag component could have been used in array.map\n    const support = new Support(templater, newSupport.ownerSupport, subject, castedProps, global.renderCount);\n    support.subject.global = global;\n    // ??? this should be set by outside?\n    global.oldest = global.oldest || support;\n    const nowState = setUse.memory.stateConfig.array;\n    support.state.push(...nowState);\n    return support;\n}\n//# sourceMappingURL=getTagWrap.function.js.map","import { runBeforeRedraw, runBeforeRender } from '../tagRunner.js';\nimport { runAfterRender } from '../tagRunner.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { executeWrap } from '../getTagWrap.function.js';\nimport { setUse } from '../../state/setUse.function.js';\nexport function renderTagOnly(newSupport, prevSupport, subject, ownerSupport) {\n    const oldRenderCount = subject.global.renderCount;\n    beforeWithRender(newSupport, ownerSupport, prevSupport);\n    const templater = newSupport.templater;\n    let reSupport;\n    // NEW TAG CREATED HERE\n    if (templater.tagJsType === ValueTypes.stateRender) {\n        const stateArray = setUse.memory.stateConfig.array;\n        const result = templater.wrapper || { original: templater };\n        reSupport = executeWrap(stateArray, templater, result, newSupport, subject, prevSupport);\n    }\n    else {\n        // functions wrapped in tag()\n        const wrapper = templater.wrapper;\n        reSupport = wrapper(newSupport, subject, prevSupport);\n    }\n    /* AFTER */\n    runAfterRender(newSupport, ownerSupport);\n    subject.global.newest = reSupport;\n    // When we rendered, only 1 render should have taken place OTHERWISE rendering caused another render and that is the latest instead\n    if (subject.global.renderCount > oldRenderCount + 1) {\n        return subject.global.newest;\n    }\n    return reSupport;\n}\nfunction beforeWithRender(support, // new\nparentSupport, prevSupport) {\n    const lastOwnerSupport = prevSupport?.ownerSupport;\n    const runtimeOwnerSupport = lastOwnerSupport || parentSupport;\n    if (prevSupport) {\n        if (prevSupport !== support) {\n            const lastState = prevSupport.state;\n            support.subject.global = prevSupport.subject.global;\n            support.state.length = 0;\n            support.state.push(...lastState);\n        }\n        return runBeforeRedraw(support, prevSupport);\n    }\n    // first time render\n    return runBeforeRender(support, runtimeOwnerSupport);\n}\n//# sourceMappingURL=renderTagOnly.function.js.map","import { processSubjectComponent } from './processSubjectComponent.function.js';\nimport { processTagArray } from './processTagArray.js';\nimport { processFirstRegularValue } from './processRegularValue.function.js';\nimport { processTag, tagFakeTemplater } from './processTag.function.js';\nimport { renderTagOnly } from '../render/renderTagOnly.function.js';\nimport { BasicTypes, ValueTypes } from '../ValueTypes.enum.js';\nimport { oneRenderToSupport } from './oneRenderToSupport.function.js';\nimport { getValueType } from '../getValueType.function.js';\nexport function processFirstSubjectValue(value, subject, // could be tag via result.tag\ninsertBefore, // <template end interpolate /> (will be removed)\nownerSupport, // owning support\noptions, // {added:0, removed:0}\nfragment) {\n    const valueType = getValueType(value);\n    switch (valueType) {\n        case ValueTypes.templater:\n            return processTag(value, ownerSupport, subject);\n        case ValueTypes.dom:\n        case ValueTypes.tag:\n            const tag = value;\n            let templater = tag.templater;\n            if (!templater) {\n                templater = tagFakeTemplater(tag);\n            }\n            return processTag(templater, ownerSupport, subject);\n        case ValueTypes.tagArray:\n            const result = processTagArray(subject, value, insertBefore, ownerSupport, options, fragment);\n            return { fragment: result };\n        case ValueTypes.stateRender:\n        case ValueTypes.tagComponent:\n            const processResult = processSubjectComponent(value, subject, insertBefore, ownerSupport, options);\n            return { support: processResult, fragment };\n        case BasicTypes.function:\n        case ValueTypes.oneRender:\n            const v = value;\n            if (valueType === ValueTypes.oneRender) {\n                const support = oneRenderToSupport(v, subject, ownerSupport);\n                renderTagOnly(support, support, subject, ownerSupport);\n                return processTag(support.templater, ownerSupport, subject);\n            }\n            break;\n    }\n    const result = processFirstRegularValue(value, subject, subject.global.placeholder || insertBefore);\n    return { fragment };\n}\n//# sourceMappingURL=processFirstSubjectValue.function.js.map","import { TemplaterResult } from '../TemplaterResult.class.js';\nimport { newSupportByTemplater } from './processTag.function.js';\nexport function oneRenderToSupport(wrapper, subject, ownerSupport) {\n    const templater = new TemplaterResult([]);\n    templater.tagJsType = wrapper.tagJsType;\n    const support = newSupportByTemplater(templater, ownerSupport, subject);\n    let tag;\n    const wrap = () => {\n        templater.tag = tag || (wrapper());\n        return support;\n    };\n    templater.wrapper = wrap;\n    wrap.parentWrap = wrap;\n    wrap.tagJsType = wrapper.tagJsType;\n    wrap.parentWrap.original = wrapper;\n    return support;\n}\n//# sourceMappingURL=oneRenderToSupport.function.js.map","import { processFirstSubjectValue } from '../tag/update/processFirstSubjectValue.function.js';\nimport { updateExistingValue } from '../tag/update/updateExistingValue.function.js';\nimport { swapInsertBefore } from '../tag/setTagPlaceholder.function.js';\nexport function subscribeToTemplate(fragment, insertBefore, subject, support, counts) {\n    let called = false;\n    const onValue = (value) => {\n        if (called) {\n            updateExistingValue(subject, value, support, insertBefore);\n            return;\n        }\n        called = true;\n        const templater = value;\n        processFirstSubjectValue(templater, subject, insertBefore, support, {\n            counts: { ...counts },\n        }, syncRun ? fragment : undefined);\n    };\n    // TODO: may noy be needed\n    // leave no template tag\n    if (!subject.global.placeholder) {\n        subject.global.placeholder = swapInsertBefore(insertBefore);\n    }\n    const callback = (value) => onValue(value);\n    let syncRun = true;\n    const sub = subject.subscribe(callback);\n    syncRun = false;\n    support.subject.global.subscriptions.push(sub);\n}\n//# sourceMappingURL=subscribeToTemplate.function.js.map","import { textNode } from \"../../tag/textNode.js\";\nimport { processAttribute } from \"../processAttribute.function.js\";\nimport { subscribeToTemplate } from \"../subscribeToTemplate.function.js\";\n// TODO: This could be done within exchangeParsedForValues to reduce loops\nexport function attachDomElement(nodes, scope, support, fragment, counts, // used for animation stagger computing\nowner) {\n    for (let index = 0; index < nodes.length; ++index) {\n        const node = nodes[index];\n        const marker = node.marker = textNode.cloneNode(false);\n        const subject = node.value;\n        if (subject) {\n            // nodes.splice(index, 1) // placeholder will continue its life separated from domMeta\n            owner.appendChild(marker);\n            subject.global.placeholder = marker;\n            delete node.marker;\n            subscribeToTemplate(owner, marker, subject, support, // ownerSupport,\n            counts);\n            continue;\n        }\n        if (node.nodeName === 'text') {\n            const textNode = node;\n            const string = textNode.textContent;\n            // parse things like &nbsp;\n            const newString = domParseString(string);\n            owner.appendChild(marker);\n            textNode.domElement = document.createTextNode(newString);\n            owner.appendChild(node.domElement);\n            continue;\n        }\n        const domElement = node.domElement = document.createElement(node.nodeName);\n        owner.appendChild(domElement);\n        owner.appendChild(marker);\n        if (node.attributes) {\n            node.attributes.forEach(attr => {\n                processAttribute(attr, domElement, scope, support);\n            });\n        }\n        if (node.children) {\n            attachDomElement(node.children, scope, support, fragment, counts, domElement);\n        }\n    }\n    return nodes;\n}\nexport function domParseString(string) {\n    const text = new DOMParser().parseFromString(string, 'text/html');\n    return getLeadingSpaces(string) + text.documentElement.textContent;\n}\nfunction getLeadingSpaces(str) {\n    const match = str.match(/^\\s+/);\n    return match ? match[0] : '';\n}\n//# sourceMappingURL=metaAttachDomElements.function.js.map","import { variableSuffix, variablePrefix } from \"../../tag/Tag.class.js\";\nconst placeholderRegex = new RegExp(variablePrefix + '(\\\\d+)' + variableSuffix, 'g');\nexport function replacePlaceholders(elements, values, valuePositions = [], currentTail = []) {\n    for (let i = 0; i < elements.length; i++) {\n        const loopTail = [...currentTail, i];\n        const element = elements[i];\n        if ('attributes' in element) {\n            const attrs = element.attributes;\n            element.attributes = processAttributes(attrs, values, loopTail, valuePositions);\n        }\n        if ('children' in element) {\n            const children = element.children;\n            const innerLoopTail = [...loopTail, 'children'];\n            replacePlaceholders(children, values, valuePositions, innerLoopTail);\n            element.children = children;\n        }\n        i = examineChild(element, values, elements, i, loopTail, valuePositions);\n    }\n}\nfunction examineChild(child, values, children, index, currentTail = [], valuePositions) {\n    if (child.nodeName !== 'text') {\n        return index;\n    }\n    const textChild = child;\n    let textContent = textChild.textContent;\n    if (typeof textContent !== 'string') {\n        return index;\n    }\n    let match;\n    while ((match = placeholderRegex.exec(textContent)) !== null) {\n        const secondMatch = match[1];\n        const wIndex = parseInt(secondMatch, 10);\n        const examine = !isNaN(wIndex) && wIndex < values.length;\n        if (examine) {\n            const varContent = variablePrefix + wIndex + variableSuffix;\n            const after = textContent.slice(match.index + varContent.length);\n            let value = values[wIndex];\n            const array = value._value;\n            const isArray = array instanceof Array; // value instanceof Array\n            if (isArray) {\n                /*\n                        array.forEach((x: any, index: number) => {\n                          if(x?.tagJsType === ValueTypes.dom) {\n                            const domClone = [...x.dom]\n                            // replacePlaceholders(domClone, x.values, newValuePositions, loopTail)\n                            return domClone\n                          }\n                \n                          return x\n                        })\n                */\n            }\n            const newPos = { pos: [...currentTail, 'value'], value };\n            if (valuePositions[wIndex] != undefined) {\n                console.log('valuePositions[wIndex]', {\n                    wIndex,\n                    vLen: valuePositions.length,\n                    vPos: valuePositions[wIndex],\n                    varContent,\n                    secondMatch,\n                    values,\n                    // match,\n                    // child,\n                    // children,\n                    newPos,\n                    // equal: valuePositions[wIndex].value === value\n                });\n                // throw new Error('already defined?')\n            }\n            // valuePositions.push({pos: [...currentTail, 'value']})\n            valuePositions[wIndex] = newPos;\n            children.splice(index, 1, ...[{\n                    nodeName: 'text',\n                    value,\n                    // value: varContent,\n                }]);\n            textContent = after;\n            placeholderRegex.lastIndex = 0; // Reset regex index due to split\n        }\n    }\n    textChild.textContent = textContent;\n    return index;\n}\nfunction processAttributes(attributes, values, currentTail = [], valuePositions) {\n    return attributes.map(([key, value], attrIndex) => {\n        if (key.startsWith(variablePrefix)) {\n            const index = parseInt(key.replace(variablePrefix, ''), 10);\n            if (!isNaN(index) && index < values.length) {\n                console.log('key0', { key, index, valueLength: values.length });\n                const value = values[index];\n                valuePositions[index] = { value, isAttr: true, pos: [...currentTail, 'attributes', attrIndex, 0] };\n                return [value]; // the name is the value\n                // return [key]\n            }\n        }\n        if (typeof value === 'string' && value.startsWith(variablePrefix)) {\n            const index = parseInt(value.replace(variablePrefix, ''), 10);\n            if (!isNaN(index) && index < values.length) {\n                // console.log('key1', {key,index, value, newValue: values[index], valueLength: values.length})\n                value = values[index];\n                valuePositions[index] = { key, value, isAttr: true, pos: [...currentTail, 'attributes', attrIndex, 1] };\n            }\n        }\n        return [key, value];\n    });\n}\n//# sourceMappingURL=replacePlaceholders.function.js.map","import { variableSuffix, variablePrefix } from \"../../tag/Tag.class.js\";\nexport const safeVar = '__safeTagVar';\nexport function restorePlaceholders(elements) {\n    elements.forEach(traverseAndRestore);\n}\nconst safeReplacer = /__safeTagVar(\\d+)/g;\nfunction traverseAndRestore(element) {\n    if ('attributes' in element) {\n        element.attributes = element.attributes ? element.attributes.map(attr => {\n            if (attr.length === 1) {\n                return attr;\n            }\n            let [key, value] = attr;\n            if (typeof value === 'string' && value.startsWith(safeVar)) {\n                const index = parseInt(value.replace(safeVar, ''), 10);\n                value = variablePrefix + index + variableSuffix;\n            }\n            return [key, value];\n        }) : [];\n    }\n    if ('children' in element) {\n        const children = element.children;\n        for (let i = 0; i < children.length; i++) {\n            const child = children[i];\n            if (child.nodeName === 'text') {\n                if (typeof child.textContent !== 'string') {\n                    return;\n                }\n                child.textContent = child.textContent.replace(safeReplacer, (_match, index) => variablePrefix + index + variableSuffix);\n            }\n            traverseAndRestore(child);\n        }\n        // Remove empty children array\n        if (children.length === 0) {\n            delete element.children;\n        }\n    }\n}\n//# sourceMappingURL=restorePlaceholders.function.js.map","import { replacePlaceholders } from \"./replacePlaceholders.function.js\";\nimport { restorePlaceholders } from \"./restorePlaceholders.function.js\";\nexport function exchangeParsedForValues(parsedElements, values) {\n    const valuePositions = [];\n    // Replace placeholders with actual dynamic values\n    replacePlaceholders(parsedElements, values, valuePositions);\n    // ???new\n    replaceHoldersByPosMaps(parsedElements, values, valuePositions);\n    // console.log('valuePositions', {valuePositions, parsedElements})\n    // Restore any sanitized placeholders in text nodes\n    restorePlaceholders(parsedElements);\n    return parsedElements;\n}\nfunction replaceHoldersByPosMaps(parsedElements, values, valuePositions) {\n    for (let index = valuePositions.length - 1; index >= 0; --index) {\n        const valuePosMeta = valuePositions[index];\n        replaceHolderByPosMap(parsedElements, values, valuePosMeta, index);\n    }\n}\nfunction replaceHolderByPosMap(parsedElements, values, valuePosition, valueIndex) {\n    let varPart = parsedElements;\n    const posMap = valuePosition.pos;\n    const stopAt = posMap.length - 1; // leave the last variable name for setting\n    const lastName = posMap[stopAt];\n    for (let index = 0; index < stopAt; ++index) {\n        varPart = varPart[posMap[index]];\n    }\n    if (varPart[lastName] != values[valueIndex] && typeof (varPart[lastName]) !== 'string') {\n        console.log('varPart here', {\n            varPart, lastName, valueIndex,\n            valuePosition,\n            parsedElements,\n        });\n    }\n    varPart[lastName] = values[valueIndex];\n}\n//# sourceMappingURL=exchangeParsedForValues.function.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nimport { deepClone } from '../deepFunctions.js';\nimport { isTagComponent } from '../isInstance.js';\nimport { cloneTagJsValue } from './cloneValueArray.function.js';\nimport { runBeforeDestroy } from './tagRunner.js';\nimport { getChildTagsToDestroy } from './destroy.support.js';\nimport { elementDestroyCheck } from './elementDestroyCheck.function.js';\nimport { updateContextItem } from './update/updateContextItem.function.js';\nimport { processNewValue } from './update/processNewValue.function.js';\nimport { attachDomElement } from '../interpolations/optimizers/metaAttachDomElements.function.js';\nimport { getDomMeta } from './domMetaCollector.js';\nimport { exchangeParsedForValues } from '../interpolations/optimizers/exchangeParsedForValues.function.js';\n/** used only for apps, otherwise use Support */\n// TODO: We need to split Support and simple tag support apart\nexport class BaseSupport {\n    templater;\n    subject;\n    isApp = true;\n    appElement; // only seen on this.getAppSupport().appElement\n    strings;\n    dom;\n    values;\n    propsConfig;\n    // stays with current render\n    state = [];\n    hasLiveElements = false;\n    constructor(templater, subject, castedProps) {\n        this.templater = templater;\n        this.subject = subject;\n        const props = templater.props; // natural props\n        this.propsConfig = this.clonePropsBy(props, castedProps);\n    }\n    clonePropsBy(props, castedProps) {\n        if (this.templater.tagJsType === ValueTypes.tag) {\n            throw new Error('regular tag up in here');\n        }\n        if (this.templater.tagJsType === ValueTypes.stateRender) {\n            return this.propsConfig = {\n                latest: [],\n                latestCloned: [],\n            };\n        }\n        const latestCloned = props.map(props => cloneTagJsValue(props)\n        // deepClone(props)\n        );\n        return this.propsConfig = {\n            latest: props,\n            latestCloned, // assume its HTML children and then detect\n            castProps: castedProps,\n        };\n    }\n    getHtmlDomMeta(fragment, options = {\n        counts: { added: 0, removed: 0 },\n    }) {\n        const domMeta = this.loadDomMeta();\n        const global = this.subject.global;\n        let context = global.context;\n        context = this.update();\n        console.log('domMeta, context', { domMeta, context });\n        exchangeParsedForValues(domMeta, context);\n        attachDomElement(domMeta, context, this, fragment, options.counts, fragment);\n        return domMeta;\n    }\n    loadDomMeta() {\n        const templater = this.templater;\n        const thisTag = templater.tag; // || templater\n        let orgDomMeta;\n        if (thisTag.tagJsType === ValueTypes.dom) {\n            orgDomMeta = thisTag.dom;\n        }\n        else {\n            orgDomMeta = getDomMeta(thisTag.strings, thisTag.values);\n        }\n        const domMeta = deepClone(orgDomMeta);\n        return domMeta;\n    }\n    /** Function that kicks off actually putting tags down as HTML elements */\n    buildBeforeElement(fragment = document.createDocumentFragment(), options) {\n        const subject = this.subject;\n        const global = this.subject.global;\n        if (global.deleted) {\n            throw new Error('building on deleted foundation');\n        }\n        global.oldest = this;\n        global.newest = this;\n        subject.support = this;\n        this.hasLiveElements = true;\n        global.htmlDomMeta = this.getHtmlDomMeta(fragment, options);\n        return fragment;\n    }\n    updateBy(support) {\n        /* ???\n        const templater = support.templater\n        const tempTag = templater.tag as StringTag | DomTag\n        const values = tempTag?.values || (templater as any).values\n        this.updateConfig(tempTag, values)\n        */\n        const tempTag = support.templater.tag;\n        this.updateConfig(tempTag, tempTag.values);\n    }\n    /** triggers values to render */\n    updateConfig(tag, values) {\n        if (tag.tagJsType === ValueTypes.dom) {\n            this.dom = tag.dom;\n        }\n        else {\n            this.strings = tag.strings;\n        }\n        this.updateValues(values);\n    }\n    updateValues(values) {\n        this.values = values;\n        return this.updateContext(this.subject.global.context);\n    }\n    update() {\n        return this.updateContext(this.subject.global.context);\n    }\n    updateContext(context) {\n        const thisTag = this.templater.tag;\n        const values = this.values || thisTag.values;\n        // TODO: loop specific number of times instead of building an array\n        const array = 'x,'.repeat(values.length).split(','); // strings\n        array.forEach((_string, index) => updateOneContext(values, index, context, this));\n        return context;\n    }\n    destroy(options = {\n        stagger: 0,\n    }) {\n        const global = this.subject.global;\n        if (global.deleted) {\n            throw new Error('double destroy');\n        }\n        const childTags = options.byParent ? [] : getChildTagsToDestroy(global.childTags); // .toReversed()\n        if (isTagComponent(this.templater)) {\n            global.destroy$.next();\n            runBeforeDestroy(this, this);\n        }\n        this.destroySubscriptions();\n        midDestroyChildTags(childTags);\n        // checkDestroySimpleValueTag(this)\n        // const oldest = global.oldest\n        resetSupport(this, global.context.length);\n        // first paint\n        const { stagger, promises } = this.smartRemoveKids(options);\n        options.stagger = stagger;\n        global.context.length = 0;\n        if (promises.length) {\n            return Promise.all(promises).then(() => options.stagger);\n        }\n        return options.stagger;\n    }\n    smartRemoveKids(options = {\n        stagger: 0,\n    }) {\n        const startStagger = options.stagger;\n        const promises = [];\n        const thisGlobal = this.subject.global;\n        const myClones = [...thisGlobal.htmlDomMeta];\n        thisGlobal.htmlDomMeta.length = 0;\n        thisGlobal.context.forEach(subject => {\n            const global = subject.global;\n            const oldest = global.oldest;\n            const elm = global.simpleValueElm;\n            if (elm) {\n                const parentNode = elm.parentNode;\n                parentNode.removeChild(elm);\n                delete global.simpleValueElm;\n                parentNode.removeChild(global.placeholder);\n                return;\n            }\n            if (!oldest) {\n                const placeholder = global.placeholder;\n                if (placeholder) {\n                    const parentNode = placeholder.parentNode;\n                    if (parentNode) {\n                        parentNode.removeChild(placeholder);\n                    }\n                    delete global.placeholder;\n                }\n                return; // subject._value === false\n            }\n            const clones = global.htmlDomMeta;\n            let cloneOne = clones[0];\n            if (cloneOne === undefined) {\n                const { stagger, promises: newPromises } = oldest.smartRemoveKids(options);\n                options.stagger = options.stagger + stagger;\n                promises.push(...newPromises);\n                return { promise: Promise.all(promises), stagger: options.stagger };\n            }\n            let count = 0;\n            let domOne = cloneOne.domElement;\n            while (domOne && domOne.parentNode && count < 5) {\n                if (myClones.find(x => x.domElement === domOne.parentNode)) {\n                    return; // no need to delete, they live within me\n                }\n                domOne = domOne.parentNode;\n                ++count;\n            }\n            // recurse\n            const { stagger, promises: newPromises } = oldest.smartRemoveKids(options);\n            options.stagger = options.stagger + stagger;\n            promises.push(...newPromises);\n        });\n        const promise = this.destroyClones(myClones, { stagger: startStagger }).promise;\n        thisGlobal.childTags.length = 0;\n        if (promise) {\n            promises.unshift(promise);\n        }\n        return { promises, stagger: options.stagger };\n    }\n    destroyClones(oldClones, options = {\n        stagger: 0,\n    }) {\n        // check subjects that may have clones attached to them\n        const promises = oldClones.map(clone => {\n            if (clone.marker) {\n                const parentNode = clone.marker.parentNode;\n                parentNode.removeChild(clone.marker);\n            }\n            if (!clone.domElement) {\n                return;\n            }\n            return this.checkCloneRemoval(clone.domElement, options.stagger);\n        }).filter(x => x); // only return promises\n        if (promises.length) {\n            return { promise: Promise.all(promises), stagger: options.stagger };\n        }\n        return { stagger: options.stagger };\n    }\n    /** Reviews elements for the presences of ondestroy */\n    checkCloneRemoval(clone, stagger) {\n        const customElm = clone;\n        if (customElm.ondestroy) {\n            const promise = elementDestroyCheck(customElm, stagger);\n            if (promise instanceof Promise) {\n                return promise.then(() => {\n                    const parentNode = clone.parentNode;\n                    parentNode.removeChild(clone);\n                });\n            }\n        }\n        const parentNode = clone.parentNode;\n        parentNode.removeChild(clone);\n    }\n    destroySubscriptions() {\n        const subs = this.subject.global.subscriptions;\n        for (let index = subs.length - 1; index >= 0; --index) {\n            subs[index].unsubscribe();\n        }\n        subs.length = 0;\n    }\n}\nexport class Support extends BaseSupport {\n    templater;\n    ownerSupport;\n    subject;\n    version;\n    isApp = false;\n    constructor(templater, // at runtime rendering of a tag, it needs to be married to a new Support()\n    ownerSupport, subject, castedProps, version = 0) {\n        super(templater, subject, castedProps);\n        this.templater = templater;\n        this.ownerSupport = ownerSupport;\n        this.subject = subject;\n        this.version = version;\n    }\n    getAppSupport() {\n        let tag = this;\n        while (tag.ownerSupport) {\n            tag = tag.ownerSupport;\n        }\n        return tag;\n    }\n}\nexport function resetSupport(support, newContextLength // 0\n) {\n    const subject = support.subject;\n    const global = subject.global;\n    global.context.length = newContextLength;\n    delete global.oldest; // may not be needed\n    delete global.newest;\n    delete subject.support;\n}\nfunction updateOneContext(values, index, context, support) {\n    const hasValue = values.length > index;\n    if (!hasValue) {\n        return;\n    }\n    const value = values[index];\n    // is something already there?\n    const exists = context.length > index;\n    if (exists) {\n        if (support.subject.global.deleted) {\n            const valueSupport = (value && value.support);\n            if (valueSupport) {\n                valueSupport.destroy();\n                return context; // item was deleted, no need to emit\n            }\n        }\n        return updateContextItem(context, index, value);\n    }\n    // 🆕 First time values below\n    context[index] = processNewValue(value, support);\n}\nexport function midDestroyChildTags(childTags) {\n    // signify immediately child has been deleted (looked for during event processing)\n    for (let index = childTags.length - 1; index >= 0; --index) {\n        const child = childTags[index];\n        const subGlobal = child.subject.global;\n        delete subGlobal.newest;\n        subGlobal.deleted = true;\n        if (isTagComponent(child.templater)) {\n            runBeforeDestroy(child, child);\n        }\n        child.destroySubscriptions();\n        checkDestroySimpleValueTag(child);\n    }\n}\nfunction checkDestroySimpleValueTag(child) {\n    const subGlobal = child.subject.global;\n    const simpleElm = subGlobal.simpleValueElm;\n    if (simpleElm) {\n        const parentNode = simpleElm.parentNode;\n        parentNode.removeChild(simpleElm);\n        delete subGlobal.simpleValueElm;\n    }\n}\n//# sourceMappingURL=Support.class.js.map","import { isSubjectInstance } from '../../isInstance.js';\nimport { getValueType } from '../getValueType.function.js';\nimport { ImmutableTypes } from '../ValueTypes.enum.js';\nexport function updateContextItem(context, index, value) {\n    const valueType = getValueType(value);\n    const subject = context[index];\n    subject.global.nowValueType = valueType;\n    const isSub = isSubjectInstance(value);\n    if (isSub) {\n        return; // emits on its own\n    }\n    if (value === subject._value) {\n        if (Object.values(ImmutableTypes).includes(valueType)) {\n            return; // its the same exact non-complex value\n        }\n    }\n    // listeners will evaluate updated values to possibly update display(s)\n    subject.next(value);\n    return;\n}\n//# sourceMappingURL=updateContextItem.function.js.map","export function elementDestroyCheck(nextSibling, stagger) {\n    const onDestroyDoubleWrap = nextSibling.ondestroy;\n    if (!onDestroyDoubleWrap) {\n        return;\n    }\n    const onDestroyWrap = onDestroyDoubleWrap.tagFunction;\n    if (!onDestroyWrap) {\n        return;\n    }\n    const onDestroy = onDestroyWrap.tagFunction;\n    if (!onDestroy) {\n        return;\n    }\n    const event = { target: nextSibling, stagger };\n    return onDestroy(event);\n}\n//# sourceMappingURL=elementDestroyCheck.function.js.map","import { resetSupport } from '../Support.class.js';\nimport { getChildTagsToDestroy } from '../destroy.support.js';\n/** used when a tag swaps content returned */\nexport function softDestroySupport(lastSupport, options = { byParent: false, stagger: 0 }) {\n    const global = lastSupport.subject.global;\n    const childTags = getChildTagsToDestroy(global.childTags);\n    childTags.forEach(child => softDestroyOne(child));\n    softDestroyOne(lastSupport);\n}\nfunction softDestroyOne(child) {\n    child.destroySubscriptions();\n    const subGlobal = child.subject.global;\n    delete subGlobal.newest;\n    subGlobal.deleted = true; // the children are truly destroyed but the main support will be swapped\n    const simpleElm = subGlobal.simpleValueElm;\n    if (simpleElm) {\n        const parentNode = simpleElm.parentNode;\n        parentNode.removeChild(simpleElm);\n        delete subGlobal.simpleValueElm;\n    }\n    child.smartRemoveKids();\n    child.subject.global.htmlDomMeta.length = 0; // tag maybe used for something else\n    child.subject.global.childTags.length = 0; // tag maybe used for something else\n    resetSupport(child, 0);\n}\n//# sourceMappingURL=softDestroySupport.function.js.map","import { isLikeTags } from '../isLikeTags.function.js';\nimport { renderTagOnly } from './renderTagOnly.function.js';\nimport { destroyUnlikeTags } from './destroyUnlikeTags.function.js';\nimport { softDestroySupport } from './softDestroySupport.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nimport { deepEqual } from '../../deepFunctions.js';\nexport function renderWithSupport(newSupport, lastSupport, // previous\nsubject, // events & memory\nownerSupport) {\n    const lastTemplater = lastSupport?.templater;\n    const lastTag = lastTemplater?.tag;\n    const reSupport = renderTagOnly(newSupport, lastSupport, subject, ownerSupport);\n    const isLikeTag = !lastSupport || isLikeTags(lastSupport, reSupport);\n    if (!isLikeTag) {\n        destroyUnlikeTags(lastSupport, reSupport, subject);\n    }\n    else if (lastSupport) {\n        const tag = reSupport.templater.tag;\n        if (tag) {\n            checkTagSoftDestroy(tag, lastSupport, lastTag);\n        }\n    }\n    const lastOwnerSupport = lastSupport?.ownerSupport;\n    reSupport.ownerSupport = (ownerSupport || lastOwnerSupport);\n    return reSupport;\n}\nfunction checkTagSoftDestroy(tag, lastSupport, lastTag) {\n    if (tag.tagJsType === ValueTypes.dom) {\n        const lastDom = lastTag?.dom;\n        const newDom = tag.dom;\n        if (!deepEqual(lastDom, newDom)) {\n            softDestroySupport(lastSupport);\n            delete lastSupport.subject.global.deleted;\n        }\n        return;\n    }\n    // TODO: This is classic runtime code, need to test it\n    if (lastTag) {\n        const lastStrings = lastTag.strings;\n        if (lastStrings) {\n            const oldLength = lastStrings?.length;\n            const newLength = tag.strings.length;\n            if (oldLength !== newLength) {\n                softDestroySupport(lastSupport);\n                delete lastSupport.subject.global.deleted;\n            }\n        }\n    }\n}\n//# sourceMappingURL=renderWithSupport.function.js.map","import { softDestroySupport } from './softDestroySupport.function.js';\nimport { moveProviders } from '../update/updateExistingTagComponent.function.js';\nexport function destroyUnlikeTags(lastSupport, // old\nreSupport, // new\nsubject) {\n    // when a tag is destroyed, disconnect the globals\n    const global = reSupport.subject.global; // = {...oldGlobal} // break memory references\n    moveProviders(lastSupport, reSupport);\n    softDestroySupport(lastSupport);\n    delete global.deleted;\n    global.oldest = reSupport;\n    global.newest = reSupport;\n    subject.support = reSupport;\n}\n//# sourceMappingURL=destroyUnlikeTags.function.js.map","import { hasSupportChanged } from '../hasSupportChanged.function.js';\nimport { processSubjectComponent } from './processSubjectComponent.function.js';\nimport { destroyTagMemory } from '../destroyTag.function.js';\nimport { renderSupport } from '../render/renderSupport.function.js';\nimport { castProps, isSkipPropValue } from '../../alterProp.function.js';\nimport { isLikeTags } from '../isLikeTags.function.js';\nimport { afterChildrenBuilt } from './afterChildrenBuilt.function.js';\nimport { softDestroySupport } from '../render/softDestroySupport.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\nexport function updateExistingTagComponent(ownerSupport, support, // lastest\nsubject, insertBefore) {\n    let lastSupport = subject.global.newest;\n    const oldWrapper = lastSupport.templater.wrapper;\n    const newWrapper = support.templater.wrapper;\n    let isSameTag = false;\n    if (oldWrapper && newWrapper) {\n        const oldFunction = oldWrapper.parentWrap.original;\n        const newFunction = newWrapper.parentWrap.original;\n        // string compare both functions\n        isSameTag = oldFunction === newFunction;\n    }\n    else if (support.templater.tagJsType === ValueTypes.stateRender) {\n        // TODO: Performance, we should upgrade string compare to instead check tag creation order identifier(s)\n        isSameTag = isSameStateRenderTag(support, lastSupport);\n    }\n    const templater = support.templater;\n    if (!isSameTag) {\n        return swapTags(insertBefore, subject, templater, ownerSupport);\n    }\n    const hasChanged = templater.tagJsType === ValueTypes.stateRender || hasSupportChanged(lastSupport, support, templater);\n    // everyhing has matched, no display needs updating.\n    if (!hasChanged) {\n        return syncSupports(templater, support, lastSupport, ownerSupport);\n    }\n    const oldest = subject.global.oldest;\n    if (subject.global.locked) {\n        subject.global.blocked.push(support);\n        return support;\n    }\n    const previous = subject.global.newest;\n    const newSupport = renderSupport(support, false);\n    return afterTagRender(subject, previous, newSupport, isSameTag);\n}\nfunction afterTagRender(subject, previous, newSupport, isSameTag) {\n    let lastSupport = subject.support;\n    // detect if both the function is the same and the return is the same\n    const isLikeTag = isSameTag && isLikeTags(previous, newSupport);\n    if (isLikeTag) {\n        subject.support = newSupport;\n        return newSupport;\n    }\n    // Although function looked the same it returned a different html result\n    if (isSameTag && lastSupport) {\n        const preGlobal = previous.subject.global;\n        if (!preGlobal.deleted) {\n            softDestroySupport(previous);\n            delete preGlobal.deleted;\n        }\n    }\n    return buildNewTag(newSupport, subject);\n}\nfunction buildNewTag(newSupport, subject) {\n    const fragment = newSupport.buildBeforeElement(undefined, {\n        counts: { added: 0, removed: 0 },\n    });\n    const children = fragment.children;\n    // A placeholder was created lets put it down\n    const placeholder = subject.global.placeholder;\n    const parentNode = placeholder.parentNode;\n    parentNode.insertBefore(fragment, placeholder);\n    afterChildrenBuilt(children, subject, newSupport);\n    subject.global.oldest = newSupport;\n    subject.global.newest = newSupport;\n    subject.support = newSupport;\n    return newSupport;\n}\nexport function syncFunctionProps(newSupport, lastSupport, ownerSupport, newPropsArray, // templater.props\ndepth = -1) {\n    const newest = lastSupport.subject.global.newest;\n    if (!newest) {\n        const state = ownerSupport.state;\n        // newPropsArray.length = 0\n        const castedProps = castProps(newPropsArray, newSupport, state, depth);\n        newPropsArray.push(...castedProps);\n        newSupport.propsConfig.castProps = castedProps;\n        return newPropsArray;\n    }\n    lastSupport = newest || lastSupport;\n    const priorPropConfig = lastSupport.propsConfig;\n    const priorPropsArray = priorPropConfig.castProps;\n    const newArray = [];\n    for (let index = 0; index < newPropsArray.length; ++index) {\n        const prop = newPropsArray[index];\n        const priorProp = priorPropsArray[index];\n        const newValue = syncPriorPropFunction(priorProp, prop, newSupport, ownerSupport, depth + 1, index);\n        newArray.push(newValue);\n    }\n    newSupport.propsConfig.castProps = newArray;\n    return newArray;\n}\nfunction syncPriorPropFunction(priorProp, prop, newSupport, ownerSupport, depth, index) {\n    if (priorProp instanceof Function) {\n        // the prop i am receiving, is already being monitored/controlled by another parent\n        if (prop.mem) {\n            priorProp.mem.prop = prop.mem.prop;\n            priorProp.mem.stateArray = prop.mem.stateArray;\n            return prop;\n        }\n        const ownerGlobal = ownerSupport.subject.global;\n        const oldOwnerState = ownerGlobal.newest.state;\n        priorProp.mem.prop = prop;\n        priorProp.stateArray = oldOwnerState;\n        return priorProp;\n    }\n    // prevent infinite recursion\n    // if(seen.includes(prop)) {\n    if (depth === 15) {\n        return prop;\n    }\n    // seen.push(prop)\n    if (isSkipPropValue(prop)) {\n        return prop; // no children to crawl through\n    }\n    if (prop instanceof Array) {\n        for (let index = prop.length - 1; index >= 0; --index) {\n            const x = prop[index];\n            prop[index] = syncPriorPropFunction(priorProp[index], x, newSupport, ownerSupport, depth + 1, index);\n        }\n        return prop;\n    }\n    if (priorProp === undefined) {\n        return prop;\n    }\n    const keys = Object.keys(prop);\n    // for(const name in prop){\n    for (const name of keys) {\n        const subValue = prop[name];\n        const result = syncPriorPropFunction(priorProp[name], subValue, newSupport, ownerSupport, depth + 1, name);\n        if (prop[name] === result) {\n            continue; // ??? new\n        }\n        const hasSetter = Object.getOwnPropertyDescriptor(prop, name)?.set;\n        if (hasSetter) {\n            continue;\n        }\n        prop[name] = result;\n    }\n    return prop;\n}\nexport function moveProviders(lastSupport, newSupport) {\n    const global = lastSupport.subject.global;\n    global.providers.forEach(provider => {\n        provider.children.forEach((child, index) => {\n            const wasSameGlobals = global.destroy$ === child.subject.global.destroy$;\n            if (wasSameGlobals) {\n                provider.children.splice(index, 1);\n                provider.children.push(newSupport);\n                return;\n            }\n        });\n    });\n}\nfunction syncSupports(templater, support, lastSupport, ownerSupport) {\n    // update function refs to use latest references\n    const newProps = templater.props;\n    const castedProps = syncFunctionProps(support, lastSupport, ownerSupport, newProps);\n    // When new support actually makes call to real function, use these pre casted props\n    support.propsConfig.castProps = castedProps;\n    // update support to think it has different cloned props\n    lastSupport.propsConfig.latestCloned = support.propsConfig.latestCloned;\n    return lastSupport; // its the same tag component  \n}\nfunction swapTags(insertBefore, subject, templater, ownerSupport) {\n    const global = subject.global;\n    if (global.deleted) {\n        throw new Error('isSameTag already deleted');\n    }\n    const oldestSupport = global.oldest;\n    destroyTagMemory(oldestSupport);\n    // ??? - new added\n    delete subject.global.deleted;\n    const newSupport = processSubjectComponent(templater, subject, insertBefore, ownerSupport, {\n        counts: { added: 0, removed: 0 },\n    });\n    return newSupport;\n}\nfunction isSameStateRenderTag(newSupport, lastSupport) {\n    return isSameStateFunTag(newSupport.templater, lastSupport.templater);\n}\nexport function isSameStateFunTag(newTemplater, lastTemplater) {\n    return lastTemplater !== undefined && newTemplater.toString() === lastTemplater.toString();\n}\n//# sourceMappingURL=updateExistingTagComponent.function.js.map","import { processTagResult } from './processTagResult.function.js';\nimport { Support } from '../Support.class.js';\nimport { renderSubjectComponent } from '../render/renderSubjectComponent.function.js';\nimport { setupNewSupport } from './processTag.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\n/** create new support, connects globals to old support if one, and  */\nexport function processSubjectComponent(templater, subject, insertBefore, ownerSupport, options) {\n    // Check if function component is wrapped in a tag() call\n    // TODO: This below check not needed in production mode\n    const notTag = templater.tagJsType !== ValueTypes.stateRender && templater.tagged !== true;\n    if (notTag) {\n        const wrapper = templater.wrapper;\n        const original = wrapper?.parentWrap.original || templater;\n        let name = original.name || original.constructor?.name;\n        if (name === 'Function') {\n            name = undefined;\n        }\n        const label = name || original.toString().substring(0, 120);\n        const error = new Error(`Not a tag component. Wrap your function with tag(). Example tag(props => html\\`\\`) on component:\\n\\n${label}\\n\\n`);\n        throw error;\n    }\n    const support = new Support(templater, ownerSupport, subject);\n    let reSupport = subject.support;\n    setupNewSupport(support, ownerSupport, subject);\n    const global = support.subject.global = reSupport?.subject.global || support.subject.global;\n    global.oldest = support;\n    global.insertBefore = insertBefore;\n    const isRender = !reSupport;\n    if (isRender) {\n        const mySupport = reSupport || support;\n        reSupport = renderSubjectComponent(subject, mySupport, ownerSupport);\n    }\n    const newSupport = processTagResult(reSupport, subject, // The element set here will be removed from document. Also result.tag will be added in here\n    options);\n    ownerSupport.subject.global.childTags.push(newSupport);\n    return reSupport;\n}\n//# sourceMappingURL=processSubjectComponent.function.js.map","import { renderWithSupport } from './renderWithSupport.function.js';\nexport function renderSubjectComponent(subject, reSupport, ownerSupport) {\n    const ownGlobal = ownerSupport.subject.global;\n    const preClones = ownGlobal.htmlDomMeta.map(clone => clone);\n    reSupport = renderWithSupport(reSupport, subject.support, // existing tag\n    subject, ownerSupport);\n    const reGlobal = reSupport.subject.global;\n    if (ownGlobal.htmlDomMeta.length > preClones.length) {\n        const myClones = ownGlobal.htmlDomMeta.filter(fClone => !preClones.find(clone => clone === fClone));\n        reGlobal.htmlDomMeta.push(...myClones);\n    }\n    return reSupport;\n}\n//# sourceMappingURL=renderSubjectComponent.function.js.map","import { hasPropChanges } from './hasPropChanges.function.js';\nexport function hasSupportChanged(lastSupport, newSupport, newTemplater) {\n    const latestProps = newTemplater.props; // newSupport.propsConfig.latest\n    const pastCloneProps = lastSupport.propsConfig.latestCloned;\n    const propsChanged = hasPropChanges(latestProps, pastCloneProps);\n    // if no changes detected, no need to continue to rendering further tags\n    if (propsChanged) {\n        return propsChanged;\n    }\n    const propsChanged2 = hasPropChanges(lastSupport.propsConfig.latestCloned, newSupport.propsConfig.latestCloned);\n    if (propsChanged2) {\n        return propsChanged2;\n    }\n    return false;\n}\n//# sourceMappingURL=hasSupportChanged.function.js.map","import { ValueTypes } from './ValueTypes.enum.js';\nimport { deepEqual } from '../deepFunctions.js';\nimport { isSameStateFunTag } from './update/updateExistingTagComponent.function.js';\nexport function isLikeTags(support0, // new\nsupport1) {\n    const templater0 = support0.templater;\n    const templater1 = support1.templater;\n    // TODO: turn this on\n    if (templater0 === templater1) {\n        return true;\n    }\n    const isStateRender = templater0?.tagJsType === ValueTypes.stateRender && templater1.tagJsType === ValueTypes.stateRender;\n    if (isStateRender) {\n        return isSameStateFunTag(templater1, templater0);\n    }\n    const tag0 = templater0?.tag || support0;\n    const tag1 = templater1.tag;\n    if (tag0.tagJsType !== tag1.tagJsType) {\n        return false;\n    }\n    if (tag0.tagJsType === ValueTypes.dom) {\n        return isLikeDomTags(tag0, tag1, support0, support1);\n    }\n    return isLikeStringTags(tag0, tag1, support0, support1);\n}\nfunction isLikeDomTags(tag0, tag1, support0, // new\nsupport1) {\n    const dom0 = tag0.dom;\n    const dom1 = tag1.dom;\n    if (dom0 !== dom1) {\n        const equal = deepEqual(tag0.dom, tag1.dom);\n        if (!equal) {\n            return false;\n        }\n    }\n    const values0 = support0.values || tag0.values;\n    const values1 = support1.values || tag1.values;\n    return isLikeValueSets(values0, values1);\n}\nfunction isLikeStringTags(tag0, tag1, support0, // new\nsupport1) {\n    const strings0 = tag0.strings;\n    const strings1 = tag1.strings || support1.strings;\n    if (strings0.length !== strings1.length) {\n        return false;\n    }\n    const everyStringMatched = strings0.every((string, index) => strings1[index].length === string.length // performance, just compare length of strings // TODO: Document this\n    // strings1[index] === string // slower\n    );\n    if (!everyStringMatched) {\n        return false;\n    }\n    const values0 = support0.values || tag0.values;\n    const values1 = support1.values || tag1.values;\n    return isLikeValueSets(values0, values1);\n}\nexport function isLikeValueSets(values0, values1) {\n    const valuesLengthsMatch = values0.length === values1.length;\n    if (!valuesLengthsMatch) {\n        return false;\n    }\n    const allVarsMatch = values1.every((value, index) => {\n        const compareTo = values0[index];\n        const isFunctions = value instanceof Function && compareTo instanceof Function;\n        if (isFunctions) {\n            const stringMatch = value.toString() === compareTo.toString();\n            if (stringMatch) {\n                return true;\n            }\n            return false;\n        }\n        return true; // deepEqual(value, compareTo)\n    });\n    if (allVarsMatch) {\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=isLikeTags.function.js.map","import { deepClone } from '../deepFunctions.js';\nimport { renderSupport } from '../tag/render/renderSupport.function.js';\nexport function handleProviderChanges(appSupport, provider) {\n    let hadChanged = false;\n    const tagsWithProvider = getTagsWithProvider(appSupport, provider);\n    for (let index = tagsWithProvider.length - 1; index >= 0; --index) {\n        const { support, renderCount, provider } = tagsWithProvider[index];\n        if (support.subject.global.deleted) {\n            continue; // i was deleted after another tag processed\n        }\n        const notRendered = renderCount === support.subject.global.renderCount;\n        if (notRendered) {\n            hadChanged = true;\n            provider.clone = deepClone(provider.instance);\n            renderSupport(support.subject.global.newest, // support, // support.subject.global.newest as Support,\n            false);\n            continue;\n        }\n    }\n    return hadChanged;\n}\n/** Updates and returns memory of tag providers */\nfunction getTagsWithProvider(support, provider, memory = []) {\n    memory.push({\n        support,\n        renderCount: support.subject.global.renderCount,\n        provider,\n    });\n    const childTags = provider.children;\n    for (let index = childTags.length - 1; index >= 0; --index) {\n        memory.push({\n            support: childTags[index],\n            renderCount: childTags[index].subject.global.renderCount,\n            provider,\n        });\n    }\n    return memory;\n}\n//# sourceMappingURL=handleProviderChanges.function.js.map","import { isLikeTags } from '../isLikeTags.function.js';\nimport { renderWithSupport } from './renderWithSupport.function.js';\nimport { providersChangeCheck } from '../../state/providersChangeCheck.function.js';\n/** Returns true when rendering owner is not needed. Returns false when rendering owner should occur */\nexport function renderExistingTag(oldestSupport, // oldest with elements on html\nnewSupport, // new to be rendered\nownerSupport, // ownerSupport\nsubject) {\n    const lastSupport = subject.support; // todo maybe not needed?\n    const global = subject.global;\n    // share point between renders\n    newSupport.subject.global = global;\n    const preRenderCount = global.renderCount;\n    providersChangeCheck(oldestSupport);\n    // When the providers were checked, a render to myself occurred and I do not need to re-render again\n    const prevSupport = global.newest;\n    const justUpdate = preRenderCount !== global.renderCount;\n    if (justUpdate) {\n        oldestSupport.subject.global.oldest.updateBy(prevSupport);\n        return prevSupport; // already rendered during triggered events\n    }\n    const toRedrawTag = prevSupport || lastSupport || global.oldest;\n    const reSupport = renderWithSupport(newSupport, toRedrawTag, subject, ownerSupport);\n    const isLikeTag = prevSupport && isLikeTags(prevSupport, reSupport);\n    if (isLikeTag) {\n        subject.support = reSupport;\n        const oldest = global.oldest || oldestSupport;\n        oldest.updateBy(reSupport);\n    }\n    return reSupport;\n}\n//# sourceMappingURL=renderExistingTag.function.js.map","import { deepClone, deepEqual } from '../deepFunctions.js';\nimport { handleProviderChanges } from './handleProviderChanges.function.js';\nexport function providersChangeCheck(support) {\n    const global = support.subject.global;\n    const providersWithChanges = global.providers.filter(provider => !deepEqual(provider.instance, provider.clone));\n    let hadChanged = false;\n    // reset clones\n    for (let index = providersWithChanges.length - 1; index >= 0; --index) {\n        const provider = providersWithChanges[index];\n        const owner = provider.owner;\n        if (handleProviderChanges(owner, provider)) {\n            hadChanged = true;\n        }\n        provider.clone = deepClone(provider.instance);\n    }\n    return hadChanged;\n}\n//# sourceMappingURL=providersChangeCheck.function.js.map","import { deepEqual } from '../../deepFunctions.js';\nimport { renderExistingTag } from './renderExistingTag.function.js';\nimport { ValueTypes } from '../ValueTypes.enum.js';\n/** Main function used by all other callers to render/update display of a tag component */\nexport function renderSupport(support, // must be latest/newest state render\nrenderUp) {\n    const global = support.subject.global;\n    const templater = support.templater;\n    const isInlineHtml = !templater.wrapper && templater.tagJsType !== ValueTypes.stateRender;\n    const ownerSupport = support.ownerSupport;\n    // is it just a vanilla tag, not component?\n    if (isInlineHtml) { // || isTagTemplater(templater) \n        if (ownerSupport.subject.global.deleted) {\n            return support;\n        }\n        ++global.renderCount;\n        return renderSupport(ownerSupport.subject.global.newest, true);\n    }\n    if (support.subject.global.locked) {\n        support.subject.global.blocked.push(support);\n        return support;\n    }\n    const subject = support.subject;\n    const oldest = support.subject.global.oldest;\n    let selfPropChange = false;\n    const shouldRenderUp = renderUp && support;\n    if (shouldRenderUp && ownerSupport) {\n        const nowProps = templater.props;\n        const latestProps = support.propsConfig.latestCloned;\n        selfPropChange = !deepEqual(nowProps, latestProps);\n    }\n    // ??? newly moved above renderExistingTag\n    // render up first and that will cause me to re-render\n    if (ownerSupport && selfPropChange) {\n        global.locked = true;\n        // const myRenderCount = global.renderCount\n        const myOwnerSupport = ownerSupport.subject.global.newest;\n        renderSupport(myOwnerSupport, true);\n        if (global.blocked.length) {\n            support = global.blocked.pop();\n            delete global.locked;\n            global.blocked.length = 0;\n        }\n    }\n    const tag = renderExistingTag(oldest, support, ownerSupport, // useSupport,\n    subject);\n    return tag;\n}\n//# sourceMappingURL=renderSupport.function.js.map","import { renderSupport } from '../tag/render/renderSupport.function.js';\nimport { syncStates } from './syncStates.function.js';\nexport default function callbackStateUpdate(support, callback, oldState, ...args) {\n    const state = support.state;\n    // ensure that the oldest has the latest values first\n    syncStates(state, oldState);\n    // run the callback\n    const maybePromise = callback(...args);\n    // send the oldest state changes into the newest\n    syncStates(oldState, state);\n    renderSupport(support, // support.global.newest as Support,\n    false);\n    if (maybePromise instanceof Promise) {\n        maybePromise.finally(() => {\n            // send the oldest state changes into the newest\n            syncStates(oldState, state);\n            renderSupport(support, // support.global.newest as Support,\n            false);\n        });\n    }\n    // return undefined as T\n    return maybePromise;\n}\n//# sourceMappingURL=callbackStateUpdate.function.js.map","import { setUse } from './setUse.function.js';\nimport { SyncCallbackError } from '../errors.js';\nimport { getSupportInCycle } from '../tag/getSupportInCycle.function.js';\nimport callbackStateUpdate from './callbackStateUpdate.function.js';\nlet innerCallback = (callback) => (a, b, c, d, e, f) => {\n    throw new SyncCallbackError('Callback function was called immediately in sync and must instead be call async');\n};\nexport const callbackMaker = () => innerCallback;\nconst originalGetter = innerCallback; // callbackMaker\nsetUse({\n    beforeRender: support => initMemory(support),\n    beforeRedraw: support => initMemory(support),\n    afterRender: support => {\n        support.subject.global.callbackMaker = true;\n        innerCallback = originalGetter; // prevent crossing callbacks with another tag\n    },\n});\nconst syncError = new SyncCallbackError('callback() was called outside of synchronous rendering. Use `callback = callbackMaker()` to create a callback that could be called out of sync with rendering');\n/** Wrap a function that will be called back. After the wrapper and function are called, a rendering cycle will update display */\nexport function callback(callback) {\n    const support = getSupportInCycle();\n    if (!support) {\n        throw syncError;\n    }\n    const oldState = setUse.memory.stateConfig.array;\n    const trigger = (...args) => {\n        const callbackMaker = support.subject.global.callbackMaker;\n        if (callbackMaker) {\n            return callbackStateUpdate(support, callback, oldState, ...args);\n        }\n        return callback(...args);\n    };\n    return trigger;\n}\nfunction initMemory(support) {\n    const oldState = setUse.memory.stateConfig.array;\n    innerCallback = (callback) => {\n        const trigger = (...args) => {\n            const callbackMaker = support.subject.global.callbackMaker;\n            if (callbackMaker) {\n                return callbackStateUpdate(support, callback, oldState, ...args);\n            }\n            return callback(...args);\n        };\n        return trigger;\n    };\n}\n//# sourceMappingURL=callbackMaker.function.js.map","import { state } from './state.function.js';\n/** runs a callback function one time and never again. Same as calling state(() => ...) */\nexport function onInit(callback) {\n    state(callback);\n}\n//# sourceMappingURL=onInit.js.map","import { getSupportInCycle } from \"../tag/getSupportInCycle.function.js\";\nimport { state } from \"./state.function.js\";\nexport function onDestroy(callback) {\n    state(() => {\n        const support = getSupportInCycle();\n        support?.subject.global.destroy$.toCallback(callback);\n    });\n}\n//# sourceMappingURL=onDestroy.js.map","export const tags = [];\n//# sourceMappingURL=tag.utils.js.map","// taggedjs-no-compile\nimport { setUse } from '../state/index.js';\nimport { TemplaterResult } from './TemplaterResult.class.js';\nimport { tags } from './tag.utils.js';\nimport { getTagWrap } from './getTagWrap.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { key } from './key.js';\nlet tagCount = 0;\n/** Wraps a function tag in a state manager and calls wrapped function on event cycles\n * For single rendering, no event cycles, use: tag.renderOnce = (props) => html``\n */\nexport function tag(tagComponent) {\n    /** function developer triggers */\n    const parentWrap = (function tagWrapper(...props) {\n        const templater = new TemplaterResult(props);\n        templater.tagJsType = ValueTypes.tagComponent;\n        // attach memory back to original function that contains developer display logic\n        const innerTagWrap = getTagWrap(templater, parentWrap);\n        if (!innerTagWrap.parentWrap) {\n            innerTagWrap.parentWrap = parentWrap;\n        }\n        templater.tagged = true;\n        templater.wrapper = innerTagWrap;\n        return templater;\n    }) // we override the function provided and pretend original is what's returned\n    ;\n    parentWrap.original = tagComponent;\n    parentWrap.compareTo = tagComponent.toString();\n    const tag = tagComponent;\n    parentWrap.isTag = true;\n    parentWrap.original = tag;\n    // group tags together and have hmr pickup\n    tag.tags = tags;\n    tag.setUse = setUse;\n    tag.tagIndex = tagCount++; // needed for things like HMR\n    tags.push(parentWrap);\n    return parentWrap;\n}\n/** Used to create a tag component that renders once and has no addition rendering cycles */\ntag.oneRender = () => {\n    throw new Error('Do not call tag.oneRender as a function but instead set it as: `(props) => tag.oneRender = () => html`` `');\n};\n/** Used to create variable scoping when calling a function that lives within a prop container function */\ntag.state = () => {\n    throw new Error('Do not call tag.state as a function but instead set it as: `(props) => tag.state = (state) => html`` `');\n};\n// TODO???: Is tag.route and tag.app in use?\n/** Use to structure and define a browser tag route handler\n * Example: export default tag.route = (routeProps: RouteProps) => (state) => html``\n */\ntag.route = (routeProps) => {\n    throw new Error('Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `');\n};\ntag.key = key;\n/** Use to structure and define a browser tag route handler\n * Example: export default tag.route = (routeProps: RouteProps) => (state) => html``\n */\ntag.app = (routeTag) => {\n    throw new Error('Do not call tag.route as a function but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `');\n};\nObject.defineProperty(tag, 'oneRender', {\n    set(oneRenderFunction) {\n        oneRenderFunction.tagJsType = ValueTypes.oneRender;\n    },\n});\nObject.defineProperty(tag, 'state', {\n    set(renderFunction) {\n        ;\n        renderFunction.parentWrap = {\n            original: {\n                setUse: setUse,\n                tags,\n            }\n        };\n        renderFunction.tagJsType = ValueTypes.stateRender;\n    },\n});\n//# sourceMappingURL=tag.js.map","/** Used to give unique value to an array of tag content */\nexport function key(arrayValue) {\n    return {\n        /*\n        get tag() {\n          return _tag;  // Getter for tag, returns the current value of _tag\n        },\n        */\n        set html(newValue) {\n            newValue.arrayValue = arrayValue;\n        }\n    };\n}\n//# sourceMappingURL=key.js.map","import { BaseSupport } from './Support.class.js';\nimport { runAfterRender, runBeforeRender } from './tagRunner.js';\nimport { TagJsSubject } from './update/TagJsSubject.class.js';\nimport { textNode } from './textNode.js';\nimport { afterChildrenBuilt } from './update/afterChildrenBuilt.function.js';\nimport { ValueTypes } from './ValueTypes.enum.js';\nimport { executeWrap } from './getTagWrap.function.js';\nimport { setUse } from '../state/setUse.function.js';\nconst appElements = [];\n/**\n *\n * @param app taggedjs tag\n * @param element HTMLElement\n * @param props object\n * @returns\n */\nexport function tagElement(app, // (...args: unknown[]) => TemplaterResult,\nelement, props) {\n    const appElmIndex = appElements.findIndex(appElm => appElm.element === element);\n    if (appElmIndex >= 0) {\n        appElements[appElmIndex].support.destroy();\n        appElements.splice(appElmIndex, 1);\n        // an element already had an app on it\n        console.warn('Found and destroyed app element already rendered to element', { element });\n    }\n    // Create the app which returns [props, runOneTimeFunction]\n    const wrapper = app(props);\n    // TODO: maybe remove below?\n    const template = document.createElement('template');\n    const placeholder = textNode.cloneNode(false);\n    const support = runWrapper(wrapper, template, placeholder);\n    const subject = support.subject;\n    const global = subject.global;\n    support.appElement = element;\n    support.isApp = true;\n    global.isApp = true;\n    element.destroy = () => {\n        support.destroy(); // never return anything here\n    };\n    global.insertBefore = placeholder // template\n    ;\n    global.placeholder = placeholder;\n    const newFragment = support.buildBeforeElement(undefined);\n    const children = newFragment.children;\n    subject.global.oldest = support;\n    subject.global.newest = support;\n    let setUse = wrapper.setUse;\n    let tags = wrapper.tags;\n    if (wrapper.tagJsType !== ValueTypes.stateRender) {\n        const wrap = app;\n        const parentWrap = wrap.parentWrap;\n        const original = wrap.original || parentWrap.original;\n        setUse = original.setUse;\n        tags = app.original.tags;\n    }\n    ;\n    element.setUse = setUse;\n    appElements.push({ element, support });\n    element.appendChild(newFragment);\n    afterChildrenBuilt(children, subject, support);\n    return {\n        support,\n        tags,\n    };\n}\nexport function runWrapper(templater, insertBefore, placeholder) {\n    let newSupport = {};\n    // TODO: A fake subject may become a problem\n    const subject = new TagJsSubject(templater);\n    newSupport = new BaseSupport(templater, subject);\n    subject.global.insertBefore = insertBefore;\n    subject.global.placeholder = placeholder;\n    subject.global.oldest = subject.global.oldest || newSupport;\n    subject.support = newSupport;\n    let nowSupport = newSupport;\n    runBeforeRender(newSupport, undefined);\n    if (templater.tagJsType === ValueTypes.stateRender) {\n        // nowSupport = newSupport\n        // ;(templater as any as TemplaterResult).tag = (templater as any)() as (StringTag | DomTag)\n        const stateArray = setUse.memory.stateConfig.array;\n        const result = templater.wrapper || { original: templater };\n        nowSupport = executeWrap(stateArray, templater, result, newSupport, subject, newSupport);\n    }\n    else {\n        // Call the apps function for our tag templater\n        const wrapper = templater.wrapper;\n        nowSupport = wrapper(newSupport, subject);\n    }\n    runAfterRender(newSupport, nowSupport);\n    return nowSupport;\n}\n//# sourceMappingURL=tagElement.js.map","export * from './tag/index.js';\nexport * from './errors.js';\nexport * from './subject.types.js';\nexport * from './isInstance.js';\nexport * from './state/index.js';\nexport * from './subject/index.js';\nexport * from './tag/Support.class.js';\nexport * from './interpolations/ElementTargetEvent.interface.js';\nexport * from './interpolations/InsertBefore.type.js';\nexport { tagElement } from './tag/tagElement.js';\nexport { Tag, StringTag, DomTag, variablePrefix } from './tag/Tag.class.js';\nexport { runBeforeRender } from './tag/tagRunner.js';\nexport { renderSupport } from './tag/render/renderSupport.function.js';\nexport { renderWithSupport } from './tag/render/renderWithSupport.function.js';\nexport { isLikeValueSets } from './tag/isLikeTags.function.js';\nimport { renderTagOnly } from './tag/render/renderTagOnly.function.js';\nimport { renderSupport } from './tag/render/renderSupport.function.js';\nimport { renderWithSupport } from './tag/render/renderWithSupport.function.js';\nimport { tagElement } from './tag/tagElement.js';\nexport { key } from './tag/key.js';\nexport const hmr = {\n    tagElement, renderWithSupport, renderSupport,\n    renderTagOnly,\n};\n//# sourceMappingURL=index.js.map","import { html, letState, tag } from \"taggedjs\";\nexport const attributeDebug = tag(() => {\n    let selected = letState('a')(x => [selected, selected = x]);\n    let isOrange = letState(true)(x => [isOrange, isOrange = x]);\n    return html.dom(allStrings[0], (event) => selected = event.target.value, ['a', 'b', 'c'].map(item => html.dom(allStrings[1], item, item == selected ? 'selected' : '', item, item == selected ? 'true' : 'false').key(item)), (event) => isOrange = event.target.checked, isOrange && 'checked', isOrange ? 'true' : 'false', isOrange ? 'orange' : '', isOrange ? 'black' : '', isOrange ? true : false, isOrange ? true : false, isOrange ? 'background-orange text-black' : '', { class: 'text-white' + (isOrange ? ' background-orange' : '') });\n});\nconst allStrings = [[{ \"nodeName\": \"input\", \"attributes\": [[\"onchange\", \":tagvar0:\"], [\"placeholder\", \"a b or c\"]] }, { \"nodeName\": \"select\", \"attributes\": [[\"id\", \"select-sample-drop-down\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Special Attributes\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [\"onchange\", \":tagvar1:\"], [\":tagvar3:\"]] }, { \"nodeName\": \"text\", \"textContent\": \" - \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display: flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style.background-color\", \":tagvar2:\"], [\"style.color\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"style.background-color=&dollar;{'orange'}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class.background-orange\", \":tagvar4:\"], [\"class.text-black\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class.background-orange=&dollar;{true}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class=&dollar;{'background-orange text-black'}\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\":tagvar10:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"class=&dollar;{'background-orange'} but always white\" }] }] }, { \"nodeName\": \"style\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \".background-orange {background-color:orange}\\n      .text-black {color:black}\\n      .text-white {color:white}\" }] }], [{ \"nodeName\": \"option\", \"attributes\": [[\"value\", \":tagvar0:\"], [\":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }, { \"nodeName\": \"text\", \"textContent\": \" - \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }]];\n","import { html, tag, letState, ValueSubject, state, combineLatest, willPromise } from \"taggedjs\";\nexport const contentDebug = tag(() => {\n    const vs0 = state(() => new ValueSubject(0));\n    const vs1 = state(() => new ValueSubject(1));\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    const dom = [{ nodeName: 'b', children: [{\n                    nodeName: 'text',\n                    textContent: 'big',\n                }] }];\n    let orangeToggle = letState(true)(x => [orangeToggle, orangeToggle = x]);\n    return html.dom(allStrings[0], html.dom(dom), html.dom(allStrings[1]), \"3px solid orange\", orangeToggle ? \"3px solid orange\" : \"3px solid green\", () => orangeToggle = !orangeToggle, orangeToggle, 54, 'hello', 0, false, null, undefined, true, '{', '}', '{', '}', '<div>hello</div>', vs0, vs0.pipe(() => 55), combineLatest([vs0, vs1]).pipe(x => x[1]), combineLatest([vs0, vs1]).pipe(willPromise(x => Promise.resolve(html.dom(allStrings[2])))), renderCount);\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- content-debug-testing -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"hello-big-dom-world\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" world\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"hello-big-string-world\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"text\", \"textContent\": \" world\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"style-simple-border-orange\"], [\"style.border\", \"3px solid orange\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"simple orange border\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"style-var-border-orange\"], [\"style.border\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"var orange border\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"style-toggle-border-orange\"], [\"style.border\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle orange border\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"toggle-border-orange\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"orange toggle \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"hello-spacing-dom-world\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }, { \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }, { \"nodeName\": \"text\", \"textContent\": \" worlds\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em;font-size:0.8em\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"zero test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.0 You should see \\\"0\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you cannot see false values -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"false test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.1 You should see \\\"\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.2 You should see \\\"\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"undefined test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.3 You should see \\\"\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you can see true booleans -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"true test\" }] }, { \"nodeName\": \"text\", \"textContent\": \"P.4 You should see \\\"true\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--proof you can try to use the tagVar syntax -->\" }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"P.5 You should see \\\"{22}\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }, { \"nodeName\": \"text\", \"textContent\": \"22\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"P.6 You should see \\\"\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }, { \"nodeName\": \"text\", \"textContent\": \"__tagVar0\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\\" here => \\\"{__tagVar0}\\\"\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"should be a safe string no html \\\"&lt;div&gt;hello&lt;/div&gt;\\\" here => \\\"\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar17:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\\"\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"value subject\" }] }, { \"nodeName\": \"text\", \"textContent\": \"0 === \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar18:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"piped subject\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-subject-pipe-display0\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"55\" }] }, { \"nodeName\": \"text\", \"textContent\": \"&nbsp;===&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-subject-pipe-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar19:\" }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"combineLatest\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipe-display0\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"1\" }] }, { \"nodeName\": \"text\", \"textContent\": \"&nbsp;===&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipe-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar20:\" }] }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex-grow:1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"combineLatest piped html\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipeHtml-display0\"]], \"children\": [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"bold 77\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"&nbsp;===&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"content-combineLatest-pipeHtml-display1\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar21:\" }] }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \"(render count \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar22:\" }, { \"nodeName\": \"text\", \"textContent\": \")\\n  \" }], [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"big\" }] }], [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"bold 77\" }] }]];\n","export function willCallback(callback) {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        });\n        callback(lastValue, utils.next);\n    });\n}\n/** .pipe( promise((x) => Promise.resolve(44)) ) */\nexport function willPromise(callback) {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        }); // do nothing on initial return\n        const result = callback(lastValue);\n        result.then(x => utils.next(x));\n    });\n}\n/** .pipe( willSubscribe((x) => new ValueSubject(44)) ) */\nexport const willSubscribe = (callback) => {\n    return ((lastValue, utils) => {\n        utils.setHandler(() => {\n            return undefined;\n        }); // do nothing on initial return\n        const result = callback(lastValue);\n        const subscription = result.subscribe(x => {\n            subscription.unsubscribe();\n            utils.next(x);\n        });\n    });\n};\n//# sourceMappingURL=will.functions.js.map","import { html, tag, letState } from \"taggedjs\";\nexport const tableDebug = tag(() => {\n    let showCell = letState(true)(x => [showCell, showCell = x]);\n    return html.dom(allStrings[0], 5, 5, showCell && html.dom(allStrings[1]), showCell && html.dom(allStrings[2]));\n});\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"max-height: 800px;overflow-y: scroll;\"]], \"children\": [{ \"nodeName\": \"table\", \"attributes\": [[\"cellpadding\", \":tagvar0:\"], [\"cellspacing\", \":tagvar1:\"], [\"border\", \"1\"]], \"children\": [{ \"nodeName\": \"thead\", \"attributes\": [[\"style\", \"position: sticky;top: 0;\"]], \"children\": [{ \"nodeName\": \"tr\", \"children\": [{ \"nodeName\": \"th\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello\" }] }, { \"nodeName\": \"th\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"tbody\", \"children\": [{ \"nodeName\": \"tr\", \"children\": [{ \"nodeName\": \"td\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world\" }] }, { \"nodeName\": \"td\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }] }] }] }], [{ \"nodeName\": \"td\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello 2 thead cell\" }] }], [{ \"nodeName\": \"td\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"world 2 tbody cell\" }] }]];\n","import { letState, html, tag, onInit, callbackMaker, onDestroy } from \"taggedjs\";\nconst test0interval = 3000;\nconst test1interval = 6000;\nexport const intervalTester0 = tag(() => {\n    let intervalCount = letState(0)(x => [intervalCount, intervalCount = x]);\n    let intervalId = letState(undefined)(x => [intervalId, intervalId = x]);\n    let intervalId2 = letState(undefined)(x => [intervalId2, intervalId2 = x]);\n    let renderCounter = letState(0)(x => [renderCounter, renderCounter = x]);\n    let currentTime = letState(0)(x => [currentTime, currentTime = x]);\n    const callback = callbackMaker();\n    const increase = () => ++intervalCount;\n    const startInterval = () => {\n        console.info('🟢 interval test 0 started...');\n        trackTime();\n        intervalId = setInterval(callback(() => {\n            increase();\n        }), test0interval);\n    };\n    const stopInterval = () => {\n        clearInterval(intervalId);\n        clearInterval(intervalId2);\n        intervalId = undefined;\n        intervalId2 = undefined;\n        console.info('🛑 interval test 0 stopped');\n    };\n    function trackTime() {\n        currentTime = 0;\n        intervalId2 = setInterval(callback(() => {\n            currentTime = currentTime + 500;\n            if (currentTime >= test0interval) {\n                currentTime = 0;\n            }\n        }), 500);\n        console.info('▶️ interval started');\n    }\n    const toggle = () => {\n        if (intervalId || intervalId2) {\n            stopInterval();\n            return;\n        }\n        startInterval();\n    };\n    const delayIncrease = () => setTimeout(callback(() => {\n        currentTime = currentTime + 200;\n    }), 1000);\n    onInit(startInterval);\n    onDestroy(stopInterval);\n    ++renderCounter;\n    return html.dom(allStrings[0], test0interval, intervalId, increase, intervalCount, renderCounter, test0interval, currentTime, currentTime, toggle, intervalId || intervalId2 ? 'red' : 'green', delayIncrease);\n});\nexport const intervalTester1 = tag(() => {\n    let intervalCount = letState(0)(x => [intervalCount, intervalCount = x]);\n    let intervalId = letState(undefined)(x => [intervalId, intervalId = x]);\n    let intervalId2 = letState(undefined)(x => [intervalId2, intervalId2 = x]);\n    let renderCounter = letState(0)(x => [renderCounter, renderCounter = x]);\n    let currentTime = letState(0)(x => [currentTime, currentTime = x]);\n    const callback = callbackMaker();\n    const increase = () => ++intervalCount;\n    function trackTime() {\n        currentTime = 0;\n        intervalId2 = setInterval(callback(() => {\n            currentTime = currentTime + 500;\n            if (currentTime >= test1interval) {\n                currentTime = 0;\n            }\n        }), 500);\n    }\n    const destroy = () => {\n        clearInterval(intervalId);\n        clearInterval(intervalId2);\n        intervalId = undefined;\n        intervalId2 = undefined;\n        console.info('🔴 interval 1 stopped');\n    };\n    function toggleInterval() {\n        if (intervalId) {\n            return destroy();\n        }\n        console.info('🟢 interval test 1 started...');\n        trackTime();\n        intervalId = setInterval(callback(() => {\n            increase();\n            console.info('slow interval ran');\n        }), test1interval);\n    }\n    onInit(toggleInterval);\n    onDestroy(destroy);\n    ++renderCounter;\n    return html.dom(allStrings[1], test1interval, intervalId, increase, intervalCount, renderCounter, test1interval, currentTime, currentTime, toggleInterval, intervalId ? 'red' : 'green');\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--intervalDebug.js-->\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"interval type 1 at \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }, { \"nodeName\": \"text\", \"textContent\": \"intervalId: \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"range\"], [\"min\", \"0\"], [\"max\", \":tagvar1:\"], [\"step\", \"1\"], [\"value\", \":tagvar2:\"]] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"--\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }, { \"nodeName\": \"text\", \"textContent\": \"--\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar3:\"], [\"style.background-color\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"start/stop\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"delay increase currentTime\" }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"interval type 2 with \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }, { \"nodeName\": \"text\", \"textContent\": \"intervalId: \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"range\"], [\"min\", \"0\"], [\"max\", \":tagvar1:\"], [\"step\", \"1\"], [\"value\", \":tagvar2:\"]] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"--\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }, { \"nodeName\": \"text\", \"textContent\": \"--\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar3:\"], [\"style.background-color\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"start/stop\" }] }]];\n","export function createFx({ fxIn, fxOut, staggerBy = 300, }) {\n    return {\n        in: (input) => animateInit({ fxName: fxIn, staggerBy, ...input }),\n        out: (input) => animateDestroy({ fxName: fxOut, staggerBy, capturePosition: true, ...input }),\n    };\n}\nconst animateInit = async ({ target, stagger, staggerBy, fxName = 'fadeInDown' }) => {\n    target.style.opacity = '0';\n    if (stagger) {\n        await wait(stagger * staggerBy);\n    }\n    target.style.opacity = '1';\n    target.classList.add('animate__animated', 'animate__' + fxName);\n};\nconst animateDestroy = async ({ target, stagger, capturePosition = true, fxName = 'fadeOutUp', staggerBy }) => {\n    if (capturePosition) {\n        captureElementPosition(target);\n    }\n    if (stagger) {\n        await wait(stagger * staggerBy);\n    }\n    target.classList.add('animate__animated', 'animate__' + fxName);\n    await wait(1000); // don't allow remove from stage until animation completed\n    target.classList.remove('animate__animated', 'animate__' + fxName);\n};\n// absolute\nexport function captureElementPosition(element) {\n    element.style.zIndex = element.style.zIndex || 1;\n    const toTop = element.offsetTop + 'px';\n    const toLeft = element.offsetLeft + 'px';\n    const toWidth = (element.clientWidth + (element.offsetWidth - element.clientWidth) + 1) + 'px';\n    const toHeight = (element.clientHeight + (element.offsetHeight - element.clientHeight) + 1) + 'px';\n    const fix = () => {\n        element.style.top = toTop;\n        element.style.left = toLeft;\n        element.style.width = toWidth;\n        element.style.height = toHeight;\n        element.style.position = 'absolute';\n    };\n    // element.style.position = 'fixed'\n    // allow other elements that are being removed to have a moment to figure out where they currently sit\n    setTimeout(fix, 0);\n}\nfunction wait(time) {\n    return new Promise((res) => {\n        setTimeout(res, time);\n    });\n}\n//# sourceMappingURL=createFx.function.js.map","import { createFx } from \"./createFx.function.js\";\nexport const { in: fadeInDown, out: fadeOutUp } = createFx({ fxIn: 'fadeInDown', fxOut: 'fadeOutUp' });\n//# sourceMappingURL=index.js.map","import { intervalTester0, intervalTester1 } from \"./intervalDebug\";\nimport { html, tag, letState } from \"taggedjs\";\nimport { fadeInDown, fadeOutUp } from \"./animations\";\nexport const tagDebug = tag(() => {\n    let _firstState = letState('tagJsDebug.js')(x => [_firstState, _firstState = x]);\n    let showIntervals = letState(false)(x => [showIntervals, showIntervals = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[0], () => showIntervals = !showIntervals, showIntervals && html.dom(allStrings[1], fadeInDown, fadeOutUp, intervalTester0(), intervalTester1()));\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- tagDebug.js -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"debug-intervals\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Interval Testing\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hide/show\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }] }]];\n","import { tag, html } from \"taggedjs\";\nexport const renderCountDiv = tag(({ renderCount, name }) => html.dom(allStrings[0], name, name + '_render_count', renderCount));\nconst allStrings = [[{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" render count \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }]];\n","import { html, tag, letState } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nexport const tagSwitchDebug = tag((_t = 'tagSwitchDebug') => {\n    let selectedTag = letState(null)(x => [selectedTag, selectedTag = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    function changeSelectedTag(event) {\n        selectedTag = event.target.value;\n        if (selectedTag === 'undefined') {\n            selectedTag = undefined;\n        }\n        if (selectedTag === 'null') {\n            selectedTag = null;\n        }\n    }\n    let tagOutput = 'select tag below';\n    switch (selectedTag) {\n        case null:\n            tagOutput = 'null, select tag below';\n            break;\n        case \"\":\n            tagOutput = html.dom(allStrings[0]);\n            break;\n        case '1':\n            tagOutput = tag1({ title: 'value switch' });\n            break;\n        case '2':\n            tagOutput = tag2({ title: 'value switch' });\n            break;\n        case '3':\n            tagOutput = tag3({ title: 'value switch' });\n            break;\n    }\n    let tagOutput2 = html.dom(allStrings[1]);\n    switch (selectedTag) {\n        case null:\n            tagOutput2 = html.dom(allStrings[2]);\n            break;\n        case \"\":\n            tagOutput2 = html.dom(allStrings[3]);\n            break;\n        case '1':\n            tagOutput2 = tag1({ title: 'tag switch' });\n            break;\n        case '2':\n            tagOutput2 = tag2({ title: 'tag switch' });\n            break;\n        case '3':\n            tagOutput2 = tag3({ title: 'tag switch' });\n            break;\n    }\n    ++renderCount;\n    return html.dom(allStrings[4], selectedTag === null && 'null' ||\n        selectedTag === undefined && 'undefined' ||\n        selectedTag === '' && 'empty-string' ||\n        selectedTag, changeSelectedTag, typeof (selectedTag) === 'string' && !selectedTag.length ? { selected: true } : {}, selectedTag === undefined ? { selected: true } : {}, selectedTag === null ? { selected: true } : {}, selectedTag === '1' ? { selected: true } : {}, selectedTag === '2' ? { selected: true } : {}, selectedTag === '3' ? { selected: true } : {}, tagOutput, tagOutput2, selectedTag === '3' ? tag3({ title: 'ternary simple' }) : tag1({ title: 'ternary simple' }), ternaryPropTest({ selectedTag }), arraySwitching({ selectedTag }), renderCountDiv({ renderCount, name: 'tagSwitchDebug' }));\n});\nexport const ternaryPropTest = tag(({ selectedTag }) => {\n    const outTag = selectedTag === '3' ? tag3({ title: 'ternaryPropTest' }) : tag1({ title: 'ternaryPropTest' });\n    return html.dom(allStrings[5], selectedTag, outTag);\n});\nexport const tag1 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[6], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const tag2 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[7], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const tag3 = tag(({ title }) => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[8], title, () => ++counter, counter, renderCountDiv({ renderCount, name: 'tag1' }));\n});\nexport const arraySwitching = tag(({ selectedTag }) => {\n    switch (selectedTag) {\n        case undefined:\n            return html.dom(allStrings[9]);\n        case null:\n            return html.dom(allStrings[10]);\n        case '':\n            // TODO: ??? should be empty string\n            return html.dom(allStrings[11]); // tests how .previousSibling works\n        case '1':\n            return html.dom(allStrings[12], tag1({ title: `tag ${selectedTag}` }));\n        case '2':\n            return html.dom(allStrings[13], ['b', 'c'].map(x => html.dom(allStrings[14], tag2({ title: `array ${selectedTag} ${x}` })).key(x)));\n        case '3':\n            return html.dom(allStrings[15], ['d', 'e', 'f'].map(x => html.dom(allStrings[16], tag3({ title: `array ${selectedTag} ${x}` })).key(x)));\n    }\n    return html.dom(allStrings[17]);\n});\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"empty-string-1\"]] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null, select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"select-tag-above\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"empty-string, select tag above\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"selectTag-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"selectedTag: |\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \"|\" }] }, { \"nodeName\": \"select\", \"attributes\": [[\"id\", \"tag-switch-dropdown\"], [\"onchange\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"option\" }, { \"nodeName\": \"text\", \"textContent\": \"<!-- TODO: implement selected attribute --->\" }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \":tagvar1:\"], [\":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"empty-string\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"undefined\"], [\":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"undefined\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"null\"], [\":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"null\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"1\"], [\":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 1\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"2\"], [\":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 2\" }] }, { \"nodeName\": \"option\", \"attributes\": [[\"value\", \"3\"], [\":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tag 3\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"switch-tests-wrap\"], [\"style\", \"display:flex;flex-wrap:wrap;gap:1em;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 1 - string | Tag\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 2 - Tag\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 3 - ternary (only 1 or 3 shows)\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid blue;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 3.2 - ternary via prop (only 1 or 3 shows)\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"arraySwitching-test-wrap\"], [\"style\", \"border:1px solid red;flex-grow:1\"]], \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Test 4 - arraySwitching\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"arraySwitching-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"ternaryPropTest-wrap\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag1\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-1-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 1 \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag2\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-2-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 2 \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tag3\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagSwitch-3-hello\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Hello 3 \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" World\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"its an undefined value\" }], [{ \"nodeName\": \"text\", \"textContent\": \"its a null value\" }], [{ \"nodeName\": \"text\", \"textContent\": \"space\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \"nothing to show for in arrays\" }]];\n","import { html, tag, letState } from \"taggedjs\";\nexport const mirroring = tag(() => {\n    const tag = tagCounter();\n    return html.dom(allStrings[0], tag, tag);\n});\nconst tagCounter = () => {\n    let counter = letState(0)(x => [counter, counter = x]);\n    return html.dom(allStrings[1], counter, () => ++counter, counter);\n};\nconst allStrings = [[{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter0\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter1\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n    counter:\" }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🪞\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"mirror-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"mirror-counter-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }]];\n","import { html, letState, tag, isSubjectInstance, isTagArray } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nexport const innerHtmlTest = tag((_props, b, children) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let counter = letState(0)(x => [counter, counter = x]);\n    ++renderCount;\n    return html.dom(allStrings[0], children, isSubjectInstance(children), isTagArray(children), () => ++counter, counter, counter, renderCountDiv({ renderCount, name: 'innerHtmlTest' }));\n});\nexport const innerHtmlPropsTest = tag((x, children) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let counter = letState(0)(x => [counter, counter = x]);\n    ++renderCount;\n    return html.dom(allStrings[1], x, children, () => ++counter, counter, counter, /*renderCountDiv(renderCount)*/ false);\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--innerHtmlTests.js-->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"innerHtmlTests-1\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"no props test\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:2px solid purple;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"isSubjectInstance:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"isSubjectTagArray:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlTest-counter-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase innerHtmlTest \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlTest-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--innerHtmlTests.js-->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"innerHtmlTests-2\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"innerHTML Props: \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase innerHtmlPropsTest \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { innerHtmlPropsTest, innerHtmlTest } from \"./innerHtmlTests.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nconst test22 = tag((a, b, children) => html.dom(allStrings[0], a, b, children));\nexport const childTests = tag((_ = 'childTests') => (renderCount = letState(0)(x => [renderCount, renderCount = x]), counter = letState(0)(x => [counter, counter = x]), _ = ++renderCount) => html.dom(allStrings[1], test22(1, 2, html.dom(allStrings[2], Date.now())), innerHtmlTest({}, 2, html.dom(allStrings[3], () => ++counter, counter, renderCount, counter, renderCountDiv({ renderCount, name: 'childTests-innerHtmlTest' }))), innerHtmlPropsTest(22, html.dom(allStrings[4], () => ++counter, counter, counter, renderCountDiv({ renderCount, name: 'innerHtmlPropsTest child' }))), childAsPropTest({ child: html.dom(allStrings[5], () => ++counter, counter, counter) }), () => ++counter, counter, renderCount, counter, renderCountDiv({ renderCount, name: 'childTests' })));\nfunction childAsPropTest({ child }) {\n    return html.dom(allStrings[6], child);\n}\nconst allStrings = [[{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"xxxxx\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hello other world \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" - \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:2px solid red;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"***\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }, { \"nodeName\": \"text\", \"textContent\": \"***\" }] }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"children-test\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"childTests\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"childTests-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐮 increase childTests outside \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }, { \"nodeName\": \"text\", \"textContent\": \" - \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \"abc-123-\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"hr\" }] }], [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Field set body A\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlTest-childTests-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐮 (A) increase childTests inside \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlTest-childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }], [{ \"nodeName\": \"b\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Field set body B\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-childTests-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐮 (B) increase childTests inside \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"innerHtmlPropsTest-childTests-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n      hello child as prop test\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"child-as-prop-test-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐮 child as prop \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"child-as-prop-test-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }], [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child as prop\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }]];\n","import { html, letState, tag } from 'taggedjs';\nexport const mouseOverTag = tag(({ label, memory, }) => {\n    let mouseOverEditShow = letState(false)(x => [mouseOverEditShow, mouseOverEditShow = x]);\n    let edit = letState(false)(x => [edit, edit = x]);\n    return html.dom(allStrings[0], () => mouseOverEditShow = true, () => mouseOverEditShow = false, label, memory.counter, mouseOverEditShow || 'false', () => ++memory.counter, (edit || mouseOverEditShow) ? 'visible' : 'hidden', () => edit = !edit);\n});\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"background-color:purple;padding:.2em;flex:1\"], [\"onmouseover\", \":tagvar0:\"], [\"onmouseout\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mouseover - \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++counter\" }] }, { \"nodeName\": \"a\", \"attributes\": [[\"style.visibility\", \":tagvar3:\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"⚙️&nbsp;\" }] }] }]];\n","import { mouseOverTag } from \"./mouseover.tag.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nimport { html, tag, Subject, onInit, letState, callbackMaker, state, ValueSubject, callback, subject } from \"taggedjs\";\nconst loadStartTime = Date.now();\nexport const counters = tag(({ appCounterSubject }) => (readStartTime = state(() => Date.now())) => {\n    state('countersDebug state');\n    let counter = letState(0)(x => [counter, counter = x]);\n    let propCounter = letState(0)(x => [propCounter, propCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let initCounter = letState(0)(x => [initCounter, initCounter = x]);\n    let memory = state(() => ({ counter: 0 }));\n    const callbacks = callbackMaker();\n    const callbackTestSub = state(() => new Subject(counter));\n    const pipedSubject0 = state(() => new ValueSubject('222'));\n    const pipedSubject1 = Subject.all([pipedSubject0, callbackTestSub]).pipe(callback(x => {\n        return counter;\n    }));\n    const pipedSubject2 = subject.all([pipedSubject0, callbackTestSub]).pipe(x => counter);\n    onInit(() => {\n        ++initCounter;\n        console.info('countersDebug.ts: 👉 i should only ever run once');\n        callbackTestSub.subscribe(callbacks(y => {\n            counter = y;\n        }));\n    });\n    // State as a callback only needed so pipedSubject1 has the latest value\n    const increaseCounter = () => {\n        ++counter;\n        pipedSubject0.next('333-' + counter);\n    };\n    const increasePropCounter = () => {\n        ++propCounter;\n    };\n    ++renderCount; // for debugging\n    const sharedMemory = true;\n    const testInnerCounters = true;\n    const displayRenderCounters = true;\n    const testBasics = true;\n    return html.dom(allStrings[0], testBasics && html.dom(allStrings[1], Subject.globalSubCount$, () => console.info('subs', Subject.globalSubs), initCounter, () => appCounterSubject.next((appCounterSubject.value || 0) + 1), appCounterSubject.value, appCounterSubject.value, increaseCounter, counter, counter, counter > 1 && html.dom(allStrings[2], increaseCounter, counter, counter), e => (counter = Number(e.target.value) || 0), increasePropCounter, propCounter, propCounter, () => callbackTestSub.next(counter + 1), counter, callbackTestSub), pipedSubject1, pipedSubject2, sharedMemory && html.dom(allStrings[3], true, mouseOverTag({ label: 'a-a-😻', memory }), mouseOverTag({ label: 'b-b-😻', memory }), memory.counter, () => ++memory.counter), testInnerCounters && html.dom(allStrings[4], innerCounters({ propCounter, increasePropCounter })), displayRenderCounters && renderCountDiv({ renderCount, name: 'counters' }), event => event.target.innerText = (Date.now() - loadStartTime).toString(), event => event.target.innerText = (Date.now() - readStartTime).toString());\n});\nconst innerCounters = tag(({ propCounter, increasePropCounter, }) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount; // for debugging\n    return html.dom(allStrings[5], increasePropCounter, propCounter, propCounter, renderCount, renderCountDiv({ renderCount, name: 'inner_counters' }));\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--counters-->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🪈 pipedSubject 1\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🪈-pipedSubject\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🪈 pipedSubject 2\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🪈-pipedSubject-2\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"font-size:0.8em;opacity:0.8\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"⌚️ page load to display in&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"oninit\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-\" }] }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"font-size:0.8em;opacity:0.8\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"⌚️ read in&nbsp;\" }, { \"nodeName\": \"span\", \"attributes\": [[\"oninit\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-\" }] }, { \"nodeName\": \"text\", \"textContent\": \"ms\" }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"👉 Subscriptions:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"👉-counter-sub-count\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"log subs\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"initCounter:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"app-counter-subject-button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍒 ++app subject\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍒 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counters-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍒 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counters-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"standalone-counter\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"stand alone counters:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🥦 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"standalone-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }, { \"nodeName\": \"input\", \"attributes\": [[\"id\", \"set-main-counter-input\"], [\"onkeyup\", \":tagvar3:\"]] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"❤️-increase-counter\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"❤️ propCounter:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"❤️ \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"❤️-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"🥦-subject-increase-counter\"], [\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"subject increase:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🥦 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🥦-subject-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }] }, { \"nodeName\": \"text\", \"textContent\": \"🥦 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"subject-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }] }] }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"conditional-counter\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"conditional counter:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🥦 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"conditional-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }], [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"shared memory\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"class.bold.text-blue\", \":tagvar0:\"], [\"style\", \"display:flex;flex-wrap:wrap;gap:.5em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n          \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \"memory.counter:😻\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase 😻\" }] }] }], [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"inner counter\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"❤️-inner-counter\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"❤️ propCounter:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"❤️ \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"❤️-inner-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }]];\n","import { html, tag } from \"taggedjs\";\nexport const dialog = tag((providerClass) => html.dom(allStrings[0], () => providerClass.showDialog = false, providerClass.showDialog ? html.dom(allStrings[1], JSON.stringify(providerClass, null, 2)) : 'no dialog'));\nconst allStrings = [[{ \"nodeName\": \"dialog\", \"attributes\": [[\"id\", \"provider_debug_dialog\"], [\"style\", \"padding:0\"], [\"onmousedown\", \"var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()\"], [\"ondragstart\", \"const {e,dt,t} = {t:this,e:event,dt:event.dataTransfer};const d=t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)=>e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'\"], [\"ondrag\", \"const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';\"], [\"ondragend\", \"const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false\"], [\"onclose\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"padding:.25em\"], [\"onmousedown\", \"this.parentNode.draggable=true\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"dialog title\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"padding:.25em\"]], \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \"provider_debug_dialog.close()\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🅧 close\" }] }] }] }], [{ \"nodeName\": \"textarea\", \"attributes\": [[\"wrap\", \"off\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }]];\n","import { fadeInDown, fadeOutUp } from \"./animations.js\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nimport { dialog } from \"./providerDialog.tag.js\";\nimport { letState, html, tag, providers, state, callbackMaker, Subject, onInit } from \"taggedjs\";\nexport class TagDebugProvider {\n    constructor() {\n        this.tagDebug = 0;\n        this.showDialog = false;\n    }\n}\nconst ProviderFunc = () => ({ counter: 0 });\nexport function tagDebugProvider() {\n    const upper = providers.create(upperTagDebugProvider);\n    return {\n        upper,\n        test: 0\n    };\n}\nexport function upperTagDebugProvider() {\n    return {\n        name: 'upperTagDebugProvider',\n        test: 0\n    };\n}\nexport const providerDebugBase = tag((_x = 'providerDebugBase') => {\n    // providerDebugBase, has provider\n    providers.create(ProviderFunc); // test that an arrow function can be a provider\n    const providerClass = providers.create(TagDebugProvider);\n    const provider = providers.create(tagDebugProvider);\n    const test = letState('props debug base');\n    let propCounter = letState(0)(x => [propCounter, propCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    if (providerClass.showDialog) {\n        document.getElementById('provider_debug_dialog').showModal();\n    }\n    ++renderCount;\n    return html.dom(allStrings[0], provider.test, provider.upper?.test || '?', providerClass.tagDebug || '?', () => ++provider.test, provider.test, provider.test, () => ++provider.upper.test, provider.upper.test, provider.upper.test, () => ++providerClass.tagDebug, providerClass.tagDebug, providerClass.tagDebug, () => ++propCounter, propCounter, propCounter, () => providerClass.showDialog = true, providerClass.showDialog, providerDebug({\n        propCounter,\n        propCounterChange: x => {\n            propCounter = x;\n        }\n    }), renderCount, renderCountDiv({ renderCount, name: 'providerDebugBase' }), dialog(providerClass), /*tagSwitchingWithProvider()*/ false);\n});\nconst tagSwitchingWithProvider = tag(() => (upperProvider = providers.inject(upperTagDebugProvider)) => html.dom(allStrings[1], () => ++upperProvider.test, upperProvider.test, upperProvider.test, upperProvider.test % 2 == 0 ? 'off' : 'on', tagSwitchingProChild1(), upperProvider.test % 2 == 0 ? null : tagSwitchingProChild2()));\nconst tagSwitchingProChild1 = tag(() => (upperProvider = providers.inject(upperTagDebugProvider)) => upperProvider.test % 2 == 0 ? null : html.dom(allStrings[2], () => ++upperProvider.test, upperProvider.test, upperProvider.test));\nconst tagSwitchingProChild2 = tag(() => (upperProvider = providers.inject(upperTagDebugProvider)) => html.dom(allStrings[3], () => ++upperProvider.test, upperProvider.test, upperProvider.test));\nconst providerDebug = tag(({ propCounter, propCounterChange, }) => {\n    const funcProvider = providers.inject(ProviderFunc); // test that an arrow function can be a provider\n    const provider = providers.inject(tagDebugProvider);\n    const providerClass = providers.inject(TagDebugProvider);\n    const upperProvider = providers.inject(upperTagDebugProvider);\n    let showProProps = letState(false)(x => [showProProps, showProProps = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    // let propCounter: number = letState(0)(x => [propCounter, propCounter = x])\n    const callbacks = callbackMaker();\n    const callbackTestSub = state(() => new Subject());\n    onInit(() => {\n        console.info('providerDebug.ts: 👉 👉 i should only ever run once');\n        callbackTestSub.subscribe(x => {\n            callbacks((y) => {\n                provider.test = x;\n            })();\n        });\n    });\n    ++renderCount;\n    return html.dom(allStrings[4], () => ++provider.test, provider.test, provider.test, () => ++upperProvider.test, upperProvider.test, upperProvider.test, () => ++funcProvider.counter, funcProvider.counter, funcProvider.counter, () => callbackTestSub.next(provider.test + 1), provider.test, () => ++providerClass.tagDebug, providerClass.tagDebug, providerClass.tagDebug, () => propCounterChange(++propCounter), propCounter, propCounter, () => providerClass.showDialog = true, providerClass.showDialog, () => showProProps = !showProProps, showProProps ? 'hide' : 'show', showProProps && html.dom(allStrings[5], fadeInDown, fadeOutUp, testProviderAsProps(providerClass)), renderCount, renderCountDiv({ renderCount, name: 'providerDebugInner' }));\n});\nconst testProviderAsProps = tag((providerClass) => {\n    return html.dom(allStrings[6], JSON.stringify(providerClass, null, 2));\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js-->\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"provider.test sugar-daddy-77\" }] }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"provider.upper?.test\" }] }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"providerClass.tagDebug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-🍌-0-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍌 increase provider.test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍌 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-🍌-0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-upper-🌹-0-button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹 increase upper.provider.test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-upper-🌹-0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-🍀-0-button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍀 increase provider class \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍀 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-🍀-0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-prop-🐷-0-button\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐷 increase propCounter \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐷 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-prop-🐷-0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"💬 toggle dialog \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }] }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar17:\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \"renderCount outer:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"name\", \"render_count_outer\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar18:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar19:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar20:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    TODOTODOTODOTODO\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar21:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch-🌹-0-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹 increase switch.provider.test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch-🌹-0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"statue:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch-🌹-1-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹 increase switch.provider.test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch-🌹-1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-switch-🌹-2-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹 increase switch.provider.test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-switch-🌹-2-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js-->\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-🍌-1-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍌 increase provider.test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍌 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-🍌-1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-upper-🌹-1-button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹 increase upper.provider.test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🌹\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-upper-🌹-1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-arrow-provider-⚡️-1-button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"⚡️ increase upper.provider.test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"⚡️\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-arrow-provider-⚡️-1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"subject-increase-counter\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍌 subject increase:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍌 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"subject-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-provider-🍀-1-button\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍀 increase provider class \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍀 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-provider-🍀-1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"increase-prop-🐷-1-button\"], [\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐷 increase propCounter \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐷 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"increase-prop-🐷-1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"💬 toggle dialog \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar18:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar7:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar20:\" }, { \"nodeName\": \"text\", \"textContent\": \" provider as props\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar21:\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount inner:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar22:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n      \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar23:\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"hr\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Provider as Props\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--providerDebug.js@TestProviderAsProps-->\" }, { \"nodeName\": \"textarea\", \"attributes\": [[\"wrap\", \"off\"], [\"rows\", \"20\"], [\"style\", \"width:100%;font-size:0.6em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }]];\n","import { watch, letState, html, tag } from \"taggedjs\";\nexport const watchTesting = tag(() => (stateNum = letState(0)(x => [stateNum, stateNum = x]), stateNumChangeCount = letState(0)(x => [stateNumChangeCount, stateNumChangeCount = x]), _ = watch([stateNum], () => ++stateNumChangeCount), slowChangeCount = letState(0)(x => [slowChangeCount, slowChangeCount = x]), watchPropNumSlow = watch.noInit([stateNum], () => ++slowChangeCount), subjectChangeCount = letState(0)(x => [subjectChangeCount, subjectChangeCount = x]), watchPropNumSubject = watch.asSubject([stateNum], () => {\n    return ++subjectChangeCount;\n}), truthChange = letState(false)(x => [truthChange, truthChange = x]), truthChangeCount = letState(0)(x => [truthChangeCount, truthChangeCount = x]), watchTruth = watch.truthy([truthChange], () => ++truthChangeCount), truthSubChangeCount = letState(0)(x => [truthSubChangeCount, truthSubChangeCount = x]), watchTruthAsSub = watch.truthy.asSubject([truthChange], () => {\n    ++truthSubChangeCount;\n    return truthChange;\n}).pipe(x => {\n    if (x === undefined) {\n        return 'undefined';\n    }\n    return x ? truthSubChangeCount : truthSubChangeCount;\n})) => html.dom(allStrings[0], stateNum, () => ++stateNum, stateNumChangeCount, slowChangeCount, watchPropNumSlow, subjectChangeCount, watchPropNumSubject, truthChange ? 'true' : 'false', watchTruth || 'false', truthChangeCount, watchTruthAsSub, truthSubChangeCount, () => truthChange = !truthChange, truthChange ? 'true' : 'false'));\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- watchTesting.tag.ts -->stateNum:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"watch-testing-num-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"watch-testing-num-button\"], [\"type\", \"button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++ stateNum\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"stateNumChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"stateNumChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍄 slowChangeCount\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🍄-slowChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchPropNumSlow:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🍄-watchPropNumSlow\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍄‍🟫 subjectChangeCount\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🍄‍🟫-subjectChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(watchPropNumSubject:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🍄‍🟫-watchPropNumSubject\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🦷 truthChange\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🦷-truthChange\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"simple truth\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTruth:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🦷-watchTruth\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(truthChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🦷-truthChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"truth subject\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTruthAsSub:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🦷-watchTruthAsSub\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(truthSubChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"🦷-truthSubChangeCount\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"🦷-truthChange-button\"], [\"type\", \"button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle to \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }] }]];\n","import { html, letState, Subject, subject, tag, ValueSubject } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\n/** this tag renders only once */\nexport const oneRender = () => tag.oneRender = (counter = new ValueSubject(0), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    const x = Subject.all([0, 'all', 4]);\n    return html.dom(allStrings[0], x.pipe(x => JSON.stringify(x)), counter, () => ++counter.value, renderCountDiv({ renderCount, name: 'oneRender_tag_ts' }), insideMultiRender());\n};\n/** this tag renders on every event but should not cause parent to re-render */\nconst insideMultiRender = tag(() => (counter = letState(0)(x => [counter, counter = x]), counter$ = subject(0), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    return html.dom(allStrings[1], counter$, counter, () => {\n        counter$.next(++counter);\n    }, renderCountDiv({ renderCount, name: 'insideMultiRender' }));\n});\nconst allStrings = [[{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"-start-\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \"elias\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"👍\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"👍-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"id\", \"👍-counter-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++👍\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"👍🔨 sub counter-subject-display:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"👍🔨-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }] }, { \"nodeName\": \"br\" }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"👍🔨 sub counter\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"👍🔨-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }, { \"nodeName\": \"br\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"id\", \"👍🔨-counter-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++👍👍\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { html, tag } from \"taggedjs\";\nexport const arrayFunTag = tag((item, deleteItem) => html.dom(allStrings[0], item, () => deleteItem(item)));\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid black;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"delete\" }] }] }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { arrayFunTag } from \"./arrayFun.tag\";\nimport { main } from \"./funInProps.tag\";\nexport const funInPropsChild = tag((arg0, mainProp, myFunction3) => (other = letState('other')(x => [other, other = x]), counter = letState(0)(x => [counter, counter = x]), renderCount = letState(0)(x => [renderCount, renderCount = x]), _ = ++renderCount, { addArrayItem, myFunction, deleteItem, child, array } = arg0) => html.dom(allStrings[0], mainProp.function.toCall ? 'taggjedjs-wrapped' : 'nowrap', mainProp.count, child.myChildFunction.toCall ? 'taggjedjs-wrapped' : 'nowrap', myFunction.toCall ? 'taggjedjs-wrapped' : 'nowrap', myFunction, child.myChildFunction, myFunction3, main.function, () => ++counter, array.length, array.map(item => arrayFunTag(item, deleteItem).key(item)), addArrayItem, counter, renderCountDiv({ renderCount, name: 'funInProps_tag_child' })));\nconst allStrings = [[{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mainFunction:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"childFunction:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"myFunction:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop1\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🤰 ++object argument\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop2\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🤰 ++child.myChildFunction\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun_in_prop3\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"+🤰 +argument\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🆎 ++main\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++me\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child array length: \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"addArrayItem\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter:\" }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nexport const addArrayComponent = tag((addArrayItem) => (renderCount = letState(0)(x => [renderCount, renderCount = x]), _ = ++renderCount, handleKeyUp = (e) => {\n    if (e.key === \"Enter\") {\n        const value = e.target.value.trim();\n        addArrayItem(value);\n        e.target.value = \"\";\n    }\n}) => html.dom(allStrings[0], handleKeyUp, e => { addArrayItem(e.target.value); e.target.value = ''; }, addArrayItem, renderCountDiv({ renderCount, name: 'addArrayComponent' })));\nconst allStrings = [[{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"text\"], [\"onkeyup\", \":tagvar0:\"], [\"onchange\", \":tagvar1:\"]] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"add by outside\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { html, letState, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { funInPropsChild } from \"./funInPropsChild.tag\";\nimport { addArrayComponent } from \"./addArrayComponent.tag\";\nexport const main = {\n    function: () => ++main.count,\n    count: 0,\n};\nexport default tag(() => (array = letState([])(x => [array, array = x]), counter = letState(0)(x => [counter, counter = x]), myFunction = () => ++counter, renderCount = letState(0)(x => [renderCount, renderCount = x]), showChild = letState(true)(x => [showChild, showChild = x]), somethingElse = letState('a')(x => [somethingElse, somethingElse = x]), _ = ++renderCount, addArrayItem = (x) => { array = array.map(x => x); array.push(typeof (x) === 'string' ? x : 'push' + array.length); }, deleteItem = (item) => array = array.filter(x => x !== item)) => html.dom(allStrings[0], myFunction, counter, renderCountDiv({ renderCount, name: 'funInProps_tag_parent' }), main.function.toCall ? 'taggjedjs-wrapped' : 'nowrap', main.count, () => showChild = !showChild, array.length, addArrayItem, showChild && funInPropsChild({\n    myFunction, array, addArrayItem, deleteItem,\n    child: { myChildFunction: myFunction }\n}, main, myFunction), addArrayComponent(addArrayItem)));\nconst allStrings = [[{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"fun-parent-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🤰 ++parent\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"fun_in_prop_display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"strong\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🆎 main:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"main_wrap_state\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"toggle-fun-in-child\"], [\"type\", \"button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle child\" }] }, { \"nodeName\": \"text\", \"textContent\": \"array length: \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"reset add\" }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { html } from \"taggedjs\";\nconst hasValidMin = (value, min) => {\n    return value.length >= min;\n};\nexport function Input({ onSubmit, placeholder, label, defaultValue, onBlur }) {\n    const handleBlur = () => {\n        if (onBlur)\n            onBlur();\n    };\n    const handleKeyChange = (e) => {\n        if (e.key === \"Enter\") {\n            const value = e.target.value.trim();\n            if (!hasValidMin(value, 2))\n                return;\n            onSubmit(value);\n            e.target.value = \"\";\n        }\n    };\n    return html.dom(allStrings[0], placeholder, defaultValue, handleBlur, handleKeyChange, label);\n}\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"input-container\"]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"new-todo\"], [\"id\", \"todo-input\"], [\"type\", \"text\"], [\"data-testid\", \"text-input\"], [\"placeholder\", \":tagvar0:\"], [\"value\", \":tagvar1:\"], [\"onblur\", \":tagvar2:\"], [\"onkeyup\", \":tagvar3:\"], [\"style\", \"width:100%\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"htmlfor\", \"todo-input\"], [\"style\", \"visibility:hidden\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }] }]];\n","export const ADD_ITEM = \"ADD_ITEM\";\nexport const UPDATE_ITEM = \"UPDATE_ITEM\";\nexport const REMOVE_ITEM = \"REMOVE_ITEM\";\nexport const TOGGLE_ITEM = \"TOGGLE_ITEM\";\nexport const REMOVE_ALL_ITEMS = \"REMOVE_ALL_ITEMS\";\nexport const TOGGLE_ALL = \"TOGGLE_ALL\";\nexport const REMOVE_COMPLETED_ITEMS = \"REMOVE_COMPLETED_ITEMS\";\n","import { Input } from \"./input\";\nimport { ADD_ITEM } from \"../constants\";\nimport { html } from \"taggedjs\";\nexport function Header(dispatch) {\n    const addItem = (title) => dispatch({ type: ADD_ITEM, payload: { title } });\n    return html.dom(allStrings[0], Input({\n        onSubmit: addItem,\n        label: \"New Todo Input\",\n        placeholder: \"What needs to be done?\",\n    }), () => dispatch({ type: ADD_ITEM, payload: { title: 'New ' + Date.now() } }));\n}\nconst allStrings = [[{ \"nodeName\": \"header\", \"attributes\": [[\"class\", \"header\"], [\"data-testid\", \"header\"]], \"children\": [{ \"nodeName\": \"h1\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todos\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"add one\" }] }] }]];\n","import { TOGGLE_ITEM, REMOVE_ITEM, UPDATE_ITEM } from \"../constants\";\nimport { html, letState, state, tag } from \"taggedjs\";\nexport const Item = (todo, dispatch) => tag.state = (_ = state('item'), // helpful when debugging states\nediting = letState(false)(x => [editing, editing = x]), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    const { title, completed, id } = todo;\n    const toggleItem = () => dispatch({ type: TOGGLE_ITEM, payload: { id } });\n    const removeItem = () => dispatch({ type: REMOVE_ITEM, payload: { id } });\n    const updateItem = (id, title) => dispatch({ type: UPDATE_ITEM, payload: { id, title } });\n    const handleDoubleClick = () => {\n        editing = true;\n    };\n    const handleBlur = () => editing = false;\n    const handleUpdate = (title) => {\n        if (title.length === 0)\n            removeItem();\n        else\n            updateItem(id, title);\n        editing = false;\n    };\n    ++renderCount;\n    return html.dom(allStrings[0], todo.completed, editing ? 'true' : 'false', editing ? 'none' : 'block', completed, toggleItem, handleDoubleClick, title, removeItem, editing ? 'block' : 'none', title, handleBlur, e => handleKeyUp(e, handleUpdate), () => editing = !editing, renderCount);\n};\nexport const hasValidMin = (value, min) => {\n    return value.length >= min;\n};\nexport const handleKeyUp = (e, onSubmit) => {\n    if (e.key === \"Enter\") {\n        const value = e.target.value.trim();\n        if (!hasValidMin(value, 2))\n            return;\n        onSubmit(value);\n        e.target.value = \"\";\n    }\n};\nconst allStrings = [[{ \"nodeName\": \"li\", \"attributes\": [[\"class.completed\", \":tagvar0:\"], [\"style\", \"border:1px solid orange;\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"view\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"editing:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style.display\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"toggle\"], [\"type\", \"checkbox\"], [\"data-testid\", \"todo-item-toggle\"], [\"checked\", \":tagvar2:\"], [\"onchange\", \":tagvar3:\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"data-testid\", \"todo-item-label\"], [\"ondoubleclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"class\", \"destroy\"], [\"data-testid\", \"todo-item-button\"], [\"onclick\", \":tagvar5:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"x\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style.display\", \":tagvar6:\"]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"new-todo\"], [\"id\", \"todo-input\"], [\"type\", \"text\"], [\"data-testid\", \"text-input\"], [\"autofocus\", \":tagvar7:\"], [\"value\", \":tagvar8:\"], [\"onblur\", \":tagvar9:\"], [\"onkeyup\", \":tagvar10:\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"class\", \"visually-hidden\"], [\"htmlfor\", \"todo-input\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Edit Todo Input\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"class\", \"destroy\"], [\"onclick\", \":tagvar11:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"edit\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"item render count: \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }]];\n","import { Item } from \"./item\";\nimport { TOGGLE_ALL } from \"../constants\";\nimport { html, letState, state, tag, watch } from \"taggedjs\";\nexport const Main = ({ todos, dispatch }) => tag.state = (_ = state('main.ts'), renderCount = letState(0)(x => [renderCount, renderCount = x]), mode = letState('all')(x => [mode, mode = x])) => {\n    const toggleAll = (e) => dispatch({ type: TOGGLE_ALL, payload: { completed: e.target.checked } });\n    ++renderCount;\n    const visibleTodos = watch([todos, mode], () => {\n        return todos.filter(todo => {\n            if (mode === \"/active\")\n                return !todo.completed;\n            if (mode === \"/completed\")\n                return todo.completed;\n            return todo;\n        });\n    });\n    return html.dom(allStrings[0], renderCount, visibleTodos.length, todos.length, visibleTodos.length > 0 && html.dom(allStrings[1], visibleTodos.every((todo) => todo.completed), toggleAll), visibleTodos.map(todo => tag.key(todo.id).html = Item(todo, dispatch)), () => mode = 'all', () => mode = '/active', () => mode = '/completed');\n};\nconst allStrings = [[{ \"nodeName\": \"main\", \"attributes\": [[\"class\", \"main\"], [\"data-testid\", \"main\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"main renderCount: \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" array:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"text\", \"textContent\": \" of \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n      \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"ul\", \"attributes\": [[\"class\", \"todo-list\"], [\"data-testid\", \"todo-list\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"style.font-weight\", \"mode = 'all'\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"all\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"style.font-weight\", \"mode = '/active'\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"active\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"style.font-weight\", \"mode = '/completed'\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"completed\" }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"class\", \"toggle-all-container\"]], \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"class\", \"toggle-all\"], [\"type\", \"checkbox\"], [\"data-testid\", \"toggle-all\"], [\"checked\", \":tagvar0:\"], [\"onchange\", \":tagvar1:\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"class\", \"toggle-all-label\"], [\"htmlfor\", \"toggle-all\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Toggle All Input\" }] }] }]];\n","const classnames = (x) => '';\nimport { REMOVE_COMPLETED_ITEMS } from \"../constants\";\nimport { html, state, tag } from \"taggedjs\";\nconst route = ''; // TODO\n// const { pathname: route } = useLocation();\n// prettier-ignore\n// TODO: we should be able to do null here instead of html.dom(allStrings[0])\nexport const Footer = (todos, dispatch) => tag.state = (_ = state('footer.ts'), activeTodos = todos.filter((todo) => !todo.completed), removeCompleted = () => dispatch({ type: REMOVE_COMPLETED_ITEMS })) => todos.length === 0 ? null : html.dom(allStrings[1], activeTodos.length, todos.length, activeTodos.length === 1 ? \"item\" : \"items\", activeTodos.length === todos.length, removeCompleted);\nconst allStrings = [[], [{ \"nodeName\": \"footer\", \"attributes\": [[\"class\", \"footer\"], [\"data-testid\", \"footer\"]], \"children\": [{ \"nodeName\": \"span\", \"attributes\": [[\"class\", \"todo-count\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" of \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"text\", \"textContent\": \" \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }, { \"nodeName\": \"text\", \"textContent\": \" left!\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"class\", \"clear-completed\"], [\"disabled\", \":tagvar0:\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Clear completed\" }] }] }]];\n","import { ADD_ITEM, UPDATE_ITEM, REMOVE_ITEM, TOGGLE_ITEM, REMOVE_ALL_ITEMS, TOGGLE_ALL, REMOVE_COMPLETED_ITEMS } from \"./constants\";\n/* Borrowed from https://github.com/ai/nanoid/blob/3.0.2/non-secure/index.js\n\nThe MIT License (MIT)\n\nCopyright 2017 Andrey Sitnik <andrey@sitnik.ru>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. */\n// This alphabet uses `A-Za-z0-9_-` symbols.\n// The order of characters is optimized for better gzip and brotli compression.\n// References to the same file (works both for gzip and brotli):\n// `'use`, `andom`, and `rict'`\n// References to the brotli default dictionary:\n// `-26T`, `1983`, `40px`, `75px`, `bush`, `jack`, `mind`, `very`, and `wolf`\nlet urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nfunction nanoid(size = 21) {\n    let id = \"\";\n    // A compact alternative for `for (var i = 0; i < step; i++)`.\n    let i = size;\n    while (i--) {\n        // `| 0` is more compact and faster than `Math.floor()`.\n        id += urlAlphabet[(Math.random() * 64) | 0];\n    }\n    return id;\n}\nexport const todoReducer = (state, action) => {\n    switch (action.type) {\n        case ADD_ITEM:\n            return state.concat({ id: nanoid(), title: action.payload.title, completed: false });\n        case UPDATE_ITEM:\n            return state.map((todo) => (todo.id === action.payload.id ? { ...todo, title: action.payload.title } : todo));\n        case REMOVE_ITEM:\n            return state.filter((todo) => todo.id !== action.payload.id);\n        case TOGGLE_ITEM:\n            return state.map((todo) => (todo.id === action.payload.id ? { ...todo, completed: !todo.completed } : todo));\n        case REMOVE_ALL_ITEMS:\n            return [];\n        case TOGGLE_ALL:\n            return state.map((todo) => (todo.completed !== action.payload.completed ? { ...todo, completed: action.payload.completed } : todo));\n        case REMOVE_COMPLETED_ITEMS:\n            return state.filter((todo) => !todo.completed);\n    }\n    throw Error(`Unknown action: ${action.type}`);\n};\n","import { Header } from \"./components/header\";\nimport { Main } from \"./components/main\";\nimport { Footer } from \"./components/footer\";\nimport { todoReducer } from \"./reducer\";\nimport { letState, html, tag, state } from \"taggedjs\";\nexport const App = () => tag.state = (_ = state('todos.app.ts'), todos = letState([])(x => [todos, todos = x]), dispatch = (payload) => todos = todoReducer(todos, payload)) => html.dom(allStrings[0], Header(dispatch), todos.length > 0 && html.dom(allStrings[1], Main({ todos, dispatch }), Footer(todos, dispatch)));\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!-- TODO APP -->todo app\\n  \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }], [{ \"nodeName\": \"text\", \"textContent\": \"\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }]];\n","import { html, letState, state, tag } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component\";\nexport default (propCounter, child) => tag.state = (_ = state('statePropDebug.tag.ts'), // something to be seen in console\nedit = letState(false)(x => [edit, edit = x]), renderCount = letState(0)(x => [renderCount, renderCount = x]), __ = ++renderCount) => html.dom(allStrings[0], propCounter, () => edit = !edit, edit, child, renderCountDiv({ renderCount, name: 'statePropDebug-tag' }));\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"\\n  propCounter:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"edit \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \"child: \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\" }]];\n","import { watch, letState, html, tag, letProp, state } from \"taggedjs\";\nimport { renderCountDiv } from \"./renderCount.component.js\";\nimport statePropDebugTag from \"./statePropDebug.tag.js\";\nexport const propsDebugMain = tag(() => (_ = state('propsDebugMain'), syncPropNumber = letState(0)(x => [syncPropNumber, syncPropNumber = x]), propNumber = letState(0)(x => [propNumber, propNumber = x]), renderCount = letState(0)(x => [renderCount, renderCount = x]), propsJson = letState({ test: 33, x: 'y' })(x => [propsJson, propsJson = x]), date = letState(() => new Date())(x => [date, date = x]), json = JSON.stringify(propsJson, null, 2), statePropDisplay = letState(true)(x => [statePropDisplay, statePropDisplay = x])) => html.dom(allStrings[0], event => propsJson = JSON.parse(event.target.value), json, json, ++renderCount, () => ++propNumber, propNumber, propNumber, propsDebug({\n    propNumber,\n    propsJson,\n    propNumberChange: x => {\n        propNumber = x;\n    }\n}), syncPropNumber, () => ++syncPropNumber, renderCountDiv({ renderCount, name: 'sync_props_callback' }), syncPropDebug({\n    syncPropNumber,\n    propNumberChange: x => syncPropNumber = x,\n    parentTest: x => {\n        return x;\n    }\n}), statePropDisplay && statePropDebugTag(propNumber, html.dom(allStrings[1])), () => statePropDisplay = !statePropDisplay, date, timestampToValues(date).date, event => {\n    const newDateString = event.target.value;\n    date = new Date(newDateString);\n}, propDateDebug({ date })));\nconst propDateDebug = tag(({ date }) => html.dom(allStrings[2], date));\n/** Tests calling a property that is a function immediately which should cause rendering */\nconst syncPropDebug = tag(({ syncPropNumber, propNumberChange, parentTest, }) => (_ = state('syncPropDebug'), // something to see in console\ncounter = letState(0)(x => [counter, counter = x]), renderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    if (syncPropNumber % 2 === 1) {\n        propNumberChange(syncPropNumber = syncPropNumber + 1);\n    }\n    return html.dom(allStrings[3], syncPropNumber, () => propNumberChange(++syncPropNumber), counter, parentTest(counter), () => {\n        parentTest(++counter);\n    }, renderCountDiv({ renderCount, name: 'child_sync_props_callback' }));\n});\nconst propsDebug = tag(({ propNumber, propsJson, propNumberChange, }) => (_ = state('propsDebug'), // something to see in console\nrenderCount = letState(0)(x => [renderCount, renderCount = x]), propNumberChangeCount = letState(0)(x => [propNumberChangeCount, propNumberChangeCount = x]), \n// poor way to update an argument\nmyPropNumber = letState(propNumber)(x => [myPropNumber, myPropNumber = x]), __ = watch([propNumber], () => myPropNumber = propNumber), watchResults = watch([myPropNumber], () => ++propNumberChangeCount), \n// simple way to locally only update an argument\n___ = letProp(propNumber)(x => [propNumber, propNumber = x])) => html.dom(allStrings[4], event => {\n    const value = JSON.parse(event.target.value);\n    Object.assign(propsJson, value);\n}, JSON.stringify(propsJson, null, 2), JSON.stringify(propsJson, null, 2), JSON.stringify(watchResults, null, 2), () => propNumberChange(++myPropNumber), myPropNumber, myPropNumber, () => ++propNumber, propNumber, propNumber, () => ++renderCount, ++renderCount, () => ++myPropNumber, myPropNumber, propNumberChangeCount, propFnUpdateTest({\n    propNumber: myPropNumber,\n    callback: () => ++myPropNumber\n})));\nconst propFnUpdateTest = tag(({ propNumber, callback, }) => (_ = state('propFnUpdateTest'), // something to see in console\nrenderCount = letState(0)(x => [renderCount, renderCount = x])) => {\n    ++renderCount;\n    return html.dom(allStrings[5], callback, propNumber, propNumber, renderCountDiv({ renderCount, name: 'propFnUpdateTest' }));\n});\nfunction timestampToValues(timestamp) {\n    const date = new Date(timestamp);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    return {\n        date: `${year}-${month}-${day}`,\n        time: `${hours}:${minutes}`\n    };\n}\nconst allStrings = [[{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap\"], [\"id\", \"textareawrap\"]], \"children\": [{ \"nodeName\": \"textarea\", \"attributes\": [[\"id\", \"props-debug-textarea\"], [\"wrap\", \"off\"], [\"onchange\", \":tagvar0:\"], [\"style\", \"height:200px;font-size:0.6em;width:100%;max-width:400px\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"pre\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(renderCount:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug-🥩-0-button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🥩 propNumber \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug-🥩-0-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"child\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"sync props callback\" }] }, { \"nodeName\": \"text\", \"textContent\": \"🥡 syncPropNumber: \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-number-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🥡 ++\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"state prop\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"hide/show\" }] }] }, { \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"date prop\" }] }, { \"nodeName\": \"text\", \"textContent\": \"date:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"date\"], [\"value\", \":tagvar4:\"], [\"onchange\", \":tagvar5:\"]] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar17:\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"child innerHtml 👶\" }], [{ \"nodeName\": \"text\", \"textContent\": \"date:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--syncPropDebug-->\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🥡 child syncPropNumber:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-child-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"sync-prop-child-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🥡 ++\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counter:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"sync-prop-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"parentTest\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"nothing-prop-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"nothing-prop-counter-button\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"text\", \"textContent\": \"<!--propsDebug.js-->\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Json\" }] }, { \"nodeName\": \"textarea\", \"attributes\": [[\"style\", \"font-size:0.6em;height:200px;width:100%;;max-width:400px\"], [\"wrap\", \"off\"], [\"onchange\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"pre\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \"<!--<div style=\\\"display:flex;flex-wrap:wrap\\\"></div>-->\" }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Number\" }] }, { \"nodeName\": \"textarea\", \"attributes\": [[\"style\", \"font-size:0.6em;height:200px;width:100%;color:white;\"], [\"wrap\", \"off\"], [\"disabled\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug-🥩-1-button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐄 🥩 propNumber \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug-🥩-1-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsDebug-🥩-2-button\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐄 🥩 local set propNumber \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug-🥩-2-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }] }] }, { \"nodeName\": \"button\", \"attributes\": [[\"title\", \"test of increasing render count and nothing else\"], [\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"renderCount \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar5:\"], [\"title\", \"only changes number locally but if change by parent than that is the number\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐄 🥩 local set myPropNumber \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"small\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"(propNumberChangeCount:\" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsDebug-🥩-change-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }] }, { \"nodeName\": \"text\", \"textContent\": \")\" }] }] }, { \"nodeName\": \"hr\" }, { \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Fn update test\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }, { \"nodeName\": \"text\", \"textContent\": \"    \\n\" }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"propsOneLevelFunUpdate-🥩-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🐄 🥩 local & 1-parent increase \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"propsOneLevelFunUpdate-🥩-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }, { \"nodeName\": \"small\", \"attributes\": [[\"style\", \"opacity:.5\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"the count here and within parent increases but not in parent parent\" }] }]];\n","import { letState } from './letState.function.js';\nimport { watch } from './watch.function.js';\n/**\n * Enables the ability to maintain a change to a props value until the prop itself changes\n * @param prop typically the name of an existing prop\n * @returns immediately call the returned function: letProp(y)(x => [y, y=x])\n */\nexport function letProp(prop) {\n    return getSetProp => {\n        let myProp = letState(prop)(getSetProp);\n        watch([prop], () => getSetProp(myProp = prop));\n        getSetProp(myProp); // always reset to my value and right await so that the old prop value never slips through\n        return myProp;\n    };\n}\n//# sourceMappingURL=letProp.function.js.map","import { renderCountDiv } from './renderCount.component.js';\nimport { html, letState, tag } from 'taggedjs';\nexport const arrayScoreData = tag(({ score, playerIndex }) => {\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    ++renderCount;\n    return html.dom(allStrings[0], score.frame, `score-data-${playerIndex}-${score.frame}-inside-button`, () => ++score.score, score.score, `score-data-${playerIndex}-${score.frame}-inside-display`, score.score, () => ++renderCount, renderCountDiv({ renderCount, name: 'scoreData' + score.frame }));\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"\\n    frame:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \":\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \":tagvar0:\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"inner score button ++\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"increase renderCount\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }]];\n","import { fadeInDown, fadeOutUp } from './animations.js';\nimport { renderCountDiv } from './renderCount.component.js';\nimport { arrayScoreData } from './arrayScoreData.tag.js';\nimport { html, state, letState, tag } from 'taggedjs';\nconst frameCount = 4;\nexport const arrayTests = tag(() => (players = state([]), renderCount = letState(0)(x => [renderCount, renderCount = x]), counter = letState(0)(x => [counter, counter = x])) => {\n    const getNewPlayer = () => ({\n        name: 'Person ' + players.length,\n        scores: '0,'.repeat(/*frameCount*/ 0).split(',').map((_v, index) => ({\n            frame: index + 1,\n            score: Math.floor(Math.random() * 4) + 1\n        }))\n    });\n    ++renderCount;\n    return html.dom(allStrings[0], ['a', 'b', 'c'].map(x => html.dom(allStrings[1], counter, x)), () => ++counter, counter, playersDisplay({ players, getNewPlayer }), () => {\n        players.push(getNewPlayer());\n    }, players.length + 1, () => {\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n    }, () => {\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n        players.push(getNewPlayer());\n    }, players.length > 0 && html.dom(allStrings[2], fadeInDown, fadeOutUp, () => players.length = 0), renderCountDiv({ renderCount, name: 'arrayTests.ts' }));\n});\nconst playersDisplay = tag(({ players, getNewPlayer, }) => {\n    const playersContent = players.map((player, index) => html.dom(allStrings[3], fadeInDown, fadeOutUp, player.name, index, player.scores.map((score, playerIndex) => {\n        return html.dom(allStrings[4], fadeInDown, fadeOutUp, `score-data-${playerIndex}-${score.frame}-outside-button`, () => ++score.score, score.score, `score-data-${playerIndex}-${score.frame}-outside-display`, score.score, arrayScoreData({ score, playerIndex })).key(score);\n    }), player.edit && html.dom(allStrings[5], () => {\n        players.splice(index, 1);\n        player.edit = !player.edit;\n    }), player.edit && html.dom(allStrings[6], 'player-remove-promise-btn-' + index, async () => {\n        player.edit = !player.edit;\n        players.splice(index, 1);\n    }), 'player-edit-btn-' + index, () => player.edit = !player.edit, () => {\n        players.splice(index, 0, getNewPlayer());\n    }).key(player));\n    return html.dom(allStrings[7], playersContent);\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--arrayTests.js-->\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"static array test\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"++counter \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"array-test-push-item\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push item \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push 3 items\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"push 9 items\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n    \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n  \" }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"html \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \" content test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"], [\"style\", \"--animate-duration: .1s;\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove all\" }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"], [\"style\", \"background-color:black;--animate-duration: .1s;\"]], \"children\": [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"name:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"index:\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar3:\" }] }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"background-color:purple;padding:.5em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"scores:\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n      \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \":tagvar2:\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"edit\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"add before\" }] }] }], [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"border:1px solid white;--animate-duration: .1s;\"], [\"oninit\", \":tagvar0:\"], [\"ondestroy\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \":tagvar2:\"], [\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"outer score button ++\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar4:\" }] }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove\" }] }], [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \":tagvar0:\"], [\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"remove by promise\" }] }], [{ \"nodeName\": \"text\", \"textContent\": \"<!-- playersLoop.js -->\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }, { \"nodeName\": \"text\", \"textContent\": \"<!-- end:playersLoop.js -->\" }]];\n","import { attributeDebug } from \"./attributeDebug.component\";\nimport { contentDebug } from \"./ContentDebug.component\";\nimport { tableDebug } from \"./tableDebug.component\";\nimport { html, tag, letState, onInit, state, Subject, callbackMaker, onDestroy } from \"taggedjs\";\nimport { tagDebug } from \"./tagJsDebug\";\nimport { tagSwitchDebug } from \"./tagSwitchDebug.component\";\nimport { mirroring } from \"./mirroring.tag\";\nimport { childTests } from \"./childTests\";\nimport { runTests } from \"./tests\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport { counters } from \"./countersDebug\";\nimport { providerDebugBase } from \"./providerDebug\";\nimport { watchTesting } from \"./watchTesting.tag\";\nimport { oneRender } from \"./oneRender.tag\";\nimport funInPropsTag from \"./funInProps.tag\";\nimport { App as todo } from \"./todo/todos.app\";\nimport { propsDebugMain } from \"./PropsDebug.tag\";\nimport { arrayTests } from \"./arrayTests\";\nexport const App = tag(() => {\n    let _firstState = letState('app first state')(x => [_firstState, _firstState = x]);\n    let toggleValue = letState(false)(x => [toggleValue, toggleValue = x]);\n    let appCounter = letState(0)(x => [appCounter, appCounter = x]);\n    let renderCount = letState(0)(x => [renderCount, renderCount = x]);\n    let testTimeout = letState(null)(x => [testTimeout, testTimeout = x]);\n    const toggle = () => {\n        toggleValue = !toggleValue;\n    };\n    // if I am destroyed before my test runs, prevent test from running\n    onDestroy(() => {\n        clearTimeout(testTimeout);\n        testTimeout = null;\n    });\n    function runTesting(manual = true) {\n        const waitFor = 2000;\n        testTimeout = setTimeout(async () => {\n            console.debug('🏃 Running tests...');\n            const result = await runTests();\n            if (!manual) {\n                return;\n            }\n            if (result) {\n                alert('✅ all app tests passed');\n                return;\n            }\n            alert('❌ tests failed. See console for more details');\n        }, waitFor); // cause delay to be separate from renders\n    }\n    ++renderCount;\n    const callbacks = callbackMaker();\n    const appCounterSubject = state(() => new Subject(appCounter));\n    onInit(() => {\n        console.info('1️⃣ app init should only run once');\n        runTesting(false);\n        appCounterSubject.subscribe(callbacks(y => appCounter = y));\n    });\n    const content = html.dom(allStrings[0], 2 + 2, toggle, toggleValue, runTesting, () => appCounterSubject.next(appCounter + 1), appCounter, renderCountDiv({ name: 'app', renderCount }), counters({ appCounterSubject }), watchTesting(), providerDebugBase(undefined), propsDebugMain(), childTests(undefined), attributeDebug(), contentDebug(), tagSwitchDebug(undefined), arrayTests(), mirroring(), tableDebug(), oneRender(), funInPropsTag(), todo(), tagDebug());\n    return content;\n});\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--app.js-->\" }, { \"nodeName\": \"h1\", \"attributes\": [[\"id\", \"h1-app\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🏷️ TaggedJs - \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"id\", \"toggle-test\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"toggle test \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }, { \"nodeName\": \"button\", \"attributes\": [[\"onclick\", \":tagvar1:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"run test\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"app-counter-subject-button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍒 ++app subject\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍒 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagDebug-fx-wrap\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"counters\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counters\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar7:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"counters\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"⌚️ watch testing\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar8:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"provider-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Provider Debug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"props-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Props Debug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Attribute Tests\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"id\", \"content-debug\"], [\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Content Debug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Tag Switching\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"arrays\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Tag Mirroring\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Table Tests\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar17:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"oneRender\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar18:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"functions in props\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar19:\" }] }, { \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todo\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar20:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar21:\" }] }]];\n","import { execute } from \"./expect\";\nexport async function runTests() {\n    await import('./start.test');\n    await import('./basic.test');\n    await import('./content.test');\n    await import('./counters.test');\n    await import('./props.test');\n    await import('./providers.test');\n    await import('./tagSwitch.test');\n    await import('./child.test');\n    await import('./array.test');\n    await import('./mirror.test');\n    await import('./watch.test');\n    await import('./oneRender.test');\n    await import('./funInProps.test');\n    await import('./todos.test');\n    await import('./last.test');\n    try {\n        const start = Date.now(); //performance.now()\n        await execute();\n        const time = Date.now() - start; // performance.now() - start\n        console.info(`✅ all tests passed in ${time}ms`);\n        return true;\n    }\n    catch (error) {\n        console.error('❌ tests failed: ' + error.message, error);\n        return false;\n    }\n}\n","import { childTests } from \"./childTests\";\nimport { Subject, callbackMaker, html, onInit, letState, tag, state } from \"taggedjs\";\nimport { arrayTests } from \"./arrayTests\";\nimport { tagSwitchDebug } from \"./tagSwitchDebug.component\";\nimport { mirroring } from \"./mirroring.tag\";\nimport { propsDebugMain } from \"./PropsDebug.tag\";\nimport { providerDebugBase } from \"./providerDebug\";\nimport { counters } from \"./countersDebug\";\nimport { tableDebug } from \"./tableDebug.component\";\nimport { contentDebug } from \"./ContentDebug.component\";\nimport { watchTesting } from \"./watchTesting.tag\";\nimport { oneRender } from \"./oneRender.tag\";\nimport { renderCountDiv } from \"./renderCount.component\";\nimport funInPropsTag from \"./funInProps.tag\";\nimport { App as todo } from \"./todo/todos.app\";\nimport { runTests } from \"./isolatedApp.test\";\nexport var ViewTypes;\n(function (ViewTypes) {\n    ViewTypes[\"Todo\"] = \"todo\";\n    ViewTypes[\"FunInPropsTag\"] = \"funInPropsTag\";\n    ViewTypes[\"OneRender\"] = \"oneRender\";\n    ViewTypes[\"WatchTesting\"] = \"watchTesting\";\n    ViewTypes[\"Mirroring\"] = \"mirroring\";\n    ViewTypes[\"Content\"] = \"content\";\n    ViewTypes[\"Arrays\"] = \"arrays\";\n    ViewTypes[\"Counters\"] = \"counters\";\n    ViewTypes[\"TableDebug\"] = \"tableDebug\";\n    ViewTypes[\"Props\"] = \"props\";\n    ViewTypes[\"Child\"] = \"child\";\n    ViewTypes[\"TagSwitchDebug\"] = \"tagSwitchDebug\";\n    ViewTypes[\"ProviderDebug\"] = \"providerDebug\";\n})(ViewTypes || (ViewTypes = {}));\nconst viewTypes = Object.values(ViewTypes);\nconst storage = getScopedStorage();\nfunction getScopedStorage() {\n    const string = localStorage.taggedjs || JSON.stringify({ autoTest: true, views: [] });\n    return JSON.parse(string);\n}\nfunction saveScopedStorage() {\n    localStorage.taggedjs = JSON.stringify(storage);\n}\nexport default () => tag.state = (_ = state('isolated app state'), renderCount = letState(0)(x => [renderCount, renderCount = x]), appCounter = letState(0)(x => [appCounter, appCounter = x]), testTimeout = letState(null)(x => [testTimeout, testTimeout = x]), appCounterSubject = state(() => new Subject(appCounter)), callback = callbackMaker()) => {\n    function runTesting(manual = true) {\n        const waitFor = 2000;\n        testTimeout = setTimeout(async () => {\n            console.debug('🏃 Running tests...');\n            const result = await runTests(storage.views);\n            if (!manual) {\n                return;\n            }\n            if (result) {\n                alert('✅ all app tests passed');\n                return;\n            }\n            alert('❌ tests failed. See console for more details');\n        }, waitFor); // cause delay to be separate from renders\n    }\n    onInit(() => {\n        console.info('1️⃣ app init should only run once');\n        appCounterSubject.subscribe(callback(x => {\n            appCounter = x;\n        }));\n        // appCounterSubject.subscribe(cb)\n        if (storage.autoTest) {\n            runTesting(false);\n        }\n    });\n    function activate(type, checkTesting = true) {\n        storage.views.push(type);\n        if (checkTesting && storage.autoTest) {\n            runTesting();\n        }\n    }\n    function deactivate(type) {\n        (storage.views = storage.views.filter(x => x !== type));\n    }\n    function toggleViewType(type, checkTesting = true) {\n        if (storage.views.includes(type)) {\n            deactivate(type);\n        }\n        else {\n            activate(type, checkTesting);\n        }\n        saveScopedStorage();\n    }\n    function toggleAutoTesting() {\n        storage.autoTest = storage.autoTest = !storage.autoTest;\n        saveScopedStorage();\n    }\n    ++renderCount;\n    return html.dom(allStrings[0], () => {\n        appCounterSubject.next(appCounter + 1);\n    }, appCounter, /*appCounterSubject*/ 'masked', storage.autoTest ? 'checked' : null, toggleAutoTesting, () => runTesting(true), viewTypes.map(type => html.dom(allStrings[1], 'view-type-' + type, 'view-type-' + type, storage.views.includes(type) && 'checked', () => toggleViewType(type), 'view-type-' + type, type).key(type)), () => viewTypes.forEach(viewType => {\n        activate(viewType, false);\n        saveScopedStorage();\n    }), () => viewTypes.forEach(viewType => {\n        deactivate(viewType);\n        saveScopedStorage();\n    }), storage.views.includes(ViewTypes.OneRender) && html.dom(allStrings[2], oneRender()), storage.views.includes(ViewTypes.Props) && html.dom(allStrings[3], propsDebugMain()), storage.views.includes(ViewTypes.WatchTesting) && html.dom(allStrings[4], watchTesting()), storage.views.includes(ViewTypes.TableDebug) && html.dom(allStrings[5], tableDebug()), storage.views.includes(ViewTypes.ProviderDebug) && html.dom(allStrings[6], providerDebugBase(undefined)), storage.views.includes(ViewTypes.TagSwitchDebug) && html.dom(allStrings[7], tagSwitchDebug(undefined)), storage.views.includes(ViewTypes.Mirroring) && html.dom(allStrings[8], mirroring()), storage.views.includes(ViewTypes.Arrays) && html.dom(allStrings[9], arrayTests()), storage.views.includes(ViewTypes.Counters) && html.dom(allStrings[10], counters({ appCounterSubject })), storage.views.includes(ViewTypes.Content) && html.dom(allStrings[11], contentDebug()), storage.views.includes(ViewTypes.Child) && html.dom(allStrings[12], childTests(undefined)), storage.views.includes(ViewTypes.FunInPropsTag) && html.dom(allStrings[13], funInPropsTag()), storage.views.includes(ViewTypes.Todo) && html.dom(allStrings[14], todo()), /*\n    <textarea style=\"font-size:0.6em;min-width:50vw;height:400px\">${ template.string }</textarea>\n    <textarea style=\"font-size:0.6em;min-width:50vw;height:400px\">${ JSON.stringify(template, null, 2) }</textarea>\n    */ false, renderCountDiv({ renderCount, name: 'isolatedApp' }));\n};\nconst allStrings = [[{ \"nodeName\": \"text\", \"textContent\": \"<!--isolatedApp.js-->\" }, { \"nodeName\": \"h1\", \"attributes\": [[\"id\", \"app\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🏷️ TaggedJs - isolated\" }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"button\", \"attributes\": [[\"id\", \"app-counter-subject-button\"], [\"onclick\", \":tagvar0:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍒 ++app subject\" }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍒 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar1:\" }] }] }, { \"nodeName\": \"span\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"🍒 \" }, { \"nodeName\": \"span\", \"attributes\": [[\"id\", \"app-counter-subject-display\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar2:\" }] }] }, { \"nodeName\": \"text\", \"textContent\": \"auto testing \" }, { \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [\":tagvar3:\"], [\"onchange\", \":tagvar1:\"]] }, { \"nodeName\": \"button\", \"attributes\": [[\"type\", \"button\"], [\"onclick\", \":tagvar2:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"run tests\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"h3\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Sections\" }] }, { \"nodeName\": \"text\", \"textContent\": \"<!-- checkbox menu -->\" }, { \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;gap:1em;flex-wrap:wrap;margin:1em;\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar6:\" }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"label\", \"attributes\": [[\"onclick\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;all\" }] }] }, { \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"label\", \"attributes\": [[\"onclick\", \":tagvar4:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;none\" }] }] }] }] }, { \"nodeName\": \"div\", \"attributes\": [[\"id\", \"tagDebug-fx-wrap\"]], \"children\": [{ \"nodeName\": \"div\", \"attributes\": [[\"style\", \"display:flex;flex-wrap:wrap;gap:1em\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \":tagvar9:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar10:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar11:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar12:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar13:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar14:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar15:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar16:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar17:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar18:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar19:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar20:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar21:\" }, { \"nodeName\": \"text\", \"textContent\": \"\\n\\n        \" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar22:\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar23:\" }] }], [{ \"nodeName\": \"div\", \"children\": [{ \"nodeName\": \"input\", \"attributes\": [[\"type\", \"checkbox\"], [\"id\", \":tagvar0:\"], [\"name\", \":tagvar1:\"], [\":tagvar2:\"], [\"onclick\", \":tagvar2:\"]] }, { \"nodeName\": \"label\", \"attributes\": [[\"for\", \":tagvar3:\"]], \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"&nbsp;\" }, { \"nodeName\": \"text\", \"textContent\": \":tagvar5:\" }] }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"oneRender\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"propsDebugMain\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"watchTesting\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tableDebug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"providerDebugBase\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"tagSwitchDebug\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"mirroring\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"arrays\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"counters\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"content\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"Children Tests\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"funInPropsTag\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }], [{ \"nodeName\": \"fieldset\", \"attributes\": [[\"style\", \"flex:2 2 20em\"]], \"children\": [{ \"nodeName\": \"legend\", \"children\": [{ \"nodeName\": \"text\", \"textContent\": \"todo\" }] }, { \"nodeName\": \"text\", \"textContent\": \":tagvar0:\" }] }]];\n","import { execute } from \"./expect\";\nimport { ViewTypes } from \"./isolatedApp\";\nexport async function runTests(views) {\n    await import('./start.test');\n    if (views.includes(ViewTypes.Content)) {\n        await import('./content.test');\n    }\n    if (views.includes(ViewTypes.Counters)) {\n        await import('./counters.test');\n    }\n    if (views.includes(ViewTypes.Props)) {\n        await import('./props.test');\n    }\n    if (views.includes(ViewTypes.ProviderDebug)) {\n        await import('./providers.test');\n    }\n    if (views.includes(ViewTypes.TagSwitchDebug)) {\n        await import('./tagSwitch.test');\n    }\n    if (views.includes(ViewTypes.Child)) {\n        await import('./child.test');\n    }\n    if (views.includes(ViewTypes.Arrays)) {\n        await import('./array.test');\n    }\n    if (views.includes(ViewTypes.Mirroring)) {\n        await import('./mirror.test');\n    }\n    if (views.includes(ViewTypes.WatchTesting)) {\n        await import('./watch.test');\n    }\n    if (views.includes(ViewTypes.FunInPropsTag)) {\n        await import('./funInProps.test');\n    }\n    if (views.includes(ViewTypes.OneRender)) {\n        await import('./oneRender.test');\n    }\n    if (views.includes(ViewTypes.Todo)) {\n        await import('./todos.test');\n    }\n    await import('./last.test');\n    try {\n        const start = Date.now(); //performance.now()\n        await execute();\n        const time = Date.now() - start; // performance.now() - start\n        console.info(`✅ isolated tests passed in ${time}ms`);\n        return true;\n    }\n    catch (error) {\n        console.error('❌ isolated tests failed: ' + error.message, error);\n        return false;\n    }\n}\n","import { tagElement } from \"taggedjs\";\nimport { App } from \"./app.tag\";\nimport IsolatedApp from \"./isolatedApp\";\nexport const app = () => {\n    console.info('attaching app to element...');\n    const element = document.getElementsByTagName('app')[0];\n    const pathname = window.location.pathname;\n    const locationSplit = pathname.split('/').filter(x => x);\n    const location = locationSplit[0]?.toLowerCase();\n    if (location && ['isolated.html', 'index-static.html'].includes(location)) {\n        const start = Date.now();\n        tagElement(IsolatedApp, element, { test: 1 });\n        const end = Date.now() - start;\n        console.info(`⏱️ isolated render in ${end}ms`);\n        return;\n    }\n    const start = Date.now();\n    tagElement(App, element, { test: 1 });\n    const end = Date.now() - start;\n    console.info(`⏱️ rendered in ${end}ms`);\n};\n"],"names":["it","toBe","insideCount","click","insideElm","insideDisplay","indexValue","innerText","outsideElm","outsideDisplay","outsideValue","Number","toString","async","onclick","result","time","Promise","res","setTimeout","toBeDefined","toggleTest","propsTextarea","value","replace","style","border","firstRun","counterInput","onkeyup","target","beforeRenderCount","beforeInnerRenderCount","currentSubs","elmCount","selector","document","querySelectorAll","length","query","focus","q","forEach","elm","map","clickOne","index","html","innerHTML","byId","id","getElementById","htmlById","expectMatchedHtml","queries","elements","reduce","all","push","toBeGreaterThan","lastHtml","pop","every","join","expectHTML","element","expectElmCount","count","message","found","testDuelCounterElements","sets","button0","display0","shift","buttonQuery","ip0","testCounterSelectedElements","elementCountExpected","increase","button1","display1","display1Element","ip1Check","secondIncrease","counterButtons","counterDisplays","counterButtonSelect","counterDisplaySelect","increaseCounter","counterDisplay","body","contains","counterValue","oldCounterValue","testCounterElements","onlyTests","tests","tab","describe","label","run","oldTests","console","debug","repeat","runTests","error","start","Date","now","clearTests","execute","test","err","name","expect","expected","customMessage","Function","JSON","stringify","Error","received","amount","expectNum","isNaN","toBeLessThan","skip","only","getElementsByTagName","counter","propCounter","funUpdateValue","changed","ownerHTML","parentHTML","childHTML","ownerNum","parentNum","childNum","syncCounter","templateTags","dropdown","onchange","todoInput","key","todoToggle2","checked","event","MouseEvent","bubbles","cancelable","view","window","dispatchEvent","parentNode","display","editInput","slowCount","startCount","truthStartCount","newCount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","empty","ImmutableTypes","BasicTypes","ValueTypes","tag","dom","templater","tagComponent","tagArray","subject","tagJsSubject","oneRender","stateRender","variablePrefix","variableSuffix","Tag","values","tagJsType","constructor","this","arrayValue","StringTag","strings","children","super","DomTag","fragFindAny","fragReplacer","safeVar","regexAttr","regexTagOrg","htmlInterpolationToDomMeta","fragmentsWithPlaceholders","results","fragment","diff","x","balanceArrayByArrays","addPlaceholders","match","domMeta","valuePositions","stack","currentElement","valueIndex","position","regexTag","RegExp","preprocessTagsInComments","tagMatch","exec","fullMatch","tagName","attrString","isClosingTag","startsWith","isSelfClosing","endsWith","textContent","slice","trim","splitByTagVar","pushTextTo","attributes","nodeName","attrMatch","attrName","attrValue","fixedName","toLowerCase","parseHTML","inputString","split","filter","part","textNode","pushTo","postprocessTagsInComments","lastRuns","getDomMeta","stringId","array","getStringsId","lastRun","matches","string","isLastRunMatched","template","interpolation","isSimpleType","number","boolean","includes","isStaticTag","isTagComponent","tagType","isTagClass","isSubjectInstance","isSubject","subscribe","isTagArray","Array","combineLatest","subjects","output","Subject","subscribeWith","callback","valuesSeen","setValue","subscription","clones","subscriptions","getSubscription","subscribers","countSubject","globalSubCount$","next","_value","unsubscribe","findIndex","sub","splice","removeSubFromArray","add","runPipedMethods","methods","onComplete","cloneMethods","firstMethod","newValue","handler","methodResponse","setHandler","onSubscription","defineValueOn","orgCallback","lastValue","emit","set","subs","toPromise","toCallback","_subscription","pipe","operations","setMethods","args","arg","static","ValueSubject","getSupportInCycle","setUse","memory","stateConfig","support","use","useMe","beforeRender","beforeRedraw","afterRender","beforeDestroy","tagUse","TagError","details","errorCode","ArrayNoKeyError","StateMismatchError","SyncCallbackError","badLetState","state","config","rearray","stateLength","getStateValue","initState","defaultValue","checkValue","oldState","StateEchoBack","getCallbackValue","wrapper","oldStates","newStates","tagFunction","parentWrap","original","warn","item","syncStates","stateFrom","stateTo","fromValue","getSetMethod","restate","oldValue","initValue","newState","global","newest","watch","currentValues","setupWatch","defaultFinally","init","before","final","previous","pastResult","previousValues","defineOnMethod","getWatch","attachTo","setup","oldWatch","firstSupport","method","nowSupport","setTo","oldestState","letState","makeStateResult","y","deepClone","maxDepth","makeDeepClone","object","clone","isArray","create","getPrototypeOf","i","deepEqual","obj1","obj2","isDeepEqual","fn0","fn1","getTime","isArrayDeepEqual","keys1","keys","keys2","isObjectDeepEqual","newWatch","providers","constructMethod","stateDiffMemory","stateDiff","provider","oldStateCount","instance","owner","cm","compareTo","ownerSupport","find","msg","hasPropChanges","props","pastCloneProps","castedProps","castedPastProps","allFunctionsMatch","compare","subCastedProps","subCompareProps","matched","entries","compareProps","onDelete","compareOriginal","processTagResult","counts","subjectTag","lastSupport","prevSupport","oldest","newSupport","updateBy","processTagResultUpdate","newFragment","buildBeforeElement","placeholder","insertBefore","getValueType","function","type","date","unknown","cloneValueArray","cloneTagJsValue","runBeforeRender","runAfterRender","tagClosed$","runBeforeDestroy","deleted","hasLiveElements","childTags","child","getChildTagsToDestroy","allTags","cTag","TemplaterResult","tagged","TagJsSubject","getNewGlobal","valueType","nowValueType","destroy$","context","renderCount","blocked","htmlDomMeta","processNewTag","Support","getTestTextNode","cloneNode","_children","createTextNode","classS","specialAttribute","names","classList","remove","howToSetInputValue","setAttribute","useLocks","noData","promiseNoData","bindSubjectCallback","isChildOverride","subjectFunction","bindTo","findTagToCallback","bind","locked","callbackResult","lastResult","runBlocked","checkAfterCallbackPromise","last","renderSupport","renderCallbackSupport","afterTagCallback","runTagCallback","then","block","updateExistingTagComponent","INPUT","valueS","ondoubleclick","attrs","scope","howToSet","removeAttribute","processNameValueAttr","processNameOnlyAttr","isSpecialAttr","isSpecial","newAttrValue","processAttributeSubjectValue","callbackFun","fun","search","destroyTagMemory","oldSupport","destroy","tagTypes","destroyArrayTag","removeChild","stagger","removed","updateBeforeTemplate","lastFirstChild","parent","castTextValue","processRegularValue","castedValue","oldClone","simpleValueElm","afterChildrenBuilt","afterElmBuild","added","options","getAttribute","nextSibling","onInitDoubleWrap","oninit","onInitWrap","onInit","elementInitCheck","hasAttribute","select","processTag","firstTime","newSupportByTemplater","getFakeTemplater","fake","isTag","setupNewSupport","swapInsertBefore","updateExistingValue","displaySubject","hasLastValue","newType","destroySimpleValue","arraySubject","wasArray","lastArray","tagSubject","isValueTag","isLikeTags","checkDestroyPrevious","processSubjectComponent","subjectSup","newestState","prepareUpdateToComponent","isClass","valueSupport","isSameTag","isTagTemplater","handleStillTag","processTagArray","existed","lastFragment","runtimeInsertBefore","newRemoved","same","newLength","at","destroyArrayItem","subTag","tagClass","prevArrayValue","lateTemp","lastArrayValue","valueA","valueB","areLikeValues","reviewLastArrayItem","reviewArrayItem","previousSupport","itemSubject","keySet","subPlaceholder","setPlaceholderElm","processFirstSubjectValue","domElement","processAddTagArrayItem","castProps","stateArray","depth","checkProp","alterProp","newProp","toCall","wrap","callWith","supportInCycle","noCycle","allMatched","callbackPropOwner","mem","assign","getPropWrap","isSkipPropValue","subValue","afterCheckProp","getset","getOwnPropertyDescriptor","originalValue","executeWrap","originalFunction","preCastedProps","propsConfig","lastCastProps","syncFunctionProps","nowState","renderTagOnly","oldRenderCount","parentSupport","lastOwnerSupport","runtimeOwnerSupport","lastState","runBeforeRedraw","beforeWithRender","reSupport","tagFakeTemplater","v","oneRenderToSupport","processFirstRegularValue","subscribeToTemplate","called","syncRun","onValue","attachDomElement","nodes","node","marker","appendChild","newString","domParseString","createElement","attr","text","DOMParser","parseFromString","str","getLeadingSpaces","documentElement","placeholderRegex","replacePlaceholders","currentTail","loopTail","processAttributes","examineChild","textChild","secondMatch","wIndex","parseInt","varContent","after","newPos","pos","log","vLen","vPos","lastIndex","attrIndex","valueLength","isAttr","safeReplacer","traverseAndRestore","_match","exchangeParsedForValues","parsedElements","replaceHolderByPosMap","replaceHoldersByPosMaps","valuePosition","varPart","posMap","stopAt","lastName","BaseSupport","isApp","appElement","clonePropsBy","latest","latestCloned","getHtmlDomMeta","loadDomMeta","update","thisTag","orgDomMeta","createDocumentFragment","tempTag","updateConfig","updateValues","updateContext","_string","hasValue","exists","updateContextItem","htmlSubject","newGlobal","processNewValue","updateOneContext","byParent","destroySubscriptions","subGlobal","checkDestroySimpleValueTag","midDestroyChildTags","resetSupport","promises","smartRemoveKids","startStagger","thisGlobal","myClones","cloneOne","newPromises","promise","domOne","destroyClones","unshift","oldClones","checkCloneRemoval","customElm","ondestroy","onDestroyDoubleWrap","onDestroyWrap","onDestroy","elementDestroyCheck","version","getAppSupport","newContextLength","simpleElm","softDestroySupport","softDestroyOne","renderWithSupport","lastTemplater","lastTag","lastDom","lastStrings","oldLength","checkTagSoftDestroy","moveProviders","destroyUnlikeTags","substring","ownGlobal","preClones","reGlobal","fClone","renderSubjectComponent","oldWrapper","newWrapper","isSameStateFunTag","isSameStateRenderTag","swapTags","hasChanged","newTemplater","propsChanged","propsChanged2","hasSupportChanged","newProps","syncSupports","isLikeTag","preGlobal","buildNewTag","afterTagRender","newPropsArray","priorPropsArray","newArray","syncPriorPropFunction","priorProp","oldOwnerState","hasSetter","support0","support1","templater0","templater1","tag0","tag1","dom0","dom1","values0","values1","isLikeValueSets","isLikeDomTags","strings0","strings1","isLikeStringTags","handleProviderChanges","appSupport","hadChanged","tagsWithProvider","getTagsWithProvider","renderExistingTag","oldestSupport","preRenderCount","providersWithChanges","providersChangeCheck","renderUp","isInlineHtml","selfPropChange","callbackStateUpdate","maybePromise","finally","innerCallback","a","b","c","e","f","callbackMaker","originalGetter","initMemory","syncError","tags","tagCount","innerTagWrap","getTagWrap","tagIndex","route","routeProps","app","routeTag","oneRenderFunction","renderFunction","appElements","tagElement","appElmIndex","appElm","runWrapper","hmr","attributeDebug","selected","isOrange","allStrings","class","contentDebug","vs0","vs1","orangeToggle","utils","willPromise","resolve","tableDebug","showCell","test0interval","test1interval","intervalTester0","intervalCount","intervalId","intervalId2","renderCounter","currentTime","startInterval","info","setInterval","stopInterval","clearInterval","intervalTester1","toggleInterval","animateInit","staggerBy","fxName","opacity","wait","animateDestroy","capturePosition","zIndex","toTop","offsetTop","toLeft","offsetLeft","toWidth","clientWidth","offsetWidth","toHeight","clientHeight","offsetHeight","top","left","width","height","captureElementPosition","in","fadeInDown","out","fadeOutUp","fxIn","fxOut","input","createFx","tagDebug","_firstState","showIntervals","renderCountDiv","tagSwitchDebug","_t","selectedTag","tagOutput","title","tag2","tag3","tagOutput2","ternaryPropTest","arraySwitching","outTag","mirroring","tagCounter","innerHtmlTest","_props","innerHtmlPropsTest","test22","childTests","_","childAsPropTest","mouseOverTag","mouseOverEditShow","edit","loadStartTime","counters","appCounterSubject","readStartTime","initCounter","callbacks","callbackTestSub","pipedSubject0","pipedSubject1","pipedSubject2","increasePropCounter","globalSubs","innerCounters","dialog","providerClass","showDialog","TagDebugProvider","ProviderFunc","tagDebugProvider","upper","upperTagDebugProvider","providerDebugBase","_x","showModal","providerDebug","propCounterChange","tagSwitchingProChild1","upperProvider","tagSwitchingProChild2","funcProvider","showProProps","testProviderAsProps","watchTesting","stateNum","stateNumChangeCount","slowChangeCount","watchPropNumSlow","noInit","subjectChangeCount","watchPropNumSubject","asSubject","truthChange","truthChangeCount","watchTruth","truthy","truthSubChangeCount","watchTruthAsSub","insideMultiRender","counter$","arrayFunTag","deleteItem","funInPropsChild","arg0","mainProp","myFunction3","other","addArrayItem","myFunction","myChildFunction","main","addArrayComponent","handleKeyUp","showChild","somethingElse","hasValidMin","min","ADD_ITEM","UPDATE_ITEM","REMOVE_ITEM","TOGGLE_ITEM","TOGGLE_ALL","REMOVE_COMPLETED_ITEMS","Header","dispatch","onSubmit","onBlur","Input","payload","Item","todo","editing","completed","removeItem","handleUpdate","updateItem","nanoid","size","Math","random","App","todos","action","concat","todoReducer","mode","visibleTodos","Main","activeTodos","removeCompleted","Footer","propsDebugMain","syncPropNumber","propNumber","propsJson","json","statePropDisplay","parse","propsDebug","propNumberChange","syncPropDebug","parentTest","__","timestamp","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","timestampToValues","newDateString","propDateDebug","propNumberChangeCount","myPropNumber","watchResults","___","getSetProp","myProp","letProp","propFnUpdateTest","arrayScoreData","score","playerIndex","frame","arrayTests","players","getNewPlayer","scores","_v","floor","playersDisplay","playersContent","player","toggleValue","appCounter","testTimeout","runTesting","manual","alert","clearTimeout","ViewTypes","viewTypes","storage","localStorage","taggedjs","autoTest","views","getScopedStorage","saveScopedStorage","Content","Counters","Props","ProviderDebug","TagSwitchDebug","Child","Arrays","Mirroring","WatchTesting","FunInPropsTag","OneRender","Todo","activate","checkTesting","deactivate","toggleViewType","viewType","TableDebug","locationSplit","location","pathname","end"],"sourceRoot":""}