var t={511:(t,e,n)=>{n.r(e);var o=n(8),a=n(936);(0,a.yY)("array testing",(()=>{(0,a.it)("array basics",(()=>{(0,a.l_)((0,o.o5)("#array-test-push-item")).toBe(1);const t=(0,o.o5)("#score-data-0-1-inside-button");(0,a.l_)(t).toBe(0),(0,a.l_)((0,o.o5)("#score-data-0-1-outside-button")).toBe(0),(0,o.L7)("array-test-push-item").click(),(0,a.l_)((0,o.o5)("#score-data-0-1-inside-button")).toBe(1),(0,a.l_)((0,o.o5)("#score-data-0-1-outside-button")).toBe(1);const e=(0,o.L7)("score-data-0-1-inside-button"),n=(0,o.L7)("score-data-0-1-inside-display");let r=n.innerText;const i=(0,o.L7)("score-data-0-1-outside-button"),s=(0,o.L7)("score-data-0-1-outside-display"),d=s.innerText;(0,a.l_)(r).toBe(d),e.click(),(0,a.l_)(n.innerText).toBe(s.innerText),(0,a.l_)(r).toBe((Number(n.innerText)-1).toString()),(0,a.l_)(r).toBe((Number(s.innerText)-1).toString()),i.click(),(0,a.l_)(n.innerText).toBe(s.innerText),(0,a.l_)(r).toBe((Number(n.innerText)-2).toString()),(0,a.l_)(r).toBe((Number(s.innerText)-2).toString())})),(0,a.it)("🗑️ deletes",(async()=>{(0,a.l_)((0,o.o5)("#player-remove-promise-btn-0")).toBe(0),(0,a.l_)((0,o.o5)("#player-edit-btn-0")).toBe(1),await(0,o.L7)("player-edit-btn-0").onclick(),(0,a.l_)((0,o.o5)("#player-remove-promise-btn-0")).toBe(1);const t=await(0,o.L7)("player-remove-promise-btn-0").onclick();var e;(0,a.l_)(t).toBe("promise-no-data-ever"),await(e=1e3,new Promise((t=>setTimeout(t,e)))),(0,a.l_)((0,o.o5)("#player-remove-promise-btn-0")).toBe(0),(0,a.l_)((0,o.o5)("#player-edit-btn-0")).toBe(0)}))}))},810:(t,e,n)=>{n.r(e);var o=n(8),a=n(936);(0,a.it)("elements exists",(()=>{(0,a.l_)((0,o.L7)("h1-app")).toBeDefined();const t=(0,o.L7)("toggle-test");(0,a.l_)(t).toBeDefined(),(0,a.l_)(t.innerText).toBe("toggle test")})),(0,a.it)("toggle test",(()=>{const t=(0,o.L7)("toggle-test");t.click(),(0,a.l_)(t.innerText).toBe("toggle test true"),t.click(),(0,a.l_)(t.innerText).toBe("toggle test");const e=(0,o.L7)("props-debug-textarea");(0,a.l_)(e.value.replace(/\s/g,"")).toBe('{"test":33,"x":"y"}')}))},322:(t,e,n)=>{n.r(e);var o=n(936),a=n(634);(0,o.it)("child tests",(()=>{(0,a.di)("#innerHtmlPropsTest-button","#innerHtmlPropsTest-display"),(0,a.di)("#innerHtmlTest-counter-button","#innerHtmlTest-counter-display"),(0,a.Iq)(["#childTests-button","#childTests-display"],["#child-as-prop-test-button","#child-as-prop-test-display"],["#innerHtmlPropsTest-childTests-button","#innerHtmlPropsTest-childTests-display"]),(0,a.Iq)(["#childTests-button","#childTests-display"],["#innerHtmlTest-childTests-button","#innerHtmlTest-childTests-display"])}))},410:(t,e,n)=>{n.r(e);var o=n(8),a=n(936),r=n(634);(0,a.yY)("content",(()=>{(0,a.it)("basic",(()=>{(0,r.Lo)("#content-subject-pipe-display0","#content-subject-pipe-display1"),(0,r.Lo)("#content-combineLatest-pipe-display0","#content-combineLatest-pipe-display1")})),(0,a.it)("html",(()=>{(0,r.Lo)("#content-combineLatest-pipeHtml-display0","#content-combineLatest-pipeHtml-display1")})),(0,a.it)("spacing",(()=>{(0,a.l_)((0,o.dy)("#hello-big-dom-world")).toBe("hello <b>big</b> world"),(0,a.l_)((0,o.dy)("#hello-big-string-world")).toBe("hello <b>big</b> world")}))}))},269:(t,e,n)=>{n.r(e);var o=n(8),a=n(936),r=n(634);(0,a.yY)("counters",(()=>{const t="0"===(0,o.dy)("#🍄-slowChangeCount");(0,a.it)("basics",(()=>{const e=(0,o.L7)("set-main-counter-input");(0,a.l_)(e).toBeDefined(),e.value="0",e.onkeyup({target:e});const n=Number((0,o.dy)("#counters_render_count")),i=Number((0,o.dy)("#inner_counters_render_count"));(0,r.wG)("#conditional-counter",0);const s=(0,o._8)("👉-counter-sub-count");(0,r.di)("#❤️-increase-counter","#❤️-counter-display"),(0,a.l_)((0,o._8)("👉-counter-sub-count")).toBe(s),(0,a.l_)((0,o.dy)("#counters_render_count")).toBe((n+2).toString()),(0,a.l_)((0,o.dy)("#inner_counters_render_count")).toBe((i+2).toString()),(0,r.di)("#❤️-inner-counter","#❤️-inner-display"),(0,a.l_)((0,o.dy)("#counters_render_count")).toBe((n+4).toString()),(0,a.l_)((0,o.dy)("#inner_counters_render_count")).toBe((i+4).toString()),(0,r.di)("#standalone-counter","#standalone-display"),(0,a.l_)((0,o.dy)("#counters_render_count")).toBe((n+6).toString(),"render count check failed"),(0,a.l_)((0,o.dy)("#inner_counters_render_count")).toBe((i+4).toString()),(0,r.wG)("#conditional-counter",1),(0,r.wG)("#conditional-display",1),t&&(0,a.l_)((0,o.dy)("#conditional-display")).toBe("2"),(0,r.di)("#conditional-counter","#conditional-display"),(0,r.di)("#❤️-inner-counter","#❤️-inner-display")})),a.it.skip("piped subject",(()=>{t&&((0,a.l_)((0,o.dy)("#🪈-pipedSubject")).toBe(""),(0,a.l_)((0,o.dy)("#🪈-pipedSubject-2")).toBe("")),(0,o.V4)("#🥦-subject-increase-counter");const e=(0,o.dy)("#🪈-pipedSubject"),n=(0,o.dy)("#🥦-subject-counter-display");(0,a.l_)(e).toBe(n,`Expected #🪈-pipedSubject value(${e}) to match #🥦-subject-counter-display value(${n})`),(0,a.l_)((0,o.dy)("#🪈-pipedSubject-2")).toBe((0,o.dy)("#🥦-subject-counter-display"))}))}))},8:(t,e,n)=>{function o(t){return document.querySelectorAll(t).length}function a(t){return document.querySelectorAll(t)}function r(t){return a(t).forEach((t=>t.focus()))}function i(t){return[...a(t)].map((t=>t.click()))}function s(t,e=0){return a(t)[e].click()}function d(t){let e="";return a(t).forEach((t=>e+=t.innerHTML)),e}function l(t){return document.getElementById(t)}function c(t){return document.getElementById(t).innerHTML}n.d(e,{IO:()=>a,L7:()=>l,T_:()=>r,V4:()=>i,_8:()=>c,dQ:()=>s,dy:()=>d,o5:()=>o})},634:(t,e,n)=>{n.d(e,{Fr:()=>r,Iq:()=>s,Lo:()=>a,di:()=>l,wG:()=>i});var o=n(936);function a(...t){const e=t.reduce(((t,e)=>{const n=document.querySelectorAll(e);return t.push(...n),t}),[]);(0,o.l_)(e.length).toBeGreaterThan(0,"Expected elements to be present in expectMatchedHtml() query but found none");const n=e.pop().innerHTML;e.every((e=>(0,o.l_)(n).toBe(e.innerHTML,(()=>`expectMatchedHtml unmatched html - queries: ${t.join(" - ")}`))))}function r(t,e){document.querySelectorAll(t).forEach((n=>(0,o.l_)(n.innerHTML).toBe(e,(()=>`Expected element ${t} innerHTML to be --\x3e${e}<-- but it was --\x3e${n.innerHTML}<--`))))}function i(t,e,n){const a=document.querySelectorAll(t),r=a.length;return n=n||`Expected ${e} elements to match query ${t} but found ${r}`,(0,o.l_)(r).toBe(e,n),a}function s(...t){const[e,n]=t.shift();let a=i(n,1),r=i(e,1);const s=a[0].innerText;d(r,a,{elementCountExpected:1},e,n);let l=2;t.forEach((([t,c])=>{a=i(c,1),r=i(t,1);let u=a[0],m=u.innerText;const p=(Number(s)+l).toString();(0,o.l_)(m).toBe(p,(()=>`Expected second increase provider to be increased to ${s} but got ${m}`)),d(r,a,{elementCountExpected:1},e,n),u=a[0],m=u.innerText;const g=l+2;(0,o.l_)(m).toBe((Number(s)+g).toString(),(()=>`Expected ${c} innerText to be ${Number(s)+g} but instead it is ${m}`)),l+=2}))}function d(t,e,{elementCountExpected:n}={elementCountExpected:1},a,r){(0,o.l_)(t.length).toBe(n,(()=>`Expected ${a} to be ${n} elements but is instead ${t.length}`)),(0,o.l_)(e.length).toBe(n,(()=>`Expected ${r} to be ${n} elements but is instead ${e.length}`)),t.forEach(((t,e)=>{const n=document.querySelectorAll(r)[e];(0,o.l_)(document.body.contains(n)).toBe(!0,`The selected element ${r} is no longer an element on the document body BEFORE clicking ${a}`);let i=Number(n?.innerText);t.click(),(0,o.l_)(n).toBeDefined(),(0,o.l_)(document.body.contains(n)).toBe(!0,`The selected element ${r} is no longer an element on the document body AFTER clicking ${a}`);let s=i+1;i=Number(n.innerText),(0,o.l_)(document.body.contains(n)).toBe(!0),(0,o.l_)(s).toBe(i,(()=>`Counter test 1 of 2 expected ${r} to be value ${s} but it is ${i}`)),t.click(),i=Number(n?.innerText),++s,(0,o.l_)(s).toBe(i,(()=>`Counter test 2 of 2 expected ${r} to increase value to ${s} but it is ${i}`))}))}function l(t,e,{elementCountExpected:n}={elementCountExpected:1}){return d(document.querySelectorAll(t),document.querySelectorAll(e),{elementCountExpected:n},t,e)}},936:(t,e,n)=>{n.d(e,{ht:()=>l,it:()=>s,l_:()=>u,yY:()=>i});const o=[];let a=[],r=0;function i(t,e){a.push((async()=>{const n=a;a=[];try{console.debug("  ".repeat(r)+"↘ "+t),++r,await e(),await c(a),--r}catch(t){throw--r,t}finally{a=n}}))}function s(t,e){a.push((async()=>{try{const n=Date.now();await e();const o=Date.now()-n;console.debug(" ".repeat(r)+`✅ ${t} - ${o}ms`)}catch(e){throw console.debug(" ".repeat(r)+"❌ "+t),e}}))}function d(){o.length=0,a.length=0}async function l(){return o.length?c(o):c(a)}async function c(t){for(const e of t)try{await e()}catch(t){throw console.error(`Error testing ${e.name}`),d(),t}d()}function u(t){return{toBeDefined:e=>{if(null!=t)return;e instanceof Function&&(e=e());const n=e||`Expected ${JSON.stringify(t)} to be defined`;throw console.error(n,{expected:t}),new Error(n)},toBe:(e,n)=>{if(t===e)return;n instanceof Function&&(n=n());const o=n||`Expected ${typeof t} ${JSON.stringify(t)} to be ${typeof e} ${JSON.stringify(e)}`;throw console.error(o,{received:e,expected:t}),new Error(o)},toBeGreaterThan:(e,n)=>{const o=t;if(!isNaN(o)&&o>e)return;const a=n||`Expected ${typeof t} ${JSON.stringify(t)} to be greater than amount`;throw console.error(a,{amount:e,expected:t}),new Error(a)},toBeLessThan:(e,n)=>{const o=t;if(!isNaN(o)&&o<e)return;const a=n||`Expected ${typeof t} ${JSON.stringify(t)} to be less than amount`;throw console.error(a,{amount:e,expected:t}),new Error(a)}}}i.skip=(t,e)=>{console.debug("⏭️ Skipped "+t)},i.only=(t,e)=>{o.push((async()=>{const n=a;a=[];try{console.debug("  ".repeat(r)+"↘ "+t),++r,await e(),await c(a),--r}catch(t){throw--r,t}finally{a=n}}))},s.only=(t,e)=>{o.push((async()=>{try{const n=Date.now();await e();const o=Date.now()-n;console.debug(`✅ ${t} - ${o}ms`)}catch(e){throw console.debug("❌ "+t),e}}))},s.skip=(t,e)=>{console.debug("⏭️ Skipped "+t)}},722:(t,e,n)=>{n.r(e);var o=n(8),a=n(936),r=n(634);(0,a.it)("function in props",(()=>{(0,r.di)("#fun_in_prop1","#fun_in_prop_display"),(0,r.di)("#fun_in_prop2","#fun_in_prop_display"),(0,r.di)("#fun_in_prop3","#fun_in_prop_display"),(0,a.l_)((0,o.dy)("#main_wrap_state")).toBe("taggjedjs-wrapped"),(0,o.V4)("#toggle-fun-in-child"),(0,o.V4)("#fun-parent-button"),(0,a.l_)((0,o.dy)("#main_wrap_state")).toBe("nowrap"),(0,o.V4)("#toggle-fun-in-child"),(0,o.V4)("#fun-parent-button"),(0,a.l_)((0,o.dy)("#main_wrap_state")).toBe("taggjedjs-wrapped")}))},662:(t,e,n)=>{n.r(e);var o=n(936);(0,o.it)("has no templates",(()=>{(0,o.l_)(document.getElementsByTagName("template").length).toBe(0,"expected no templates on document")}))},644:(t,e,n)=>{n.r(e);var o=n(8),a=n(936),r=n(634);(0,a.it)("🪞 mirror testing",(()=>{(0,r.wG)("#mirror-counter-display",2),(0,r.wG)("#mirror-counter-button",2);const t=Number((0,o._8)("mirror-counter-display"));(0,o.L7)("mirror-counter-button").click(),(0,a.l_)(t+1).toBe(Number((0,o._8)("mirror-counter-display"))),(0,r.wG)("#mirror-counter-display",2),(0,r.Lo)("#mirror-counter-display")}))},720:(t,e,n)=>{n.r(e);var o=n(8),a=n(936),r=n(634);(0,a.it)("oneRender",(()=>{(0,a.l_)((0,o.dy)("#oneRender_tag_ts_render_count")).toBe("1"),(0,r.di)("#👍-counter-button","#👍-counter-display"),(0,r.di)("#👍🔨-counter-button","#👍🔨-counter-display"),(0,r.di)("#👍🔨-counter-button","#👍🔨-counter-subject-display"),(0,a.l_)((0,o.dy)("#oneRender_tag_ts_render_count")).toBe("1")}))},348:(t,e,n)=>{n.r(e);var o=n(8),a=n(936),r=n(634);(0,a.yY)("props",(()=>{(0,a.it)("test duels",(()=>{(0,r.Iq)(["#propsDebug-🥩-0-button","#propsDebug-🥩-0-display"],["#propsDebug-🥩-1-button","#propsDebug-🥩-1-display"])})),(0,a.it)("child prop communications",(()=>{(0,r.Iq)(["#propsDebug-🥩-1-button","#propsDebug-🥩-1-display"],["#propsOneLevelFunUpdate-🥩-button","#propsOneLevelFunUpdate-🥩-display"])})),(0,a.it)("letProp",(()=>{(0,r.Lo)("#propsDebug-🥩-0-display","#propsDebug-🥩-2-display");const t=Number((0,o.dy)("#propsDebug-🥩-0-display")),e=(0,o.IO)("#propsDebug-🥩-2-button")[0].onclick();(0,a.l_)(e).toBe("no-data-ever"),(0,a.l_)((0,o.dy)("#propsDebug-🥩-0-display")).toBe(t.toString()),(0,a.l_)((0,o.dy)("#propsDebug-🥩-2-display")).toBe((t+1).toString())})),(0,a.it)("basics",(()=>{const t=(0,o.L7)("propsOneLevelFunUpdate-🥩-display").innerHTML,e=(0,o.dy)("#propsDebug-🥩-change-display");(0,a.l_)(e).toBe((Number(t)+1).toString());const n=(0,o.L7)("propsDebug-🥩-0-display").innerHTML,r=(0,o.L7)("propsDebug-🥩-1-display").innerHTML,i=(0,o.L7)("propsOneLevelFunUpdate-🥩-display").innerHTML,s=Number(n),d=Number(r),l=Number(i);(0,a.l_)(d).toBe(l),(0,a.l_)(s+2).toBe(d),(0,o.L7)("propsDebug-🥩-1-button").click()})),(0,a.it)("props as functions",(()=>{const t=Number((0,o._8)("sync-prop-number-display"));(0,r.Lo)("#sync-prop-number-display","#sync-prop-child-display"),(0,o.L7)("sync-prop-child-button").click(),(0,r.Fr)("#sync-prop-number-display",(t+2).toString()),(0,r.di)("#nothing-prop-counter-button","#nothing-prop-counter-display"),(0,r.Fr)("#sync-prop-number-display",(t+2).toString()),(0,r.Lo)("#sync-prop-counter-display","#nothing-prop-counter-display")}))}))},775:(t,e,n)=>{n.r(e);var o=n(936),a=n(634);(0,o.yY)("providers",(()=>{(0,o.it)("basics",(()=>{(0,a.Iq)(["#increase-provider-🍌-0-button","#increase-provider-🍌-0-display"],["#increase-provider-🍌-1-button","#increase-provider-🍌-1-display"]),(0,a.Iq)(["#increase-provider-upper-🌹-0-button","#increase-provider-upper-🌹-0-display"],["#increase-provider-upper-🌹-1-button","#increase-provider-upper-🌹-1-display"]),(0,a.Iq)(["#increase-provider-🍀-0-button","#increase-provider-🍀-0-display"],["#increase-provider-🍀-1-button","#increase-provider-🍀-1-display"])})),(0,o.it)("inner outer debug",(()=>{(0,a.Iq)(["#increase-prop-🐷-0-button","#increase-prop-🐷-0-display"],["#increase-prop-🐷-1-button","#increase-prop-🐷-1-display"]),(0,a.Iq)(["#increase-provider-🍀-0-button","#increase-provider-🍀-0-display"],["#increase-provider-🍀-1-button","#increase-provider-🍀-1-display"]),(0,a.Iq)(["#increase-prop-🐷-0-button","#increase-prop-🐷-0-display"],["#increase-prop-🐷-1-button","#increase-prop-🐷-1-display"])}))}))},845:(t,e,n)=>{n.r(e);var o=n(936);(0,o.it)("no template tags",(()=>{const t=document.getElementsByTagName("template");(0,o.l_)(t.length).toBe(0,"Expected no templates to be on document")}))},908:(t,e,n)=>{n.r(e);var o=n(8),a=n(936),r=n(634);(0,a.yY)("tagSwitching",(()=>{(0,a.it)("0",(()=>{(0,a.l_)((0,o.o5)("#select-tag-above")).toBe(1,"Expected select-tag-above element to be defined"),(0,a.l_)((0,o.o5)("#tag-switch-dropdown")).toBe(1,"Expected one #tag-switch-dropdown"),(0,a.l_)((0,o.o5)("#tagSwitch-1-hello")).toBe(2,"Expected two #tagSwitch-1-hello elements"),(0,a.l_)((0,o.o5)("#tagSwitch-2-hello")).toBe(0),(0,a.l_)((0,o.o5)("#tagSwitch-3-hello")).toBe(0)})),(0,a.it)("1",(()=>{const t=(0,o.L7)("tag-switch-dropdown");t.value="1",t.onchange({target:t}),(0,r.wG)("#tagSwitch-1-hello",5),(0,a.l_)((0,o.o5)("#tagSwitch-2-hello")).toBe(0),(0,a.l_)((0,o.o5)("#tagSwitch-3-hello")).toBe(0),(0,a.l_)((0,o.o5)("#select-tag-above")).toBe(0)})),(0,a.it)("2",(()=>{const t=(0,o.L7)("tag-switch-dropdown");t.value="2",t.onchange({target:t}),(0,r.wG)("#tagSwitch-1-hello",2),(0,r.wG)("#tagSwitch-2-hello",4),(0,a.l_)((0,o.o5)("#tagSwitch-3-hello")).toBe(0),(0,a.l_)((0,o.o5)("#select-tag-above")).toBe(0)})),(0,a.it)("3",(()=>{const t=(0,o.L7)("tag-switch-dropdown");t.value="3",t.onchange({target:t}),(0,a.l_)((0,o.o5)("#tagSwitch-1-hello")).toBe(0,"Expected no hello 1s"),(0,a.l_)((0,o.o5)("#tagSwitch-2-hello")).toBe(0),(0,r.wG)("#tagSwitch-3-hello",7),(0,a.l_)((0,o.o5)("#select-tag-above")).toBe(0)})),(0,a.it)("4",(()=>{const t=(0,o.L7)("tag-switch-dropdown");t.value="",t.onchange({target:t}),(0,r.wG)("#select-tag-above",1),(0,r.wG)("#tag-switch-dropdown",1),(0,r.wG)("#tagSwitch-1-hello",2),(0,r.wG)("#tagSwitch-2-hello",0),(0,r.wG)("#tagSwitch-3-hello",0)}))}))},199:(t,e,n)=>{n.r(e);var o=n(8),a=n(936);(0,a.yY)("todos",(()=>{const t=(0,o.L7)("todo-input");(0,a.it)("add one remove one",(()=>{(0,a.l_)((0,o.IO)('button[data-testid="todo-item-button"]').length).toBe(0),t.value="one",t.onkeydown({key:"Enter",target:t}),(0,a.l_)((0,o.IO)('button[data-testid="todo-item-button"]').length).toBe(1),(0,o.V4)('button[data-testid="todo-item-button"]'),(0,a.l_)((0,o.IO)('button[data-testid="todo-item-button"]').length).toBe(0)})),(0,a.it)("basic",(()=>{t.value="one",t.onkeydown({key:"Enter",target:t}),(0,o.V4)('input[data-testid="todo-item-toggle"]'),(0,o.V4)('button[data-testid="todo-item-button"]'),(0,a.l_)((0,o.IO)('button[data-testid="todo-item-button"]').length).toBe(0),t.value="one",t.onkeydown({key:"Enter",target:t}),t.value="two",t.onkeydown({key:"Enter",target:t});const e=(0,o.IO)('input[data-testid="todo-item-toggle"]')[1];e.click(),(0,a.l_)(e.checked).toBe(!0),t.value="three",t.onkeydown({key:"Enter",target:t}),(0,a.l_)((0,o.IO)('input[data-testid="todo-item-toggle"]').length).toBe(3),(0,o.dQ)('button[data-testid="todo-item-button"]'),(0,a.l_)((0,o.IO)('input[data-testid="todo-item-toggle"]').length).toBe(2),(0,o.dQ)('button[data-testid="todo-item-button"]'),(0,a.l_)((0,o.IO)('input[data-testid="todo-item-toggle"]').length).toBe(1),(0,o.dQ)('button[data-testid="todo-item-button"]'),(0,a.l_)((0,o.IO)('input[data-testid="todo-item-toggle"]').length).toBe(0)})),(0,a.it)("editing",(()=>{t.value="one",t.onkeydown({key:"Enter",target:t});let e=new MouseEvent("dblclick",{bubbles:!0,cancelable:!0,view:window});(0,o.IO)('label[data-testid="todo-item-label"]')[0].dispatchEvent(e),(0,o.T_)('input[data-testid="text-input"]');const n=(0,o.IO)('input[data-testid="text-input"]')[1];n.value="two",n.onkeydown({key:"Enter",target:n}),(0,a.l_)((0,o.IO)('input[data-testid="text-input"]').length).toBe(1),(0,o.dQ)('button[data-testid="todo-item-button"]'),(0,a.l_)((0,o.IO)('label[data-testid="todo-item-label"]').length).toBe(0)}))}))},356:(t,e,n)=>{n.r(e);var o=n(8),a=n(936),r=n(634);(0,a.yY)("⌚️ watch tests",(()=>{const t=(0,o.dy)("#🍄-slowChangeCount"),e="0"===t;(0,a.it)("basic",(()=>{const n=Number((0,o._8)("watch-testing-num-display"));(0,r.Lo)("#watch-testing-num-display","#🍄-slowChangeCount"),(0,a.l_)((0,o.dy)("#🦷-truthChange")).toBe("false"),e?((0,a.l_)((0,o.dy)("#🍄-watchPropNumSlow")).toBe(""),(0,a.l_)((0,o.dy)("#🦷-watchTruth")).toBe("false"),(0,a.l_)((0,o.dy)("#🦷-watchTruthAsSub")).toBe("undefined")):((0,a.l_)((0,o.dy)("#🍄-watchPropNumSlow")).toBe(t),(0,a.l_)(Number((0,o.dy)("#🦷-watchTruth"))).toBeGreaterThan(Number(t)),(0,a.l_)((0,o.dy)("#🦷-watchTruthAsSub")).toBe((0,o.dy)("#🦷-truthSubChangeCount"))),(0,o.V4)("#watch-testing-num-button"),(0,r.Lo)("#watch-testing-num-display","#🍄-slowChangeCount"),(0,r.Lo)("#🍄-watchPropNumSlow","#🍄-slowChangeCount"),(0,a.l_)((0,o.dy)("#🍄‍🟫-subjectChangeCount")).toBe((n+2).toString()),(0,r.Lo)("#🍄‍🟫-subjectChangeCount","#🍄‍🟫-watchPropNumSubject");const i=Number((0,o.dy)("#🦷-truthChangeCount"));(0,o.V4)("#🦷-truthChange-button");let s=(i+1).toString();(0,a.l_)((0,o.dy)("#🦷-truthChange")).toBe("true"),(0,a.l_)((0,o.dy)("#🦷-watchTruth")).toBe(s),(0,a.l_)((0,o.dy)("#🦷-truthChangeCount")).toBe(s),(0,o.V4)("#🦷-truthChange-button"),s=(i+1).toString(),(0,a.l_)((0,o.dy)("#🦷-truthChange")).toBe("false"),(0,a.l_)((0,o.dy)("#🦷-watchTruth")).toBe(s),(0,a.l_)((0,o.dy)("#🦷-truthChangeCount")).toBe(s),(0,o.V4)("#🦷-truthChange-button"),s=(i+2).toString(),(0,a.l_)((0,o.dy)("#🦷-truthChange")).toBe("true"),(0,a.l_)((0,o.dy)("#🦷-watchTruth")).toBe(s),(0,a.l_)((0,o.dy)("#🦷-truthChangeCount")).toBe(s),(0,o.V4)("#🦷-truthChange-button"),(0,o.V4)("#🦷-reset-button"),(0,a.l_)((0,o.dy)("#🦷-watchTruthAsSub")).toBe((0,o.dy)("#🦷-watchTruth"))}))}))}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{n.d(o,{gV:()=>Io,jG:()=>Mo,l2:()=>Wo,fm:()=>We});const t="";var e;!function(t){t.unknown="unknown",t.tag="tag",t.dom="dom",t.templater="templater",t.tagComponent="tag-component",t.object="object",t.tagArray="tag-array",t.subject="subject",t.tagJsSubject="tagJsSubject",t.oneRender="oneRender",t.date="date",t.string="string",t.number="number",t.boolean="boolean",t.function="function",t[void 0]="undefined"}(e||(e={}));const a=":tagvar",r=":";new RegExp("--"+a+"--","g");class i{values;tagJsType;arrayValue;templater;constructor(t){this.values=t}key(t){return this.arrayValue=t,this}}class s extends i{strings;values;tagJsType=e.tag;children;constructor(t,e){super(e),this.strings=t,this.values=e}html(t,...e){return this.children={strings:t,values:e},this}}class d extends i{dom;values;tagJsType=e.dom;children;constructor(t,e){super(e),this.dom=t,this.values=e}html={dom:(t,...e)=>(this.children={dom:t,values:e},this)}}function l(t,e){for(let n=0;n<t.length;n++){const o=t[n];if("attributes"in o&&(o.attributes=u(o.attributes,e)),"children"in o){const t=o.children;l(t,e),o.children=t,0===o.children.length&&delete o.children}n=c(o,e,t,n)}}function c(t,n,o,i){if("text"!==t.nodeName)return i;const s=t;let d=s.textContent;if("string"!=typeof d)return i;const c=new RegExp(a+"(\\d+)"+r,"g");let u;for(;null!==(u=c.exec(d));){const t=parseInt(u[1],10);if(!isNaN(t)&&t<n.length){const s=a+t+r,m=d.slice(0,u.index),p=d.slice(u.index+s.length);let g=n[t];g instanceof Array&&(g=g.map(((t,n)=>{if(t?.tagJsType===e.dom){const e=[...t.dom];l(e,t.values);return e}return t}))),o.splice(i,1,{nodeName:"text",textContent:m},{nodeName:"text",textContent:"",value:g},{nodeName:"text",textContent:p}),d=p,c.lastIndex=0,i+=2}}return s.textContent=d,i}function u(t,e){return t.map((([t,n])=>{if(t.startsWith(a)){const n=parseInt(t.replace(a,""),10);if(!isNaN(n)&&n<e.length)return[e[n]]}if("string"==typeof n&&n.startsWith(a)){const t=parseInt(n.replace(a,""),10);!isNaN(t)&&t<e.length&&(n=e[t])}return[t,n]}))}const m="__safeTagVar";const p=/__safeTagVar(\d+)/g;function g(t){if("attributes"in t&&(t.attributes=t.attributes.map((t=>{if(1===t.length)return t;let[e,n]=t;if("string"==typeof n&&n.startsWith(m)){const t=parseInt(n.replace(m,""),10);n=a+t+r}return[e,n]}))),"children"in t){const e=t.children;for(let t=0;t<e.length;t++){const n=e[t];if("text"===n.nodeName){if("string"!=typeof n.textContent)return;n.textContent=n.textContent.replace(p,((t,e)=>a+e+r))}g(n)}0===e.length&&delete t.children}}const b=/(^:tagvar\d+:|:tagvar\d+:$)/g,h="__safeTagVar",x=/([:_a-zA-Z0-9\-\.]+)(?:="([^"]*)"|=(\S+))?/g,N=/<\/?([a-zA-Z0-9\-]+)([^>]*)>/;function v(t,e){const n=function(t,e){const n=t.map(((t,n)=>n<e.length?t+a+n+r:t));return function(t,e,n){const o=n.length-e.length;if(o>0)for(let n=o;n>0;--n)t.push(a+(e.length+n-1)+r)}(n,t,e),n}(t.map((t=>t.replace(b,((t,e)=>h+e)))),e),o=function(t){const e=[],n=[];let o=null,i=0,s=0;const d=new RegExp(N,"g");for(;s<t.length;){const l=d.exec(t);if(!l)break;const[c,u,m]=l,p=c.startsWith("</"),g=c.endsWith("/>");if(s<l.index){const n=t.slice(s,l.index);if(n.trim()){const t={nodeName:"text",textContent:n};o?(o.children||(o.children=[]),o.children.push(t)):e.push(t)}}if(s=l.index+c.length,p){o=n.pop()||null;continue}const b={nodeName:u,attributes:[]};let h;for(;null!==(h=x.exec(m));){let[t,e,n,o]=h,s=n||o;if(void 0===s){if(e.slice(0,a.length)===a){b.attributes.push([e]);continue}s=a+i+++r}b.attributes.push([e.toLowerCase(),s])}o?(o.children||(o.children=[]),o.children.push(b)):e.push(b),g||(n.push(o),o=b)}if(s<t.length){const n=t.slice(s);if(n.trim()){const t={nodeName:"text",textContent:n.trim()};o?(o.children||(o.children=[]),o.children.push(t)):e.push(t)}}return e}(n.join(""));return o}function f(t,e){return l(t,e),t.forEach(g),t}const y={};function C(t,e){const n=function(t,e){const n=t.map((t=>t.length));return n.push(t.length),Number(n.join(""))}(t),o=y[n],a=o&&function(t,e,n){if(n&&n.strings.length===t.length&&n.strings.every(((e,n)=>e===t[n]))&&n.values.length===e.length)return!0;return!1}(t,e,o);let r;if(a)return r=o.domMeta,r;r=v(t,e);const i={interpolation:void 0,string:void 0,strings:t,values:e,domMeta:r};return y[n]=i,r}function w(t){return[e.dom,e.tag,e.templater].includes(t?.tagJsType)}function k(t){return t?.tagJsType===e.tagComponent}function T(t){const n=t?.tagJsType;return n&&[e.tag,e.dom].includes(n)}function j(t){return!(!(!0===t?.isSubject)&&!t?.subscribe)}function _(t){return t instanceof Array&&t.every((t=>[e.tag,e.templater,e.dom,e.tagComponent].includes(t?.tagJsType)))}function S(t){const e=new D;return e.subscribeWith=e=>{const n=[],o=[],a=(a,r)=>{n[r]=!0,o[r]=a;if(n.length===t.length){for(let t=n.length-1;t>=0;--t)if(!n[t])return;e(o,i)}},r=[...t],i=r.shift().subscribe((t=>a(t,0))),s=r.map(((t,e)=>t.subscribe((t=>a(t,e+1)))));return i.subscriptions=s,i},e}function B(t,e,n){const o=D.globalSubCount$;D.globalSubCount$.next(o._value+1);const a=function(){a.unsubscribe()};return a.callback=e,a.subscriptions=[],a.unsubscribe=function(){return function(t,e,n){(function(t,e){const n=t.findIndex((t=>t.callback===e));-1!==n&&t.splice(n,1)})(e,n),D.globalSubCount$.next(D.globalSubCount$._value-1),t.unsubscribe=()=>t;const o=t.subscriptions;for(let t=o.length-1;t>=0;--t)o[t].unsubscribe();return t}(a,n,e)},a.add=t=>(a.subscriptions.push(t),a),a.next=t=>{e(t,a)},a}function P(t,e,n){const o=[...e],a=o.shift(),r=t=>{if(o.length)return P(t,o,n);n(t)};let i=r;const s=a(t,{setHandler:t=>i=t,next:r});i(s)}class D{value;onSubscription;methods=[];isSubject=!0;subscribers=[];subscribeWith;_value;constructor(t,e){this.value=t,this.onSubscription=e,this._value=t,E(this)}subscribe(t){const e=B(0,t,this.subscribers),n=this.subscribeWith;if(n){if(this.methods.length){const n=t;t=t=>{P(t,this.methods,(t=>n(t,e)))}}return n(t)}return this.subscribers.push(e),this.onSubscription&&this.onSubscription(e),e}next(t){this._value=t,this.emit()}set=this.next;emit(){const t=this._value,e=this.subscribers;for(let n=0;n<e.length;++n){const o=e[n];o.callback(t,o)}}toPromise(){return new Promise((t=>{this.subscribe(((e,n)=>{n.unsubscribe(),t(e)}))}))}toCallback(t){const e=this.subscribe(((n,o)=>{e.unsubscribe(),t(n)}));return this}pipe(...t){const e=new D(this._value);return e.setMethods(t),e.subscribeWith=t=>this.subscribe(t),e.next=t=>this.next(t),e}setMethods(t){this.methods=t}static all(t){return S(t.map((t=>{if(j(t))return t;return new D(t,(e=>(e.next(t),e)))})))}static globalSubCount$=new D(0)}function E(t){Object.defineProperty(t,"value",{set(e){t._value=e,t.emit()},get:()=>t._value})}class O extends D{value;constructor(t){super(t),this.value=t,E(this)}subscribe(t){const e=super.subscribe(t);return t(this._value,e),e}}function A(){return $.memory.stateConfig.support}function $(t){const e={beforeRender:t.beforeRender||(()=>{}),beforeRedraw:t.beforeRedraw||(()=>{}),afterRender:t.afterRender||(()=>{}),beforeDestroy:t.beforeDestroy||(()=>{})};$.tagUse.push(e)}$.tagUse=[],$.memory={};class I extends Error{details;constructor(t,e,n={}){super(t),this.name=I.name,this.details={...n,errorCode:e}}}class L extends I{constructor(t,e){super(t,"array-no-key-error",e),this.name=L.name}}class R extends I{constructor(t,e){super(t,"state-mismatch-error",e),this.name=R.name}}class V extends I{constructor(t,e){super(t,"sync-callback-error",e),this.name=V.name}}const F='letState function incorrectly used. Second item in array is not setting expected value.\n\nFor "let" state use `let name = state(default)(x => [name, name = x])`\n\nFor "const" state use `const name = state(default)()`\n\nProblem state:\n';$.memory.stateConfig={array:[]};const H=t=>function(t){const e=t.state,n=$.memory.stateConfig;n.rearray=[];const o=e?.length;if(o){for(let t=0;t<o;++t)M(e[t]);n.rearray.push(...e)}n.support=t}(t);function M(t){const e=t.callback;if(!e)return t.defaultValue;const[n,o]=function(t){const e=t(J),[n]=e,[o]=t(n);return[n,o]}(e);if(o!==J){const a=F+(e?e.toString():JSON.stringify(t))+"\n";throw console.error(a,{state:t,callback:e,value:n,checkValue:o}),new Error(a)}return n}$({beforeRender:H,beforeRedraw:H,afterRender:t=>{const e=t.state,n=$.memory.stateConfig,o=n.rearray;if(o.length&&o.length!==n.array.length){const e=`States lengths have changed ${o.length} !== ${n.array.length}. State tracking requires the same amount of function calls every render. Typically this errors is thrown when a state like function call occurs only for certain conditions or when a function is intended to be wrapped with a tag() call`,a=t.templater?.wrapper,r={oldStates:n.array,newStates:n.rearray,tagFunction:a.parentWrap.original},i=new R(e,r);throw console.warn(e,r),i}delete n.rearray,delete n.support,e.length=0,e.push(...n.array);for(let t=e.length-1;t>=0;--t){const n=e[t];n.lastValue=M(n)}n.array=[]}});class J{}function W(t,e){for(let n=t.length-1;n>=0;--n){const o=t[n].get(),a=e[n].callback;a&&a(o),e[n].lastValue=o}}function G(t){const e=$.memory.stateConfig;let n;const o=e.rearray[e.array.length];if(o){let t=M(o);n=e=>[t,t=e];const a={get:()=>M(a),callback:n,lastValue:t,defaultValue:o.defaultValue};return e.array.push(a),t}let a=(t instanceof Function?t:()=>t)();if(a instanceof Function){const t=e.array,n=e.support,o=a;a=(...e)=>{const a=n.subject.global.newest.state;W(a,t);const r=o(...e);return W(t,a),r},a.original=o}n=t=>[a,a=t];const r={get:()=>M(r),callback:n,lastValue:a,defaultValue:a};return e.array.push(r),a}const Y=(t,e)=>U(t,e),q=t=>t;const U=(t,e,{init:n,before:o=(()=>!0),final:a=q}={})=>{let r=G({pastResult:void 0,values:void 0});const i=r.values;if(void 0===i){if(!o(t))return r.values=t,r.pastResult;const s=(n||e)(t,i);return r.pastResult=a(s),r.values=t,r.pastResult}if(t.every(((t,e)=>t===i[e])))return r.pastResult;if(!o(t))return r.values=t,r.pastResult;const s=e(t,i);return r.pastResult=a(s),i.length=0,i.push(...t),r.pastResult};function z(t,e){return Object.defineProperty(e,"noInit",{get(){const e=t();return e.setup.init=()=>{},e}}),Object.defineProperty(e,"asSubject",{get(){const e=t(),n=G((()=>A())),o=G((()=>new O(void 0))),a=(t,a)=>(U(t,((t,e)=>{const r=A(),i=a(t,e);if(r!==n){W($.memory.stateConfig.array,n.state)}o.next(i)}),e.setup),o);return a.setup=e.setup,z((()=>a),a),a}}),Object.defineProperty(e,"truthy",{get(){const e=t();return e.setup.before=t=>t.every((t=>t)),e}}),e}function X(t,e){const n=G((()=>$.memory.stateConfig.array)),o=A();return G((()=>new D(t,e).pipe((t=>(W(o.state,n),t)))))}function K(t){const e=$.memory.stateConfig;let n;const o=e.rearray[e.array.length];if(o){let t=M(o);n=e=>[t,t=e];const a={get:()=>M(a),callback:n,lastValue:t,defaultValue:o.defaultValue};return e.array.push(a),Q(t,a)}let a=(t instanceof Function?t:()=>t)();n=t=>[a,a=t];const r={get:()=>M(r),callback:n,lastValue:a,defaultValue:a};return e.array.push(r),Q(a,r)}function Q(t,e){return n=>(e.callback=n||(e=>[t,t=e]),t)}function Z(t){return tt(t,0)}function tt(t,n){if(null===t||typeof t!==e.object)return t;if(15===n)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);const o=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));if(Array.isArray(t))for(let e=0;e<t.length;e++)o[e]=tt(t[e],n+1);else for(const e in t)t.hasOwnProperty(e)&&(o[e]=tt(t[e],n+1));return o}function et(t,e){return nt(t,e,0)}function nt(t,n,o){return!!(t===n||(a=t,r=n,a instanceof Function&&r instanceof Function&&a.toString()===r.toString()))||(15===o||typeof t===e.object&&typeof n===e.object&&(t instanceof Date&&n instanceof Date?t.getTime()===n.getTime():Array.isArray(t)&&Array.isArray(n)?function(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(!nt(t[o],e[o],n+1))return!1;return!0}(t,n,o+1):!Array.isArray(t)&&!Array.isArray(n)&&function(t,e,n){const o=Object.keys(t),a=Object.keys(e);if(0===o.length&&0===a.length)return!0;if(o.length!==a.length)return!1;for(const r of o){if(!a.includes(r)||!nt(t[r],e[r],n+1))return!1}return!0}(t,n,o+1)));var a,r}z((()=>function(t){const e=(e,n)=>U(e,n,t);return e.setup=t,z((()=>e),e),e}({})),Y),X._value=t=>{const e=G((()=>$.memory.stateConfig.array)),n=A();return G((()=>new O(t).pipe((t=>(W(n.state,e),t)))))},X.all=function(t){const e=G((()=>$.memory.stateConfig.array)),n=A();return D.all(t).pipe((t=>(W(n.state,e),t)))};const ot=t=>{const e=G((()=>({stateDiff:0,provider:void 0})));if(e.stateDiff){for(let t=e.stateDiff;t>0;--t)G(void 0);return G(void 0)}const n=G((()=>{const n=$.memory.stateConfig,o=n.array.length,a="prototype"in t?new t:t(),r=n.support,i=n.array.length-o,s={constructMethod:t,instance:a,clone:Z(a),stateDiff:i,owner:r,children:[]};return e.provider=s,r.subject.global.providers.push(s),e.stateDiff=i,a})),o=t,a=o.compareTo=o.toString();return e.provider.constructMethod.compareTo=a,n},at=t=>G((()=>{const e=$.memory,n=t,o=n.compareTo=n.compareTo||t.toString(),a=e.stateConfig.support,r=[];let i={ownerSupport:a.ownerSupport};for(;i.ownerSupport;){const t=i.ownerSupport.subject.global.providers.find((t=>{r.push(t);if(t.constructMethod.compareTo===o)return!0}));if(t){t.clone=Z(t.instance);const n=e.stateConfig.support;return n.subject.global.providers.push(t),t.children.push(n),t.instance}i=i.ownerSupport}const s=`Could not inject provider: ${t.name} ${t}`;throw console.warn(`${s}. Available providers`,r),new Error(s)}));function rt(t,n){const o=t.templater,a=n.templater,r=o?.tag||t,i=a.tag;return r.tagJsType===i.tagJsType&&(r.tagJsType===e.dom?function(t,e,n,o){const a=t.dom,r=e.dom;if(a!==r){if(!et(t.dom,e.dom))return!1}const i=n.values||t.values,s=o.values||e.values;return it(i,s)}(r,i,t,n):function(t,e,n,o){const a=t.strings,r=e.strings||o.strings;if(a.length!==r.length)return!1;if(!a.every(((t,e)=>r[e].length===t.length)))return!1;const i=n.values||t.values,s=o.values||e.values;return it(i,s)}(r,i,t,n))}function it(t,e){if(!(t.length===e.length))return!1;return!!e.every(((e,n)=>{const o=t[n];if(e instanceof Function&&o instanceof Function){return!!(e.toString()===o.toString())}return!0}))}function st(t,e){const n=$.tagUse,o=n.length;for(let a=0;a<o;++a)n[a].beforeRender(t,e)}function dt(t,e){const n=$.tagUse,o=n.length;for(let a=0;a<o;++a)n[a].afterRender(t,e);$.memory.tagClosed$.next(e)}function lt(t,e){const n=$.tagUse,o=n.length;for(let a=0;a<o;++a)n[a].beforeDestroy(t,e);if(t.subject.global.deleted=!0,t.hasLiveElements=!1,e){e.subject.global.childTags=e.subject.global.childTags.filter((e=>e!==t.subject.global.oldest));const n=t.subject.global;n.providers.forEach((t=>t.children.forEach(((e,o)=>{e.subject.global===n&&t.children.splice(o,1)}))))}}function ct(t,e,n,o){const a=n.global.renderCount;!function(t,e,n){const o=n?.ownerSupport,a=o||e;if(n){if(n!==t){const e=n.state;t.subject.global=n.subject.global,t.state.length=0,t.state.push(...e)}return function(t,e){const n=$.tagUse,o=n.length;for(let a=0;a<o;++a)n[a].beforeRedraw(t,e)}(t,n)}st(t,a)}(t,o,e);let r=(0,t.templater.wrapper)(t,n,e);return dt(t,o),n.global.newest=r,!e&&o&&o.subject.global.childTags.push(r),n.global.renderCount>a+1?n.global.newest:r}function ut(t){t.subject.global.oldest.destroy(),t.subject.global.context=[]}function mt(t){return[e.string,e.number,e.boolean].includes(t)}function pt(t,e){t.destroy({stagger:e.removed++})}function gt(t){if(null==t)return e.undefined;const n=typeof t;if(t instanceof Function)return e.function;if(mt(n))return n;if(n===e.object){if(t instanceof Date)return e.date;const n=t.tagJsType;if(n)return n;if(_(t))return e.tagArray;if(j(t))return e.subject}return e.unknown}function bt(t){return t.map(ht)}function ht(t){const n=t;switch(gt(t)){case e.tagComponent:return Z(t.props);case e.dom:case e.tag:case e.templater:return bt(n.values);case e.tagArray:return bt(n)}return Z(t)}function xt(t,e=[]){for(let n=t.length-1;n>=0;--n){const o=t[n];e.push(o),xt(o.subject.global.childTags,e)}return e}function Nt(t,e){if(j(t))return t;if(_(t))return e.madeChildIntoSubject=!0,new O(t);const n=t;return n?(e.madeChildIntoSubject=!0,n.arrayValue=0,new O([n])):(e.madeChildIntoSubject=!0,new O([]))}$.memory.tagClosed$=new D(void 0,(t=>{A()||t.next()}));class vt{props;tagJsType=e.templater;tagged;wrapper;madeChildIntoSubject;tag;children=new O([]);arrayValue;constructor(t){this.props=t,this.html.dom=this.dom.bind(this)}key(t){return this.arrayValue=t,this}html(t,...e){const n=Nt(new s(t,e),this);return this.children=n,this}dom(t,...e){const n=Nt(new d(t,e),this);return this.children=n,this}}class ft extends O{tagJsType=e.tagJsSubject;global=yt()}function yt(){return{destroy$:new D,context:[],providers:[],renderCount:0,subscriptions:[],oldest:void 0,blocked:[],childTags:[],clones:[]}}function Ct(t,e){const n=t;let o=n.templater;o||(o=new vt([]),o.tag=n,n.templater=o);const a=new ft(o);return a.support=new ve(o,e,a),a.global.oldest=a.support,e.subject.global.childTags.push(a.support),a}const wt="undefined"==typeof document?function e(){return{textContent:t,cloneNode:t=>e()}}():document.createTextNode(t);const kt="style",Tt="class";function jt(t,e,n){const o=t.split(".");if(o[0]===kt&&(n.style[o[1]]=e),o[0]===Tt)if(o.shift(),e)for(let t=0;t<o.length;++t)n.classList.add(o[t]);else for(let t=0;t<o.length;++t)n.classList.remove(o[t])}function _t(t,e,n){t.setAttribute(e,n)}function St(t,n){let o=t,a=n;if(typeof t===e.object){if(!n)return 3;o=[...t],a=[...n||[]];if(!o.every(((t,n)=>{let r=a[n];if(t&&typeof t===e.object){const e={...t},n={...r||{}},o=Object.entries(e).every((([t,o])=>Bt(o,n[t],(()=>{delete e[t],delete n[t]}))));return o}return Bt(t,r,(()=>{o.splice(n,1),a.splice(n,1)}))})))return"functions-changed"}return!1}function Bt(t,e,n){if(!(t instanceof Function))return!!et(t,e)&&4;if(!(e instanceof Function))return!1;const o=e?.original;o&&(e=o);t.original&&(t=t.original);return t.toString()===e.toString()?(n(),3):(n(),5)}function Pt(t,e,{counts:n},o){const a=e,r=a.support,i=r?.subject.global.oldest||void 0;if(i&&i)return function(t,e,n){if(e instanceof Function){const t=e(n);return n.updateBy(t),e.support=t,t}return e.global.oldest.updateBy(t),e.support=t,t}(t,a,i);const s=t.buildBeforeElement(void 0,{counts:n}),d=e.global.placeholder;return d.parentNode.insertBefore(s,d),t}function Dt(t,e,n,o){if(!t.getAttribute)return;let a=e.counts.added;a=function(t,e){const n=t.oninit;if(!n)return e.added;const o=n.tagFunction;if(!o)return e.added;const a=o.tagFunction;return a?(a({target:t,stagger:e.added}),++e.added):e.added}(t,e.counts)-a;t.focus&&(t.hasAttribute("autofocus")&&t.focus(),t.hasAttribute("autoselect")&&t.select());const r=t.children;if(r)for(let t=r.length-1;t>=0;--t){Dt(r[t],{...e,counts:e.counts},n,o)}}function Et(t,e,n){let o=n.support;o||(o=$t(t,e,n)),n.support=o,o.ownerSupport=e;const a=o.buildBeforeElement(void 0,{counts:{added:0,removed:0}}),r=[...a.children],i=n.global.placeholder;return i.parentNode.insertBefore(a,i),Lt(r,n,e),o}function Ot(t){const e=At();return e.tag=t,t.templater=e,e}function At(){const t={children:new O([]),props:[],isTag:!0,tagJsType:"templater",tagged:!1,html:()=>t,dom:()=>t,key:()=>t};return t}function $t(t,e,n){const o=new ve(t,e,n);return It(o,e,n),e.subject.global.childTags.push(o),o}function It(t,e,n){t.subject=n,n.global.oldest=t,n.global.newest=t,t.ownerSupport=e}function Lt(t,e,n){t.forEach((t=>Dt(t,{counts:{added:0,removed:0}},e.global.context,n)))}function Rt(t,e,n,o,a,r){if(!0!==t.tagged){const e=t.wrapper.parentWrap.original;let n=e.name||e.constructor?.name;"Function"===n&&(n=void 0);const o=n||e.toString().substring(0,120);throw new Error(`Not a tag component. Wrap your function with tag(). Example tag(props => html\`\`) on component:\n\n${o}\n\n`)}const i=new ve(t,o,e);let s=e.support;It(i,o,e);const d=i.subject.global=s?.subject.global||i.subject.global;d.oldest=i,d.insertBefore=n;if(!s){s=function(t,e,n){const o=n.subject.global,a=o.clones.map((t=>t)),r=(e=we(e,t.support,t,n)).subject.global;if(o.clones.length>a.length){const t=o.clones.filter((t=>!a.find((e=>e===t))));r.clones.push(...t)}return e}(e,s||i,o)}const l=Pt(s,e,a);return o.subject.global.childTags.push(l),s}function Vt(t,e,n,o){return t.map((t=>function(t,e,n,o,a){if(w(t)||!t)return t;if(!e)return t;return Ft(t,e,n,o,a)}(t,e.ownerSupport,n,e,o)))}function Ft(t,e,n,o,a,r,i){if(t instanceof Function)return function(t,e,n){const o=t.toCall;if(o)return t;const a=(...t)=>a.toCall(...t);return a.toCall=(...t)=>function(t,e,n){const o=n.subject.global,a=o.newest,r=A(),i=void 0===r;r&&(r.subject.global.locked=!0);const s=t(...e);if(r){const t=r?.subject.global.blocked;if(r&&t?.length)return $.memory.tagClosed$.toCallback((()=>{let t=r;delete r.subject.global.locked,t=Qt(r,r.state,r),je(t,!1)})),s;delete r.subject.global.locked}const d=()=>{if(!1===i){const t=a.state.every((t=>{const e=t.lastValue,n=t.get();return et(ht(e),n)}));if(t)return s}return je(a,!0),s};if(i)return d();return $.memory.tagClosed$.toCallback(d),s}(a.mem.prop,t,e),a.original=t,a.mem={prop:t},Object.assign(a,t),a}(t,e);if(15===a)return t;if(Mt(t))return t;if(t instanceof Array){for(let r=t.length-1;r>=0;--r){const i=t[r];if(t[r]=Ft(i,e,n,o,a+1,r,t),i instanceof Function){if(i.toCall)continue;Ht(a+1,r,i,t,o)}}return t}const s=Object.keys(t);for(const r of s){const i=t[r],s=Ft(i,e,n,o,a+1,r,t);if(t[r]===s)continue;const d=Object.getOwnPropertyDescriptor(t,r);if(!(d?.get||d?.set)&&(t[r]=s,s instanceof Function)){if(i.toCall)continue;Ht(a+1,r,i,t,o)}}return t}function Ht(t,e,n,o,a){if(n?.toCall)throw new Error("meg");if(t>0){const t=a.subject.global;o[e].subscription=t.destroy$.toCallback((()=>{o[e]=n}))}}function Mt(t){return"object"!=typeof t||!t}function Jt(t,e,n,o,a=!1){let r=n.global.newest;const i=r.templater.wrapper,s=e.templater.wrapper;let d=!1;if(i&&s){d=i.parentWrap.original===s.parentWrap.original}const l=e.templater;if(!d){ut(n.global.oldest);return Rt(l,n,o,t,{counts:{added:0,removed:0}})}const c=function(t,e,n){const o=St(n.props,t.propsConfig.latestCloned);if(o)return o;const a=St(t.propsConfig.latestCloned,e.propsConfig.latestCloned);if(a)return a;const r=function(t,e){const n=t.propsConfig.lastClonedKidValues,o=e.propsConfig.lastClonedKidValues;return!n.every(((t,e)=>{const n=o[e];return t.every(((t,e)=>t===n[e]))}))&&9}(t,e);return r}(r,e,l);if(!c){const n=Wt(e,r,t,l.props);return e.propsConfig.castProps=n,r.propsConfig.latestCloned=e.propsConfig.latestCloned,r.propsConfig.lastClonedKidValues=e.propsConfig.lastClonedKidValues,r}const u=n.global.oldest;if(n.global.locked)return n.global.blocked.push(e),e;return function(t,e,n,o,a,r){let i=t.support;if(e&&n.children._value.length){e.templater.children.next(n.children._value)}const s=r&&rt(o,a);if(s){const e=t.global.oldest;return t.support=a,e.updateBy(a),a}if(r&&i){o.subject.global.deleted||Ce(o)}return function(t,e){const n=t.buildBeforeElement(void 0,{counts:{added:0,removed:0}}),o=[...n.children],a=e.global.placeholder;return a.parentNode.insertBefore(n,a),Lt(o,e,t),e.global.oldest=t,e.global.newest=t,e.support=t,t.ownerSupport.subject.global.childTags.push(t),t}(a,t)}(n,u,l,n.global.newest,je(e,a),d)}function Wt(t,e,n,o,a=-1){const r=e.subject.global.newest;if(!r){const e=n.state;o.length=0;const r=Vt(o,t,e,a);return o.push(...r),t.propsConfig.castProps=r,o}const i=(e=r||e).propsConfig.castProps,s=[];for(let e=0;e<o.length;++e){const r=o[e],d=Gt(i[e],r,t,n,a+1,e);s.push(d)}return t.propsConfig.castProps=s,s}function Gt(t,e,n,o,a,r){if(t instanceof Function){if(e.mem)return t.mem.prop=e.mem.prop,t.mem.stateArray=e.mem.stateArray,e;const n=o.subject.global.newest.state;return t.mem.prop=e,t.stateArray=n,t}if(15===a)return e;if(Mt(e))return e;if(e instanceof Array){for(let r=e.length-1;r>=0;--r){const i=e[r];e[r]=Gt(t[r],i,n,o,a+1,r)}return e}if(void 0===t)return e;const i=Object.keys(e);for(const r of i){const i=e[r],s=Gt(t[r],i,n,o,a+1,r);if(e[r]===s)continue;const d=Object.getOwnPropertyDescriptor(e,r)?.set;d||(e[r]=s)}return e}const Yt=!0,qt="no-data-ever",Ut="promise-no-data-ever";function zt(t,e,n,o,a){const r=Xt(e),i=r.subject.global.newest.state;i.length===a.length&&W(i,a);const s=t.bind(n);r.subject.global.locked=Yt;return function(t,e,n){const o=t.subject.global;delete o.locked;const a=o.blocked;if(a.length){let a;return a=Qt(t,n,a),Kt(e,a,o)}const r=function(t,e,n){if(n.deleted)return qt;return je(t,!0),Kt(e,t,n)}(o.newest,e,o);return r}(r,s(...o),a)}function Xt(t){if(t.templater.tagJsType===e.templater){return Xt(t.ownerSupport)}return t}function Kt(t,e,n){return t instanceof Promise?(e.subject.global.locked=Yt,t.then((()=>(delete e.subject.global.locked,n.deleted||(delete e.subject.global.locked,je(n.newest,!0)),Ut)))):qt}function Qt(t,e,n){const o=t.subject.global,a=o.blocked;for(;a.length>0;){const t=a[0];a.splice(0,1),n=Jt(t.ownerSupport,t,t.subject,t.subject.global.insertBefore,!0),o.newest=n}return o.blocked.length=0,n}const Zt="INPUT",te="value",ee="ondoubleclick";function ne(n,o,a,r,i=_t){const s=n[0],d=n[1];o.nodeName===Zt&&s===te&&(i=_t);if(1===n.length){let n;const a=s.subscribe((a=>{a!==n&&(!function(n,o,a,r,i){if(o&&o!=n)if(typeof o===e.string)a.removeAttribute(o);else if(o instanceof Object)for(const t in o)a.removeAttribute(t);if(typeof n===e.string){if(!n.length)return;return void oe(n,new ft(t),a,r,i)}if(n instanceof Object)for(const t in n)oe(t,n[t],a,r,i)}(a,n,o,r,i),n=a)}));return r.subject.global.subscriptions.push(a),void o.removeAttribute(s)}if(d&&j(d))return oe(s,d,o,r,i);if(re(s))return jt(s,d,o);i(o,s,d)}function oe(t,e,n,o,a){if(j(e)){const r=re(t);let i;n.removeAttribute(t);const s=e=>e instanceof Function?function(t,e,n,o,a,r){const i=t.templater.wrapper,s=i?.parentWrap,d=s?.oneRender;d||(e=function(t,e){if(t.isChildOverride)return t;const n=e.state,o=(o,a)=>zt(t,e,o,a,n);return o.tagFunction=t,o}(e,t));return ae(e,n,o,a,r)}(o,e,n,t,r,a):i===e?i:(i=e,ae(e,n,t,r,a)),d=e.subscribe(s);o.subject.global.subscriptions.push(d)}else a(n,t,e._value)}function ae(t,e,n,o,a){if(t instanceof Function){const o=function(...n){return t(e,n)};return o.tagFunction=t,n===ee&&(n="ondblclick"),void(e[n]=o)}if(o)return void jt(n,t,e);if(t)return void a(e,n,t);[void 0,!1,null].includes(t)?e.removeAttribute(n):a(e,n,t)}function re(t){return t.search(/^(class|style)(\.)/)>=0}function ie(t,e,n,o,a,r){const i=o.subject.global.clones;let s=t.lastArray=t.lastArray||{array:[]};t.global.placeholder||function(t,e){const n=e.global.placeholder=wt.cloneNode(!1),o=t.parentNode;o.insertBefore(n,t),o.removeChild(t)}(n,t);const d=t.global.placeholder;let l=0;s.array=s.array.filter(((t,n)=>{if(e.length-1<n-l)return le(s.array,n,a),++l,!1;const o=e[n-l],r=T(o);let i,d=o,c=o.templater;r?i=d.arrayValue:(c=o,d=c.tag,i=c.arrayValue);const u=!function(t,e){if(t===e)return!0;if(t instanceof Array&&e instanceof Array&&t.length==e.length)return t.every(((t,n)=>t===e[n]));return!1}(i,t.support.templater.tag.arrayValue);return!u||(le(s.array,n,a),++l,!1)}));const c=e.length;for(let t=0;t<c;++t){const n=e[t],i=s.array[t],l=i?.support,c=n,u=T(c),m=l?.subject||new ft(void 0);let p,g=c.templater;if(u?(g||(g=Ot(c)),p=new ve(g,o,m)):(g=c,p=de(g,o,m)),l){const t=l.subject,e=t.global;It(p,o,t),p.subject.global=e,e.newest=p}else It(p,o,m);if(!("arrayValue"in(g.tag||c))){const t={array:e},n="Use html`...`.key(item) instead of html`...` to template an Array";console.error(n,t);throw new L(n,t)}if(s.array.length>t){i.support.subject.global.oldest.updateBy(p)}else se(d,p,t,a,s.array,r),o.subject.global.childTags.push(p)}return i}function se(t,e,n,o,a,r){const i={support:e,index:n};a.push(i);const s={added:o.counts.added+n,removed:o.counts.removed};e.subject.global.placeholder=t;const d=e.buildBeforeElement(void 0,{counts:s}),l=[...d.children],c=t;c.parentNode.insertBefore(d,c),Lt(l,e.subject,e)}function de(t,e,n){const o=$t(t,e,n);return ct(o,o,n,e),o}function le(t,e,n){const o=t[e];pt(o.support,n.counts),o.deleted=!0,++n.counts.removed}function ce(t,e){const n=e.parentNode,o=document.createTextNode(t);return n.insertBefore(o,e),n.removeChild(e),o}function ue(e){return[void 0,!1,null].includes(e)?t:e}function me(t,e,n){e.global.insertBefore=n;const o=e.global.placeholder||n;if(e.lastValue===t&&"lastValue"in e)return;e.lastValue=t;const a=ue(t),r=e.global.placeholder;if(r)return void(r.textContent=a);const i=ce(a,o);e.global.placeholder=i}function pe(t,n,o,a,r,i){switch(gt(t)){case e.templater:return void Et(t,a,n);case e.dom:case e.tag:const s=t;let d=s.templater;return d||(d=Ot(s)),void Et(d,a,n);case e.tagArray:return ie(n,t,o,a,r,i);case e.tagComponent:return Rt(t,n,o,a,r);case e.function:const l=t;if(l.oneRender){const t=function(t,n,o){const a=new vt([]);a.tagJsType=e.oneRender;const r=$t(a,o,n),i=()=>(a.tag=t(),r);return a.wrapper=i,i.parentWrap=i,i.oneRender=!0,i.parentWrap.original=t,r}(l,n,a);return ct(t,t,n,a),void Et(t.templater,a,n)}}!function(t,e,n){e.lastValue=t;const o=ce(ue(t),n);e.global.placeholder=o}(t,n,n.global.placeholder||o)}function ge(t){const e=wt.cloneNode(!1),n=t.parentNode;return n.insertBefore(e,t),n.removeChild(t),e}function be(t,n,o,a){const r=gt(n);if(function(t,n,o){const a=t,r="lastValue"in a,i=a.lastValue;if(r&&i!==n){const t=typeof n;return(!mt(t)||typeof i!==t)&&!(n instanceof Function&&i instanceof Function)&&(function(t){delete t.lastValue}(a),"changed-simple-value")}const s=t,d=s.lastArray;if(d&&o!==e.tagArray){delete s.lastArray;for(let t=d.array.length-1;t>=0;--t){const{support:e}=d.array[t];pt(e,{added:0,removed:0})}return"array"}const l=t.support;if(l){const a=w(n);return w(t._value)&&a?!rt(n,l)&&(ut(l),2):o!==e.tagComponent&&(!n||!n.oneRender)&&(ut(l),"different-tag")}}(t,n,r),r===e.tagComponent)return function(t,e,n,o){if(!e.support)return Rt(t,e,n,o,{counts:{added:0,removed:0}}),e;const a=new ve(t,o,e),r=e.support,i=r.subject.global.newest;if(!i)return Rt(t,e,n,o,{counts:{added:0,removed:0}}),e;{const t=i.state;a.state.length=0,a.state.push(...t)}return e.global=r.subject.global,e.support=a,Jt(o,a,e,n),e}(n,t,a,o);if(t.support)return r===e.function||function(t,n,o){const a=t.support;let r=n;const i=T(n);if(i){const t=n;r=t.templater,r||(r=new vt([]),r.tag=t,t.templater=r)}const s=new ve(r,o,t),d=n&&rt(a,s);(function(t){return t?.tagJsType===e.templater})(n)&&It(s,o,t);if(d)return void a.subject.global.oldest.updateBy(s);if(d)return Et(r,o,t);me(n,t,t.global.insertBefore)}(t,n,o),t;switch(r){case e.tagArray:return ie(t,n,a,o,{counts:{added:0,removed:0}}),t;case e.templater:return Et(n,o,t),t;case e.tag:case e.dom:const r=n;let i=r.templater;return i||(i=At(),r.templater=i,i.tag=r),Et(i,o,t),t;case e.subject:return n;case e.function:return t.global.placeholder||(t.global.placeholder=ge(a)),t}return me(n,t,a),t}function he(t,e,n,o,a){let r=!1;n.global.placeholder||(n.global.placeholder=ge(e));let i=!0;const s=n.subscribe((s=>(s=>{if(r)return void be(n,s,o,e);pe(s,n,e,o,{counts:{...a}},i?t:void 0),r=!0})(s)));i=!1,o.subject.global.subscriptions.push(s)}function xe(t,e,n,o,a,r){return t.forEach(((t,i)=>{const s=t.marker=wt.cloneNode(!1),d=t.value;if(d)return r.appendChild(s),d.global.placeholder=s,void he(r,s,d,n,a);if("text"===t.nodeName){const e=t.textContent,n=(new DOMParser).parseFromString(e,"text/html"),o=e.replace(/(^\s+)?.+/g,"$1")+n.documentElement.textContent;return r.appendChild(s),t.domElement=document.createTextNode(o),void r.appendChild(t.domElement)}const l=t.domElement=document.createElement(t.nodeName);r.appendChild(l),r.appendChild(s),t.attributes&&t.attributes.forEach((t=>{ne(t,l,0,n)})),t.children&&xe(t.children,e,n,o,a,l)})),t}class Ne{templater;subject;isApp=!0;appElement;strings;dom;values;propsConfig;state=[];hasLiveElements=!1;constructor(t,e,n){this.templater=t,this.subject=e;const o=t.props;this.propsConfig=this.clonePropsBy(o,n)}clonePropsBy(t,e){const n=this.templater.children.value,o=t.map((t=>ht(t)));return this.propsConfig={latest:t,latestCloned:o,castProps:e,lastClonedKidValues:n.map((t=>bt(t.values)))}}getHtmlDomMeta(t,n={counts:{added:0,removed:0}}){const o=this.templater.tag,a=this.update();let r;r=o.tagJsType===e.dom?o.dom:C(o.strings,o.values);const i=Z(r);return f(i,a),xe(i,a,this,t,n.counts,t),i}buildBeforeElement(t=document.createDocumentFragment(),e){const n=this.subject,o=this.subject.global;o.oldest=this,o.newest=this,n.support=this,this.hasLiveElements=!0;return ye(this.getHtmlDomMeta(t,e),this.subject.global.clones),t}updateBy(t){const e=t.templater.tag;this.updateConfig(e,e.values)}updateConfig(t,n){t.tagJsType===e.dom?this.dom=t.dom:this.strings=t.strings,this.updateValues(n)}updateValues(t){return this.values=t,this.updateContext(this.subject.global.context)}update(){return this.updateContext(this.subject.global.context)}updateContext(t){const n=this.templater.tag,o=this.values||n.values;return"x,".repeat(o.length).split(",").forEach(((n,a)=>function(t,n,o,a){const r=t.length>n;if(!r)return;const i=t[n],s=o.length>n;if(s){if(a.subject.global.deleted){const t=i&&i.support;if(t)return t.destroy(),o}return function(t,e,n){const o=t[e];j(n)||o.next(n)}(o,n,i)}o[n]=function(t,n){switch(gt(t)){case e.tagComponent:return new ft(t);case e.templater:return Ct(t.tag,n);case e.tag:case e.dom:return Ct(t,n);case e.subject:return t.global=yt(),t}return new ft(t)}(i,a)}(o,a,t,this))),t}destroy(t={stagger:0}){const e=this.subject.global,n=t.byParent?[]:xt(this.subject.global.childTags);k(this.templater)&&(e.destroy$.next(),lt(this,this)),this.destroySubscriptions();for(let t=n.length-1;t>=0;--t){const e=n[t],o=e.subject.global;delete o.newest,o.deleted=!0,k(e.templater)&&lt(e,e),e.destroySubscriptions()}fe(this);const{stagger:o,promises:a}=this.smartRemoveKids(t);return t.stagger=o,a.length?Promise.all(a).then((()=>t.stagger)):t.stagger}smartRemoveKids(t={stagger:0}){const e=t.stagger,n=[],o=this.subject.global.clones;this.subject.global.childTags.forEach((e=>{let a=e.subject.global.clones[0];if(void 0===a){const{stagger:o,promises:a}=e.smartRemoveKids(t);return t.stagger=t.stagger+o,n.push(...a),{promise:Promise.all(n),stagger:t.stagger}}let r=0;for(;a.parentNode&&r<5;){if(o.includes(a))return;a=a.parentNode,++r}const{stagger:i,promises:s}=e.smartRemoveKids(t);t.stagger=t.stagger+i,n.push(...s)}));const a=this.destroyClones({stagger:e}).promise;return this.subject.global.clones.length=0,this.subject.global.childTags.length=0,a&&n.unshift(a),{promises:n,stagger:t.stagger}}destroyClones(t={stagger:0}){const e=this.subject.global.clones.map((e=>this.checkCloneRemoval(e,t.stagger))).filter((t=>t));return e.length?{promise:Promise.all(e),stagger:t.stagger}:{stagger:t.stagger}}checkCloneRemoval(t,e){let n;const o=t;if(o.ondestroy&&(n=function(t,e){const n=t.ondestroy;if(!n)return;const o=n.tagFunction;if(!o)return;const a=o.tagFunction;if(!a)return;return a({target:t,stagger:e})}(o,e)),n instanceof Promise)return n.then((()=>{const e=t.parentNode;e&&e.removeChild(t)}));const a=t.parentNode;a&&a.removeChild(t);const r=this.ownerSupport;if(r){const e=r.subject.global.clones,n=e.indexOf(t);n>=0&&e.splice(n,1)}return n}destroySubscriptions(){const t=this.subject.global.subscriptions;for(let e=t.length-1;e>=0;--e)t[e].unsubscribe();t.length=0}}class ve extends Ne{templater;ownerSupport;subject;version;isApp=!1;constructor(t,e,n,o,a=0){super(t,n,o),this.templater=t,this.ownerSupport=e,this.subject=n,this.version=a}getAppSupport(){let t=this;for(;t.ownerSupport;)t=t.ownerSupport;return t}}function fe(t){const e=t.subject.global;e.context=[],delete e.oldest,delete e.newest;delete t.subject.support}function ye(t,e){t.forEach((t=>{if(t.domElement&&e.push(t.domElement),e.push(t.marker),"children"in t){ye(t.children,e)}}))}function Ce(t,e={byParent:!1,stagger:0}){const n=t.subject.global;n.deleted=!0,n.context=[];const o=xt(n.childTags);t.destroySubscriptions(),o.forEach((t=>{const e=t.subject.global;delete e.newest,e.deleted=!0})),t.smartRemoveKids(),t.subject.global.clones.length=0,t.subject.global.childTags.length=0,fe(t),o.forEach((t=>Ce(t,{byParent:!0,stagger:0})))}function we(t,n,o,a){const r=n?.templater,i=r?.tag,s=ct(t,n,o,a);if(!n||rt(n,s)){if(n){const t=s.templater.tag;t&&function(t,n,o){if(t.tagJsType===e.dom){const e=o?.dom;return void(et(e,t.dom)||Ce(n))}if(o){if(o.tagJsType===e.dom)throw new Error("check here");const a=o.strings;if(a){const e=a?.length;e!==t.strings.length&&Ce(n)}}}(t,n,i)}}else!function(t,e,n){const o=e.subject.global;!function(t,e){const n=t.subject.global;n.providers.forEach((t=>{t.children.forEach(((o,a)=>{if(n.destroy$===o.subject.global.destroy$)return t.children.splice(a,1),void t.children.push(e)}))}))}(t,e),Ce(t),delete o.deleted,o.oldest=e,o.newest=e,n.support=e}(n,s,o);const d=n?.ownerSupport;return s.ownerSupport=a||d,s}function ke(t,e){let n=!1;const o=function(t,e,n=[]){n.push({support:t,renderCount:t.subject.global.renderCount,provider:e});const o=e.children;for(let t=o.length-1;t>=0;--t)n.push({support:o[t],renderCount:o[t].subject.global.renderCount,provider:e});return n}(t,e);for(let t=o.length-1;t>=0;--t){const{support:e,renderCount:a,provider:r}=o[t];if(e.subject.global.deleted)continue;a===e.subject.global.renderCount&&(n=!0,r.clone=Z(r.instance),je(e.subject.global.newest,!1))}return n}function Te(t,e,n,o){const a=o.support,r=o.global;e.subject.global=r;const i=r.renderCount;!function(t){const e=t.subject.global.providers.filter((t=>!et(t.instance,t.clone)));let n=!1;for(let t=e.length-1;t>=0;--t){const o=e[t];ke(o.owner,o)&&(n=!0),o.clone=Z(o.instance)}}(t);const s=r.newest;if(i!==r.renderCount)return t.subject.global.oldest.updateBy(s),s;const d=we(e,s||a||r.oldest,o,n),l=r.oldest||t;return rt(s,d)&&(o.support=d,l.updateBy(d)),d}function je(t,e){const n=t.subject.global,o=t.templater;if(!o.wrapper){const e=t.ownerSupport;return++n.renderCount,e.subject.global.deleted?t:je(e.subject.global.newest,!0)}if(t.subject.global.locked)return t.subject.global.blocked.push(t),t;const a=t.subject,r=t.subject.global.oldest;let i,s=!1;if(e&&t&&(i=t.ownerSupport,i)){s=!et(o.props,t.propsConfig.latestCloned)}const d=Te(r,t,i,a);if(i&&s){return je(i.subject.global.newest,!0),d}return d}function _e(t,e,n,...o){const a=t.state;W(a,n);const r=e(...o);return W(n,a),je(t,!1),r instanceof Promise&&r.finally((()=>{W(n,a),je(t,!1)})),r}let Se=t=>(t,e,n,o,a,r)=>{throw new V("Callback function was called immediately in sync and must instead be call async")};const Be=()=>Se,Pe=Se;$({beforeRender:t=>Ee(t),beforeRedraw:t=>Ee(t),afterRender:t=>{t.subject.global.callbackMaker=!0,Se=Pe}});const De=new V("callback() was called outside of synchronous rendering. Use `callback = callbackMaker()` to create a callback that could be called out of sync with rendering");function Ee(t){const e=$.memory.stateConfig.array;Se=n=>(...o)=>t.subject.global.callbackMaker?_e(t,n,e,...o):n(...o)}function Oe(t){G(t)}function Ae(t){G((()=>{const e=A();e?.subject.global.destroy$.toCallback(t)}))}function $e(t){$.memory.childrenCurrentSupport=t}function Ie(){return $.memory.childrenCurrentSupport.templater.children}$({beforeRender:t=>$e(t),beforeRedraw:t=>$e(t)});const Le=[];function Re(t,...e){return new s(t,e)}function Ve(t,n){const o=$.memory.stateConfig.array;return(a,r,i)=>function(t,n,o,a,r,i){const s=a.subject.global;++s.renderCount;const d=n.children,l=s.oldest?.templater.children.lastArray;l&&(d.lastArray=l);const c=o.original;let u=n.props,m=a.propsConfig.castProps;const p=i?.propsConfig.castProps;p&&(a.propsConfig.castProps=p,m=Wt(a,i,i.ownerSupport,u));const g=m||Vt(u,a,t,0);let b=c(...g);b instanceof Function&&(b=b());const h=!b||b.tagJsType&&![e.tag,e.dom].includes(b.tagJsType);h&&(b=Re`${b}`);b.templater=n,n.tag=b,b.arrayValue=n.arrayValue;const x=new ve(n,a.ownerSupport,r,g,s.renderCount);x.subject.global=s,s.oldest=s.oldest||x;const N=$.memory.stateConfig.array;if(x.state.push(...N),n.madeChildIntoSubject){const t=d.value;for(let e=t.length-1;e>=0;--e){const n=t[e],o=n.values;for(let t=o.length-1;t>=0;--t){const e=o[t];if(!(e instanceof Function))continue;const a=n.values[t];a.isChildOverride||(n.values[t]=function(...t){return zt(e,x.ownerSupport,this,t,x.state)},a.isChildOverride=!0)}}}return x}(o,t,n,a,r,i)}Re.dom=function(t,...e){return new d(t,e)};let Fe=0;function He(t){const n=function(...t){const o=new vt(t);o.tagJsType=e.tagComponent;const a=Ve(o,n);return a.parentWrap||(a.parentWrap=n),o.tagged=!0,o.wrapper=a,o};n.original=t,n.compareTo=t.toString();const o=t;return n.isTag=!0,n.original=o,o.tags=Le,o.setUse=$,o.tagIndex=Fe++,Le.push(n),n}He.oneRender=(...t)=>{throw new Error("Do not call function tag.oneRender but instead set it as: `(props) => tag.oneRender = (state) => html`` `")},He.route=t=>{throw new Error("Do not call function tag.route but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `")},He.app=t=>{throw new Error("Do not call function tag.route but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `")},Object.defineProperty(He,"oneRender",{set(t){t.oneRender=!0}});const Me=[];function Je(t,e,n){const o=Me.findIndex((t=>t.element===e));o>=0&&(Me[o].support.destroy(),Me.splice(o,1),console.warn("Found and destroyed app element already rendered to element",{element:e}));const a=t(n),r=document.createElement("template"),i=wt.cloneNode(!1),s=function(t,e,n){let o={};const a=new ft(o);o=new Ne(t,a),a.global.insertBefore=e,a.global.placeholder=n,a.global.oldest=a.global.oldest||o,a.next(t),a.support=o,st(o,void 0);const r=t.wrapper,i=r(o,a);return dt(o,i),i}(a,r,i),d=s.subject.global;s.appElement=e,s.isApp=!0,d.isApp=!0,e.destroy=()=>{s.destroy()},d.insertBefore=i,d.placeholder=i;const l=s.buildBeforeElement(void 0),c=[...l.children];return s.subject.global.oldest=s,s.subject.global.newest=s,e.setUse=t.original.setUse,Me.push({element:e,support:s}),e.appendChild(l),Lt(c,s.subject,s),{support:s,tags:t.original.tags}}const We={tagElement:Je,renderWithSupport:we,renderSupport:je,renderTagOnly:ct},Ge=He((()=>{let t=K("a")((e=>[t,t=e])),e=K(!0)((t=>[e,e=t]));return Re.dom(Ye[0],(e=>t=e.target.value),["a","b","c"].map((e=>Re.dom(Ye[1],e,e==t?"selected":"",e,e==t?"true":"false").key(e))),(t=>e=t.target.checked),e&&"checked",e?"true":"false",e?"orange":"",e?"black":"",!!e,!!e,e?"background-orange text-black":"",{class:"text-white"+(e?" background-orange":"")})})),Ye=[[{nodeName:"input",attributes:[["onchange",":tagvar0:"],["placeholder","a b or c"]]},{nodeName:"select",attributes:[["id","select-sample-drop-down"]],children:[{nodeName:"text",textContent:":tagvar1:"}]},{nodeName:"hr",attributes:[]},{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Special Attributes"}]},{nodeName:"div",attributes:[],children:[{nodeName:"input",attributes:[["type","checkbox"],["onchange",":tagvar2:"],[":tagvar3:"]]},{nodeName:"text",textContent:" - :tagvar4:"}]},{nodeName:"div",attributes:[["style","display: flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"div",attributes:[["style.background-color",":tagvar5:"],["style.color",":tagvar6:"]],children:[{nodeName:"text",textContent:"style.background-color=&dollar;{'orange'}"}]},{nodeName:"div",attributes:[["class.background-orange",":tagvar7:"],["class.text-black",":tagvar8:"]],children:[{nodeName:"text",textContent:"class.background-orange=&dollar;{true}"}]},{nodeName:"div",attributes:[["class",":tagvar9:"]],children:[{nodeName:"text",textContent:"class=&dollar;{'background-orange text-black'}"}]},{nodeName:"div",attributes:[[":tagvar10:"]],children:[{nodeName:"text",textContent:"class=&dollar;{'background-orange'} but always white"}]}]},{nodeName:"style",attributes:[],children:[{nodeName:"text",textContent:".background-orange {background-color:orange}\n      .text-black {color:black}\n      .text-white {color:white}"}]}],[{nodeName:"option",attributes:[["value",":tagvar0:"],[":tagvar1:"]],children:[{nodeName:"text",textContent:":tagvar2: - :tagvar3:"}]}]],qe=He((()=>{const t=G((()=>new O(0))),e=G((()=>new O(1)));let n=K(0)((t=>[n,n=t]));++n;return Re.dom(Ue[0],Re.dom([{nodeName:"b",attributes:[],children:[{nodeName:"text",textContent:"big"}]}]),Re.dom(Ue[1]),0,!1,null,void 0,!0,"{","}","{","}","<div>hello</div>",t,t.pipe((()=>55)),S([t,e]).pipe((t=>t[1])),S([t,e]).pipe(function(t){return(e,n)=>{n.setHandler((()=>{})),t(e).then((t=>n.next(t)))}}((t=>Promise.resolve(Re.dom(Ue[2]))))),n)})),Ue=[[{nodeName:"text",textContent:"\x3c!-- content-debug-testing --\x3e"},{nodeName:"div",attributes:[["id","hello-big-dom-world"]],children:[{nodeName:"text",textContent:"hello :tagvar0: world"}]},{nodeName:"div",attributes:[["id","hello-big-string-world"]],children:[{nodeName:"text",textContent:"hello :tagvar1: world"}]},{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em;font-size:0.8em"]],children:[{nodeName:"div",attributes:[["style","flex-grow:1"]],children:[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"zero test"}]},{nodeName:"text",textContent:'P.0 You should see "0" here => ":tagvar2:"'}]}]},{nodeName:"text",textContent:"\x3c!--proof you cannot see false values --\x3e"},{nodeName:"div",attributes:[["style","flex-grow:1"]],children:[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"false test"}]},{nodeName:"text",textContent:'P.1 You should see "" here => ":tagvar3:"'}]}]},{nodeName:"div",attributes:[["style","flex-grow:1"]],children:[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"null test"}]},{nodeName:"text",textContent:'P.2 You should see "" here => ":tagvar4:"'}]}]},{nodeName:"div",attributes:[["style","flex-grow:1"]],children:[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"undefined test"}]},{nodeName:"text",textContent:'P.3 You should see "" here => ":tagvar5:"'}]}]},{nodeName:"text",textContent:"\x3c!--proof you can see true booleans --\x3e"},{nodeName:"div",attributes:[["style","flex-grow:1"]],children:[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"true test"}]},{nodeName:"text",textContent:'P.4 You should see "true" here => ":tagvar6:"'}]}]},{nodeName:"text",textContent:"\x3c!--proof you can try to use the tagVar syntax --\x3e"},{nodeName:"fieldset",attributes:[],children:[{nodeName:"div",attributes:[["style","flex-grow:1"]],children:[{nodeName:"text",textContent:'P.5 You should see "{22}" here => ":tagvar7:22:tagvar8:"'}]}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"div",attributes:[["style","flex-grow:1"]],children:[{nodeName:"text",textContent:'P.6 You should see ":tagvar9:__tagVar0:tagvar10:" here => "{__tagVar0}"'}]}]},{nodeName:"div",attributes:[["style","flex-grow:1"]],children:[{nodeName:"text",textContent:'should be a safe string no html "&lt;div&gt;hello&lt;/div&gt;" here => ":tagvar11:"'}]},{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"fieldset",attributes:[["style","flex-grow:1"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"value subject"}]},{nodeName:"text",textContent:"0 === :tagvar12:"}]},{nodeName:"fieldset",attributes:[["style","flex-grow:1"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"piped subject"}]},{nodeName:"span",attributes:[["id","content-subject-pipe-display0"]],children:[{nodeName:"text",textContent:"55"}]},{nodeName:"text",textContent:" ==="},{nodeName:"span",attributes:[["id","content-subject-pipe-display1"]],children:[{nodeName:"text",textContent:":tagvar13:"}]}]},{nodeName:"fieldset",attributes:[["style","flex-grow:1"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"combineLatest"}]},{nodeName:"span",attributes:[["id","content-combineLatest-pipe-display0"]],children:[{nodeName:"text",textContent:"1"}]},{nodeName:"text",textContent:" ==="},{nodeName:"span",attributes:[["id","content-combineLatest-pipe-display1"]],children:[{nodeName:"text",textContent:":tagvar14:"}]}]},{nodeName:"fieldset",attributes:[["style","flex-grow:1"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"combineLatest piped html"}]},{nodeName:"span",attributes:[["id","content-combineLatest-pipeHtml-display0"]],children:[{nodeName:"b",attributes:[],children:[{nodeName:"text",textContent:"bold 77"}]}]},{nodeName:"text",textContent:" ==="},{nodeName:"span",attributes:[["id","content-combineLatest-pipeHtml-display1"]],children:[{nodeName:"text",textContent:":tagvar15:"}]}]}]}]},{nodeName:"text",textContent:"(render count :tagvar16:)"}],[{nodeName:"b",attributes:[],children:[{nodeName:"text",textContent:"big"}]}],[{nodeName:"b",attributes:[],children:[{nodeName:"text",textContent:"bold 77"}]}]],ze=He((()=>{let t=K(!0)((e=>[t,t=e]));return Re.dom(Xe[0],5,5,t&&Re.dom(Xe[1]),t&&Re.dom(Xe[2]))})),Xe=[[{nodeName:"div",attributes:[["style","max-height: 800px;overflow-y: scroll;"]],children:[{nodeName:"table",attributes:[["cellpadding",":tagvar0:"],["cellspacing",":tagvar1:"],["border","1"]],children:[{nodeName:"thead",attributes:[["style","position: sticky;top: 0;"]],children:[{nodeName:"tr",attributes:[],children:[{nodeName:"th",attributes:[],children:[{nodeName:"text",textContent:"hello"}]},{nodeName:"th",attributes:[],children:[{nodeName:"text",textContent:"hello"}]},{nodeName:"text",textContent:":tagvar2:"}]}]},{nodeName:"tbody",attributes:[],children:[{nodeName:"tr",attributes:[],children:[{nodeName:"td",attributes:[],children:[{nodeName:"text",textContent:"world"}]},{nodeName:"td",attributes:[],children:[{nodeName:"text",textContent:"world"}]},{nodeName:"text",textContent:":tagvar3:"}]}]}]}]}],[{nodeName:"td",attributes:[],children:[{nodeName:"text",textContent:"hello 2 thead cell"}]}],[{nodeName:"td",attributes:[],children:[{nodeName:"text",textContent:"world 2 tbody cell"}]}]],Ke=3e3,Qe=6e3,Ze=He((()=>{let t=K(0)((e=>[t,t=e])),e=K(void 0)((t=>[e,e=t])),n=K(void 0)((t=>[n,n=t])),o=K(0)((t=>[o,o=t])),a=K(0)((t=>[a,a=t]));const r=Be(),i=()=>++t,s=()=>{console.info("🟢 interval test 0 started..."),a=0,n=setInterval(r((()=>{a+=500,a>=Ke&&(a=0)})),500),console.info("▶️ interval started"),e=setInterval(r((()=>{i()})),Ke)},d=()=>{clearInterval(e),clearInterval(n),e=void 0,n=void 0,console.info("🛑 interval test 0 stopped")};return Oe(s),Ae(d),++o,Re.dom(en[0],Ke,e,i,t,o,Ke,a,a,(()=>{e||n?d():s()}),e||n?"red":"green",(()=>setTimeout(r((()=>{a+=200})),1e3)))})),tn=He((()=>{let t=K(0)((e=>[t,t=e])),e=K(void 0)((t=>[e,e=t])),n=K(void 0)((t=>[n,n=t])),o=K(0)((t=>[o,o=t])),a=K(0)((t=>[a,a=t]));const r=Be(),i=()=>++t;const s=()=>{clearInterval(e),clearInterval(n),e=void 0,n=void 0,console.info("🔴 interval 1 stopped")};function d(){if(e)return s();console.info("🟢 interval test 1 started..."),a=0,n=setInterval(r((()=>{a+=500,a>=Qe&&(a=0)})),500),e=setInterval(r((()=>{i(),console.info("slow interval ran")})),Qe)}return Oe(d),Ae(s),++o,Re.dom(en[1],Qe,e,i,t,o,Qe,a,a,d,e?"red":"green")})),en=[[{nodeName:"text",textContent:"\x3c!--intervalDebug.js--\x3e"},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"interval type 1 at :tagvar0:ms"}]},{nodeName:"text",textContent:"intervalId: :tagvar1:"},{nodeName:"button",attributes:[["type","button"],["onclick",":tagvar2:"]],children:[{nodeName:"text",textContent:":tagvar3:::tagvar4:"}]},{nodeName:"input",attributes:[["type","range"],["min","0"],["max",":tagvar5:"],["step","1"],["value",":tagvar6:"]]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"--:tagvar7:--"}]},{nodeName:"button",attributes:[["type","button"],["onclick",":tagvar8:"],["style.background-color",":tagvar9:"]],children:[{nodeName:"text",textContent:"start/stop"}]},{nodeName:"button",attributes:[["type","button"],["onclick",":tagvar10:"]],children:[{nodeName:"text",textContent:"delay increase currentTime"}]}],[{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"interval type 2 with :tagvar0:ms"}]},{nodeName:"text",textContent:"intervalId: :tagvar1:"},{nodeName:"button",attributes:[["type","button"],["onclick",":tagvar2:"]],children:[{nodeName:"text",textContent:":tagvar3:::tagvar4:"}]},{nodeName:"input",attributes:[["type","range"],["min","0"],["max",":tagvar5:"],["step","1"],["value",":tagvar6:"]]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"--:tagvar7:--"}]},{nodeName:"button",attributes:[["type","button"],["onclick",":tagvar8:"],["style.background-color",":tagvar9:"]],children:[{nodeName:"text",textContent:"start/stop"}]}]];const nn=async({target:t,stagger:e,staggerBy:n,fxName:o="fadeInDown"})=>{t.style.opacity="0",e&&await an(e*n),t.style.opacity="1",t.classList.add("animate__animated","animate__"+o)},on=async({target:t,stagger:e,capturePosition:n=!0,fxName:o="fadeOutUp",staggerBy:a})=>{n&&function(t){t.style.zIndex=t.style.zIndex||1;const e=t.offsetTop+"px",n=t.offsetLeft+"px",o=t.clientWidth+(t.offsetWidth-t.clientWidth)+1+"px",a=t.clientHeight+(t.offsetHeight-t.clientHeight)+1+"px";setTimeout((()=>{t.style.top=e,t.style.left=n,t.style.width=o,t.style.height=a,t.style.position="absolute"}),0)}(t),e&&await an(e*a),t.classList.add("animate__animated","animate__"+o),await an(1e3),t.classList.remove("animate__animated","animate__"+o)};function an(t){return new Promise((e=>{setTimeout(e,t)}))}const{in:rn,out:sn}=function({fxIn:t,fxOut:e,staggerBy:n=300}){return{in:e=>nn({fxName:t,staggerBy:n,...e}),out:t=>on({fxName:e,staggerBy:n,capturePosition:!0,...t})}}({fxIn:"fadeInDown",fxOut:"fadeOutUp"}),dn=He((()=>{let t=K("tagJsDebug.js")((e=>[t,t=e])),e=K(!1)((t=>[e,e=t])),n=K(0)((t=>[n,n=t]));return++n,Re.dom(ln[0],(()=>e=!e),e&&Re.dom(ln[1],rn,sn,Ze(),tn()))})),ln=[[{nodeName:"text",textContent:"\x3c!-- tagDebug.js --\x3e"},{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"fieldset",attributes:[["id","debug-intervals"],["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Interval Testing"}]},{nodeName:"button",attributes:[["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"hide/show"}]},{nodeName:"text",textContent:":tagvar1:"}]}]}],[{nodeName:"div",attributes:[["oninit",":tagvar0:"],["ondestroy",":tagvar1:"]],children:[{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:":tagvar2:"}]},{nodeName:"hr",attributes:[]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:":tagvar3:"}]}]}]],cn=He((({renderCount:t,name:e})=>Re.dom(un[0],e,e+"_render_count",t))),un=[[{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"(:tagvar0: render count "},{nodeName:"span",attributes:[["id",":tagvar1:"]],children:[{nodeName:"text",textContent:":tagvar2:"}]},{nodeName:"text",textContent:")"}]}]}]],mn=He(((t="tagSwitchDebug")=>{let e=K(null)((t=>[e,e=t])),n=K(0)((t=>[n,n=t]));let o="select tag below";switch(e){case null:o="null, select tag below";break;case"":o=Re.dom(Nn[0]);break;case"1":o=gn({title:"value switch"});break;case"2":o=bn({title:"value switch"});break;case"3":o=hn({title:"value switch"})}let a=Re.dom(Nn[1]);switch(e){case null:a=Re.dom(Nn[2]);break;case"":a=Re.dom(Nn[3]);break;case"1":a=gn({title:"tag switch"});break;case"2":a=bn({title:"tag switch"});break;case"3":a=hn({title:"tag switch"})}return++n,Re.dom(Nn[4],(null===e?"null":void 0===e&&"undefined")||""===e&&"empty-string"||e,(function(t){e=t.target.value,"undefined"===e&&(e=void 0),"null"===e&&(e=null)}),"string"!=typeof e||e.length?{}:{selected:!0},void 0===e?{selected:!0}:{},null===e?{selected:!0}:{},"1"===e?{selected:!0}:{},"2"===e?{selected:!0}:{},"3"===e?{selected:!0}:{},o,a,"3"===e?hn({title:"ternary simple"}):gn({title:"ternary simple"}),pn({selectedTag:e}),xn({selectedTag:e}),cn({renderCount:n,name:"tagSwitchDebug"}))})),pn=He((({selectedTag:t})=>{const e="3"===t?hn({title:"ternaryPropTest"}):gn({title:"ternaryPropTest"});return Re.dom(Nn[5],t,e)})),gn=He((({title:t})=>{let e=K(0)((t=>[e,e=t])),n=K(0)((t=>[n,n=t]));return++n,Re.dom(Nn[6],t,(()=>++e),e,cn({renderCount:n,name:"tag1"}))})),bn=He((({title:t})=>{let e=K(0)((t=>[e,e=t])),n=K(0)((t=>[n,n=t]));return++n,Re.dom(Nn[7],t,(()=>++e),e,cn({renderCount:n,name:"tag1"}))})),hn=He((({title:t})=>{let e=K(0)((t=>[e,e=t])),n=K(0)((t=>[n,n=t]));return++n,Re.dom(Nn[8],t,(()=>++e),e,cn({renderCount:n,name:"tag1"}))})),xn=He((({selectedTag:t})=>{switch(t){case void 0:return Re.dom(Nn[9]);case null:return Re.dom(Nn[10]);case"":return Re.dom(Nn[11]);case"1":return Re.dom(Nn[12],gn({title:`tag ${t}`}));case"2":return Re.dom(Nn[13],["b","c"].map((e=>Re.dom(Nn[14],bn({title:`array ${t} ${e}`})).key(e))));case"3":return Re.dom(Nn[15],["d","e","f"].map((e=>Re.dom(Nn[16],hn({title:`array ${t} ${e}`})).key(e))))}return Re.dom(Nn[17])})),Nn=[[{nodeName:"div",attributes:[["id","empty-string-1"]]}],[{nodeName:"div",attributes:[["id","select-tag-above"]],children:[{nodeName:"text",textContent:"select tag above"}]}],[{nodeName:"div",attributes:[["id","select-tag-above"]],children:[{nodeName:"text",textContent:"null, select tag above"}]}],[{nodeName:"div",attributes:[["id","select-tag-above"]],children:[{nodeName:"text",textContent:"empty-string, select tag above"}]}],[{nodeName:"div",attributes:[["id","selectTag-wrap"]],children:[{nodeName:"text",textContent:"selectedTag: |:tagvar0:|"}]},{nodeName:"select",attributes:[["id","tag-switch-dropdown"],["onchange",":tagvar1:"]],children:[{nodeName:"option",attributes:[]},{nodeName:"text",textContent:"\x3c!-- TODO: implement selected attribute ---\x3e"},{nodeName:"option",attributes:[["value",":tagvar0:"],[":tagvar2:"]],children:[{nodeName:"text",textContent:"empty-string"}]},{nodeName:"option",attributes:[["value","undefined"],[":tagvar3:"]],children:[{nodeName:"text",textContent:"undefined"}]},{nodeName:"option",attributes:[["value","null"],[":tagvar4:"]],children:[{nodeName:"text",textContent:"null"}]},{nodeName:"option",attributes:[["value","1"],[":tagvar5:"]],children:[{nodeName:"text",textContent:"tag 1"}]},{nodeName:"option",attributes:[["value","2"],[":tagvar6:"]],children:[{nodeName:"text",textContent:"tag 2"}]},{nodeName:"option",attributes:[["value","3"],[":tagvar7:"]],children:[{nodeName:"text",textContent:"tag 3"}]}]},{nodeName:"div",attributes:[["id","switch-tests-wrap"],["style","display:flex;flex-wrap:wrap;gap:1em;"]],children:[{nodeName:"div",attributes:[["style","border:1px solid blue;flex-grow:1"]],children:[{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Test 1 - string | Tag"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:":tagvar8:"}]}]},{nodeName:"div",attributes:[["style","border:1px solid blue;flex-grow:1"]],children:[{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Test 2 - Tag"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:":tagvar9:"}]}]},{nodeName:"div",attributes:[["style","border:1px solid blue;flex-grow:1"]],children:[{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Test 3 - ternary (only 1 or 3 shows)"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:":tagvar10:"}]}]},{nodeName:"div",attributes:[["style","border:1px solid blue;flex-grow:1"]],children:[{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Test 3.2 - ternary via prop (only 1 or 3 shows)"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:":tagvar11:"}]}]},{nodeName:"div",attributes:[["id","arraySwitching-test-wrap"],["style","border:1px solid red;flex-grow:1"]],children:[{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Test 4 - arraySwitching"}]},{nodeName:"div",attributes:[["id","arraySwitching-wrap"]],children:[{nodeName:"text",textContent:":tagvar12:"}]}]}]},{nodeName:"text",textContent:":tagvar13:"}],[{nodeName:"div",attributes:[["id","ternaryPropTest-wrap"]],children:[{nodeName:"text",textContent:":tagvar0:::tagvar1:"}]}],[{nodeName:"div",attributes:[["id","tag1"],["style","border:1px solid orange;"]],children:[{nodeName:"div",attributes:[["id","tagSwitch-1-hello"]],children:[{nodeName:"text",textContent:"Hello 1 :tagvar0: World"}]},{nodeName:"button",attributes:[["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"increase :tagvar2:"}]},{nodeName:"text",textContent:":tagvar3:"}]}],[{nodeName:"div",attributes:[["id","tag2"],["style","border:1px solid orange;"]],children:[{nodeName:"div",attributes:[["id","tagSwitch-2-hello"]],children:[{nodeName:"text",textContent:"Hello 2 :tagvar0: World"}]},{nodeName:"button",attributes:[["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"increase :tagvar2:"}]},{nodeName:"text",textContent:":tagvar3:"}]}],[{nodeName:"div",attributes:[["id","tag3"],["style","border:1px solid orange;"]],children:[{nodeName:"div",attributes:[["id","tagSwitch-3-hello"]],children:[{nodeName:"text",textContent:"Hello 3 :tagvar0: World"}]},{nodeName:"button",attributes:[["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"increase :tagvar2:"}]},{nodeName:"text",textContent:":tagvar3:"}]}],[{nodeName:"text",textContent:"its an undefined value"}],[{nodeName:"text",textContent:"its a null value"}],[{nodeName:"text",textContent:"space"}],[{nodeName:"text",textContent:":tagvar0:"}],[{nodeName:"text",textContent:":tagvar0:"}],[{nodeName:"text",textContent:":tagvar0:"}],[{nodeName:"text",textContent:":tagvar0:"}],[{nodeName:"text",textContent:":tagvar0:"}],[{nodeName:"text",textContent:"nothing to show for in arrays"}]],vn=He((()=>{const t=fn();return Re.dom(yn[0],t,t)})),fn=()=>{let t=K(0)((e=>[t,t=e]));return Re.dom(yn[1],t,(()=>++t),t)},yn=[[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"counter0"}]},{nodeName:"text",textContent:":tagvar0:"}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"counter1"}]},{nodeName:"text",textContent:":tagvar1:"}]}],[{nodeName:"text",textContent:"\n    counter:"},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🪞"},{nodeName:"span",attributes:[["id","mirror-counter-display"]],children:[{nodeName:"text",textContent:":tagvar0:"}]}]},{nodeName:"button",attributes:[["id","mirror-counter-button"],["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]],Cn=He(((t,e)=>{let n=K(0)((t=>[n,n=t])),o=K(0)((t=>[o,o=t]));return++n,Re.dom(kn[0],Ie(),j(Ie()),_(Ie().value),(()=>++o),o,o,cn({renderCount:n,name:"innerHtmlTest"}))})),wn=He((t=>{let e=K(0)((t=>[e,e=t])),n=K(0)((t=>[n,n=t]));return++e,Re.dom(kn[1],t,Ie(),(()=>++n),n,n,!1)})),kn=[[{nodeName:"text",textContent:"\x3c!--innerHtmlTests.js--\x3e"},{nodeName:"fieldset",attributes:[["id","innerHtmlTests-1"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"no props test"}]},{nodeName:"div",attributes:[["style","border:2px solid purple;"]],children:[{nodeName:"text",textContent:":tagvar0:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"isSubjectInstance::tagvar1:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"isSubjectTagArray::tagvar2:"}]},{nodeName:"button",attributes:[["id","innerHtmlTest-counter-button"],["onclick",":tagvar3:"]],children:[{nodeName:"text",textContent:"increase innerHtmlTest :tagvar4:"}]},{nodeName:"span",attributes:[["id","innerHtmlTest-counter-display"]],children:[{nodeName:"text",textContent:":tagvar5:"}]},{nodeName:"text",textContent:":tagvar6:"}]}],[{nodeName:"text",textContent:"\x3c!--innerHtmlTests.js--\x3e"},{nodeName:"fieldset",attributes:[["id","innerHtmlTests-2"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"innerHTML Props: :tagvar0:"}]},{nodeName:"text",textContent:":tagvar1:"},{nodeName:"button",attributes:[["id","innerHtmlPropsTest-button"],["onclick",":tagvar2:"]],children:[{nodeName:"text",textContent:"increase innerHtmlPropsTest :tagvar3:"}]},{nodeName:"span",attributes:[["id","innerHtmlPropsTest-display"]],children:[{nodeName:"text",textContent:":tagvar4:"}]},{nodeName:"text",textContent:":tagvar5:"}]}]],Tn=He(((t,e)=>Re.dom(_n[0],t,e,Ie()))),jn=He(((t="childTests")=>(t=K(0)((e=>[t,t=e])),e=K(0)((t=>[e,e=t])))=>Re.dom(_n[1],Tn(1,2).html.dom(_n[2],Date.now()),Cn({},2).html.dom(_n[3],(()=>++e),e,t,e,cn({renderCount:t,name:"childTests-innerHtmlTest"})),wn(22).html.dom(_n[4],(()=>++e),e,e,cn({renderCount:t,name:"innerHtmlPropsTest child"})),function({child:t}){return Re.dom(_n[6],t)}({child:Re.dom(_n[5],(()=>++e),e,e)}),(()=>++e),e,t,e,cn({renderCount:t,name:"childTests"}))));const _n=[[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"xxxxx"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"hello other world :tagvar0: - :tagvar1:"}]},{nodeName:"div",attributes:[["style","border:2px solid red;"]],children:[{nodeName:"text",textContent:"***:tagvar2:***"}]}]}],[{nodeName:"fieldset",attributes:[["id","children-test"],["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"childTests"}]},{nodeName:"hr",attributes:[]},{nodeName:"hr",attributes:[]},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar0:"},{nodeName:"hr",attributes:[]},{nodeName:"hr",attributes:[]},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar1:\n\n    :tagvar2:\n\n    :tagvar3:"},{nodeName:"hr",attributes:[]},{nodeName:"button",attributes:[["id","childTests-button"],["onclick",":tagvar4:"]],children:[{nodeName:"text",textContent:"🐮 increase childTests outside :tagvar5: - :tagvar6:"}]},{nodeName:"span",attributes:[["id","childTests-display"]],children:[{nodeName:"text",textContent:":tagvar7:"}]},{nodeName:"text",textContent:":tagvar8:"}]}],[{nodeName:"div",attributes:[],children:[{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:"abc-123-:tagvar0:"},{nodeName:"hr",attributes:[]}]}],[{nodeName:"b",attributes:[],children:[{nodeName:"text",textContent:"Field set body A"}]},{nodeName:"hr",attributes:[]},{nodeName:"button",attributes:[["id","innerHtmlTest-childTests-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🐮 (A) increase childTests inside :tagvar1:::tagvar2:"}]},{nodeName:"span",attributes:[["id","innerHtmlTest-childTests-display"]],children:[{nodeName:"text",textContent:":tagvar3:"}]},{nodeName:"text",textContent:":tagvar4:"}],[{nodeName:"b",attributes:[],children:[{nodeName:"text",textContent:"Field set body B"}]},{nodeName:"hr",attributes:[]},{nodeName:"button",attributes:[["id","innerHtmlPropsTest-childTests-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🐮 (B) increase childTests inside :tagvar1:"}]},{nodeName:"span",attributes:[["id","innerHtmlPropsTest-childTests-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]},{nodeName:"text",textContent:":tagvar3:"}],[{nodeName:"text",textContent:"\n      hello child as prop test"},{nodeName:"button",attributes:[["id","child-as-prop-test-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🐮 child as prop :tagvar1:"}]},{nodeName:"span",attributes:[["id","child-as-prop-test-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}],[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"child as prop"}]},{nodeName:"text",textContent:":tagvar0:"}]}]];var Sn=n(936);const Bn=He((({label:t,memory:e})=>{let n=K(!1)((t=>[n,n=t])),o=K(!1)((t=>[o,o=t]));return Re.dom(Pn[0],(()=>n=!0),(()=>n=!1),t,e.counter,n||"false",(()=>++e.counter),o||n?"visible":"hidden",(()=>o=!o))})),Pn=[[{nodeName:"div",attributes:[["style","background-color:purple;padding:.2em;flex:1"],["onmouseover",":tagvar0:"],["onmouseout",":tagvar1:"]],children:[{nodeName:"text",textContent:"mouseover - :tagvar2:::tagvar3:::tagvar4:"},{nodeName:"button",attributes:[["onclick",":tagvar5:"]],children:[{nodeName:"text",textContent:"++counter"}]},{nodeName:"a",attributes:[["style.visibility",":tagvar6:"],["onclick",":tagvar7:"]],children:[{nodeName:"text",textContent:"⚙️&nbsp;"}]}]}]],Dn=Date.now(),En=He((({appCounterSubject:t})=>(e=G((()=>Date.now())))=>{G("countersDebug state");let n=K(0)((t=>[n,n=t])),o=K(0)((t=>[o,o=t])),a=K(0)((t=>[a,a=t])),r=K(0)((t=>[r,r=t])),i=G((()=>({counter:0})));const s=Be(),d=G((()=>new D(n))),l=G((()=>new O("222"))),c=D.all([l,d]).pipe(function(t){const e=A();if(!e)throw De;const n=$.memory.stateConfig.array;return(...o)=>e.subject.global.callbackMaker?_e(e,t,n,...o):t(...o)}((t=>n))),u=X.all([l,d]).pipe((t=>n));Oe((()=>{++r,console.info("countersDebug.ts: 👉 i should only ever run once"),d.subscribe(s((t=>{n=t})))}));const m=()=>{++n,l.next("333-"+n)},p=()=>{++o};++a;return Re.dom(An[0],Re.dom(An[1],D.globalSubCount$,(()=>console.info("subs",D.globalSubs)),r,(()=>t.next((t.value||0)+1)),t.value,t.value,m,n,n,n>1&&Re.dom(An[2],m,n,n),(t=>n=Number(t.target.value)||0),p,o,o,(()=>d.next(n+1)),n,d),c,u,Re.dom(An[3],!0,Bn({label:"a-a-😻",memory:i}),Bn({label:"b-b-😻",memory:i}),i.counter,(()=>++i.counter)),Re.dom(An[4],On({propCounter:o,increasePropCounter:p})),cn({renderCount:a,name:"counters"}),(t=>t.target.innerText=(Date.now()-Dn).toString()),(t=>t.target.innerText=(Date.now()-e).toString()))})),On=He((({propCounter:t,increasePropCounter:e})=>{let n=K(0)((t=>[n,n=t]));return++n,Re.dom(An[5],e,t,t,n,cn({renderCount:n,name:"inner_counters"}))})),An=[[{nodeName:"text",textContent:"\x3c!--counters--\x3e"},{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"text",textContent:":tagvar0:"}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"🪈 pipedSubject 1"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"span",attributes:[["id","🪈-pipedSubject"]],children:[{nodeName:"text",textContent:":tagvar1:"}]}]}]}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"🪈 pipedSubject 2"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"span",attributes:[["id","🪈-pipedSubject-2"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]}]}]},{nodeName:"text",textContent:":tagvar3:\n    \n    :tagvar4:\n    :tagvar5:"},{nodeName:"div",attributes:[["style","font-size:0.8em;opacity:0.8"]],children:[{nodeName:"text",textContent:"⌚️ page load to display in&nbsp;"},{nodeName:"span",attributes:[["oninit",":tagvar6:"]],children:[{nodeName:"text",textContent:"-"}]},{nodeName:"text",textContent:"ms"}]},{nodeName:"div",attributes:[["style","font-size:0.8em;opacity:0.8"]],children:[{nodeName:"text",textContent:"⌚️ read in&nbsp;"},{nodeName:"span",attributes:[["oninit",":tagvar7:"]],children:[{nodeName:"text",textContent:"-"}]},{nodeName:"text",textContent:"ms"}]}],[{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"👉 Subscriptions:"},{nodeName:"span",attributes:[["id","👉-counter-sub-count"]],children:[{nodeName:"text",textContent:":tagvar0:"}]}]},{nodeName:"button",attributes:[["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"log subs"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"initCounter::tagvar2:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","app-counter-subject-button"],["onclick",":tagvar3:"]],children:[{nodeName:"text",textContent:"🍒 ++app subject"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍒 "},{nodeName:"span",attributes:[["id","app-counters-display"]],children:[{nodeName:"text",textContent:":tagvar4:"}]}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍒 "},{nodeName:"span",attributes:[["id","app-counters-subject-display"]],children:[{nodeName:"text",textContent:":tagvar5:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","standalone-counter"],["onclick",":tagvar6:"]],children:[{nodeName:"text",textContent:"stand alone counters::tagvar7:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🥦 "},{nodeName:"span",attributes:[["id","standalone-display"]],children:[{nodeName:"text",textContent:":tagvar8:"}]}]}]},{nodeName:"text",textContent:":tagvar9:"},{nodeName:"input",attributes:[["id","set-main-counter-input"],["onkeyup",":tagvar10:"]]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","❤️-increase-counter"],["onclick",":tagvar11:"]],children:[{nodeName:"text",textContent:"❤️ propCounter::tagvar12:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"❤️ "},{nodeName:"span",attributes:[["id","❤️-counter-display"]],children:[{nodeName:"text",textContent:":tagvar13:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","🥦-subject-increase-counter"],["onclick",":tagvar14:"]],children:[{nodeName:"text",textContent:"subject increase:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🥦 "},{nodeName:"span",attributes:[["id","🥦-subject-counter-display"]],children:[{nodeName:"text",textContent:":tagvar15:"}]},{nodeName:"text",textContent:"🥦 "},{nodeName:"span",attributes:[["id","subject-counter-subject-display"]],children:[{nodeName:"text",textContent:":tagvar16:"}]}]}]}],[{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","conditional-counter"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"conditional counter::tagvar1:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🥦 "},{nodeName:"span",attributes:[["id","conditional-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]}]}],[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"shared memory"}]},{nodeName:"div",attributes:[["class.bold.text-blue",":tagvar0:"],["style","display:flex;flex-wrap:wrap;gap:.5em"]],children:[{nodeName:"text",textContent:":tagvar1:\n          :tagvar2:"}]},{nodeName:"text",textContent:"memory.counter:😻:tagvar3:"},{nodeName:"button",attributes:[["onclick",":tagvar4:"]],children:[{nodeName:"text",textContent:"increase 😻"}]}]}],[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"inner counter"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"button",attributes:[["id","❤️-inner-counter"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"❤️ propCounter::tagvar1:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"❤️ "},{nodeName:"span",attributes:[["id","❤️-inner-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"renderCount::tagvar3:"}]},{nodeName:"text",textContent:":tagvar4:"}]];class $n{constructor(){this.tagDebug=0,this.showDialog=!1}}const In=()=>({counter:0});function Ln(){return{upper:ot(Rn),test:0}}function Rn(){return{name:"upperTagDebugProvider",test:0}}const Vn=He(((t="providerDebugBase")=>{ot(In);const e=ot($n),n=ot(Ln);K("props debug base");let o=K(0)((t=>[o,o=t])),a=K(0)((t=>[a,a=t]));return e.showDialog&&document.getElementById("provider_debug_dialog").showModal(),++a,Re.dom(Gn[0],n.test,n.upper?.test||"?",e.tagDebug||"?",(()=>++n.test),n.test,n.test,(()=>++n.upper.test),n.upper.test,n.upper.test,(()=>++e.tagDebug),e.tagDebug,e.tagDebug,(()=>++o),o,o,(()=>e.showDialog=!0),e.showDialog,Jn({propCounter:o,propCounterChange:t=>{o=t}}),a,cn({renderCount:a,name:"providerDebugBase"}),Mn(e),!1)})),Fn=(He((()=>(t=at(Rn))=>Re.dom(Gn[1],(()=>++t.test),t.test,t.test,t.test%2==0?"off":"on",Fn(),t.test%2==0?null:Hn()))),He((()=>(t=at(Rn))=>t.test%2==0?null:Re.dom(Gn[2],(()=>++t.test),t.test,t.test)))),Hn=He((()=>(t=at(Rn))=>Re.dom(Gn[3],(()=>++t.test),t.test,t.test))),Mn=He((t=>Re.dom(Gn[4],(()=>t.showDialog=!1),t.showDialog?Re.dom(Gn[5],JSON.stringify(t,null,2)):"no dialog"))),Jn=He((({propCounter:t,propCounterChange:e})=>{const n=at(In),o=at(Ln),a=at($n),r=at(Rn);let i=K(!1)((t=>[i,i=t])),s=K(0)((t=>[s,s=t]));const d=Be(),l=G((()=>new D));return Oe((()=>{console.info("providerDebug.ts: 👉 👉 i should only ever run once"),l.subscribe((t=>{d((e=>{o.test=t}))()}))})),++s,Re.dom(Gn[6],(()=>++o.test),o.test,o.test,(()=>++r.test),r.test,r.test,(()=>++n.counter),n.counter,n.counter,(()=>l.next(o.test+1)),o.test,(()=>++a.tagDebug),a.tagDebug,a.tagDebug,(()=>e(++t)),t,t,(()=>a.showDialog=!0),a.showDialog,(()=>i=!i),i?"hide":"show",i&&Re.dom(Gn[7],rn,sn,Wn(a)),s,cn({renderCount:s,name:"providerDebugInner"}))})),Wn=He((t=>Re.dom(Gn[8],JSON.stringify(t,null,2)))),Gn=[[{nodeName:"text",textContent:"\x3c!--providerDebug.js--\x3e"},{nodeName:"div",attributes:[],children:[{nodeName:"strong",attributes:[],children:[{nodeName:"text",textContent:"provider.test sugar-daddy-77"}]},{nodeName:"text",textContent:"::tagvar0:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"strong",attributes:[],children:[{nodeName:"text",textContent:"provider.upper?.test"}]},{nodeName:"text",textContent:"::tagvar1:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"strong",attributes:[],children:[{nodeName:"text",textContent:"providerClass.tagDebug"}]},{nodeName:"text",textContent:"::tagvar2:"}]},{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-🍌-0-button"],["onclick",":tagvar3:"]],children:[{nodeName:"text",textContent:"🍌 increase provider.test :tagvar4:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍌 "},{nodeName:"span",attributes:[["id","increase-provider-🍌-0-display"]],children:[{nodeName:"text",textContent:":tagvar5:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-upper-🌹-0-button"],["onclick",":tagvar6:"]],children:[{nodeName:"text",textContent:"🌹 increase upper.provider.test :tagvar7:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🌹 "},{nodeName:"span",attributes:[["id","increase-provider-upper-🌹-0-display"]],children:[{nodeName:"text",textContent:":tagvar8:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-🍀-0-button"],["onclick",":tagvar9:"]],children:[{nodeName:"text",textContent:"🍀 increase provider class :tagvar10:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍀 "},{nodeName:"span",attributes:[["id","increase-provider-🍀-0-display"]],children:[{nodeName:"text",textContent:":tagvar11:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-prop-🐷-0-button"],["onclick",":tagvar12:"]],children:[{nodeName:"text",textContent:"🐷 increase propCounter :tagvar13:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🐷 "},{nodeName:"span",attributes:[["id","increase-prop-🐷-0-display"]],children:[{nodeName:"text",textContent:":tagvar14:"}]}]}]},{nodeName:"button",attributes:[["onclick",":tagvar15:"]],children:[{nodeName:"text",textContent:"💬 toggle dialog :tagvar16:"}]}]},{nodeName:"hr",attributes:[]},{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"text",textContent:":tagvar17:"}]},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:"renderCount outer:"},{nodeName:"span",attributes:[["name","render_count_outer"]],children:[{nodeName:"text",textContent:":tagvar18:"}]},{nodeName:"text",textContent:":tagvar19:\n\n    :tagvar20:\n\n    TODOTODOTODOTODO\n    :tagvar21:"}],[{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-switch-🌹-0-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🌹 increase switch.provider.test :tagvar1:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🌹"},{nodeName:"span",attributes:[["id","increase-provider-switch-🌹-0-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]}]},{nodeName:"hr",attributes:[]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"statue::tagvar3:"}]},{nodeName:"text",textContent:":tagvar4:"},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar5:"}],[{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-switch-🌹-1-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🌹 increase switch.provider.test :tagvar1:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🌹"},{nodeName:"span",attributes:[["id","increase-provider-switch-🌹-1-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]}]}],[{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-switch-🌹-2-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🌹 increase switch.provider.test :tagvar1:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🌹"},{nodeName:"span",attributes:[["id","increase-provider-switch-🌹-2-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]}]}],[{nodeName:"dialog",attributes:[["id","provider_debug_dialog"],["style","padding:0"],["onmousedown","var r = this.getBoundingClientRect();(r.top<=event.clientY&&event.clientY<=r.top+r.height&&r.left<=event.clientX&&event.clientX<=r.left+r.width) || this.close()"],["ondragstart",'"const'],["e",":tagvar0:"],["dt",":tagvar1:"],["t",":tagvar2:"],["t:this",":tagvar3:"],["e:event",":tagvar4:"],["dt:event.datatransfer",":tagvar5:"],["const",":tagvar6:"],["d","t.drag=t.drag||{x:0,y:0};d.initX=d.x;d.startX=event.clientX-t.offsetLeft;d.startY=event.clientY-t.offsetTop;t.ondragover=e.target.ondragover=(e)="]],children:[{nodeName:"text",textContent:"e.preventDefault();dt.effectAllowed='move';dt.dropEffect='move'\"\n    ondrag=\"const {t,e,dt,d}={e:event,dt:event.dataTransfer,d:this.drag}; if(e.clientX===0) return;d.x = d.x + e.offsetX - d.startX; d.y = d.y + e.offsetY - d.startY; this.style.left = d.x + 'px'; this.style.top = d.y+'px';\"\n    ondragend=\"const {t,e,d}={t:this,e:event,d:this.drag};if (d.initX === d.x) {d.x=d.x+e.offsetX-(d.startX-d.x);d.y=d.y+e.offsetY-(d.startY-d.y);this.style.transform=translate3d(d.x+'px', d.y+'px', 0)};this.draggable=false\"\n    onclose=:tagvar0:\n  >"},{nodeName:"div",attributes:[["style","padding:.25em"],["onmousedown","this.parentNode.draggable=true"]],children:[{nodeName:"text",textContent:"dialog title"}]},{nodeName:"text",textContent:":tagvar1:"},{nodeName:"div",attributes:[["style","padding:.25em"]],children:[{nodeName:"button",attributes:[["type","button"],["onclick","provider_debug_dialog.close()"]],children:[{nodeName:"text",textContent:"🅧 close"}]}]}]}],[{nodeName:"textarea",attributes:[["wrap","off"]],children:[{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"text",textContent:"\x3c!--providerDebug.js--\x3e"},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-🍌-1-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🍌 increase provider.test :tagvar1:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍌 "},{nodeName:"span",attributes:[["id","increase-provider-🍌-1-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-upper-🌹-1-button"],["onclick",":tagvar3:"]],children:[{nodeName:"text",textContent:"🌹 increase upper.provider.test :tagvar4:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🌹"},{nodeName:"span",attributes:[["id","increase-provider-upper-🌹-1-display"]],children:[{nodeName:"text",textContent:":tagvar5:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-arrow-provider-⚡️-1-button"],["onclick",":tagvar6:"]],children:[{nodeName:"text",textContent:"⚡️ increase upper.provider.test :tagvar7:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"⚡️"},{nodeName:"span",attributes:[["id","increase-arrow-provider-⚡️-1-display"]],children:[{nodeName:"text",textContent:":tagvar8:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","subject-increase-counter"],["onclick",":tagvar9:"]],children:[{nodeName:"text",textContent:"🍌 subject increase:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍌 "},{nodeName:"span",attributes:[["id","subject-counter-display"]],children:[{nodeName:"text",textContent:":tagvar10:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-provider-🍀-1-button"],["onclick",":tagvar11:"]],children:[{nodeName:"text",textContent:"🍀 increase provider class :tagvar12:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍀 "},{nodeName:"span",attributes:[["id","increase-provider-🍀-1-display"]],children:[{nodeName:"text",textContent:":tagvar13:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","increase-prop-🐷-1-button"],["onclick",":tagvar14:"]],children:[{nodeName:"text",textContent:"🐷 increase propCounter :tagvar15:"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🐷 "},{nodeName:"span",attributes:[["id","increase-prop-🐷-1-display"]],children:[{nodeName:"text",textContent:":tagvar16:"}]}]}]},{nodeName:"button",attributes:[["onclick",":tagvar17:"]],children:[{nodeName:"text",textContent:"💬 toggle dialog :tagvar18:"}]},{nodeName:"button",attributes:[["onclick",":tagvar19:"]],children:[{nodeName:"text",textContent:":tagvar20: provider as props"}]},{nodeName:"text",textContent:":tagvar21:"},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"renderCount inner::tagvar22:\n      :tagvar23:"}]}],[{nodeName:"div",attributes:[["oninit",":tagvar0:"],["ondestroy",":tagvar1:"]],children:[{nodeName:"hr",attributes:[]},{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Provider as Props"}]},{nodeName:"text",textContent:":tagvar2:"}]}],[{nodeName:"text",textContent:"\x3c!--providerDebug.js@TestProviderAsProps--\x3e"},{nodeName:"textarea",attributes:[["wrap","off"],["rows","20"],["style","width:100%;font-size:0.6em"]],children:[{nodeName:"text",textContent:":tagvar0:"}]}]],Yn=He((()=>(t=K(0)((e=>[t,t=e])),e=K(0)((t=>[e,e=t])),n=Y([t],(()=>++e)),o=K(0)((t=>[o,o=t])),a=Y.noInit([t],(()=>++o)),r=K(0)((t=>[r,r=t])),i=Y.asSubject([t],(()=>++r)),s=K(!1)((t=>[s,s=t])),d=K(0)((t=>[d,d=t])),l=Y.truthy([s],(()=>++d)),c=K(0)((t=>[c,c=t])),u=Y.truthy.asSubject([s],(()=>(++c,s))).pipe((t=>void 0===t?"undefined":c)))=>Re.dom(qn[0],t,(()=>++t),e,o,a,r,i,s?"true":"false",l||"false",d,u,c,(()=>s=!s),s?"true":"false"))),qn=[[{nodeName:"text",textContent:"\x3c!-- watchTesting.tag.ts --\x3estateNum:"},{nodeName:"span",attributes:[["id","watch-testing-num-display"]],children:[{nodeName:"text",textContent:":tagvar0:"}]},{nodeName:"button",attributes:[["id","watch-testing-num-button"],["type","button"],["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"++ stateNum"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"stateNumChangeCount:"},{nodeName:"span",attributes:[["id","stateNumChangeCount"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"🍄 slowChangeCount"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"span",attributes:[["id","🍄-slowChangeCount"]],children:[{nodeName:"text",textContent:":tagvar3:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"watchPropNumSlow:"},{nodeName:"span",attributes:[["id","🍄-watchPropNumSlow"]],children:[{nodeName:"text",textContent:":tagvar4:"}]}]}]}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"🍄‍🟫 subjectChangeCount"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"span",attributes:[["id","🍄‍🟫-subjectChangeCount"]],children:[{nodeName:"text",textContent:":tagvar5:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"(watchPropNumSubject:"},{nodeName:"span",attributes:[["id","🍄‍🟫-watchPropNumSubject"]],children:[{nodeName:"text",textContent:":tagvar6:"}]},{nodeName:"text",textContent:")"}]}]}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"🦷 truthChange"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"span",attributes:[["id","🦷-truthChange"]],children:[{nodeName:"text",textContent:":tagvar7:"}]}]}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"simple truth"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"watchTruth:"},{nodeName:"span",attributes:[["id","🦷-watchTruth"]],children:[{nodeName:"text",textContent:":tagvar8:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"(truthChangeCount:"},{nodeName:"span",attributes:[["id","🦷-truthChangeCount"]],children:[{nodeName:"text",textContent:":tagvar9:"}]},{nodeName:"text",textContent:")"}]}]}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"truth subject"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"watchTruthAsSub:"},{nodeName:"span",attributes:[["id","🦷-watchTruthAsSub"]],children:[{nodeName:"text",textContent:":tagvar10:"}]}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"(truthSubChangeCount:"},{nodeName:"span",attributes:[["id","🦷-truthSubChangeCount"]],children:[{nodeName:"text",textContent:":tagvar11:"}]},{nodeName:"text",textContent:")"}]}]}]},{nodeName:"button",attributes:[["id","🦷-truthChange-button"],["type","button"],["onclick",":tagvar12:"]],children:[{nodeName:"text",textContent:"toggle to :tagvar13:"}]}]}]],Un=()=>He.oneRender=(t=new O(0),e=K(0)((t=>[e,e=t])))=>{++e;const n=D.all([0,"all",4]);return Re.dom(Xn[0],n.pipe((t=>JSON.stringify(t))),t,(()=>++t.value),cn({renderCount:e,name:"oneRender_tag_ts"}),zn())},zn=He((()=>(t=K(0)((e=>[t,t=e])),e=X(0),n=K(0)((t=>[n,n=t])))=>(++n,Re.dom(Xn[1],e,t,(()=>{e.next(++t)}),cn({renderCount:n,name:"insideMultiRender"}))))),Xn=[[{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"-start-"}]},{nodeName:"text",textContent:":tagvar0:elias"},{nodeName:"div",attributes:[],children:[{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"👍"},{nodeName:"span",attributes:[["id","👍-counter-display"]],children:[{nodeName:"text",textContent:":tagvar1:"}]}]},{nodeName:"button",attributes:[["type","button"],["id","👍-counter-button"],["onclick",":tagvar2:"]],children:[{nodeName:"text",textContent:"++👍"}]}]},{nodeName:"text",textContent:":tagvar3:"},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar4:"}],[{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"👍🔨 sub counter-subject-display:"},{nodeName:"span",attributes:[["id","👍🔨-counter-subject-display"]],children:[{nodeName:"text",textContent:":tagvar0:"}]}]},{nodeName:"br",attributes:[]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"👍🔨 sub counter"},{nodeName:"span",attributes:[["id","👍🔨-counter-display"]],children:[{nodeName:"text",textContent:":tagvar1:"}]}]},{nodeName:"br",attributes:[]},{nodeName:"button",attributes:[["type","button"],["id","👍🔨-counter-button"],["onclick",":tagvar2:"]],children:[{nodeName:"text",textContent:"++👍👍"}]},{nodeName:"text",textContent:":tagvar3:"}]],Kn=He(((t,e)=>Re.dom(Qn[0],t,(()=>e(t))))),Qn=[[{nodeName:"div",attributes:[["style","border:1px solid black;"]],children:[{nodeName:"text",textContent:":tagvar0:"},{nodeName:"button",attributes:[["type","button"],["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"delete"}]}]}]],Zn=He(((t,e,n)=>(o=K("other")((t=>[o,o=t])),a=K(0)((t=>[a,a=t])),r=K(0)((t=>[r,r=t])),i=++r,{addArrayItem:s,myFunction:d,deleteItem:l,child:c,array:u}=t)=>Re.dom(to[0],e.function.toCall?"taggjedjs-wrapped":"nowrap",e.count,c.myChildFunction.toCall?"taggjedjs-wrapped":"nowrap",d.toCall?"taggjedjs-wrapped":"nowrap",d,c.myChildFunction,n,oo.function,(()=>++a),u.length,u.map((t=>Kn(t,l).key(t))),s,a,cn({renderCount:r,name:"funInProps_tag_child"})))),to=[[{nodeName:"div",attributes:[],children:[{nodeName:"strong",attributes:[],children:[{nodeName:"text",textContent:"mainFunction:"}]},{nodeName:"text",textContent:":tagvar0::"},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:":tagvar1:"}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"strong",attributes:[],children:[{nodeName:"text",textContent:"childFunction:"}]},{nodeName:"text",textContent:":tagvar2:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"strong",attributes:[],children:[{nodeName:"text",textContent:"myFunction:"}]},{nodeName:"text",textContent:":tagvar3:"}]},{nodeName:"button",attributes:[["id","fun_in_prop1"],["onclick",":tagvar4:"]],children:[{nodeName:"text",textContent:"🤰 ++object argument"}]},{nodeName:"button",attributes:[["id","fun_in_prop2"],["onclick",":tagvar5:"]],children:[{nodeName:"text",textContent:"🤰 ++child.myChildFunction"}]},{nodeName:"button",attributes:[["id","fun_in_prop3"],["onclick",":tagvar6:"]],children:[{nodeName:"text",textContent:"+🤰 +argument"}]},{nodeName:"button",attributes:[["onclick",":tagvar7:"]],children:[{nodeName:"text",textContent:"🆎 ++main"}]},{nodeName:"button",attributes:[["onclick",":tagvar8:"]],children:[{nodeName:"text",textContent:"++me"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"child array length: :tagvar9:\n    :tagvar10:"},{nodeName:"button",attributes:[["onclick",":tagvar11:"]],children:[{nodeName:"text",textContent:"addArrayItem"}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"counter:"},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:":tagvar12:"}]}]},{nodeName:"text",textContent:":tagvar13:"}]],eo=He((t=>(e=K(0)((t=>[e,e=t])),n=++e,o=(e=>{if("Enter"===e.key){const n=e.target.value.trim();t(n),e.target.value=""}}))=>Re.dom(no[0],o,(e=>{t(e.target.value),e.target.value=""}),t,cn({renderCount:e,name:"addArrayComponent"})))),no=[[{nodeName:"input",attributes:[["type","text"],["onkeydown",":tagvar0:"],["onchange",":tagvar1:"]]},{nodeName:"button",attributes:[["type","button"],["onclick",":tagvar2:"]],children:[{nodeName:"text",textContent:"add by outside"}]},{nodeName:"text",textContent:":tagvar3:"}]],oo={function:()=>++oo.count,count:0},ao=He((()=>(t=K([])((e=>[t,t=e])),e=K(0)((t=>[e,e=t])),n=(()=>++e),o=K(0)((t=>[o,o=t])),a=K(!0)((t=>[a,a=t])),r=K("a")((t=>[r,r=t])),i=++o,s=(e=>{t=t.map((t=>t)),t.push("string"==typeof e?e:"push"+t.length)}),d=(e=>t=t.filter((t=>t!==e))))=>Re.dom(ro[0],n,e,cn({renderCount:o,name:"funInProps_tag_parent"}),oo.function.toCall?"taggjedjs-wrapped":"nowrap",oo.count,(()=>a=!a),t.length,s,a&&Zn({myFunction:n,array:t,addArrayItem:s,deleteItem:d,child:{myChildFunction:n}},oo,n),eo(s)))),ro=[[{nodeName:"button",attributes:[["id","fun-parent-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🤰 ++parent"}]},{nodeName:"span",attributes:[["id","fun_in_prop_display"]],children:[{nodeName:"text",textContent:":tagvar1:"}]},{nodeName:"text",textContent:":tagvar2:"},{nodeName:"div",attributes:[],children:[{nodeName:"strong",attributes:[],children:[{nodeName:"text",textContent:"🆎 main:"}]},{nodeName:"span",attributes:[["id","main_wrap_state"]],children:[{nodeName:"text",textContent:":tagvar3:"}]},{nodeName:"text",textContent:"::tagvar4:"}]},{nodeName:"button",attributes:[["id","toggle-fun-in-child"],["type","button"],["onclick",":tagvar5:"]],children:[{nodeName:"text",textContent:"toggle child"}]},{nodeName:"text",textContent:"array length: :tagvar6:"},{nodeName:"button",attributes:[["onclick",":tagvar7:"]],children:[{nodeName:"text",textContent:"reset add"}]},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar8:\n  :tagvar9:"}]],io=(t,e)=>t.length>=e;function so({onSubmit:t,placeholder:e,label:n,defaultValue:o,onBlur:a}){return Re.dom(lo[0],e,o,(()=>{a&&a()}),(e=>{if("Enter"===e.key){const n=e.target.value.trim();if(!io(n,2))return;t(n),e.target.value=""}}),n)}const lo=[[{nodeName:"div",attributes:[["class","input-container"]],children:[{nodeName:"input",attributes:[["class","new-todo"],["id","todo-input"],["type","text"],["data-testid","text-input"],["placeholder",":tagvar0:"],["value",":tagvar1:"],["onblur",":tagvar2:"],["onkeydown",":tagvar3:"]]},{nodeName:"label",attributes:[["htmlfor","todo-input"],["style","visibility:hidden"]],children:[{nodeName:"text",textContent:":tagvar4:"}]}]}]],co="ADD_ITEM",uo="UPDATE_ITEM",mo="REMOVE_ITEM",po="TOGGLE_ITEM",go="TOGGLE_ALL",bo="REMOVE_COMPLETED_ITEMS";const ho=[[{nodeName:"header",attributes:[["class","header"],["data-testid","header"]],children:[{nodeName:"h1",attributes:[],children:[{nodeName:"text",textContent:"todos"}]},{nodeName:"text",textContent:":tagvar0:"}]}]],xo=He(((t,e,n)=>{G("item");let o=K(!1)((t=>[o,o=t])),a=K(0)((t=>[a,a=t]));const{title:r,completed:i,id:s}=t,d=()=>e({type:mo,payload:{id:s}});return++a,Re.dom(No[0],(t.completed,""),o?Re.dom(No[1],so({onSubmit:t=>(0===t.length?d():((t,n)=>{e({type:uo,payload:{id:t,title:n}})})(s,t),o=!1,"44s"),label:"Edit Todo Input",defaultValue:r,onBlur:()=>o=!1}),r):Re.dom(No[2],i,i,(()=>e({type:po,payload:{id:s}})),(()=>{o=!0}),r,d),a)})),No=[[{nodeName:"li",attributes:[["class",":tagvar0:"],["data-testid","todo-item"]],children:[{nodeName:"div",attributes:[["class","view"]],children:[{nodeName:"text",textContent:":tagvar1:"}]},{nodeName:"text",textContent:"item render count: :tagvar2:"}]}],[{nodeName:"text",textContent:":tagvar0: - :tagvar1:"}],[{nodeName:"text",textContent:"\n                    completed::tagvar0:"},{nodeName:"input",attributes:[["class","toggle"],["type","checkbox"],["data-testid","todo-item-toggle"],["checked",":tagvar1:"],["onchange",":tagvar2:"]]},{nodeName:"label",attributes:[["data-testid","todo-item-label"],["ondblclick",":tagvar3:"]],children:[{nodeName:"text",textContent:":tagvar4:"}]},{nodeName:"button",attributes:[["class","destroy"],["data-testid","todo-item-button"],["onclick",":tagvar5:"]],children:[{nodeName:"text",textContent:"delete"}]}]],vo=He((({todos:t,dispatch:e})=>{let n=K(0)((t=>[n,n=t]));++n;const o=Y([t,""],(()=>t.filter((t=>t))));return Re.dom(fo[0],n,o.length,t.length,JSON.stringify(t),o.length>0&&Re.dom(fo[1],o.every((t=>t.completed)),(t=>e({type:go,payload:{completed:t.target.checked}}))),o.map(((t,n)=>Re.dom(fo[2],xo(t,e,n)).key(t.id))))})),fo=[[{nodeName:"main",attributes:[["class","main"],["data-testid","main"]],children:[{nodeName:"text",textContent:"main renderCount: :tagvar0: array::tagvar1: of :tagvar2:"},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar3:"},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar4:"},{nodeName:"ul",attributes:[["class","todo-list"],["data-testid","todo-list"]],children:[{nodeName:"text",textContent:":tagvar5:"}]}]}],[{nodeName:"div",attributes:[["class","toggle-all-container"]],children:[{nodeName:"input",attributes:[["class","toggle-all"],["type","checkbox"],["data-testid","toggle-all"],["checked",":tagvar0:"],["onchange",":tagvar1:"]]},{nodeName:"label",attributes:[["class","toggle-all-label"],["htmlfor","toggle-all"]],children:[{nodeName:"text",textContent:"Toggle All Input"}]}]}],[{nodeName:"text",textContent:":tagvar0:"}]],yo=He(((t,e)=>(n=t.filter((t=>!t.completed)),o=(()=>e({type:bo})))=>0===t.length?null:Re.dom(Co[1],n.length,t.length,1===n.length?"item":"items","","","",n.length===t.length,o))),Co=[[],[{nodeName:"footer",attributes:[["class","footer"],["data-testid","footer"]],children:[{nodeName:"span",attributes:[["class","todo-count"]],children:[{nodeName:"text",textContent:":tagvar0: of :tagvar1: :tagvar2: left!"}]},{nodeName:"ul",attributes:[["class","filters"],["data-testid","footer-navigation"]],children:[{nodeName:"li",attributes:[],children:[{nodeName:"a",attributes:[["class",":tagvar3:"],["href","#/"]],children:[{nodeName:"text",textContent:"All"}]}]},{nodeName:"li",attributes:[],children:[{nodeName:"a",attributes:[["class",":tagvar4:"],["href","#/active"]],children:[{nodeName:"text",textContent:"Active"}]}]},{nodeName:"li",attributes:[],children:[{nodeName:"a",attributes:[["class",":tagvar5:"],["href","#/completed"]],children:[{nodeName:"text",textContent:"Completed"}]}]}]},{nodeName:"button",attributes:[["class","clear-completed"],["disabled",":tagvar6:"],["onclick",":tagvar7:"]],children:[{nodeName:"text",textContent:"Clear completed"}]}]}]];function wo(t=21){let e="",n=t;for(;n--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}const ko=He((()=>(t=K([])((e=>[t,t=e])),e=(e=>{t=((t,e)=>{switch(e.type){case co:return t.concat({id:wo(),title:e.payload.title,completed:!1});case uo:return t.map((t=>t.id===e.payload.id?{...t,title:e.payload.title}:t));case mo:return t.filter((t=>t.id!==e.payload.id));case po:return t.map((t=>t.id===e.payload.id?{...t,completed:!t.completed}:t));case"REMOVE_ALL_ITEMS":return[];case go:return t.map((t=>t.completed!==e.payload.completed?{...t,completed:e.payload.completed}:t));case bo:return t.filter((t=>!t.completed))}throw Error(`Unknown action: ${e.type}`)})(t,e)}))=>Re.dom(To[0],function(t){return Re.dom(ho[0],so({onSubmit:e=>t({type:co,payload:{title:e}}),label:"New Todo Input",placeholder:"What needs to be done?"}))}(e),vo({todos:t,dispatch:e}),yo(t,e)))),To=[[{nodeName:"text",textContent:"\x3c!-- TODO APP --\x3etodo app\n    :tagvar0:\n    :tagvar1:\n    :tagvar2:"}]],jo=He(((t="propsDebugMain")=>(t=K(0)((e=>[t,t=e])),e=K(0)((t=>[e,e=t])),n=K(0)((t=>[n,n=t])),o=K({test:33,x:"y"})((t=>[o,o=t])),a=K((()=>new Date))((t=>[a,a=t])),r=JSON.stringify(o,null,2))=>Re.dom(Do[0],(t=>o=JSON.parse(t.target.value)),r,r,++n,(()=>++e),e,e,Bo({propNumber:e,propsJson:o,propNumberChange:t=>{e=t}}),t,(()=>++t),cn({renderCount:n,name:"sync_props_callback"}),So({syncPropNumber:t,propNumberChange:e=>t=e,parentTest:t=>t}),a,function(t){const e=new Date(t),n=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return{date:`${n}-${o}-${a}`,time:`${r}:${i}`}}(a).date,(t=>{const e=t.target.value;a=new Date(e)}),_o({date:a})))),_o=He((({date:t})=>Re.dom(Do[1],t))),So=He((({syncPropNumber:t,propNumberChange:e,parentTest:n})=>{G("string forced");let o=K(0)((t=>[o,o=t])),a=K(0)((t=>[a,a=t]));return++a,t%2==1&&e(t+=1),Re.dom(Do[2],t,(()=>e(++t)),o,n(o),(()=>{n(++o)}),cn({renderCount:a,name:"child_sync_props_callback"}))})),Bo=He((({propNumber:t,propsJson:e,propNumberChange:n})=>(o=K(0)((t=>[o,o=t])),a=K(0)((t=>[a,a=t])),r=K(t)((t=>[r,r=t])),i=Y([t],(()=>r=t)),s=Y([r],(()=>++a)),d=function(t){return e=>{let n=K(t)(e);return Y([t],(()=>e(n=t))),e(n),n}}(t)((e=>[t,t=e])))=>Re.dom(Do[3],(t=>{const n=JSON.parse(t.target.value);Object.assign(e,n)}),JSON.stringify(e,null,2),JSON.stringify(e,null,2),JSON.stringify(s,null,2),(()=>n(++r)),r,r,(()=>++t),t,t,(()=>++o),++o,(()=>++r),r,a,Po({propNumber:r,callback:()=>++r})))),Po=He((({propNumber:t,callback:e})=>{let n=K(0)((t=>[n,n=t]));return++n,Re.dom(Do[4],e,t,t,cn({renderCount:n,name:"propFnUpdateTest"}))}));const Do=[[{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap"],["id","textareawrap"]],children:[{nodeName:"textarea",attributes:[["id","props-debug-textarea"],["wrap","off"],["onchange",":tagvar0:"],["style","height:200px;font-size:0.6em;width:100%;max-width:400px"]],children:[{nodeName:"text",textContent:":tagvar1:"}]},{nodeName:"pre",attributes:[],children:[{nodeName:"text",textContent:":tagvar2:"}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"(renderCount::tagvar3:)"}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","propsDebug-🥩-0-button"],["onclick",":tagvar4:"]],children:[{nodeName:"text",textContent:"🥩 propNumber :tagvar5:"}]},{nodeName:"span",attributes:[["id","propsDebug-🥩-0-display"]],children:[{nodeName:"text",textContent:":tagvar6:"}]}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"child"}]},{nodeName:"text",textContent:":tagvar7:"}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"sync props callback"}]},{nodeName:"text",textContent:"🥡 syncPropNumber: "},{nodeName:"span",attributes:[["id","sync-prop-number-display"]],children:[{nodeName:"text",textContent:":tagvar8:"}]},{nodeName:"button",attributes:[["onclick",":tagvar9:"]],children:[{nodeName:"text",textContent:"🥡 ++"}]},{nodeName:"text",textContent:":tagvar10:"},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar11:"}]},{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"date prop"}]},{nodeName:"text",textContent:"date::tagvar12:"},{nodeName:"input",attributes:[["type","date"],["value",":tagvar13:"],["onchange",":tagvar14:"]]},{nodeName:"hr",attributes:[]},{nodeName:"text",textContent:":tagvar15:"}]}],[{nodeName:"text",textContent:"date::tagvar0:"}],[{nodeName:"text",textContent:"\x3c!--syncPropDebug--\x3e"},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"🥡 child syncPropNumber:"},{nodeName:"span",attributes:[["id","sync-prop-child-display"]],children:[{nodeName:"text",textContent:":tagvar0:"}]},{nodeName:"button",attributes:[["id","sync-prop-child-button"],["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"🥡 ++"}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"counter:"},{nodeName:"span",attributes:[["id","sync-prop-counter-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]},{nodeName:"text",textContent:"parentTest"},{nodeName:"span",attributes:[["id","nothing-prop-counter-display"]],children:[{nodeName:"text",textContent:":tagvar3:"}]},{nodeName:"button",attributes:[["id","nothing-prop-counter-button"],["onclick",":tagvar4:"]],children:[{nodeName:"text",textContent:"++"}]}]},{nodeName:"text",textContent:":tagvar5:"}],[{nodeName:"text",textContent:"\x3c!--propsDebug.js--\x3e"},{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Props Json"}]},{nodeName:"textarea",attributes:[["style","font-size:0.6em;height:200px;width:100%;;max-width:400px"],["wrap","off"],["onchange",":tagvar0:"]],children:[{nodeName:"text",textContent:":tagvar1:"}]},{nodeName:"pre",attributes:[],children:[{nodeName:"text",textContent:":tagvar2:"}]},{nodeName:"text",textContent:"\x3c!--"},{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap"]]},{nodeName:"text",textContent:"--\x3e"},{nodeName:"hr",attributes:[]},{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Props Number"}]},{nodeName:"textarea",attributes:[["style","font-size:0.6em;height:200px;width:100%;color:white;"],["wrap","off"],["disabled",":tagvar0:"]],children:[{nodeName:"text",textContent:":tagvar3:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","propsDebug-🥩-1-button"],["onclick",":tagvar4:"]],children:[{nodeName:"text",textContent:"🐄 🥩 propNumber :tagvar5:"}]},{nodeName:"span",attributes:[["id","propsDebug-🥩-1-display"]],children:[{nodeName:"text",textContent:":tagvar6:"}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","propsDebug-🥩-2-button"],["onclick",":tagvar7:"]],children:[{nodeName:"text",textContent:"🐄 🥩 local set propNumber :tagvar8:"}]},{nodeName:"span",attributes:[["id","propsDebug-🥩-2-display"]],children:[{nodeName:"text",textContent:":tagvar9:"}]}]},{nodeName:"button",attributes:[["title","test of increasing render count and nothing else"],["onclick",":tagvar10:"]],children:[{nodeName:"text",textContent:"renderCount :tagvar11:"}]},{nodeName:"button",attributes:[["onclick",":tagvar12:"],["title","only changes number locally but if change by parent than that is the number"]],children:[{nodeName:"text",textContent:"🐄 🥩 local set myPropNumber :tagvar13:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"small",attributes:[],children:[{nodeName:"text",textContent:"(propNumberChangeCount:"},{nodeName:"span",attributes:[["id","propsDebug-🥩-change-display"]],children:[{nodeName:"text",textContent:":tagvar14:"}]},{nodeName:"text",textContent:")"}]}]},{nodeName:"hr",attributes:[]},{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Fn update test"}]},{nodeName:"text",textContent:":tagvar15:"}],[{nodeName:"button",attributes:[["id","propsOneLevelFunUpdate-🥩-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🐄 🥩 local & 1-parent increase :tagvar1:"}]},{nodeName:"span",attributes:[["id","propsOneLevelFunUpdate-🥩-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]},{nodeName:"text",textContent:":tagvar3:"},{nodeName:"small",attributes:[["style","opacity:.5"]],children:[{nodeName:"text",textContent:"the count here and within parent increases but not in parent parent"}]}]],Eo=He((function(){const t=G([]);let e=K(0)((t=>[e,e=t]));const n=()=>({name:"Person "+t.length,scores:"0,".repeat(0).split(",").map(((t,e)=>({frame:e+1,score:Math.floor(4*Math.random())+1})))});return++e,Re.dom($o[0],Ao({players:t,getNewPlayer:n}),(()=>{t.push(n())}),t.length+1,(()=>{t.push(n()),t.push(n()),t.push(n())}),(()=>{t.push(n()),t.push(n()),t.push(n()),t.push(n()),t.push(n()),t.push(n()),t.push(n()),t.push(n()),t.push(n())}),t.length>0&&Re.dom($o[1],rn,sn,(()=>t.length=0)),cn({renderCount:e,name:"arrayTests.ts"}))})),Oo=He((({score:t,playerIndex:e})=>{let n=K(0)((t=>[n,n=t]));return++n,Re.dom($o[2],t.frame,`score-data-${e}-${t.frame}-inside-button`,(()=>++t.score),t.score,`score-data-${e}-${t.frame}-inside-display`,t.score,(()=>++n),cn({renderCount:n,name:"scoreData"+t.frame}))})),Ao=He((({players:t,getNewPlayer:e})=>{const n=t.map(((n,o)=>Re.dom($o[3],rn,sn,n.name,o,n.scores.map(((t,e)=>Re.dom($o[4],rn,sn,`score-data-${e}-${t.frame}-outside-button`,(()=>++t.score),t.score,`score-data-${e}-${t.frame}-outside-display`,t.score,Oo({score:t,playerIndex:e})).key(t))),n.edit&&Re.dom($o[5],(()=>{t.splice(o,1),n.edit=!n.edit})),n.edit&&Re.dom($o[6],"player-remove-promise-btn-"+o,(async()=>{n.edit=!n.edit,t.splice(o,1)})),"player-edit-btn-"+o,(()=>n.edit=!n.edit),(()=>{t.splice(o,0,e())})).key(n)));return Re.dom($o[7],n)})),$o=[[{nodeName:"text",textContent:"\x3c!--arrayTests.js--\x3e"},{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"text",textContent:":tagvar0:"}]},{nodeName:"button",attributes:[["id","array-test-push-item"],["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"push item :tagvar2:"}]},{nodeName:"button",attributes:[["onclick",":tagvar3:"]],children:[{nodeName:"text",textContent:"push 3 items"}]},{nodeName:"button",attributes:[["onclick",":tagvar4:"]],children:[{nodeName:"text",textContent:"push 9 items"}]},{nodeName:"text",textContent:":tagvar5:\n\n    :tagvar6:"}],[{nodeName:"button",attributes:[["oninit",":tagvar0:"],["ondestroy",":tagvar1:"],["style","--animate-duration: .1s;"],["onclick",":tagvar2:"]],children:[{nodeName:"text",textContent:"remove all"}]}],[{nodeName:"text",textContent:"\n    frame::tagvar0::"},{nodeName:"button",attributes:[["id",":tagvar1:"],["onclick",":tagvar2:"]],children:[{nodeName:"text",textContent:"inner score button ++:tagvar3:"}]},{nodeName:"span",attributes:[["id",":tagvar4:"]],children:[{nodeName:"text",textContent:":tagvar5:"}]},{nodeName:"button",attributes:[["onclick",":tagvar6:"]],children:[{nodeName:"text",textContent:"increase renderCount"}]},{nodeName:"text",textContent:":tagvar7:"}],[{nodeName:"div",attributes:[["oninit",":tagvar0:"],["ondestroy",":tagvar1:"],["style","background-color:black;--animate-duration: .1s;"]],children:[{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"name::tagvar2:"}]},{nodeName:"div",attributes:[],children:[{nodeName:"text",textContent:"index::tagvar3:"}]},{nodeName:"div",attributes:[["style","background-color:purple;padding:.5em"]],children:[{nodeName:"text",textContent:"scores::tagvar4:"}]},{nodeName:"text",textContent:":tagvar5:\n      :tagvar6:"},{nodeName:"button",attributes:[["id",":tagvar7:"],["onclick",":tagvar8:"]],children:[{nodeName:"text",textContent:"edit"}]},{nodeName:"button",attributes:[["onclick",":tagvar9:"]],children:[{nodeName:"text",textContent:"add before"}]}]}],[{nodeName:"div",attributes:[["style","border:1px solid white;--animate-duration: .1s;"],["oninit",":tagvar0:"],["ondestroy",":tagvar1:"]],children:[{nodeName:"fieldset",attributes:[],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"button",attributes:[["id",":tagvar2:"],["onclick",":tagvar3:"]],children:[{nodeName:"text",textContent:"outer score button ++:tagvar4:"}]},{nodeName:"span",attributes:[["id",":tagvar5:"]],children:[{nodeName:"text",textContent:":tagvar6:"}]}]},{nodeName:"text",textContent:":tagvar7:"}]}]}],[{nodeName:"button",attributes:[["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"remove"}]}],[{nodeName:"button",attributes:[["id",":tagvar0:"],["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"remove by promise"}]}],[{nodeName:"text",textContent:"\x3c!-- playersLoop.js --\x3e:tagvar0:\x3c!-- end:playersLoop.js --\x3e"}]],Io=He((()=>{let t=K("app first state")((e=>[t,t=e])),e=K(!1)((t=>[e,e=t])),o=K(0)((t=>[o,o=t])),a=K(0)((t=>[a,a=t])),r=K(null)((t=>[r,r=t]));function i(t=!0){r=setTimeout((async()=>{console.debug("🏃 Running tests...");const e=await async function(){await Promise.resolve().then(n.bind(n,845)),await Promise.resolve().then(n.bind(n,810)),await Promise.resolve().then(n.bind(n,410)),await Promise.resolve().then(n.bind(n,269)),await Promise.resolve().then(n.bind(n,348)),await Promise.resolve().then(n.bind(n,775)),await Promise.resolve().then(n.bind(n,908)),await Promise.resolve().then(n.bind(n,322)),await Promise.resolve().then(n.bind(n,511)),await Promise.resolve().then(n.bind(n,644)),await Promise.resolve().then(n.bind(n,356)),await Promise.resolve().then(n.bind(n,720)),await Promise.resolve().then(n.bind(n,722)),await Promise.resolve().then(n.bind(n,199)),await Promise.resolve().then(n.bind(n,662));try{const t=Date.now();await(0,Sn.ht)();const e=Date.now()-t;return console.info(`✅ all tests passed in ${e}ms`),!0}catch(t){return console.error("❌ tests failed: "+t.message,t),!1}}();t&&(e?alert("✅ all app tests passed"):alert("❌ tests failed. See console for more details"))}),2e3)}Ae((()=>{clearTimeout(r),r=null})),++a;const s=Be(),d=G((()=>new D(o)));Oe((()=>{console.info("1️⃣ app init should only run once"),i(!1),d.subscribe(s((t=>o=t)))}));return Re.dom(Lo[0],4,(()=>{e=!e}),e,i,(()=>d.next(o+1)),o,cn({name:"app",renderCount:a}),En({appCounterSubject:d}),Yn(),Vn(void 0),jo(void 0),jn(void 0),Ge(),qe(),mn(void 0),Eo(),vn(),ze(),Un(),ao(),ko(),dn())})),Lo=[[{nodeName:"text",textContent:"\x3c!--app.js--\x3e"},{nodeName:"h1",attributes:[["id","h1-app"]],children:[{nodeName:"text",textContent:"🏷️ TaggedJs - :tagvar0:"}]},{nodeName:"button",attributes:[["id","toggle-test"],["onclick",":tagvar1:"]],children:[{nodeName:"text",textContent:"toggle test :tagvar2:"}]},{nodeName:"button",attributes:[["onclick",":tagvar3:"]],children:[{nodeName:"text",textContent:"run test"}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","app-counter-subject-button"],["onclick",":tagvar4:"]],children:[{nodeName:"text",textContent:"🍒 ++app subject"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍒 "},{nodeName:"span",attributes:[["id","app-counter-subject-display"]],children:[{nodeName:"text",textContent:":tagvar5:"}]}]}]},{nodeName:"text",textContent:":tagvar6:"},{nodeName:"div",attributes:[["id","tagDebug-fx-wrap"]],children:[{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"fieldset",attributes:[["id","counters"],["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"counters"}]},{nodeName:"text",textContent:":tagvar7:"}]},{nodeName:"fieldset",attributes:[["id","counters"],["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"⌚️ watch testing"}]},{nodeName:"text",textContent:":tagvar8:"}]},{nodeName:"fieldset",attributes:[["id","provider-debug"],["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Provider Debug"}]},{nodeName:"text",textContent:":tagvar9:"}]},{nodeName:"fieldset",attributes:[["id","props-debug"],["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Props Debug"}]},{nodeName:"text",textContent:":tagvar10:"}]},{nodeName:"text",textContent:":tagvar11:"},{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Attribute Tests"}]},{nodeName:"text",textContent:":tagvar12:"}]},{nodeName:"fieldset",attributes:[["id","content-debug"],["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Content Debug"}]},{nodeName:"text",textContent:":tagvar13:"}]},{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Tag Switching"}]},{nodeName:"text",textContent:":tagvar14:"}]},{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"arrays"}]},{nodeName:"text",textContent:":tagvar15:"}]},{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Tag Mirroring"}]},{nodeName:"text",textContent:":tagvar16:"}]},{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Table Tests"}]},{nodeName:"text",textContent:":tagvar17:"}]},{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"oneRender"}]},{nodeName:"text",textContent:":tagvar18:"}]},{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"functions in props"}]},{nodeName:"text",textContent:":tagvar19:"}]},{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"todo"}]},{nodeName:"text",textContent:":tagvar20:"}]}]},{nodeName:"text",textContent:":tagvar21:"}]}]];var Ro;!function(t){t.Todo="todo",t.FunInPropsTag="funInPropsTag",t.OneRender="oneRender",t.WatchTesting="watchTesting",t.Mirroring="mirroring",t.Content="content",t.Arrays="arrays",t.Counters="counters",t.TableDebug="tableDebug",t.Props="props",t.Child="child",t.TagSwitchDebug="tagSwitchDebug",t.ProviderDebug="providerDebug"}(Ro||(Ro={}));const Vo=Object.values(Ro),Fo=function(){const t=localStorage.taggedjs||JSON.stringify({autoTest:!0,views:[]});return JSON.parse(t)}();function Ho(){localStorage.taggedjs=JSON.stringify(Fo)}const Mo=He((()=>{G("isolated app state");let t=K(0)((e=>[t,t=e])),e=K(0)((t=>[e,e=t])),o=K(null)((t=>[o,o=t]));const a=G((()=>new D(e))),r=Be();function i(t=!0){o=setTimeout((async()=>{console.debug("🏃 Running tests...");const e=await async function(t){await Promise.resolve().then(n.bind(n,845)),t.includes(Ro.Content)&&await Promise.resolve().then(n.bind(n,410)),t.includes(Ro.Counters)&&await Promise.resolve().then(n.bind(n,269)),t.includes(Ro.Props)&&await Promise.resolve().then(n.bind(n,348)),t.includes(Ro.ProviderDebug)&&await Promise.resolve().then(n.bind(n,775)),t.includes(Ro.TagSwitchDebug)&&await Promise.resolve().then(n.bind(n,908)),t.includes(Ro.Child)&&await Promise.resolve().then(n.bind(n,322)),t.includes(Ro.Arrays)&&await Promise.resolve().then(n.bind(n,511)),t.includes(Ro.Mirroring)&&await Promise.resolve().then(n.bind(n,644)),t.includes(Ro.WatchTesting)&&await Promise.resolve().then(n.bind(n,356)),t.includes(Ro.FunInPropsTag)&&await Promise.resolve().then(n.bind(n,722)),t.includes(Ro.OneRender)&&await Promise.resolve().then(n.bind(n,720)),t.includes(Ro.Todo)&&await Promise.resolve().then(n.bind(n,199)),await Promise.resolve().then(n.bind(n,662));try{const t=Date.now();await(0,Sn.ht)();const e=Date.now()-t;return console.info(`✅ isolated tests passed in ${e}ms`),!0}catch(t){return console.error("❌ isolated tests failed: "+t.message,t),!1}}(Fo.views);t&&(e?alert("✅ all app tests passed"):alert("❌ tests failed. See console for more details"))}),2e3)}return Oe((()=>{console.info("1️⃣ app init should only run once"),a.subscribe(r((t=>{e=t}))),Fo.autoTest&&i(!1)})),++t,Re.dom(Jo[0],(()=>{a.next(e+1)}),e,"masked",Fo.autoTest?"checked":null,(function(){Fo.autoTest=Fo.autoTest=!Fo.autoTest,Ho()}),(()=>i(!0)),Vo.map((t=>Re.dom(Jo[1],"view-type-"+t,"view-type-"+t,Fo.views.includes(t)&&"checked",(()=>function(t){Fo.views.includes(t)?Fo.views=Fo.views.filter((e=>e!==t)):(Fo.views.push(t),Fo.autoTest&&i()),Ho()}(t)),"view-type-"+t,t).key(t))),Fo.views.includes(Ro.OneRender)&&Re.dom(Jo[2],Un()),Fo.views.includes(Ro.Props)&&Re.dom(Jo[3],jo(void 0)),Fo.views.includes(Ro.WatchTesting)&&Re.dom(Jo[4],Yn()),Fo.views.includes(Ro.TableDebug)&&Re.dom(Jo[5],ze()),Fo.views.includes(Ro.ProviderDebug)&&Re.dom(Jo[6],Vn(void 0)),Fo.views.includes(Ro.TagSwitchDebug)&&Re.dom(Jo[7],mn(void 0)),Fo.views.includes(Ro.Mirroring)&&Re.dom(Jo[8],vn()),Fo.views.includes(Ro.Arrays)&&Re.dom(Jo[9],Eo()),Fo.views.includes(Ro.Counters)&&Re.dom(Jo[10],En({appCounterSubject:a})),Fo.views.includes(Ro.Content)&&Re.dom(Jo[11],qe()),Fo.views.includes(Ro.Child)&&Re.dom(Jo[12],jn(void 0)),Fo.views.includes(Ro.FunInPropsTag)&&Re.dom(Jo[13],ao()),Fo.views.includes(Ro.Todo)&&Re.dom(Jo[14],ko()),!1,cn({renderCount:t,name:"isolatedApp"}))})),Jo=[[{nodeName:"text",textContent:"\x3c!--isolatedApp.js--\x3e"},{nodeName:"h1",attributes:[["id","app"]],children:[{nodeName:"text",textContent:"🏷️ TaggedJs - isolated"}]},{nodeName:"div",attributes:[],children:[{nodeName:"button",attributes:[["id","app-counter-subject-button"],["onclick",":tagvar0:"]],children:[{nodeName:"text",textContent:"🍒 ++app subject"}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍒 "},{nodeName:"span",attributes:[["id","app-counter-display"]],children:[{nodeName:"text",textContent:":tagvar1:"}]}]},{nodeName:"span",attributes:[],children:[{nodeName:"text",textContent:"🍒 "},{nodeName:"span",attributes:[["id","app-counter-subject-display"]],children:[{nodeName:"text",textContent:":tagvar2:"}]}]},{nodeName:"text",textContent:"auto testing "},{nodeName:"input",attributes:[["type","checkbox"],[":tagvar3:"],["onchange",":tagvar4:"]]},{nodeName:"button",attributes:[["type","button"],["onclick",":tagvar5:"]],children:[{nodeName:"text",textContent:"run tests"}]}]},{nodeName:"div",attributes:[],children:[{nodeName:"h3",attributes:[],children:[{nodeName:"text",textContent:"Sections"}]},{nodeName:"text",textContent:"\x3c!-- checkbox menu --\x3e"},{nodeName:"div",attributes:[["style","display:flex;gap:1em;flex-wrap:wrap;margin:1em;"]],children:[{nodeName:"text",textContent:":tagvar6:"}]}]},{nodeName:"div",attributes:[["id","tagDebug-fx-wrap"]],children:[{nodeName:"div",attributes:[["style","display:flex;flex-wrap:wrap;gap:1em"]],children:[{nodeName:"text",textContent:":tagvar7:\n\n        :tagvar8:\n\n        :tagvar9:\n\n        :tagvar10:\n\n        :tagvar11:\n\n        :tagvar12:\n\n        :tagvar13:\n\n        :tagvar14:\n\n        :tagvar15:\n\n        :tagvar16:\n\n        :tagvar17:\n\n        :tagvar18:\n\n        :tagvar19:\n\n        :tagvar20:"}]},{nodeName:"text",textContent:":tagvar21:"}]}],[{nodeName:"div",attributes:[],children:[{nodeName:"input",attributes:[["type","checkbox"],["id",":tagvar0:"],["name",":tagvar1:"],[":tagvar2:"],["onclick",":tagvar3:"]]},{nodeName:"label",attributes:[["for",":tagvar4:"]],children:[{nodeName:"text",textContent:"&nbsp;:tagvar5:"}]}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"oneRender"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"propsDebugMain"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"watchTesting"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"tableDebug"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"providerDebugBase"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"tagSwitchDebug"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"mirroring"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"arrays"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"counters"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"content"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"Children Tests"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"funInPropsTag"}]},{nodeName:"text",textContent:":tagvar0:"}]}],[{nodeName:"fieldset",attributes:[["style","flex:2 2 20em"]],children:[{nodeName:"legend",attributes:[],children:[{nodeName:"text",textContent:"todo"}]},{nodeName:"text",textContent:":tagvar0:"}]}]],Wo=()=>{console.info("attaching app to element...");const t=document.getElementsByTagName("app")[0],e=window.location.pathname.split("/").filter((t=>t)),n=e[0]?.toLowerCase();if(n&&["isolated.html","index-static.html"].includes(n)){const e=Date.now();Je(Mo,t,{test:1});const n=Date.now()-e;return void console.info(`⏱️ isolated render in ${n}ms`)}const o=Date.now();Je(Io,t,{test:1});const a=Date.now()-o;console.info(`⏱️ rendered in ${a}ms`)}})();var a=o.gV,r=o.jG,i=o.l2,s=o.fm;export{a as App,r as IsolatedApp,i as app,s as hmr};
//# sourceMappingURL=bundle.js.map