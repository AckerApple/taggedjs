{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://taggedjs/./ts/ElementTargetEvent.interface.ts","webpack://taggedjs/./ts/Subject.ts","webpack://taggedjs/./ts/Tag.class.ts","webpack://taggedjs/./ts/Tag.utils.ts","webpack://taggedjs/./ts/TagSupport.class.ts","webpack://taggedjs/./ts/ValueSubject.ts","webpack://taggedjs/./ts/bindSubjectCallback.function.ts","webpack://taggedjs/./ts/checkDestroyPrevious.function.ts","webpack://taggedjs/./ts/deepFunctions.ts","webpack://taggedjs/./ts/elementDestroyCheck.function.ts","webpack://taggedjs/./ts/elementInitCheck.ts","webpack://taggedjs/./ts/errors.ts","webpack://taggedjs/./ts/getCallback.ts","webpack://taggedjs/./ts/hasTagSupportChanged.function.ts","webpack://taggedjs/./ts/html.ts","webpack://taggedjs/./ts/inputAttribute.ts","webpack://taggedjs/./ts/interpolateAttributes.ts","webpack://taggedjs/./ts/interpolateContentTemplates.ts","webpack://taggedjs/./ts/interpolateElement.ts","webpack://taggedjs/./ts/interpolateTemplate.ts","webpack://taggedjs/./ts/interpolations.ts","webpack://taggedjs/./ts/isInstance.ts","webpack://taggedjs/./ts/isLikeTags.function.ts","webpack://taggedjs/./ts/onDestroy.ts","webpack://taggedjs/./ts/onInit.ts","webpack://taggedjs/./ts/processAttribute.function.ts","webpack://taggedjs/./ts/processNewValue.function.ts","webpack://taggedjs/./ts/processRegularValue.function.ts","webpack://taggedjs/./ts/processSubjectComponent.function.ts","webpack://taggedjs/./ts/processSubjectValue.function.ts","webpack://taggedjs/./ts/processTagArray.ts","webpack://taggedjs/./ts/processTagResult.function.ts","webpack://taggedjs/./ts/provider.utils.ts","webpack://taggedjs/./ts/providers.ts","webpack://taggedjs/./ts/redrawTag.function.ts","webpack://taggedjs/./ts/render.ts","webpack://taggedjs/./ts/renderExistingTag.function.ts","webpack://taggedjs/./ts/scanTextAreaValue.function.ts","webpack://taggedjs/./ts/set.function.ts","webpack://taggedjs/./ts/setLet.function.ts","webpack://taggedjs/./ts/setProp.function.ts","webpack://taggedjs/./ts/setUse.function.ts","webpack://taggedjs/./ts/tag.ts","webpack://taggedjs/./ts/tagElement.ts","webpack://taggedjs/./ts/tagRunner.ts","webpack://taggedjs/./ts/templater.utils.ts","webpack://taggedjs/./ts/updateExistingTag.function.ts","webpack://taggedjs/./ts/updateExistingTagComponent.function.ts","webpack://taggedjs/./ts/updateExistingValue.function.ts","webpack://taggedjs/./ts/watch.function.ts","webpack://taggedjs/webpack/bootstrap","webpack://taggedjs/webpack/runtime/define property getters","webpack://taggedjs/webpack/runtime/hasOwnProperty shorthand","webpack://taggedjs/webpack/runtime/make namespace object","webpack://taggedjs/./ts/index.ts"],"sourcesContent":["export interface ElementTargetEvent extends Event {\n  target: HTMLElement\n}\n\nexport interface InputElementTargetEvent extends Event {\n  target: HTMLInputElement\n}\n","export type Subscription = (() => void) & {\n  unsubscribe: () => any\n}\n\ntype Subscriber = (value?: any) => any\n\nexport interface SubjectLike {\n  subscribe?: (callback: (value?: any) => any) => any,\n  isSubject?: boolean\n}\n\nexport class Subject<T> implements SubjectLike {\n  isSubject = true\n  subscribers: Subscriber[] = []\n  // unsubcount = 0 // 🔬 testing\n\n  constructor(public value?: T) {}\n\n  subscribe(callback: Subscriber) {\n    this.subscribers.push(callback)\n    SubjectClass.globalSubs.push(callback) // 🔬 testing\n    const countSubject = SubjectClass.globalSubCount$ as {value: number}\n    SubjectClass.globalSubCount$.set( countSubject.value + 1 )\n\n    const unsubscribe: Subscription = () => {\n      unsubscribe.unsubscribe()\n    }\n\n    // Return a function to unsubscribe from the BehaviorSubject\n    unsubscribe.unsubscribe = () => {\n      removeSubFromArray(this.subscribers, callback)\n      removeSubFromArray(SubjectClass.globalSubs, callback) // 🔬 testing\n      SubjectClass.globalSubCount$.set( countSubject.value - 1 )\n      \n      // any double unsubscribes will be ignored\n      unsubscribe.unsubscribe = () => undefined\n    }\n\n    return unsubscribe\n  }\n\n  set(value: any) {\n    this.value = value\n    \n    // Notify all subscribers with the new value\n    this.subscribers.forEach((callback: any) => {\n      callback.value = value\n      callback(value)\n    })\n  }\n  next = this.set\n}\n\nfunction removeSubFromArray(\n  subscribers: Subscriber[],\n  callback: Subscriber,\n) {\n  const index = subscribers.indexOf(callback)\n  if (index !== -1) {\n    subscribers.splice(index, 1)\n  }\n}\n\nconst SubjectClass = Subject as typeof Subject & {\n  globalSubCount$: Subject<number>\n  globalSubs: Subscriber[]\n}\nSubjectClass.globalSubs = [] // 🔬 for testing\nSubjectClass.globalSubCount$ = new Subject() // for ease of debugging\nSubjectClass.globalSubCount$.set(0)","import { TagSupport } from './TagSupport.class'\nimport { Provider } from './providers'\nimport { Subscription } from './Subject'\nimport { runBeforeDestroy } from './tagRunner'\nimport { buildClones } from './render'\nimport { interpolateElement, interpolateString } from './interpolateElement'\nimport { Counts, Template, afterElmBuild, subscribeToTemplate } from './interpolateTemplate'\nimport { State } from './set.function'\nimport { elementDestroyCheck } from './elementDestroyCheck.function'\nimport { updateExistingValue } from './updateExistingValue.function'\nimport { InterpolatedTemplates } from './interpolations'\nimport { processNewValue } from './processNewValue.function'\nimport { InterpolateSubject } from './processSubjectValue.function'\nimport { Clones } from './Clones.type'\nimport { checkDestroyPrevious } from './checkDestroyPrevious.function'\n\nexport const variablePrefix = '__tagvar'\nexport const escapeVariable = '--' + variablePrefix + '--'\n\nconst prefixSearch = new RegExp(variablePrefix, 'g')\nexport const escapeSearch = new RegExp(escapeVariable, 'g')\n\nexport type Context = {\n  [index: string]: InterpolateSubject // ValueSubject<unknown>\n}\nexport type TagMemory = Record<string, any> & {\n  context: Context\n  state: State\n  providers: Provider[]\n}\n\nexport interface TagTemplate {\n  interpolation: InterpolatedTemplates,\n  string: string,\n  strings: string[],\n  values: unknown[],\n  context: Context,\n}\n\nexport class ArrayValueNeverSet {\n  isArrayValueNeverSet = true\n}\n\nexport class Tag {\n  isTag = true\n\n  clones: (Element | Text | ChildNode)[] = [] // elements on document. Needed at destroy process to know what to destroy\n  cloneSubs: Subscription[] = [] // subscriptions created by clones\n  children: Tag[] = [] // tags on me\n\n  tagSupport!: TagSupport\n  \n  // only present when a child of a tag\n  ownerTag?: Tag\n  // insertBefore?: Element\n  appElement?: Element // only seen on this.getAppElement().appElement\n  \n  // present only when an array. Populated by this.key()\n  arrayValue: unknown | ArrayValueNeverSet = new ArrayValueNeverSet()\n\n  constructor(\n    public strings: string[],\n    public values: any[],\n  ) {}\n\n  /** Used for array, such as array.map(), calls aka array.map(x => html``.key(x)) */\n  key(arrayValue: unknown) {\n    this.arrayValue = arrayValue\n    return this\n  }\n\n  async destroy(\n    options: DestroyOptions = {\n      stagger: 0,\n      byParent: false, // Only destroy clones of direct children\n    }\n  ) {\n    // the isComponent check maybe able to be removed\n    const isComponent = this.tagSupport ? true : false    \n    if(isComponent) {\n      runBeforeDestroy(this.tagSupport, this)    \n    }\n\n    this.destroySubscriptions()\n    const promises = this.children.map((kid) => kid.destroy({...options, byParent: true}))\n    this.children.length = 0\n\n    if(this.ownerTag) {\n      this.ownerTag.children = this.ownerTag.children.filter(child => child !== this)\n    }\n\n    if( !options.byParent ) {\n      options.stagger = await this.destroyClones(options)\n    }\n\n    await Promise.all(promises)\n\n    return options.stagger\n  }\n\n  destroySubscriptions() {\n    this.cloneSubs.forEach(cloneSub => cloneSub.unsubscribe())\n    this.cloneSubs.length = 0\n  }\n\n  async destroyClones(\n    {stagger}: DestroyOptions = {\n      stagger: 0,\n    }\n  ) {\n    let hasPromise = false\n    const promises = this.clones.reverse().map((clone: any, index: number) => {\n      let promise: Promise<unknown> | undefined\n      \n      if( clone.ondestroy ) {\n        promise = elementDestroyCheck(clone, stagger)\n      }\n\n      const next = () => {\n        clone.parentNode?.removeChild(clone)\n\n        const ownerTag = this.ownerTag\n        if(ownerTag) {\n          // Sometimes my clones were first registered to my owner, remove them\n          ownerTag.clones = ownerTag.clones.filter(compareClone => compareClone !== clone)\n        }\n      }\n\n      if(promise instanceof Promise) {\n        hasPromise = true\n        promise.then(next)\n      } else {\n        next()\n      }\n\n\n      return promise\n    })\n\n    this.clones.length = 0 // tag maybe used for something else\n    \n    if(hasPromise) {\n      await Promise.all(promises)\n    }\n\n    return stagger\n  }\n\n  updateByTag(tag: Tag) {\n    this.updateConfig(tag.strings, tag.values)    \n    this.tagSupport.templater = tag.tagSupport.templater\n    this.tagSupport.propsConfig = {...tag.tagSupport.propsConfig}\n    this.tagSupport.newest = tag\n    this.tagSupport.templater.newest = tag\n  }\n\n  lastTemplateString: string | undefined = undefined // used to compare templates for updates\n  \n  updateConfig(strings: string[], values: any[]) {\n    this.strings = strings\n    this.updateValues(values)\n  }\n\n  getTemplate(): TagTemplate {\n    const string = this.strings.map((string, index) => {\n      const safeString = string.replace(prefixSearch, escapeVariable)\n      const endString = safeString + (this.values.length > index ? `{${variablePrefix}${index}}` : '')\n      // const trimString = index === 0 || index === this.strings.length-1 ? endString.trim() : endString\n      const trimString = endString.replace(/>\\s*/g,'>').replace(/\\s*</g,'<')\n      return trimString\n    }).join('')\n\n    const interpolation = interpolateString(string)\n    this.lastTemplateString = interpolation.string\n    return {\n      interpolation,\n      // string,\n      string: interpolation.string,\n      strings: this.strings,\n      values: this.values,\n      context: this.tagSupport?.memory.context || {},\n    }\n  }\n\n  isLikeTag(tag: Tag) {\n    const {string} = tag.getTemplate()\n\n    // TODO: most likely remove?\n    if(!this.lastTemplateString) {\n      throw new Error('no template here')\n    }\n\n    const stringMatched = string === this.lastTemplateString\n    if(!stringMatched || tag.values.length !== this.values.length) {\n      return false\n    }\n\n    const allVarsMatch = tag.values.every((value, index)=> {\n      const compareTo = this.values[index]\n      const isFunctions = value instanceof Function && compareTo instanceof Function\n      \n      if(isFunctions) {\n        const stringMatch = value.toString() === compareTo.toString()\n        if(stringMatch) {\n          return true\n        }\n\n        return false\n      }\n\n      return true\n    })\n\n    if(allVarsMatch) {\n      return true\n    }\n\n    return false\n  }\n\n  update() {\n    return this.updateContext( this.tagSupport.memory.context )\n  }\n\n  updateValues(values: any[]) {\n    this.values = values\n    return this.updateContext( this.tagSupport.memory.context )\n  }\n\n  updateContext(context: Context) {\n    const seenContext: string[] = []\n\n    this.strings.map((_string, index) => {\n      const variableName = variablePrefix + index\n      const hasValue = this.values.length > index\n      const value = this.values[index]\n\n      // is something already there?\n      const existing = variableName in context\n      seenContext.push(variableName)\n\n      if(existing) {\n        const existing = context[variableName]\n        return updateExistingValue(existing, value, this)\n      }\n\n      // 🆕 First time values below\n      processNewValue(\n        hasValue,\n        value,\n        context,\n        variableName,\n        this,\n      )      \n    })\n\n    // Support reduction in context\n    Object.entries(context).forEach(([key, subject]) => {\n      if(seenContext.includes(key)) {\n        return\n      }\n\n      const destroyed = checkDestroyPrevious(subject, undefined as any)\n    })\n\n    return context\n  }\n\n  getAppElement() {\n    let tag: Tag = this\n    \n    while(tag.ownerTag) {\n      tag = tag.ownerTag\n    }\n\n    return tag\n  }\n\n  /** Used during HMR only where static content itself could have been edited */\n  rebuild() {\n    // const insertBefore = this.insertBefore\n    const insertBefore = this.tagSupport.templater.insertBefore\n\n    if(!insertBefore) {\n      const err = new Error('Cannot rebuild. Previous insertBefore element is not defined on tag')\n      ;(err as any).tag = this\n      throw err\n    }\n\n    this.buildBeforeElement(insertBefore, {\n      forceElement: true,\n      counts: {added: 0, removed: 0},\n    })\n  }\n\n  buildBeforeElement(\n    insertBefore: Element | Text,\n    options: ElementBuildOptions = {\n      forceElement: false,\n      counts: {added:0, removed: 0},\n    },\n  ): Clones {\n    // this.insertBefore = insertBefore\n    this.tagSupport.templater.insertBefore = insertBefore\n    \n    const context = this.update()\n    const template = this.getTemplate()\n    \n    const elementContainer = document.createElement('div')\n    elementContainer.id = 'tag-temp-holder'\n    // render content with a first child that we can know is our first element\n    elementContainer.innerHTML = `<template id=\"temp-template-tag-wrap\">${template.string}</template>`\n\n    const {clones, tagComponents} = interpolateElement(\n      elementContainer,\n      context,\n      template,\n      this, // ownerTag,\n      {\n        forceElement: options.forceElement,\n        counts: options.counts\n      }\n    )\n\n    this.clones.length = 0\n    afterInterpolateElement(\n      elementContainer,\n      insertBefore,\n      this,\n      clones,\n      options,\n      context,\n    )\n    this.clones.forEach(clone => afterElmBuild(clone, options, context, this))\n\n    // Any tag components that were found should be processed AFTER the owner processes its elements\n    let isForceElement = options.forceElement\n    tagComponents.forEach(tagComponent => {    \n      subscribeToTemplate(\n        tagComponent.insertBefore, // temporary,\n        tagComponent.subject,\n        tagComponent.ownerTag,\n        clones,\n        options.counts,\n        {isForceElement}\n      )\n\n      afterInterpolateElement(\n        elementContainer,\n        insertBefore,\n        this,\n        clones,\n        options,\n        context,\n      )\n    })\n  \n    // return this.clones\n    return clones\n  }\n}\n\nfunction afterInterpolateElement(\n  container: Element,\n  insertBefore: Element | Text | Template,\n  tag: Tag,\n  intClones: Clones,\n  options: ElementBuildOptions,\n  context: Context\n) {\n  const clones = buildClones(container, insertBefore)\n  tag.clones.push( ...clones )\n\n  // remove component clones from ownerTag\n  if( intClones.length ) {\n   tag.clones = tag.clones.filter(cloneFilter => !intClones.find(clone => clone === cloneFilter))\n  }\n}\n\ntype DestroyOptions = {\n  stagger: number\n  byParent?: boolean // who's destroying me? if byParent, ignore possible animations\n}\n\nexport type ElementBuildOptions = {\n  counts: Counts\n  forceElement?: boolean\n}\n","import { TagSupport } from \"./TagSupport.class\"\nimport { ValueSubject } from \"./ValueSubject\"\nimport { Subject } from \"./Subject\"\nimport { Tag } from \"./Tag.class\"\nimport { TemplaterResult } from \"./templater.utils\"\nimport { bindSubjectCallback } from \"./bindSubjectCallback.function\"\nimport { Template } from \"./interpolateTemplate\"\n\nexport type TagSubject = Subject<TemplaterResult> & {\n  tagSupport: TagSupport\n  tag: Tag\n  template: Element | Text | Template\n}\n\ntype RegularValue = string | number | boolean\nexport type DisplaySubject = Subject<RegularValue> & {\n  lastValue?: RegularValue\n  clone?: Element | Text | Template\n  template: Element | Text | Template\n}\n\nexport function getSubjectFunction(\n  value: any,\n  tag: Tag,\n) {\n  return new ValueSubject( bindSubjectCallback(value, tag) )\n}\n\nexport function setValueRedraw(\n  templater: TemplaterResult, // latest tag function to call for rendering\n  existing: TagSubject,\n  ownerTag: Tag,\n) {\n  // redraw does not communicate to parent\n  templater.redraw = () => {\n    const existingTag = existing.tag    \n    const tagSupport = existingTag?.tagSupport || templater.tagSupport\n\n    const {retag} = templater.renderWithSupport(\n      tagSupport,\n      existingTag,\n      ownerTag,\n    )\n\n    existing.set(templater)\n\n    return retag\n  }\n}\n","import { Props } from './Props'\nimport { Tag, TagMemory } from './Tag.class'\nimport { deepClone } from './deepFunctions'\nimport { isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { StateConfigArray, getStateValue } from './set.function'\nimport { TagChildren } from './tag'\nimport { TemplaterResult, alterProps } from './templater.utils'\n\nexport class TagSupport {\n  propsConfig: {\n    latest: Props // new props NOT cloned props\n    // props from **constructor** are converted for comparing over renders\n    latestCloned: Props // This seems to be a duplicate of clonedProps\n    lastClonedKidValues: unknown[][]\n    clonedProps: Props // duplicate of latestClonedProps\n  }\n\n  memory: TagMemory = {\n    context: {}, // populated after reading interpolated.values array converted to an object {variable0, variable:1}\n    state: {\n      newest: [] as StateConfigArray,\n    },\n    providers: [],\n    /** Indicator of re-rending. Saves from double rending something already rendered */\n    renderCount: 0,\n  }\n\n  updateState() {\n    this.memory.state.newest.forEach(newest => {\n      newest.lastValue = getStateValue(newest)\n    })\n  }\n\n  constructor(\n    public templater: TemplaterResult,\n    public children: TagChildren, // children tags passed in as arguments\n    props?: Props,  // natural props\n  ) {\n    const latestCloned = alterProps(props, templater)\n    this.propsConfig = {\n      latest: props,\n      latestCloned, // assume its HTML children and then detect\n      clonedProps: latestCloned, // maybe duplicate\n      lastClonedKidValues: children.value.map(kid => {\n        const cloneValues = cloneValueArray(kid.values)\n        return cloneValues\n      })  \n    }\n\n    // if the latest props are not HTML children, then clone the props for later render cycles to compare\n    if(!isTagInstance(props)) {\n      this.propsConfig.latestCloned = deepClone( latestCloned )\n      this.propsConfig.clonedProps = this.propsConfig.latestCloned\n    }\n  }\n\n  // TODO: these below may not be in use\n  oldest?: Tag\n  newest?: Tag\n\n  mutatingRender(): Tag {\n    const message = 'Tag function \"render()\" was called in sync but can only be called async'\n    console.error(message, {tagSupport: this})\n    throw new Error(message)\n  } // loaded later and only callable async\n\n  render () {\n    ++this.memory.renderCount\n    return this.mutatingRender()\n  } // ensure this function still works even during deconstructing\n}\n\nfunction cloneValueArray<T>(values: (T | Tag | Tag[])[]): T[] {\n  return values.map((value) => {\n    const tag = value as Tag\n\n    if(isTagInstance(tag)) {\n      return cloneValueArray(tag.values)\n    }\n\n    if(isTagComponent(tag)) {\n      const tagComponent = tag as unknown as TemplaterResult\n      return deepClone(tagComponent.tagSupport.propsConfig.latestCloned)\n    }\n\n    if(isTagArray(tag)) {\n      return cloneValueArray(tag as unknown as Tag[])\n    }\n\n    return deepClone(value)\n  })\n}","import { Subject } from './Subject'\n\nexport class ValueSubject<T> extends Subject<T> {\n  constructor(public value: T) {\n    super(value)\n  }\n\n  subscribe(callback: any) {\n    const unsubscribe = super.subscribe(callback)\n    \n    // Call the callback immediately with the current value\n    callback(this.value)\n\n    return unsubscribe\n  }\n}\n","/** File largely responsible for reacting to element events, such as onclick */\n\nimport { Tag } from \"./Tag.class\"\n\nexport type Callback = (...args: any[]) => any & {\n  isChildOverride?: true // if this is set, then a parent tag passed children to a tag/component\n}\n\nexport function bindSubjectCallback(\n  value: Callback,\n  tag: Tag,\n) {\n  // Is this children? No override needed\n  if((value as any).isChildOverride) {\n    return value\n  }\n\n  const subjectFunction = (\n    element: Element, args: any[]\n  ) => runTagCallback(value, tag, element, args)\n\n  // link back to original. Mostly used for <div oninit ondestroy> animations\n  subjectFunction.tagFunction = value\n\n  return subjectFunction\n}\n\nexport function runTagCallback(\n  value: Callback,\n  tag: Tag,\n  bindTo: unknown,\n  args: any[]\n) {\n  const tagSupport = tag.tagSupport\n  const renderCount = tagSupport ? tagSupport.memory.renderCount : 0\n  \n  const method = value.bind(bindTo)\n  const callbackResult = method(...args)\n\n  const sameRenderCount = renderCount === tagSupport.memory.renderCount\n  \n  if(tagSupport && !sameRenderCount) {    \n    return // already rendered\n  }\n\n  tagSupport.render()\n\n  if(callbackResult instanceof Promise) {\n    return callbackResult.then(() => {\n      tagSupport.render()\n      return 'promise-no-data-ever'\n    })\n  }\n\n  // Caller always expects a Promise\n  return 'no-data-ever'\n}\n","import { DisplaySubject, TagSubject } from './Tag.utils'\nimport { isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { Tag } from './Tag.class'\nimport { InterpolateSubject, destroySimpleValue } from './processSubjectValue.function'\nimport { TagArraySubject } from './processTagArray'\nimport { isLikeTags } from './isLikeTags.function'\nimport { Counts } from './interpolateTemplate'\n\nexport function checkDestroyPrevious(\n  existing: InterpolateSubject, // existing.value is the old value\n  newValue: unknown,\n) {\n  const existingSubArray = existing as TagArraySubject\n  const wasArray = existingSubArray.lastArray\n  \n  // no longer an array\n  if (wasArray && !isTagArray(newValue)) {\n    wasArray.forEach(({tag}) => destroyArrayTag(tag, {added:0, removed:0}))\n    delete (existing as any).lastArray  \n    return 1\n  }\n\n  const tagSubject = existing as TagSubject\n  const existingTag = tagSubject.tag\n  \n  // no longer tag or component?\n  if(existingTag) {\n    const isValueTag = isTagInstance(newValue)\n    const isSubjectTag = isTagInstance(existing.value)\n\n    if(isSubjectTag && isValueTag) {\n      const newTag = newValue as Tag\n      if(!isLikeTags(newTag, existingTag)) {\n        destroyTagMemory(existingTag, tagSubject)\n        return 2\n      }\n\n      return false\n    }\n\n    const isValueTagComponent = isTagComponent(newValue)\n    if(isValueTagComponent) {\n      return false // its still a tag component\n    }\n\n    destroyTagMemory(existingTag, tagSubject)\n    return 3\n  }\n\n  const displaySubject = existing as DisplaySubject\n  const hasLastValue = 'lastValue' in displaySubject\n  const lastValue = displaySubject.lastValue // TODO: we maybe able to use displaySubject.value and remove concept of lastValue\n  // was simple value but now something bigger\n  if(hasLastValue && lastValue !== newValue) {\n    console.log('destroying regular value', {\n      template: displaySubject.template,\n      clone: displaySubject.clone,\n      innerHTML: displaySubject.clone?.textContent\n    })\n    destroySimpleValue(displaySubject.template, displaySubject)\n    return 4\n  }\n\n  return false\n}\n\nexport function destroyTagMemory(\n  existingTag: Tag,\n  existingSubject: TagSubject,\n) {\n  delete (existingSubject as any).tag\n  delete (existingSubject as any).tagSupport\n  existingTag.destroy()\n}\n\nexport function destroyArrayTag(\n  tag: Tag,\n  counts: Counts,\n) {\n  tag.children.forEach(child => child.destroy({\n    stagger: counts.removed++,\n    // byParent: false\n    // byParent: true,\n  }))\n  \n  tag.destroy({\n    stagger: counts.removed,\n    // byParent: false\n    // byParent: true,\n  })\n}\n","export function deepClone(\n  obj: any,\n) {\n  return makeDeepClone(obj, new WeakMap())\n}\n\nfunction makeDeepClone(\n  obj: any,\n  visited: WeakMap<any, any>\n) {\n  // If obj is a primitive type or null, return it directly\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n\n  // If obj is already visited, return the cloned reference\n  if (visited.has(obj)) {\n    return visited.get(obj)\n  }\n\n  // Handle special cases like Date and RegExp\n  if (obj instanceof Date) {\n    return new Date(obj);\n  }\n\n  if (obj instanceof RegExp) {\n    return new RegExp(obj);\n  }\n\n  // Create an empty object or array with the same prototype\n  const clone = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n\n  // Register the cloned object to avoid cyclic references\n  visited.set(obj, clone)\n\n  // Clone each property or element of the object or array\n  if (Array.isArray(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      clone[i] = makeDeepClone(obj[i], visited)\n    }\n  } else {\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        clone[key] = makeDeepClone(obj[key], visited)\n      }\n    }\n  }\n\n  return clone;\n}\n\nexport function deepEqual(\n  obj1: any,\n  obj2: any,\n) {\n  return isDeepEqual(obj1, obj2, new WeakMap())\n}\n\nfunction isDeepEqual(\n  obj1: any,\n  obj2: any,\n  visited: WeakMap<any, any>,\n) {\n  if (obj1 === obj2 || isSameFunctions(obj1,obj2)) {\n    return true\n  }\n\n  if (\n    typeof obj1 !== 'object' ||\n    typeof obj2 !== 'object' ||\n    obj1 === null ||\n    obj2 === null\n  ) {\n    return false\n  }\n\n  const keys1 = Object.keys(obj1)\n  const keys2 = Object.keys(obj2)\n\n  if (keys1.length !== keys2.length) {\n    return false\n  }\n\n  // If obj is already visited, return the cloned reference\n  if (visited.has(obj1)) {\n    return true\n  }\n\n  // Register the cloned object to avoid cyclic references\n  visited.set(obj1, 0)\n\n  for (const key of keys1) {\n    const keyFound = keys2.includes(key)\n    if (!keyFound || !isDeepEqual(obj1[key], obj2[key], visited)) {\n      /*\n      if(isSameFunctions(obj1[key], obj2[key])) {\n        continue\n      }\n      */\n      return false\n    }\n  }\n\n  // Check if obj1 and obj2 are both arrays\n  if (Array.isArray(obj1) && Array.isArray(obj2)) {\n    if (obj1.length !== obj2.length) {\n      return false\n    }\n\n    for (let i = 0; i < obj1.length; i++) {\n      if (!isDeepEqual(obj1[i], obj2[i], visited)) {\n        return false\n      }\n    }\n  } else if (Array.isArray(obj1) || Array.isArray(obj2)) {\n    // One is an array, and the other is not\n    return false\n  }\n\n  return true\n}\n\nfunction isSameFunctions(\n  fn0: Function,\n  fn1: Function\n): Boolean {\n  const bothFunction = fn0 instanceof Function && fn1 instanceof Function\n  return bothFunction && fn0.toString() === fn1.toString()\n}","export function elementDestroyCheck<T>(\n  nextSibling: Element & {ondestroy?: (event: Event) => T},\n  stagger: number,\n): T | undefined {\n  const onDestroyDoubleWrap = nextSibling.ondestroy\n  if(!onDestroyDoubleWrap) {\n    return\n  }\n\n  const onDestroyWrap = (onDestroyDoubleWrap as any).tagFunction\n  if(!onDestroyWrap) {\n    return\n  }\n\n  const onDestroy = onDestroyWrap.tagFunction\n  if(!onDestroy) {\n    return\n  }\n\n  const event = {target: nextSibling, stagger} as unknown as Event\n  return onDestroy(event)\n}\n","import { InputElementTargetEvent } from \"./ElementTargetEvent.interface\"\nimport { Counts } from \"./interpolateTemplate\"\n\nexport function elementInitCheck(\n  nextSibling: Element | ChildNode,\n  counts: Counts\n) {\n  const onInitDoubleWrap = (nextSibling as any).oninit\n  if (!onInitDoubleWrap) {\n    return counts.added\n  }\n\n  const onInitWrap = onInitDoubleWrap.tagFunction\n  if (!onInitWrap) {\n    return counts.added\n  }\n  \n  const onInit = onInitWrap.tagFunction\n  if (!onInit) {\n    return counts.added\n  }\n  \n  const event = { target: nextSibling, stagger: counts.added } as unknown as InputElementTargetEvent\n  onInit(event)\n  \n  return ++counts.added\n}\n","export type TagErrorDetails = Record<string, unknown>\nexport type TagErrorFullDetails = Record<string, unknown> & {errorCode: string}\n\nexport class TagError extends Error {\n  details: TagErrorFullDetails\n\n  constructor(\n    message: string,\n    errorCode: string,\n    details: Record<string, unknown> = {},\n  ) {\n    super(message);\n    this.name = TagError.name;\n    this.details = {...details, errorCode}\n  }\n}\n\nexport class ArrayNoKeyError extends TagError {\n  constructor(message: string, details?: TagErrorDetails) {\n    super(message, 'array-no-key-error', details);\n    this.name = ArrayNoKeyError.name;\n  }\n}\n\nexport class StateMismatchError extends TagError {\n  constructor(message: string, details?: TagErrorDetails) {\n    super(message, 'state-mismatch-error', details);\n    this.name = StateMismatchError.name;\n  }\n}\n","import { TagSupport } from \"./TagSupport.class\"\nimport { setUse } from \"./setUse.function\"\nimport { State, StateConfigArray, getStateValue } from \"./set.function\"\n\ntype Callback = <T>(...args: unknown[]) => (T | void)\n\nexport let getCallback = () => (callback: Callback) => (): void => {\n  throw new Error('The real callback function was called and that should never occur')\n}\n\nsetUse({\n  beforeRender: (tagSupport: TagSupport) => initMemory(tagSupport),\n  beforeRedraw: (tagSupport: TagSupport) => initMemory(tagSupport),\n  // afterRender: (tagSupport: TagSupport) => {},\n})\n\nfunction updateState(\n  stateFrom: StateConfigArray,\n  stateTo: StateConfigArray,\n) {\n  stateFrom.forEach((state, index) => {\n    const fromValue = getStateValue(state)\n    const callback = stateTo[index].callback\n    \n    if(callback) {\n      callback( fromValue ) // set the value\n    }\n    \n    stateTo[index].lastValue = fromValue // record the value\n  })\n}\n\ntype Trigger = () => void\ntype CallbackMaker = (callback: Callback) => Trigger\n\nfunction initMemory (tagSupport: TagSupport) {\n  getCallback = () => {\n    const oldState: StateConfigArray = setUse.memory.stateConfig.array\n\n    const callbackMaker: CallbackMaker = (\n      callback: Callback\n    ) => {\n      const trigger = (...args: any[]) => triggerStateUpdate(tagSupport, callback, oldState, ...args)\n      return trigger\n    }\n\n    return callbackMaker\n  }\n}\n\nfunction triggerStateUpdate(\n  tagSupport: TagSupport,\n  callback: Callback,\n  oldState: StateConfigArray,\n  ...args: any[]\n) {\n  const state = tagSupport.memory.state as State\n  const newest = state.newest\n\n  // ensure that the oldest has the latest values first\n  updateState(newest, oldState)\n  \n  // run the callback\n  const promise = callback(...args)\n\n  // send the oldest state changes into the newest\n  updateState(oldState, newest)\n  \n  tagSupport.render()        \n  \n  // TODO: turn back on below\n  if(promise instanceof Promise) {\n    promise.finally(() => {\n      // send the oldest state changes into the newest\n      updateState(oldState, newest)\n\n      tagSupport.render()    \n    })\n  }\n}","import { Props } from \"./Props\"\nimport { TagSupport } from \"./TagSupport.class\"\nimport { deepEqual } from \"./deepFunctions\"\n\nexport function hasTagSupportChanged(\n  oldTagSupport: TagSupport,\n  newTagSupport: TagSupport,\n) {\n  if(oldTagSupport === newTagSupport) {\n    throw new Error('something here')\n  }\n\n  const oldProps = oldTagSupport.propsConfig.latest\n  const latestProps = newTagSupport.propsConfig.latest\n  const oldClonedProps = oldTagSupport.propsConfig.latestCloned\n  const propsChanged = hasPropChanges(latestProps, oldClonedProps, oldProps)\n\n  // if no changes detected, no need to continue to rendering further tags\n  if(propsChanged) {\n    return true\n  }\n\n  const kidsChanged = hasKidsChanged(oldTagSupport, newTagSupport)\n\n  // we already know props didn't change and if kids didn't either, than don't render\n  return kidsChanged\n}\n\nexport function hasPropChanges(\n  props: Props, // natural props\n  pastCloneProps: Props, // previously cloned props\n  compareToProps: Props, // new props NOT cloned props\n) {\n  const isCommonEqual = props === undefined && props === compareToProps\n\n  if(isCommonEqual) {\n    return false\n  }\n  \n  let castedProps: Props = props\n  let castedPastProps: Props = pastCloneProps\n\n  // check all prop functions match\n  if(typeof(props) === 'object') {\n    if(!pastCloneProps) {\n      return true\n    }\n\n    castedProps = {...props}\n    castedPastProps = {...(pastCloneProps || {})}\n    \n    const allFunctionsMatch = Object.entries(castedProps as any).every(([key,value]) => {      \n      /*if(!(key in (castedPastProps as any))) {\n        return false\n      }*/\n\n      let compare = (castedPastProps as any)[key]\n\n      if(!(value instanceof Function)) {\n        return true // this will be checked in deepEqual\n      }\n\n      if(!(compare instanceof Function)) {\n        return false // its a function now but was not before\n      }\n\n      // ensure we are comparing apples to apples as function get wrapped\n      if(compare.original) {\n        compare = compare.original\n      }\n\n      const original = (value as any).original\n      if(original) {\n        value = (value as any).original\n      }\n      \n      if((value as any).toString() !== compare.toString()) {\n        return false // both are function but not the same\n      }\n\n      delete (castedProps as any)[key] // its a function and not needed to be compared\n      delete (castedPastProps as any)[key] // its a function and not needed to be compared\n\n      return true\n    })\n\n    if(!allFunctionsMatch) {\n      return true // a change has been detected by function comparisons\n    }\n  }\n\n  const isEqual = deepEqual(pastCloneProps, props)\n  return !isEqual // if equal then no changes\n}\n\nexport function hasKidsChanged(\n  oldTagSupport: TagSupport,\n  newTagSupport: TagSupport,\n) {\n  const oldCloneKidValues = oldTagSupport.propsConfig.lastClonedKidValues\n  const newClonedKidValues = newTagSupport.propsConfig.lastClonedKidValues\n\n  const everySame = oldCloneKidValues.every((set, index) => {\n    const x = newClonedKidValues[index]\n    return set.every((item, index) => item === x[index])\n  })\n\n  return !everySame\n}\n","import { Tag } from \"./Tag.class\"\n\nexport function html(\n  strings: string[] | TemplateStringsArray,\n  ...values: unknown[]\n) {\n  return new Tag(strings as string[], values)\n}\n","export function inputAttribute(\n  name: string,\n  value: any,\n  element: Element,\n) {\n  const names = name.split('.')\n\n  // style.position = \"absolute\"\n  if(names[0] === 'style') {\n    (element as any).style[names[1]] = value\n  }\n\n  // Example: class.width-full = \"true\"\n  if(names[0] === 'class') {\n    names.shift()\n    if(value) {\n      names.forEach(name => element.classList.add(name))\n    } else {\n      names.forEach(name => element.classList.remove(name))\n    }\n    return\n  }\n}\n","import { Context, Tag } from \"./Tag.class\"\nimport { processAttribute } from \"./processAttribute.function\"\n\nexport type HowToSet = (element: Element, name: string, value: string) => any\n\nfunction howToSetAttribute(\n  element: Element,\n  name: string,\n  value: string\n) {\n  /*\n  if(name === 'class'){\n    value.split(' ').forEach(className => child.classList.add(className))\n    return\n  }\n  */\n\n  element.setAttribute(name, value)\n}\n\nfunction howToSetInputValue(\n  element: Element,\n  name: string,\n  value: string\n) {\n  (element as any)[name] = value\n}\n\nexport function interpolateAttributes(\n  child: Element,\n  scope: Context,\n  ownerTag: Tag,\n) {\n  const attrNames = child.getAttributeNames()\n\n  let howToSet = howToSetAttribute\n\n  attrNames.forEach(attrName => {\n    if(child.nodeName === 'INPUT' && attrName === 'value') {\n      howToSet = howToSetInputValue\n    }\n\n    const value = child.getAttribute(attrName)\n    processAttribute(attrName, value, child, scope, ownerTag, howToSet)\n\n    howToSet = howToSetAttribute // put back\n  })\n}\n","import { Clones } from \"./Clones.type\"\nimport { Tag } from \"./Tag.class\"\nimport { InterpolateOptions } from \"./interpolateElement\"\nimport { InterpolateComponentResult, Template, interpolateTemplate } from \"./interpolateTemplate\"\n\nexport type InterpolatedContentTemplates = {\n  clones: Clones\n  tagComponents: InterpolateComponentResult[]\n}\n\nexport function interpolateContentTemplates(\n  element: Element,\n  context: any,\n  tag: Tag,\n  options: InterpolateOptions,\n  children: HTMLCollection,\n): InterpolatedContentTemplates {\n  if ( !children || element.tagName === 'TEMPLATE' ) {\n    return {clones:[], tagComponents: []} // done\n  }\n\n  // counting for animation stagger computing\n  const counts = options.counts\n  const clones: Clones = []\n  const tagComponents: InterpolateComponentResult[] = []\n  const childArray = new Array(...children)\n\n  childArray.forEach(child => {\n    const {clones: nextClones, tagComponent} = interpolateTemplate(\n      child as Template,\n      context,\n      tag,\n      counts,\n      options,\n    )\n\n    clones.push(...nextClones)\n\n    if(tagComponent) {\n      tagComponents.push(tagComponent)\n      return\n    }\n      \n    if ( child.children ) {      \n      const nextKids = new Array(...child.children)\n      nextKids.forEach((subChild, index) => {\n\n        // IF <template end /> its a variable to be processed\n        if ( isRenderEndTemplate(subChild) ) {\n          const {tagComponent} = interpolateTemplate(\n            subChild as Template,\n            context,\n            tag,\n            counts,\n            options,\n          )\n\n          if(tagComponent) {\n            tagComponents.push(tagComponent)\n          }\n        }\n\n        const {clones:nextClones, tagComponents: nextTagComponent} = interpolateContentTemplates(\n          subChild,\n          context,\n          tag,\n          options,\n          subChild.children\n        )\n\n        clones.push( ...nextClones )\n        tagComponents.push( ...nextTagComponent )\n      })\n    }\n  })\n\n  return {clones, tagComponents}\n}\n\nfunction isRenderEndTemplate(child: Element) {\n  const isTemplate = child.tagName==='TEMPLATE'\n  return isTemplate &&\n  child.getAttribute('interpolate') !== undefined && \n  child.getAttribute('end') !== undefined\n}\n","import { interpolateAttributes } from \"./interpolateAttributes\"\nimport { interpolateToTemplates } from \"./interpolations\"\nimport { InterpolatedContentTemplates, interpolateContentTemplates } from \"./interpolateContentTemplates\"\nimport { Context, Tag, TagTemplate, escapeSearch, variablePrefix } from \"./Tag.class\"\nimport { Clones } from \"./Clones.type\"\nimport { Counts, InterpolateComponentResult } from \"./interpolateTemplate\"\n\nexport type InterpolateOptions = {\n  /** make the element go on document */\n  forceElement?: boolean\n  counts: Counts\n}\n\n/** Review elements within an element */\nexport function interpolateElement(\n  container: Element,\n  context: Context, // variables used to evaluate\n  interpolatedTemplates: TagTemplate,\n  tagOwner: Tag,\n  options: InterpolateOptions,\n): InterpolatedContentTemplates {\n  const clones: Clones = []\n  const tagComponents: InterpolateComponentResult[] = []\n  const result = interpolatedTemplates.interpolation\n  const template = container.children[0] as HTMLTemplateElement\n  const children = template.content.children\n\n  if(result.keys.length) {\n    const {clones: nextClones, tagComponents: nextTagComponents} = interpolateContentTemplates(container, context, tagOwner, options, children)\n    clones.push( ...nextClones )\n    tagComponents.push( ...nextTagComponents )\n  }\n\n  interpolateAttributes(container, context, tagOwner)\n  processChildrenAttributes(children, context, tagOwner)\n\n  return {clones, tagComponents}\n}\n\nfunction processChildrenAttributes(\n  children: HTMLCollection,\n  context: Context,\n  ownerTag: Tag,\n) {\n  new Array(...children as any).forEach(child => {\n    interpolateAttributes(child, context, ownerTag)\n\n    if(child.children) {\n      processChildrenAttributes(child.children, context, ownerTag)\n    }\n  })\n}\n\nexport function interpolateString(string: string) {\n  const result = interpolateToTemplates(string)\n  result.string = result.string.replace(escapeSearch, variablePrefix)\n  return result\n}\n","import { Context, ElementBuildOptions, Tag, variablePrefix } from \"./Tag.class\"\nimport { InterpolateOptions } from \"./interpolateElement\"\nimport { elementInitCheck } from \"./elementInitCheck\"\nimport { Clones } from \"./Clones.type\"\nimport { InterpolateSubject, processSubjectValue } from \"./processSubjectValue.function\"\nimport { isTagComponent } from \"./isInstance\"\nimport { DisplaySubject } from \"./Tag.utils\"\nimport { scanTextAreaValue } from \"./scanTextAreaValue.function\"\n\nexport type Template = Element & {clone?: any}\nexport type InterpolateComponentResult = {\n  subject: InterpolateSubject\n  insertBefore: Element | Text | Template\n  ownerTag: Tag\n}\nexport type InterpolateTemplateResult = {\n  clones: Clones\n  tagComponent?: InterpolateComponentResult\n}\n\nexport function interpolateTemplate(\n  insertBefore: Template, // <template end interpolate /> (will be removed)\n  context: Context, // variable scope of {`__tagvar${index}`:'x'}\n  ownerTag: Tag, // Tag class\n  counts: Counts, // used for animation stagger computing\n  options: InterpolateOptions,\n): InterpolateTemplateResult {\n  const clones: Clones = []\n\n  if ( !insertBefore.hasAttribute('end') ) {\n    return {clones} // only care about <template end>\n  }\n\n  const variableName = insertBefore.getAttribute('id')\n  if(variableName?.substring(0, variablePrefix.length) !== variablePrefix) {\n    return {clones} // ignore, not a tagVar\n  }\n\n  const existingSubject = context[variableName]\n  \n  if(isTagComponent(existingSubject.value)) {\n    return {clones, tagComponent: {ownerTag, subject: existingSubject, insertBefore}}\n  }\n  \n  let isForceElement = options.forceElement\n  subscribeToTemplate(\n    insertBefore,\n    existingSubject,\n    ownerTag,\n    clones,\n    counts,\n    {isForceElement}\n  )\n\n  return {clones}\n}\n\nexport function subscribeToTemplate(\n  insertBefore: Element | Text | Template,\n  subject: InterpolateSubject,\n  ownerTag: Tag,\n  clones: Clones,\n  counts: Counts, // used for animation stagger computing\n  {isForceElement}: {isForceElement?:boolean}\n): Clones {\n  const callback = (value: unknown) => {\n    const clone = (subject as DisplaySubject).clone\n    if(clone) {\n      insertBefore = clone\n    }\n\n    const nextClones = processSubjectValue(\n      value,\n      subject,\n      insertBefore,\n      ownerTag,\n      {\n        counts: {...counts},\n        forceElement: isForceElement,\n      }\n    )\n\n    if(isForceElement) {\n      isForceElement = false // only can happen once\n    }\n\n    clones.push(...nextClones)\n  }\n\n  const sub = subject.subscribe(callback as any)\n  ownerTag.cloneSubs.push(sub)\n  return clones\n}\n\n// Function to update the value of x\nexport function updateBetweenTemplates(\n  value: string | undefined | boolean | number,\n  lastFirstChild: Element | Text,\n) {\n  const parent = lastFirstChild.parentNode as ParentNode\n  \n  // mimic React skipping to display EXCEPT for true does display on page\n  if(value === undefined || value === false || value === null) { // || value === true\n    value = ''\n  }\n\n  // Insert the new value (never use innerHTML here)\n  const textNode = document.createTextNode(value as string) // never innerHTML\n  parent.insertBefore(textNode, lastFirstChild)\n\n  /* remove existing nodes */\n  parent.removeChild(lastFirstChild)\n  \n  return textNode\n}\n\nexport type Counts = {\n  added: number\n  removed: number // increased when item removed from array\n}\n\nexport function afterElmBuild(\n  elm: Element | ChildNode,\n  options: ElementBuildOptions,\n  context: Context,\n  ownerTag: Tag,\n) {\n  if(!(elm as Element).getAttribute) {\n    return\n  }\n\n  const tagName = elm.nodeName // elm.tagName\n  if(tagName==='TEXTAREA') {\n    scanTextAreaValue(elm as HTMLTextAreaElement, context, ownerTag)\n  }\n\n  let diff = options.counts.added\n  if(!options.forceElement) {\n    diff = elementInitCheck(elm, options.counts) - diff\n  }\n\n  if((elm as Element).children) {\n    const subCounts = {\n      added: options.counts.added, // - diff,\n      removed: options.counts.removed,\n    }\n\n    new Array(...(elm as Element).children as any).forEach((child, index) => {\n      const subOptions = {\n        ...options,\n       counts: options.counts,\n      }\n\n      return afterElmBuild(child, subOptions, context, ownerTag)\n    })\n  }\n}\n","// support arrow functions in attributes\nexport const interpolateReplace = /(?:<[^>]*?(?:(?:\\s+\\w+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^>\\s]+)))*\\s*)\\/?>)|({__tagvar[^}]+})/g\n\n// stops after arrow function\n// export const interpolateReplace = /(?:<[^>]*>)|({__tagvar[^}]+})/g\n\nexport type InterpolatedTemplates = {\n  string: string\n  keys: string[]\n}\n\n/** replaces ${x} with <template id=\"x-start\"></template><template id=\"x-end\"></template> */\nexport function interpolateToTemplates(\n  template: string,\n): InterpolatedTemplates {\n  const keys: string[] = []\n  const string = template.replace(interpolateReplace, (match, expression) => {\n    if (match.startsWith('<')) {\n      // If the match is an HTML tag, don't replace\n      return match\n    }\n    \n    const noBraces = expression.substring(1, expression.length-1)\n    const id = noBraces\n    keys.push(id)\n    return `<template interpolate end id=\"${id}\"></template>`\n  })\n\n  return { string, keys }\n}\n","import { SubjectLike } from \"./Subject\"\nimport { Tag } from \"./Tag.class\"\nimport { TemplaterResult } from \"./templater.utils\"\n\nexport function isTagComponent(value?: TemplaterResult | unknown) {\n  return (value as TemplaterResult)?.isTemplater === true\n}\n\nexport function isTagInstance(tag?: Tag | unknown) {\n  return (tag as Tag)?.isTag === true\n}\n\nexport function isSubjectInstance(\n  subject?: SubjectLike | any\n): Boolean {\n  return (subject?.isSubject === true || subject?.subscribe) ? true : false // subject?.isSubject === true || \n}\n\nexport function isTagArray(value: any) {\n  return value instanceof Array && value.every(x => isTagInstance(x))\n}\n","import { Tag } from \"./Tag.class.js\"\n\nexport function isLikeTags(tag0: Tag, tag1: Tag): Boolean {\n  if(tag0.strings.length !== tag1.strings.length) {\n    return false\n  }\n\n  const everyStringMatched = tag0.strings.every((string,index) => tag1.strings[index] === string)\n  if(!everyStringMatched) {\n    return false\n  }\n\n  const valuesLengthsMatch = tag0.values.length === tag1.values.length\n  if(!valuesLengthsMatch) {\n    return false\n  }\n\n  return true\n}","import { TagSupport } from \"./TagSupport.class\"\nimport { setUse } from \"./setUse.function\"\n\nexport type OnDestroyCallback = () => unknown\n\n/** When undefined, it means a tag is being built for the first time so do run destroy(s) */\nlet destroyCurrentTagSupport: TagSupport\n\nexport function onDestroy(\n  callback: OnDestroyCallback\n) {\n  destroyCurrentTagSupport.memory.destroyCallback = callback\n}\n\nsetUse({\n  beforeRender: tagSupport => destroyCurrentTagSupport = tagSupport,\n  beforeRedraw: tagSupport => destroyCurrentTagSupport = tagSupport,\n  beforeDestroy: (tagSupport, tag) => {\n    const callback = tagSupport.memory.destroyCallback\n\n    if(callback) {\n      callback()\n    }\n  }\n})\n","import { TagSupport } from \"./TagSupport.class\"\nimport { setUse } from \"./setUse.function\"\n\nexport type OnInitCallback = () => unknown\n\nfunction setCurrentTagSupport(support: TagSupport) {\n  setUse.memory.initCurrentSupport = support\n}\n\nexport function onInit(\n  callback: OnInitCallback\n) {\n  if(!setUse.memory.initCurrentSupport.memory.init) {\n    setUse.memory.initCurrentSupport.memory.init = callback\n    callback() // fire init\n  }\n}\n\nsetUse({\n  beforeRender: tagSupport => setCurrentTagSupport(tagSupport),\n  beforeRedraw: tagSupport => setCurrentTagSupport(tagSupport),\n})\n","import { inputAttribute } from './inputAttribute'\nimport { isSubjectInstance } from './isInstance'\nimport { Context, Tag } from './Tag.class'\nimport { HowToSet } from './interpolateAttributes'\n\nconst startRegX = /^\\s*{__tagvar/\nconst endRegX = /}\\s*$/\nfunction isTagVar(value: string | null) {\n  return value && value.search(startRegX) >= 0 && value.search(endRegX) >= 0\n}\n\nexport function processAttribute(\n  attrName: string,\n  value: string | null,\n  child: Element,\n  scope: Context,\n  ownerTag: Tag,\n  howToSet: HowToSet,\n) {\n  if ( isTagVar(value) ) {  \n    return processScopedNameValueAttr(\n      attrName,\n      value as string,\n      child,\n      scope,\n      ownerTag,\n      howToSet,\n    )\n  }\n\n  if( isTagVar(attrName) ) {  \n    const contextValueSubject = getContextValueByVarString(scope, attrName)\n    let lastValue: any;\n\n    // the above callback gets called immediately since its a ValueSubject()\n    const sub = contextValueSubject.subscribe((value: any) => {\n      processNameOnlyAttr(\n        value,\n        lastValue,\n        child,\n        ownerTag,\n        howToSet,\n      )\n\n      lastValue = value\n    })\n    ownerTag.cloneSubs.push(sub) // this is where unsubscribe is picked up\n    child.removeAttribute(attrName)\n\n    return\n  }\n\n  // Non dynamic\n  const isSpecial = isSpecialAttr(attrName)\n  if (isSpecial) {\n    return inputAttribute(attrName, value, child)\n  }\n}\n\nfunction processScopedNameValueAttr(\n  attrName: string,\n  value: string, // {__tagVarN}\n  child: Element,\n  scope: Context,\n  ownerTag: Tag,\n  howToSet: HowToSet\n) {\n  // get the code inside the brackets like \"variable0\" or \"{variable0}\"\n  const result = getContextValueByVarString(scope, value)\n  return processNameValueAttr(attrName, result, child, ownerTag, howToSet)\n}\n\nfunction getContextValueByVarString(\n  scope: Context,\n  value: string,\n) {\n  const code = value.replace('{','').split('').reverse().join('').replace('}','').split('').reverse().join('')\n  return scope[code]\n}\nfunction processNameOnlyAttr(\n  attrValue: string | Record<string, any>,\n  lastValue: string | Record<string, any> | undefined,\n  child: Element,\n  ownerTag: Tag,\n  howToSet: HowToSet,\n) {\n  if(lastValue && lastValue != attrValue) {\n    if(typeof(lastValue) === 'string') {\n      child.removeAttribute(lastValue as string)\n    } else if(lastValue instanceof Object) {\n      Object.entries(lastValue).forEach(([name]) =>\n        child.removeAttribute(name)\n      )\n    }\n  }\n\n  if(typeof(attrValue) === 'string') {\n    if(!attrValue.length) {\n      return\n    }\n\n    processNameValueAttr(\n      attrValue as string,\n      '',\n      child,\n      ownerTag,\n      howToSet,\n    )\n\n    return\n  }\n\n  if(attrValue instanceof Object) {\n    Object.entries(attrValue).forEach(([name, value]) =>\n      processNameValueAttr(\n        name,\n        value,\n        child,\n        ownerTag,\n        howToSet,\n      )\n    )\n\n    return\n  }\n}\n\nfunction processNameValueAttr(\n  attrName: string,\n  result: any,\n  child: Element,\n  ownerTag: Tag,\n  howToSet: HowToSet\n) {\n  const isSpecial = isSpecialAttr(attrName)\n\n  // attach as callback?\n  if(result instanceof Function) {\n    const action = function(...args: any[]) {\n      return result(child, args)\n    }\n    \n    ;(child as any)[attrName].action = action\n    // child.addEventListener(attrName, action)\n  }\n\n  // Most every variable comes in here since everything is made a ValueSubject\n  if(isSubjectInstance(result)) {\n    child.removeAttribute(attrName)\n    const callback = (newAttrValue: any) => {\n      return processAttributeSubjectValue(\n        newAttrValue,\n        child,\n        attrName,\n        isSpecial,\n        howToSet,\n      )\n    }\n\n    // 🗞️ Subscribe. Above callback called immediately since its a ValueSubject()\n    const sub = result.subscribe(callback as any)\n    \n    // Record subscription for later unsubscribe when element destroyed\n    ownerTag.cloneSubs.push(sub)\n\n    return\n  }\n\n  howToSet(child, attrName, result)\n  // child.setAttribute(attrName, result.value)\n  return\n}\n\nfunction processAttributeSubjectValue(\n  newAttrValue: any,\n  child: Element,\n  attrName: string,\n  isSpecial: boolean,\n  howToSet: HowToSet,\n) {\n  if(newAttrValue instanceof Function) {\n    ;(child as any)[attrName] = function(...args: any[]) {\n      const result = newAttrValue(child, args)\n      return result\n    }\n\n    // access to original function\n    ;(child as any)[attrName].tagFunction = newAttrValue\n\n    return\n  }\n\n  if (isSpecial) {\n    inputAttribute(attrName, newAttrValue, child)\n    return\n  }\n\n  if(newAttrValue) {\n    howToSet(child, attrName, newAttrValue)\n    return\n  }\n\n  const isDeadValue = newAttrValue === undefined || newAttrValue === false || newAttrValue === null\n  if(isDeadValue) {\n    child.removeAttribute(attrName)\n    return\n  }\n\n  // value is 0\n  howToSet(child, attrName, newAttrValue)\n}\n\n/** Looking for (class | style) followed by a period */\nfunction isSpecialAttr(\n  attrName: string | String\n) {\n  return attrName.search(/^(class|style)(\\.)/) >= 0\n}\n","import { Context, Tag } from './Tag.class'\nimport { TagSubject, getSubjectFunction, setValueRedraw } from './Tag.utils'\nimport { ValueSubject } from './ValueSubject'\nimport { isSubjectInstance, isTagComponent, isTagInstance } from './isInstance'\n\nexport function processNewValue(\n  hasValue: boolean,\n  value: any,\n  context: Context,\n  variableName: string,\n  ownerTag: Tag,\n) {\n  if(isTagComponent(value)) {\n    const existing = context[variableName] = new ValueSubject(value) as TagSubject\n    setValueRedraw(value, existing, ownerTag)\n    return\n  }\n\n  if(value instanceof Function) {\n    context[variableName] = getSubjectFunction(value, ownerTag)\n    return\n  }\n\n  if(!hasValue) {\n    return // more strings than values, stop here\n  }\n\n  if(isTagInstance(value)) {\n    value.ownerTag = ownerTag\n    ownerTag.children.push(value)\n    context[variableName] = new ValueSubject(value)\n    return\n  }\n\n  if(isSubjectInstance(value)) {\n    context[variableName] = value // its already a value subject\n    return\n  }\n\n  context[variableName] = new ValueSubject(value)\n}\n","import { DisplaySubject } from './Tag.utils'\nimport { Template, updateBetweenTemplates } from './interpolateTemplate'\n\nexport type RegularValue = string | number | undefined | boolean\n\nexport function processRegularValue(\n  value: RegularValue,\n  result: DisplaySubject, // could be tag via result.tag\n  template: Element | Text | Template, // <template end interpolate /> (will be removed)\n) {\n  result.template = template\n\n  const before = result.clone || template // Either the template is on the doc OR its the first element we last put on doc\n\n  result.lastValue = value\n  \n  // Processing of regular values\n  const clone = updateBetweenTemplates(\n    value,\n    before, // this will be removed\n  )\n\n  result.clone = clone // remember single element put down, for future updates\n\n  return []\n}\n","import { runBeforeRedraw, runBeforeRender } from './tagRunner'\nimport { TemplaterResult } from './templater.utils'\nimport { setUse } from './setUse.function'\nimport { Counts, Template } from './interpolateTemplate'\nimport { Tag } from './Tag.class'\nimport { processTagResult } from './processTagResult.function'\nimport { TagSubject } from './Tag.utils'\n\nexport function processSubjectComponent(\n  value: TemplaterResult,\n  subject: TagSubject,\n  template: Element | Text | Template,\n  ownerTag: Tag,\n  options: {counts: Counts, forceElement?: boolean},\n) {\n  // Check if function component is wrapped in a tag() call\n  // TODO: This below check not needed in production mode\n  if(value.tagged !== true) {\n    let name: string | undefined = value.wrapper.original.name || value.wrapper.original.constructor?.name\n\n    if(name === 'Function') {\n      name = undefined\n    }\n\n    const label = name || value.wrapper.original.toString().substring(0,120)\n    const error = new Error(`Not a tag component. Wrap your function with tag(). Example tag(props => html\\`\\`) on component:\\n\\n${label}\\n\\n`)\n    throw error\n  }\n\n  const templater = value as TemplaterResult\n  templater.insertBefore = template\n  const tagSupport = value.tagSupport\n\n  let retag = templater.newest as Tag\n  \n  const providers = setUse.memory.providerConfig\n  providers.ownerTag = ownerTag\n  \n  const isFirstTime = !retag || options.forceElement\n  if(isFirstTime) {\n    if(retag) {\n      // runBeforeRedraw(tagSupport, retag)\n      runBeforeRedraw(tagSupport, templater.oldest as Tag)\n    } else {\n      runBeforeRender(tagSupport, ownerTag)\n    }\n\n    const result = templater.renderWithSupport(tagSupport, subject.tag, ownerTag)\n\n    retag = result.retag\n    templater.newest = retag\n  }\n  \n  ownerTag.children.push(retag)\n\n  tagSupport.templater = retag.tagSupport.templater\n  \n  const clones = processTagResult(\n    retag,\n    subject, // The element set here will be removed from document. Also result.tag will be added in here\n    template, // <template end interpolate /> (will be removed)\n    options,\n  )\n\n  return clones\n}\n","import { processSubjectComponent } from './processSubjectComponent.function'\nimport { processTagResult } from './processTagResult.function'\nimport { isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { TagArraySubject, processTagArray } from './processTagArray'\nimport { TemplaterResult } from './templater.utils'\nimport { TagSupport } from './TagSupport.class'\nimport { Clones } from './Clones.type'\nimport { Tag } from './Tag.class'\nimport { Counts, Template } from './interpolateTemplate'\nimport { DisplaySubject, TagSubject } from './Tag.utils'\nimport { ValueSubject } from './ValueSubject'\nimport { processRegularValue } from './processRegularValue.function'\nimport { Callback } from './bindSubjectCallback.function'\n\nenum ValueTypes {\n  tag = 'tag',\n  tagArray = 'tag-array',\n  tagComponent = 'tag-component',\n  value = 'value',\n}\n\nfunction getValueType(value: any): ValueTypes {\n  if(isTagComponent(value)) {\n    return ValueTypes.tagComponent\n  }\n\n  if (isTagInstance(value)) {\n    return ValueTypes.tag\n  }\n\n  if (isTagArray(value)) {\n    return ValueTypes.tagArray\n  }\n\n  return ValueTypes.value\n}\n\ntype processOptions = {\n  forceElement?: boolean\n  counts: Counts // used to count stagger\n}\n\nexport type ClonesAndPromise = {\n  clones: Clones\n  // promise?: Promise<any>\n}\n\nexport type InterpolateSubject = TagArraySubject | TagSubject | DisplaySubject | ValueSubject<Callback>\n\nexport function processSubjectValue(\n  value: any,\n  result: InterpolateSubject, // could be tag via result.tag\n  template: Element | Text | Template, // <template end interpolate /> (will be removed)\n  ownerTag: Tag, // owner\n  options: processOptions, // {added:0, removed:0}\n): Clones {\n  const valueType = getValueType(value)\n  \n  switch (valueType) {\n    case ValueTypes.tag:\n      console.log('processing a tag', {\n        result,\n        value,\n        template,\n        parentNode: template.parentNode,\n      })\n      return processTag(\n          value,\n          result as TagSubject,\n          template,\n          ownerTag,\n          options\n        )\n  \n    case ValueTypes.tagArray:\n      const clones = processTagArray(result as TagArraySubject, value, template, ownerTag, options)\n      return clones\n      \n    case ValueTypes.tagComponent:\n      return processSubjectComponent(\n          value,\n          result as TagSubject,\n          template,\n          ownerTag,\n          options\n        )\n  }\n\n  return processRegularValue(\n    value,\n    result as DisplaySubject,\n    template,\n  )\n}\n\nexport function processTag(\n  value: any,\n  result: TagSubject, // could be tag via result.tag\n  template: Element | Text | Template, // <template end interpolate /> (will be removed)\n  ownerTag: Tag, // owner\n  options: processOptions, // {added:0, removed:0}\n) {\n  // first time seeing this tag?\n  if(!value.tagSupport) {\n    value.tagSupport = new TagSupport(\n      {} as TemplaterResult, // the template is provided via html`` call\n      new ValueSubject([]), // no children\n    )\n\n    // asking me to render will cause my parent to render\n    value.tagSupport.mutatingRender = () => {\n      ownerTag.tagSupport.render()\n    }\n    value.tagSupport.oldest = value.tagSupport.oldest || value\n    \n    ownerTag.children.push(value as Tag)\n    value.ownerTag = ownerTag\n  }\n  \n  result.template = template\n\n  const clones = processTagResult(\n    value,\n    result, // Function will attach result.tag\n    template,\n    options,\n  )\n\n  return clones  \n}\n\nexport function destroySimpleValue(\n  template: Element | Text | Template,\n  subject: DisplaySubject,\n) {\n  const clone = subject.clone as Element\n  const parent = clone.parentNode as ParentNode\n\n  // put the template back down\n  parent.insertBefore(template, clone)\n  parent.removeChild(clone)\n  \n  delete subject.clone\n  delete subject.lastValue\n\n  // subject.template = template\n}\n","import { Clones } from './Clones.type'\nimport { ArrayValueNeverSet, Tag } from './Tag.class'\nimport { ValueSubject } from './ValueSubject'\nimport { TagSupport } from './TagSupport.class'\nimport { Counts, Template } from './interpolateTemplate'\nimport { TemplaterResult } from './templater.utils'\nimport { ArrayNoKeyError } from './errors'\nimport { destroyArrayTag } from './checkDestroyPrevious.function'\n\nexport type LastArrayItem = {tag: Tag, index: number}\nexport type TagArraySubject = ValueSubject<Tag[]> & {\n  lastArray: LastArrayItem[]\n  template: Element | Text | Template\n  isChildSubject?: boolean // present when children passed as prop0 or prop1\n}\n\nexport function processTagArray(\n  result: TagArraySubject,\n  value: Tag[], // arry of Tag classes\n  template: Element | Text | Template, // <template end interpolate />\n  ownerTag: Tag,\n  options: {\n    counts: Counts\n    forceElement?: boolean\n  },\n): Clones {\n  // const clones: Clones = []\n  const clones: Clones = ownerTag.clones // []\n\n  if(!result.lastArray) {\n    result.lastArray = [] // {tag, index}[] populated in processTagResult\n  }\n\n  result.template = template\n\n  let removed = 0\n  \n  /** 🗑️ remove previous items first */\n  result.lastArray = result.lastArray.filter((\n    item: any,\n    index: number,\n  ) => {\n    const newLength = value.length-1\n    const at = index - removed\n    const lessLength = newLength < at\n    const subTag = value[index - removed]\n    const subArrayValue = subTag?.arrayValue\n    const destroyItem = lessLength || !areLikeValues(subArrayValue, item.tag.arrayValue)\n    \n    if(destroyItem) {\n      const last = result.lastArray[index]\n      const tag: Tag = last.tag\n\n      destroyArrayTag(tag, options.counts)\n\n      ++removed\n      // ++options.counts.removed\n      \n      return false\n    }\n    return true\n  })\n\n  // const masterBefore = template || (template as any).clone\n  const before = template || (template as any).clone\n\n  value.forEach((subTag, index) => {\n    const previous = result.lastArray[index]\n    const previousSupport = subTag.tagSupport || previous?.tag.tagSupport\n\n    subTag.tagSupport = previousSupport || new TagSupport({} as TemplaterResult, new ValueSubject([]))\n    \n    if(previousSupport) {\n      previousSupport.newest = subTag\n    } else {\n      subTag.tagSupport.mutatingRender = () => {\n        ownerTag.tagSupport.render() // call owner for needed updates\n        return subTag\n      }\n  \n      ownerTag.children.push(subTag)\n    }\n    \n    subTag.ownerTag = ownerTag    \n\n    // check for html``.key()\n    const keyNotSet = subTag.arrayValue as ArrayValueNeverSet | undefined\n    if (keyNotSet?.isArrayValueNeverSet) {\n      const details = {\n        template: subTag.getTemplate().string,\n        array: value,\n        ownerTagContent: ownerTag.lastTemplateString,\n      }\n      const message = 'Use html`...`.key(item) instead of html`...` to template an Array'\n      console.error(message, details)\n      const err = new ArrayNoKeyError(message, details)\n      throw err\n    }\n    \n    const couldBeSame = result.lastArray.length > index\n    if (couldBeSame) {\n\n      const isSame = areLikeValues(previous.tag.arrayValue, subTag.arrayValue)\n      if (isSame) {\n        subTag.tagSupport = subTag.tagSupport || previous.tag.tagSupport\n        previous.tag.updateByTag(subTag)\n        return []\n      }\n\n      return []\n    }\n\n    const nextClones = processAddTagArrayItem(before, subTag, result, index, options)\n    clones.push(...nextClones)\n  })\n\n  return clones\n}\n\nfunction processAddTagArrayItem(\n  before: Element | Text | Template,\n  subTag: Tag,\n  result: TagArraySubject,\n  index: number,\n  options: {\n    counts: Counts\n    forceElement?: boolean\n  },\n) {\n  const lastValue = {\n    tag: subTag, index\n  }\n  // Added to previous array\n  result.lastArray.push(lastValue)\n\n  const counts: Counts = {\n    added: options.counts.added + index,\n    removed: options.counts.removed,\n  }\n\n  const lastFirstChild = before // tag.clones[0] // insertBefore.lastFirstChild    \n  const nextClones = subTag.buildBeforeElement(\n    lastFirstChild,\n    {counts, forceElement: options.forceElement}\n  )\n\n  return nextClones\n}\n\n/** compare two values. If both values are arrays then the items will be compared */\nfunction areLikeValues(valueA: unknown, valueB: unknown): Boolean {\n  if(valueA === valueB) {\n    return true\n  }\n\n  const bothArrays = valueA instanceof Array && valueB instanceof Array\n  const matchLengths = bothArrays && valueA.length == valueB.length\n  if(matchLengths) {\n    return valueA.every((item, index) => item == valueB[index])\n  }\n\n  return false\n}\n","import { Tag } from './Tag.class'\nimport { Clones } from './Clones.type'\nimport { Counts, Template } from './interpolateTemplate'\nimport { TagArraySubject } from './processTagArray'\nimport { TagSubject } from './Tag.utils'\n\nexport function processTagResult(\n  tag: Tag,\n  result: TagArraySubject | TagSubject | Function, // used for recording past and current value\n  insertBefore: Element | Text | Template, // <template end interpolate />\n  {\n    counts, forceElement,\n  }: {\n    counts: Counts\n    forceElement?: boolean\n  }\n): Clones {\n  // *if appears we already have seen\n  const subjectTag = result as TagSubject\n  const rTag = subjectTag.tag\n  if(rTag && !forceElement) {\n    // are we just updating an if we already had?\n    if(rTag.isLikeTag(tag)) {\n      // components\n      if(result instanceof Function) {\n        const newTag = result(rTag.tagSupport)\n        rTag.updateByTag(newTag)\n        return []\n      }\n\n      rTag.updateByTag(tag)\n      \n      return [] // no clones created in element already on stage\n    }    \n  }\n  \n  const clones = tag.buildBeforeElement(insertBefore, {\n    counts,\n    forceElement,\n  })\n  subjectTag.tag = subjectTag.tag || tag // let reprocessing know we saw this previously as an if\n\n  return clones\n}\n","import { Tag } from './Tag.class'\nimport { deepClone, deepEqual } from './deepFunctions'\nimport { Provider } from './providers'\n\nexport function providersChangeCheck(tag: Tag) {\n  const providersWithChanges = tag.tagSupport.memory.providers.filter(provider =>\n    !deepEqual(provider.instance, provider.clone)\n  )\n\n  // reset clones\n  providersWithChanges.forEach(provider => {\n    const appElement = tag.getAppElement()\n\n    handleProviderChanges(appElement, provider)\n\n    provider.clone = deepClone(provider.instance)\n  })\n}\n\nfunction handleProviderChanges(\n  appElement: Tag,\n  provider: Provider,\n) {\n  const tagsWithProvider = getTagsWithProvider(appElement, provider)\n\n  tagsWithProvider.forEach(({tag, renderCount, provider}) => {\n    const notRendered = renderCount === tag.tagSupport.memory.renderCount\n    if(notRendered) {\n      provider.clone = deepClone(provider.instance)\n      tag.tagSupport.render()\n    }\n  })\n}\n\nfunction getTagsWithProvider(\n  tag: Tag,\n  provider: Provider,\n  memory: {\n    tag: Tag\n    renderCount: number\n    provider: Provider\n  }[] = []\n) {\n  const compare = tag.tagSupport.memory.providers\n\n  const hasProvider = compare.find(\n    xProvider => xProvider.constructMethod === provider.constructMethod\n  )\n  \n  if(hasProvider) {\n    memory.push({\n      tag,\n      renderCount: tag.tagSupport.memory.renderCount,\n      provider: hasProvider\n    })\n  }\n\n  tag.children.forEach(child => getTagsWithProvider(child, provider, memory))\n\n  return memory\n}\n","import { Tag } from './Tag.class'\nimport { deepClone } from './deepFunctions'\nimport { TagSupport } from './TagSupport.class'\nimport { setUse } from './setUse.function'\n\nexport type Provider = {\n  constructMethod: any\n  instance: any\n  clone: any\n}\n\ntype ProviderConstructor<T> = (new (...args: any[]) => T) | (() => T)\n\n// TODO: rename\nsetUse.memory.providerConfig = {\n  providers: [] as Provider[],\n\n  //currentTagSupport: undefined as TagSupport | undefined,\n  ownerTag: undefined as Tag | undefined,\n}\n\nfunction get(constructMethod: Function) {\n  const config = setUse.memory.providerConfig\n  const providers: Provider[] = config.providers\n  return providers.find(provider => provider.constructMethod === constructMethod)\n}\n\ntype functionProvider = <T>() => T\ntype classProvider = new <T>(...args: any[]) => T\n\nexport const providers = {\n  create: <T>(\n    constructMethod: classProvider | functionProvider\n  ): T => {\n    const existing = get(constructMethod)\n    if(existing) {\n      existing.clone = deepClone(existing.instance)\n      return existing.instance\n    }\n\n    // Providers with provider requirements just need to use providers.create() and providers.inject()\n    const instance: T = constructMethod.constructor ? new (constructMethod as classProvider)() : (constructMethod as functionProvider)()\n    \n    const config = setUse.memory.providerConfig\n    config.providers.push({\n      constructMethod,\n      instance,\n      clone: deepClone(instance)\n    })\n    \n    return instance\n  },\n  \n  /**\n   * @template T\n   * @param {(new (...args: any[]) => T) | () => T} constructor \n   * @returns {T}\n   */\n  inject: <T>(constructor: ProviderConstructor<T>): T => {\n    const oldValue = get(constructor)\n    if(oldValue) {\n      return oldValue.instance\n    }\n\n    const config = setUse.memory.providerConfig\n    let owner = {\n      ownerTag: config.ownerTag\n    } as Tag\n  \n    while(owner.ownerTag) {\n      const ownerProviders = owner.ownerTag.tagSupport.memory.providers\n\n      const provider = ownerProviders.find(provider => {\n        if(provider.constructMethod === constructor) {\n          return true\n        }\n      })\n\n      if(provider) {\n        provider.clone = deepClone(provider.instance) // keep a copy of the latest before any change occur\n        config.providers.push(provider)\n        return provider.instance\n      }\n\n      owner = owner.ownerTag // cause reloop\n    }\n    \n    const msg = `Could not inject provider: ${constructor.name} ${constructor}`\n    console.warn(`${msg}. Available providers`, config.providers)\n    throw new Error(msg)\n  }\n}\n\nsetUse({ // providers\n  beforeRender: (\n    tagSupport: TagSupport,\n    ownerTag: Tag,\n  ) => {\n    run(tagSupport, ownerTag)\n  },\n  beforeRedraw: (\n    tagSupport: TagSupport,\n    tag: Tag,\n  ) => {\n    run(tagSupport, tag.ownerTag as Tag)\n  },\n  afterRender: (\n    tagSupport: TagSupport,\n    // tag: Tag\n  ) => {\n    const config = setUse.memory.providerConfig\n    tagSupport.memory.providers = [...config.providers]\n    config.providers.length = 0\n  }\n})\n\nfunction run(\n  tagSupport: TagSupport,\n  ownerTag: Tag,\n  // tag: Tag,\n) {\n  const config = setUse.memory.providerConfig\n  // config.currentTagSupport = tagSupport\n  \n  config.ownerTag = ownerTag\n  \n  if(tagSupport.memory.providers.length) {\n    config.providers.length = 0\n    config.providers.push(...tagSupport.memory.providers)\n  }\n}","import { TagSupport } from './TagSupport.class'\nimport { TemplaterResult } from './templater.utils'\nimport { Tag } from './Tag.class'\n\nexport function redrawTag(\n  tagSupport: TagSupport,\n  templater: TemplaterResult, // latest tag function to call for rendering\n  existingTag?: Tag,\n  ownerTag?: Tag,\n) {\n  const result = templater.renderWithSupport(\n    tagSupport,\n    existingTag,\n    ownerTag,\n  )\n\n  return result\n}\n","export function buildClones(\n  temporary: Element,\n  insertBefore: Element | Text,\n) {\n  const clones = []\n  const template = temporary.children[0] as HTMLTemplateElement\n  let nextSibling = template.content.firstChild\n  \n  while (nextSibling) {\n    const nextNextSibling = nextSibling.nextSibling\n    buildSibling(nextSibling, insertBefore)\n    clones.push(nextSibling)\n    nextSibling = nextNextSibling\n  }\n\n  return clones\n}\n\nfunction buildSibling(\n  nextSibling: ChildNode,\n  insertBefore: Element | Text,\n) {\n  const parentNode = insertBefore.parentNode as ParentNode\n  parentNode.insertBefore(\n    nextSibling,\n    insertBefore\n  )\n}\n","import { Tag } from './Tag.class'\nimport { TagSupport } from './TagSupport.class'\nimport { hasTagSupportChanged } from './hasTagSupportChanged.function'\nimport { providersChangeCheck } from './provider.utils'\nimport { TemplateRedraw, TemplaterResult } from './templater.utils'\n\n/** Returns true when rendering owner is not needed. Returns false when rendering owner should occur */\nexport function renderExistingTag(\n  tag: Tag,\n  newTemplater: TemplaterResult,\n  tagSupport: TagSupport\n): boolean {\n  const preRenderCount = tagSupport.memory.renderCount\n  providersChangeCheck(tag)\n\n  // When the providers were checked, a render to myself occurred and I do not need to re-render again\n  if(preRenderCount !== tagSupport.memory.renderCount) {\n    return true\n  }\n\n  const oldTagSupport = tag.tagSupport\n  const hasChanged = hasTagSupportChanged(\n    oldTagSupport,\n    newTemplater.tagSupport,\n  )\n  \n  const oldTemplater = tagSupport.templater as TemplateRedraw\n  tagSupport.newest = oldTemplater.redraw() // No change detected, just redraw me only\n  newTemplater.newest = tagSupport.newest\n\n  if(!hasChanged) {\n    return true\n  }\n\n  return false\n}\n","import { Context, Tag } from './Tag.class'\nimport { HowToSet } from './interpolateAttributes'\nimport { processAttribute } from './processAttribute.function'\n\nconst search = new RegExp('\\\\s*<template interpolate end id=\"__tagvar(\\\\d{1,4})\"([^>]*)></template>(\\\\s*)')\n\nexport function scanTextAreaValue(\n  textarea: HTMLTextAreaElement,\n  context: Context,\n  ownerTag: Tag,\n) {\n  const value = textarea.value\n  if( value.search(search) >=0 ) {\n    const match = value.match(/__tagvar(\\d{1,4})/);\n    const token = match ? match[0] : ''\n    const dynamic = '{' + token + '}'\n    textarea.value = ''\n    textarea.setAttribute('text-var-value', dynamic)\n\n    const howToSet: HowToSet = (_elm, _name, value: string) => textarea.value = value\n\n    processAttribute(\n      'text-var-value',\n      dynamic, // realValue, // context[token].value,\n      textarea,\n      context,\n      ownerTag,\n      howToSet,\n    )  \n  }\n}\n","import { StateMismatchError } from './errors'\nimport { TagSupport } from './TagSupport.class'\nimport { setUse } from './setUse.function'\n\nexport type StateConfig<T> = (x: T) => [T, T]\n\nexport type StateConfigItem<T> = {\n  callback?: StateConfig<T>\n  lastValue?: T\n  defaultValue?: T\n  watch?: T // when this value changes, the state becomes this value\n}\n\nexport type StateConfigArray = StateConfigItem<any>[]\n\nexport type Config = {\n  array: StateConfigArray // state memory on the first render\n  rearray: StateConfigArray // state memory to be used before the next render\n}\n\nexport type State = {\n  newest: StateConfigArray\n  // update: () => any\n  // oldest?: StateConfigArray\n  // config: Config\n}\n\n// TODO: rename\nsetUse.memory.stateConfig = {\n  array: [] as StateConfigArray, // state memory on the first render\n  rearray: [] as StateConfigArray, // state memory to be used before the next render\n} as Config\n\nexport type GetSet<T> = (y: T) => [T, T]\n\nexport function makeStateResult<T>(\n  initValue: T,\n  push: StateConfigItem<T>,\n) {\n  // return initValue\n  const result =  (y: any) => {\n    push.callback = y || (x => [initValue, initValue = x])\n\n    return initValue\n  }\n\n  return result\n}\n\n/*\nconst waitingStates: (() => unknown)[] = []\nexport function onNextStateOnly(callback: () => unknown) {\n  const config: Config = setUse.memory.stateConfig\n  \n  if(!config.rearray.length) {\n    callback()\n    return\n  }\n\n  waitingStates.push(callback)\n}\n*/\n\nsetUse({\n  beforeRender: (tagSupport: TagSupport) => initState(tagSupport),\n  beforeRedraw: (tagSupport: TagSupport) => initState(tagSupport),\n  afterRender: (\n    tagSupport: TagSupport,\n    // tag: Tag,\n  ) => {\n    const state: State = tagSupport.memory.state\n    const config: Config = setUse.memory.stateConfig\n    \n    if(config.rearray.length) {\n      if(config.rearray.length !== config.array.length) {\n        const message = `States lengths has changed ${config.rearray.length} !== ${config.array.length}. Typically occurs when a function is intended to be wrapped with a tag() call`\n        const details = {\n          oldStates: config.array,\n          newStates: config.rearray,\n          component: tagSupport.templater?.wrapper.original,\n        }\n        const error = new StateMismatchError(message,details)\n        console.warn(message,details)\n        throw error\n      }\n    }\n    \n    config.rearray = [] // clean up any previous runs\n\n    state.newest = [...config.array]\n    \n    // config.array.length = 0\n    config.array = []\n\n    // waitingStates.forEach(callback => callback())\n    // waitingStates.length = 0\n  }\n})\n\n\nexport function getStateValue<T>(\n  // state: StateConfig,\n  state: StateConfigItem<T>,\n) {\n  const callback = state.callback\n  \n  if(!callback) {\n    return state.defaultValue\n  }\n\n  const oldState = callback(StateEchoBack as any) // get value and set to undefined\n  const [oldValue] = oldState\n  const [checkValue] = callback( oldValue ) // set back to original value\n\n  if(checkValue !== StateEchoBack) {\n    const message = 'State property not used correctly. Second item in array is not setting value as expected.\\n\\n' +\n    'For \"let\" state use `let name = state(default)(x => [name, name = x])`\\n\\n' +\n    'For \"const\" state use `const name = state(default)()`\\n\\n' +\n    'Problem state:\\n' + (callback ? callback.toString() : JSON.stringify(state)) +'\\n'\n    \n    console.error(message, {state, callback, oldState, oldValue, checkValue})\n    \n    throw new Error(message)\n  }\n\n  return oldValue\n}\n\nexport class StateEchoBack {}\n\nfunction initState(\n  tagSupport: TagSupport\n) {\n  const state = tagSupport.memory.state as State\n  const config: Config = setUse.memory.stateConfig\n  \n  // TODO: This guard may no longer be needed\n  if (config.rearray.length) {\n    const message = 'last array not cleared'\n    console.error(message, {\n      config,\n      component: tagSupport.templater?.wrapper.original,\n      state,\n      expectedClearArray: config.rearray,\n    })\n\n    throw new StateMismatchError(message, {\n      config,\n      component: tagSupport.templater?.wrapper.original,\n      state,\n      expectedClearArray: config.rearray,\n    })\n  }\n\n  // TODO: this maybe redundant and not needed\n  config.rearray = [] // .length = 0\n\n  if(state?.newest.length) {\n    config.rearray.push( ...state.newest )\n  }\n}\n\n/** Used for variables that need to remain the same variable during render passes */\nexport function set <T>(\n  defaultValue: T | (() => T),\n): T {\n  const config: Config = setUse.memory.stateConfig\n  let getSetMethod: StateConfig<T>\n  \n  const restate = config.rearray[config.array.length]\n  if(restate) {\n    let oldValue = getStateValue(restate) as T\n    getSetMethod = ((x: T) => [oldValue, oldValue = x])\n    const push: StateConfigItem<T> = {\n      callback: getSetMethod,\n      lastValue: oldValue,\n      defaultValue: restate.defaultValue,\n    }\n\n    config.array.push(push)\n\n    return oldValue\n  }\n\n  // State first time run\n  const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue\n  let initValue = defaultFn()\n\n  getSetMethod = ((x: T) => [initValue, initValue = x])\n  const push: StateConfigItem<T> = {\n    callback: getSetMethod,\n    lastValue: initValue,\n    defaultValue: initValue,\n  }\n  config.array.push(push)\n  \n  return initValue\n}\n","import { Config, GetSet, StateConfig, StateConfigItem, getStateValue, makeStateResult } from './set.function'\nimport { setUse } from './setUse.function'\n\n/** Used for variables that need to remain the same variable during render passes */\nexport function setLet <T>(\n  defaultValue: T | (() => T),\n): ((getSet: GetSet<T>) => T) {\n  const config: Config = setUse.memory.stateConfig\n  let getSetMethod: StateConfig<T>\n  \n  const restate = config.rearray[config.array.length]\n  if(restate) {\n    let oldValue = getStateValue(restate) as T\n\n    getSetMethod = ((x: T) => [oldValue, oldValue = x])\n    const push: StateConfigItem<T> = {\n      callback: getSetMethod,\n      lastValue: oldValue,\n      defaultValue: restate.defaultValue,\n    }\n\n    config.array.push(push)\n\n    return makeStateResult(oldValue, push)\n  }\n\n  // State first time run\n  const defaultFn = defaultValue instanceof Function ? defaultValue : () => defaultValue\n  let initValue = defaultFn()\n\n  getSetMethod = ((x: T) => [initValue, initValue = x])\n  const push: StateConfigItem<T> = {\n    callback: getSetMethod,\n    lastValue: initValue,\n    defaultValue: initValue,\n  }\n  config.array.push(push)\n  \n  return makeStateResult(initValue, push)\n}\n","import { Config, GetSet, StateConfigItem, getStateValue } from './set.function'\nimport { setUse } from './setUse.function'\n\n/** Used for variables that need to remain the same variable during render passes */\nexport function setProp <T>(\n  getSet: GetSet<any>\n): T {\n  const config: Config = setUse.memory.stateConfig\n\n  const [propValue] = getSet(undefined as T)\n  getSet(propValue) // restore original value instead of undefined\n\n  const restate = config.rearray[config.array.length]\n  if(restate) {\n    let watchValue = restate.watch as T\n    let oldValue = getStateValue(restate) as T\n\n    const push: StateConfigItem<T> = {\n      callback: getSet,\n      lastValue: oldValue,\n      watch: restate.watch,\n    }\n\n    // has the prop value changed?\n    if(propValue != watchValue) {\n      push.watch = propValue\n      oldValue = push.lastValue = propValue\n    }\n\n    config.array.push(push)\n\n    getSet(oldValue)\n\n    return oldValue\n  }\n\n  const push: StateConfigItem<T> = {\n    callback: getSet,\n    lastValue: propValue,\n    watch: propValue,\n  }\n  config.array.push(push)\n  \n  return propValue\n}\n","import { Tag } from './Tag.class'\nimport { TagSupport } from './TagSupport.class'\nimport { Config } from './set.function'\n\nconst tagUse: TagUse[] = []\n\ninterface TagUse {\n  // runs only one time at creation of component html elements\n  beforeRender: (tagSupport: TagSupport, ownerTag: Tag) => void\n  \n  // runs every render\n  beforeRedraw: (tagSupport: TagSupport, tag: Tag) => void\n  \n  // runs every render\n  afterRender: (tagSupport: TagSupport, tag: Tag) => void\n  \n  beforeDestroy: (tagSupport: TagSupport, tag: Tag) => void\n}\n\nexport type UseOptions = {\n  beforeRender?: (tagSupport: TagSupport, ownerTag: Tag) => void\n  beforeRedraw?: (tagSupport: TagSupport, tag: Tag) => void\n  afterRender?: (tagSupport: TagSupport, tag: Tag) => void\n  beforeDestroy?: (tagSupport: TagSupport, tag: Tag) => void\n}\n\nexport function setUse(use: UseOptions) {\n  // must provide defaults\n  const useMe: TagUse = {\n    beforeRender: use.beforeRender || (() => undefined),\n    beforeRedraw: use.beforeRedraw || (() => undefined),\n    afterRender: use.afterRender || (() => undefined),\n    beforeDestroy: use.beforeDestroy || (() => undefined),\n  }\n\n  setUse.tagUse.push(useMe)\n}\n\nsetUse.tagUse = tagUse\nsetUse.memory = {} as (Record<string,any> & {stateConfig: Config})\n","import { Tag } from './Tag.class'\nimport { isSubjectInstance, isTagArray, isTagInstance } from './isInstance'\nimport { setUse } from './setUse.function'\nimport { TemplaterResult, Wrapper, alterProps } from './templater.utils'\nimport { ValueSubject } from './ValueSubject'\nimport { runTagCallback } from './bindSubjectCallback.function'\nimport { deepClone } from './deepFunctions'\nimport { TagSupport } from './TagSupport.class'\nimport { renderExistingTag } from './renderExistingTag.function'\n\nexport type TagChildren = ValueSubject<Tag[]>\nexport type TagChildrenInput = Tag[] | Tag | TagChildren\nexport type TagComponentArg<T extends any[]> = (...args: T) => Tag;\ntype FirstArgOptional<T extends any[]> = T['length'] extends 0 ? true : false;\n\n// export type TagComponent = TagComponentArg<[any?, TagChildren?]>\nexport type TagComponentBase<T extends any[]> = (\n  arg: FirstArgOptional<T> extends true ? (T[0] | void) : T[0],\n  // props: FirstParameter<T>,\n  children?: TagChildrenInput\n) => Tag\n\nexport const tags: TagComponentBase<any>[] = []\nexport type TagComponent = TagComponentBase<[any?, TagChildren?]> | TagComponentBase<[]>\n\nlet tagCount = 0\n\n\n/** Wraps a tag component in a state manager and always push children to last argument as any array */\n// export function tag<T>(a: T): T;\nexport function tag<T extends any[]>(\n  tagComponent: TagComponentArg<T>\n): (TagComponentBase<T>) {\n  const result = (function tagWrapper(\n    props?: T | Tag | Tag[],\n    children?: TagChildrenInput\n  ) {\n    const isPropTag = isTagInstance(props) || isTagArray(props)    \n    \n    if(isPropTag) {\n      children = props as Tag | Tag[] | TagChildren\n      props = undefined\n    }\n\n    const { childSubject, madeSubject } = kidsToTagArraySubject(children)\n    ;(childSubject as any).isChildSubject = true\n\n    const templater: TemplaterResult = new TemplaterResult(props, childSubject)\n\n    const innerTagWrap:Wrapper = (oldTagSetup) => {\n      const originalFunction = innerTagWrap.original as unknown as TagComponent\n      // const oldTagSetup = templater.tagSupport\n\n      const oldest = templater.oldest\n\n      let props = oldTagSetup.propsConfig.latest\n      let castedProps = alterProps(props, templater)\n      \n      // CALL ORIGINAL COMPONENT FUNCTION\n      const tag = originalFunction(castedProps, childSubject)\n\n      if(oldTagSetup.mutatingRender === TagSupport.prototype.mutatingRender) {\n        oldTagSetup.oldest = tag\n        templater.oldest = tag\n        // tag.tagSupport = oldTagSetup\n\n        oldTagSetup.mutatingRender = () => {\n          const exit = renderExistingTag(templater.oldest as Tag, templater, oldTagSetup)\n\n          if(exit) {\n            return tag\n          }\n          \n          // Have owner re-render\n          if(tag.ownerTag) {\n            const newest = tag.ownerTag.tagSupport.render()\n            // TODO: Next line most likely not needed\n            tag.ownerTag.tagSupport.newest = newest\n            return tag\n          }\n      \n          return tag\n        }\n      }\n\n      tag.tagSupport = new TagSupport(templater, oldTagSetup.children)\n\n      const clonedProps = deepClone(castedProps) // castedProps\n      tag.tagSupport.propsConfig = {\n        latest: props, // castedProps\n        latestCloned: clonedProps,\n        clonedProps: clonedProps,\n        lastClonedKidValues: tag.tagSupport.propsConfig.lastClonedKidValues,\n      }\n\n      tag.tagSupport.memory = oldTagSetup.memory\n      // ???\n      // tag.tagSupport.memory = {...oldTagSetup.memory}\n      // tag.tagSupport.memory.context = {...oldTagSetup.memory.context}\n      tag.tagSupport.mutatingRender = oldTagSetup.mutatingRender\n      oldTagSetup.newest = tag\n\n      oldTagSetup.propsConfig = {...tag.tagSupport.propsConfig}\n      if(oldest) {\n        oldest.tagSupport.propsConfig = {...tag.tagSupport.propsConfig}\n      }\n\n      if(madeSubject) {\n        childSubject.value.forEach(kid => {\n          kid.values.forEach((value, index) => {            \n            if(!(value instanceof Function)) {\n              return\n            }\n            \n            if(kid.values[index].isChildOverride) {\n              return // already overwritten\n            }\n            \n            // all functions need to report to me\n            kid.values[index] = function(...args: unknown[]) {\n              runTagCallback(value, tag.ownerTag as Tag, this, args)\n              // runTagCallback(value, tag, this, args)\n            }\n            \n            kid.values[index].isChildOverride = true\n          })\n        })\n      }\n\n      return tag\n    }\n\n    innerTagWrap.original = tagComponent\n    \n    templater.tagged = true    \n    templater.wrapper = innerTagWrap as Wrapper\n\n    return templater\n  }) // we override the function provided and pretend original is what's returned\n\n  updateResult(result, tagComponent as unknown as TagComponent)\n\n  // group tags together and have hmr pickup\n  updateComponent(tagComponent)\n  tags.push(tagComponent as unknown as TagComponent)\n\n  return result as any\n}\n\nfunction kidsToTagArraySubject(\n  children?: TagChildrenInput\n): {\n  childSubject: ValueSubject<Tag[]>,\n  madeSubject: boolean\n} {\n  if(isSubjectInstance(children)) {\n    return {childSubject: children as ValueSubject<Tag[]>, madeSubject: false}\n  }\n  \n  const kidArray = children as Tag[]\n  if(isTagArray(kidArray)) {\n    return {childSubject: new ValueSubject(children as Tag[]), madeSubject: true}\n  }\n\n  const kid = children as Tag\n  if(kid) {\n    kid.arrayValue = 0\n    return {childSubject: new ValueSubject([kid]), madeSubject: true}\n  }\n\n  return {childSubject: new ValueSubject([]), madeSubject: true}\n}\n\nfunction updateResult(\n  result: any,\n  tagComponent: TagComponent\n) {\n  result.isTag = true\n  result.original = tagComponent\n}\n\nfunction updateComponent(\n  tagComponent: any\n) {\n  tagComponent.tags = tags\n  tagComponent.setUse = setUse\n  tagComponent.tagIndex = tagCount++ // needed for things like HMR\n}\nclass NoPropsGiven {}\nconst noPropsGiven = new NoPropsGiven()\n","import { TagSupport } from './TagSupport.class'\nimport { runAfterRender, runBeforeRender } from './tagRunner'\nimport { TemplaterResult } from './templater.utils'\nimport { Tag } from './Tag.class'\nimport { TagComponent } from './tag'\nimport { renderExistingTag } from './renderExistingTag.function'\n\nconst appElements: {tag: Tag, element: Element}[] = []\n\nexport function tagElement(\n  app: TagComponent, // (...args: unknown[]) => TemplaterResult,\n  element: HTMLElement | Element,\n  props: unknown,\n): {tag: Tag, tags: TagComponent[]} {\n  const appElmIndex = appElements.findIndex(appElm => appElm.element === element)\n  if(appElmIndex >= 0) {\n    appElements[appElmIndex].tag.destroy()\n    appElements.splice(appElmIndex, 1)\n    // an element already had an app on it\n    console.warn('Found and destroyed app element already rendered to element', {element})\n  }\n\n  // Create the app which returns [props, runOneTimeFunction]\n  const wrapper = app(props) as unknown as TemplaterResult\n\n  // have a function setup and call the tagWrapper with (props, {update, async, on})\n  const result = applyTagUpdater(wrapper)\n  const {tag, tagSupport} = result\n  // wrapper.tagSupport = tagSupport\n\n  tag.appElement = element\n  tag.tagSupport.oldest = tag\n\n  addAppTagRender(tag.tagSupport, tag)\n    \n  const templateElm = document.createElement('template')\n  templateElm.setAttribute('id', 'app-tag-' + appElements.length)\n  templateElm.setAttribute('app-tag-detail', appElements.length.toString())\n  element.appendChild(templateElm)\n  \n  tag.buildBeforeElement(templateElm)\n\n  ;(element as any).setUse = (app as any).original.setUse\n\n  appElements.push({element, tag})\n\n  return {tag, tags: (app as any).original.tags}\n}\n\nexport function applyTagUpdater(\n  wrapper: TemplaterResult,\n) {\n  const tagSupport = wrapper.tagSupport\n  runBeforeRender(tagSupport, undefined as any as Tag)\n\n  // Call the apps function for our tag templater\n  const tag = wrapper.wrapper(tagSupport)\n  runAfterRender(tagSupport, tag)\n  \n  return { tag, tagSupport }\n}\n\n/** Overwrites arguments.tagSupport.mutatingRender */\nexport function addAppTagRender(\n  tagSupport: TagSupport,\n  tag: Tag,\n) {\n  tagSupport.templater.redraw = () => {\n    const existingTag = tag\n    const {retag} = tagSupport.templater.renderWithSupport(\n      tagSupport,\n      existingTag, // newest\n      {} as any, // ownerTag,\n    )\n\n    tag.updateByTag(retag)\n    return retag\n  }\n  \n  tagSupport.mutatingRender = () => {\n    renderExistingTag(tag, tagSupport.templater, tagSupport)\n    return tag\n  }\n}\n","// TODO: This should be more like `new TaggedJs().use({})`\n\nimport { Tag } from './Tag.class'\nimport { TagSupport } from './TagSupport.class'\nimport { setUse } from './setUse.function'\n\n// Life cycle 1\nexport function runBeforeRender(\n  tagSupport: TagSupport,\n  tagOwner: Tag,\n) {\n  setUse.tagUse.forEach(tagUse => tagUse.beforeRender(tagSupport, tagOwner))\n}\n\n// Life cycle 2\nexport function runAfterRender(\n  tagSupport: TagSupport,\n  tag: Tag,\n) {\n  setUse.tagUse.forEach(tagUse => tagUse.afterRender(tagSupport, tag))\n}\n\n// Life cycle 3\nexport function runBeforeRedraw(\n  tagSupport: TagSupport,\n  tag: Tag,\n) {\n  setUse.tagUse.forEach(tagUse => tagUse.beforeRedraw(tagSupport, tag))\n}\n\n// Life cycle 4 - end of life\nexport function runBeforeDestroy(\n  tagSupport: TagSupport,\n  tag: Tag,\n) {\n  setUse.tagUse.forEach(tagUse => tagUse.beforeDestroy(tagSupport, tag))\n}\n","import { Tag } from './Tag.class'\nimport { TagSupport } from './TagSupport.class'\nimport { isTagInstance } from './isInstance'\nimport { runAfterRender, runBeforeRedraw, runBeforeRender } from './tagRunner'\nimport { setUse } from './setUse.function'\nimport { Props } from './Props'\nimport { TagChildren } from './tag'\n\nexport type Wrapper = ((tagSupport: TagSupport) => Tag) & {\n  original: () => Tag\n}\n\nexport class TemplaterResult {\n  tagged!: boolean\n  wrapper!: Wrapper\n  insertBefore!: Element | Text\n  newest?: Tag\n  oldest?: Tag\n\n  tagSupport: TagSupport\n\n  constructor(\n    props: Props,\n    children: TagChildren,\n  ) {\n    this.tagSupport = new TagSupport(this, children, props)\n  }\n\n  redraw?: (\n    force?: boolean, // force children to redraw\n  ) => Tag | undefined\n  isTemplater = true\n\n  renderWithSupport(\n    tagSupport: TagSupport,\n    existingTag: Tag | undefined,\n    ownerTag?: Tag,\n  ) {\n    /* BEFORE RENDER */\n      // signify to other operations that a rendering has occurred so they do not need to render again\n      ++tagSupport.memory.renderCount\n\n      const runtimeOwnerTag = existingTag?.ownerTag || ownerTag\n\n      // const insertBefore = tagSupport.templater.insertBefore\n\n      if(existingTag) {\n        tagSupport.propsConfig = {...existingTag.tagSupport.propsConfig}\n        runBeforeRedraw(tagSupport, existingTag)\n      } else {\n        // first time render\n        runBeforeRender(tagSupport, runtimeOwnerTag as Tag)\n\n        // TODO: Logic below most likely could live within providers.ts inside the runBeforeRender function\n        const providers = setUse.memory.providerConfig\n        providers.ownerTag = runtimeOwnerTag\n      }\n    /* END: BEFORE RENDER */\n\n    const templater = this\n    const retag = templater.wrapper(tagSupport)\n\n    /* AFTER */\n\n    runAfterRender(tagSupport, retag)\n  \n    templater.newest = retag\n    retag.ownerTag = runtimeOwnerTag\n    tagSupport.newest = retag\n    \n    return {remit: true, retag}\n  }\n}\n\nexport interface TemplateRedraw extends TemplaterResult {\n  redraw: () => Tag | undefined\n}\n\n/* Used to rewrite props that are functions. When they are called it should cause parent rendering */\nexport function alterProps(\n  props: Props,\n  templater: TemplaterResult,\n) {\n  function callback(toCall: any, callWith: any) {\n    const callbackResult = toCall(...callWith)\n\n    // const tag = templater.oldest as Tag\n    const tag = templater.newest\n    // const tagSupport = tag.tagSupport\n    // const tagSupport = templater.tagSupport\n    const tagSupport = tag?.ownerTag?.tagSupport as TagSupport\n    tagSupport.render()\n\n    return callbackResult\n  }\n  \n  const isPropTag = isTagInstance(props)\n  const watchProps = isPropTag ? 0 : props\n  const newProps = resetFunctionProps(watchProps, callback)\n\n  return newProps\n}\n\nfunction resetFunctionProps(\n  props: any,\n  callback: (toCall: any, callWith: any) => unknown,\n) {\n  if(typeof(props)!=='object') {\n    return props\n  }\n\n  const newProps = props\n  // BELOW: Do not clone because if first argument is object, the memory ref back is lost\n  // const newProps = {...props} \n\n  Object.entries(newProps).forEach(([name, value]) => {\n    if(value instanceof Function) {\n      const original = newProps[name].original\n      \n      if(original) {\n        return // already previously converted\n      }\n\n      newProps[name] = (...args: any[]) => {\n        return callback(value, args)\n      }\n\n      newProps[name].original = value\n\n      return\n    }\n  })\n\n  return newProps\n}\n","import { Tag } from './Tag.class'\nimport { TagSubject } from './Tag.utils'\nimport { runAfterRender, runBeforeRedraw } from './tagRunner'\nimport { TemplaterResult } from './templater.utils'\n\nexport function updateExistingTag(\n  templater: TemplaterResult,\n  ogTag: Tag,\n  existingSubject: TagSubject,\n) {\n  const tagSupport = ogTag.tagSupport\n  const oldest = tagSupport.oldest as Tag\n  const newest = tagSupport.newest as Tag\n\n  // runBeforeRedraw(oldest.tagSupport, newest || oldest)\n  runBeforeRedraw(oldest.tagSupport, oldest)\n\n  const retag = templater.wrapper(tagSupport)\n  \n  templater.newest = retag\n  tagSupport.newest = retag\n  runAfterRender(oldest.tagSupport, oldest)\n  ogTag.updateByTag(retag)\n  // oldest.updateByTag(retag)\n\n  existingSubject.set(templater)\n  \n  return []\n}\n","import { TagSubject, setValueRedraw } from './Tag.utils'\nimport { deepClone } from './deepFunctions'\nimport { TemplateRedraw } from './templater.utils'\nimport { isTagInstance } from './isInstance'\nimport { Tag } from './Tag.class'\nimport { hasTagSupportChanged } from './hasTagSupportChanged.function'\nimport { destroyTagMemory } from './checkDestroyPrevious.function'\n\nexport function updateExistingTagComponent(\n  tag: Tag,\n  tempResult: TemplateRedraw,\n  existingSubject: TagSubject,\n  subjectValue: any,\n): void {\n  let existingTag: Tag | undefined = existingSubject.tag\n\n  // previously was something else, now a tag component\n  if( !existingTag ) {\n    setValueRedraw(tempResult, existingSubject, tag)\n    tempResult.redraw()\n    return\n  }\n\n  // tag existingTag\n  const oldWrapper = existingTag.tagSupport.templater.wrapper\n  const newWrapper = tempResult.wrapper\n  let isSameTag = false\n  \n  if(oldWrapper && newWrapper) {\n    const oldFunction = oldWrapper.original\n    const newFunction = newWrapper.original\n    isSameTag = oldFunction === newFunction\n  }\n\n  const latestProps = tempResult.tagSupport.propsConfig.latest\n  const oldTagSetup = existingTag.tagSupport\n  oldTagSetup.propsConfig.latest = latestProps\n\n  if(!isSameTag) {\n    destroyTagMemory(existingTag, existingSubject)\n  } else {\n    const subjectTagSupport = subjectValue?.tagSupport\n    // old props may have changed, reclone first\n\n    let oldCloneProps = subjectTagSupport.props\n\n    // if the new props are NOT HTML children, then clone the props for later render cycle comparing\n    if(!isTagInstance(subjectTagSupport.props)) {\n      oldCloneProps = deepClone( subjectTagSupport.props )\n    }\n\n    if(existingTag) {\n      const newTagSupport = tempResult.tagSupport\n      const hasChanged = hasTagSupportChanged(oldTagSetup, newTagSupport)\n      if(!hasChanged) {\n        return // its the same tag component\n      }\n    }\n  }\n\n  setValueRedraw(tempResult, existingSubject, tag)\n\n  oldTagSetup.templater = tempResult\n  \n  const redraw = tempResult.redraw() as Tag\n\n  if(!existingTag.isLikeTag(redraw)) {\n    existingTag.destroy()\n    existingSubject.tagSupport = redraw.tagSupport\n    existingSubject.tag = redraw\n    oldTagSetup.oldest = redraw\n  }\n  \n  oldTagSetup.newest = redraw\n  oldTagSetup.propsConfig = {...tempResult.tagSupport.propsConfig}\n\n  return\n}\n","import { DisplaySubject, TagSubject } from './Tag.utils'\nimport { TagSupport } from './TagSupport.class'\nimport { Subject } from './Subject'\nimport { TemplateRedraw, TemplaterResult } from './templater.utils'\nimport { isSubjectInstance, isTagArray, isTagComponent, isTagInstance } from './isInstance'\nimport { bindSubjectCallback } from './bindSubjectCallback.function'\nimport { Tag } from './Tag.class'\nimport { InterpolateSubject, processTag } from './processSubjectValue.function'\nimport { TagArraySubject, processTagArray } from './processTagArray'\nimport { updateExistingTagComponent } from './updateExistingTagComponent.function'\nimport { updateExistingTag } from './updateExistingTag.function'\nimport { RegularValue, processRegularValue } from './processRegularValue.function'\nimport { checkDestroyPrevious } from './checkDestroyPrevious.function'\nimport { processTagResult } from './processTagResult.function'\n\ntype ExistingValue = TemplaterResult | Tag[] | TagSupport | Function | Subject<unknown> | RegularValue | Tag\n\nexport function updateExistingValue(\n  subject: InterpolateSubject,\n  value: ExistingValue,\n  ownerTag: Tag,\n): void {\n  const subjectValue = (subject as Subject<Tag>).value // old value\n  const subjectSubArray = subject as TagArraySubject\n  const subjectSubTag = subject as TagSubject\n  const isChildSubject = subjectSubArray.isChildSubject\n  const isComponent = isTagComponent(value)\n  \n  // If we are working with tag component 2nd argument children, the value has to be digged\n  if(isChildSubject) {\n    value = (value as any).value // A subject contains the value\n  }\n\n  const oldInsertBefore = (subjectSubTag as DisplaySubject).clone || (subject as DisplaySubject).template || subjectSubTag.tag.tagSupport.templater.insertBefore\n  \n  const destroyType = checkDestroyPrevious(subject, value)\n  if(destroyType) {\n    console.log('destroyType', {destroyType, value})\n  }\n\n  // handle already seen tag components\n  if(isComponent) {\n    if(destroyType) {\n      console.log('destroyType - updateExistingTagComponent', {destroyType, value})\n    }\n  \n    return updateExistingTagComponent(\n      ownerTag,\n      value as TemplateRedraw, // latest value\n      subjectSubTag,\n      subjectValue, // old value\n    )\n  }\n  \n  // was component but no longer\n  const subjectTag = subjectSubTag.tag\n  if(subjectTag) {\n    if(destroyType) {\n      console.log('destroyType - handleStillTag', {destroyType, value})\n    }\n\n    handleStillTag(\n      subjectTag,\n      subject as TagSubject | TagArraySubject,\n      value,\n      ownerTag\n    )\n\n    return\n  }\n\n  // its another tag array\n  if(isTagArray(value)) {\n    if(destroyType) {\n      console.log('destroyType - array', {destroyType, value})\n    }\n\n    const insertBefore = subjectSubArray.template || subjectSubTag.tag?.tagSupport.templater.insertBefore\n\n    processTagArray(\n      subject as TagArraySubject,\n      value as any as Tag[],\n      insertBefore,\n      ownerTag,\n      {counts: {\n        added: 0,\n        removed: 0,\n      }}\n    )\n\n    return \n  }\n\n  // now its a function\n  if(value instanceof Function) {\n    if(destroyType) {\n      console.log('destroyType - function', {destroyType, value})\n    }\n\n    subjectSubTag.set( bindSubjectCallback(value as any, ownerTag) )\n    return\n  }\n\n  // we have been given a subject\n  if(isSubjectInstance(value)) {\n    if(destroyType) {\n      console.log('destroyType - isSubjectInstance', {destroyType, value})\n    }\n\n    subjectSubTag.set( (value as Subject<any>).value ) // let ValueSubject now of newest value\n    return\n  }\n  \n  if(isTagInstance(value)) {\n    console.log('oldInsertBefore', {oldInsertBefore, value})\n    subjectSubTag.template = oldInsertBefore\n  }\n  /*\n    const insertBefore = subjectSubArray.template || subjectSubTag.tag?.tagSupport.templater.insertBefore\n\n    console.log('destroyType - isTagInstance', {destroyType, value, insertBefore})\n    processTag(\n      value as Tag,\n      subject as TagSubject, // Function will attach result.tag\n      insertBefore,\n      ownerTag,\n      {counts: {\n        added: 0,\n        removed: 0,\n      }},\n    )  \n    return\n  */\n\n  if(destroyType) {\n    const insertBefore = subjectSubArray.template || subjectSubTag.tag?.tagSupport.templater.insertBefore\n    console.log('destroyType - set', {destroyType, value, insertBefore})\n  }\n\n  // This will cause all other values to render\n  subjectSubTag.set(value) // let ValueSubject now of newest value\n\n  return\n}\n\nfunction handleStillTag(\n  existingTag: Tag,\n  existing: InterpolateSubject,\n  value: ExistingValue,\n  ownerTag: Tag,\n) {\n  const oldWrapper = existingTag.tagSupport.templater.wrapper\n  const newWrapper = (value as any)?.wrapper\n  const wrapMatch = oldWrapper && newWrapper && oldWrapper?.original === newWrapper?.original\n\n  // TODO: We shouldn't need both of these\n  const isSameTag = value && existingTag.lastTemplateString === (value as any).lastTemplateString\n  const isSameTag2 = value && (value as any).getTemplate && existingTag.isLikeTag(value as any)\n\n  if(isSameTag || isSameTag2) {\n    return processTag(\n      value,\n      existing as TagSubject,\n      (existing as any).template,\n      ownerTag,// existingTag, // tag,\n      {\n        counts: {\n          added: 0,\n          removed: 0,\n        }\n      }\n    )\n  }\n  \n  if(wrapMatch) {\n    return updateExistingTag(\n      value as TemplaterResult,\n      existingTag,\n      existing as TagSubject,\n    )\n  }\n\n  const subject = existing as DisplaySubject\n  return processRegularValue(value as RegularValue, subject, subject.template)\n}\n","import { setLet } from './setLet.function'\n\nexport type WatchCallback = (\n  currentValues: any[],\n  previousValues: any[] | undefined // first run this is undefined\n) => unknown | ((currentValues: any[]) => unknown) | (() => unknown)\n\n/** When an item in watch array changes, callback function will be triggered */\nexport function watch<T>(\n  currentValues: T[],\n  callback: WatchCallback\n): T[] {\n  let previousValues = setLet(undefined as undefined | unknown[])(x => [previousValues, previousValues = x])\n\n  if(previousValues === undefined) {\n    callback(currentValues, previousValues)\n    const result = {currentValues, previousValues}\n    previousValues = currentValues\n    return currentValues\n  }\n\n  const allExact = currentValues.every((item, index) => item === (previousValues as any[])[index])\n\n  if(allExact) {\n    return currentValues\n  }\n\n  callback(currentValues, previousValues)\n  previousValues = currentValues\n\n  return currentValues\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { redrawTag } from \"./redrawTag.function\"\nimport { tagElement } from \"./tagElement\"\n\nexport * from \"./ElementTargetEvent.interface\"\n\nexport * from \"./tag\"\nexport * from \"./html\"\nexport * from \"./errors\"\nexport * from \"./Subject\"\nexport * from \"./isInstance\"\nexport * from \"./ValueSubject\"\nexport * from \"./watch.function\"\nexport * from \"./TagSupport.class\"\nexport * from \"./redrawTag.function\"\nexport * from \"./interpolateElement\"\n\n// TODO: export *\nexport { tagElement } from \"./tagElement\"\nexport { Tag } from \"./Tag.class\"\nexport { runBeforeRender } from \"./tagRunner\"\nexport { setUse } from \"./setUse.function\"\n\n/* hooks */\n  // TODO: export *\n  export { providers } from \"./providers\"\n  export { set } from \"./set.function\"\n  export { setLet } from \"./setLet.function\"\n  export { setProp } from \"./setProp.function\"\n  export * from \"./onInit\"\n  export * from \"./onDestroy\"\n  export * from \"./getCallback\"\n/* end: hooks */\n\nexport const hmr = {\n  tagElement, redrawTag\n}\n"],"names":[],"sourceRoot":""}