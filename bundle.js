var t,e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},n={};e.d(n,{W9:()=>j,jo:()=>le,Y2:()=>r,ei:()=>C,B7:()=>f,EF:()=>ce,XF:()=>S,vw:()=>q,PC:()=>w,O9:()=>ot,Ot:()=>d,tD:()=>t,E2:()=>ve,OH:()=>me,Y_:()=>ke,zV:()=>i,WJ:()=>g,AZ:()=>et,cF:()=>Fe,qy:()=>Te,u2:()=>ne,zl:()=>oe,O5:()=>I,Ze:()=>o,_4:()=>c,iO:()=>u,dk:()=>l,mn:()=>a,NM:()=>s,z:()=>N,bc:()=>B,sA:()=>Ce,MG:()=>je,PL:()=>Kt,r5:()=>M,uc:()=>de,pG:()=>K,QB:()=>pe,Vz:()=>ue,vJ:()=>z,AI:()=>v,wk:()=>R,uz:()=>O,Tc:()=>Ee,Hf:()=>Pe,_A:()=>Ae,NU:()=>G,wB:()=>E,id:()=>b,MC:()=>h,zC:()=>m});class r{get(t){return"todo"}}function o(e){return[t.tag,t.templater].includes(e?.tagJsType)}function s(e){return e?.tagJsType===t.templater}function a(e){return e?.tagJsType===t.tagComponent}function l(e){return e?.tagJsType===t.tag}function c(t){return!(!0!==t?.isSubject&&!t?.subscribe)}function u(e){return e instanceof Array&&e.every((e=>[t.tag,t.templater,t.tag,t.tagComponent].includes(e?.tagJsType)))}function i(t){const e=new f;return e.subscribeWith=e=>{const n=[],r=[],o=(o,s)=>{n[s]=!0,r[s]=o;if(n.length===t.length){for(let t=n.length-1;t>=0;--t)if(!n[t])return;e(r,a)}},s=[...t],a=s.shift().subscribe((t=>o(t,0))),l=s.map(((t,e)=>t.subscribe((t=>o(t,e+1)))));return a.subscriptions=l,a},e}function p(t,e,n){const r=[...e],o=r.shift(),s=t=>{if(r.length)return p(t,r,n);n(t)};let a=s;const l=o(t,{setHandler:t=>a=t,next:s});a(l)}!function(t){t.unknown="unknown",t.tag="tag",t.templater="templater",t.tagComponent="tag-component",t.tagArray="tag-array",t.subject="subject",t.tagJsSubject="tagJsSubject",t.date="date",t.string="string",t.boolean="boolean",t.function="function",t[void 0]="undefined"}(t||(t={}));class f{value;onSubscription;methods=[];isSubject=!0;subscribers=[];subscribeWith;_value;set;constructor(t,e){this.value=t,this.onSubscription=e,this._value=t,g(this)}subscribe(t){const e=function(t,e,n){const r=f.globalSubCount$;f.globalSubCount$.next(r._value+1);const o=()=>{o.unsubscribe()};return o.callback=e,o.subscriptions=[],o.unsubscribe=()=>{!function(t,e){const n=t.findIndex((t=>t.callback===e));-1!==n&&t.splice(n,1)}(n,e),f.globalSubCount$.next(r._value-1),o.unsubscribe=()=>o;const t=o.subscriptions;for(let e=t.length-1;e>=0;--e)t[e].unsubscribe();return o},o.add=t=>(o.subscriptions.push(t),o),o.next=t=>{e(t,o)},o}(0,t,this.subscribers),n=this.subscribeWith;if(n){if(this.methods.length){const n=t;t=t=>{p(t,this.methods,(t=>n(t,e)))}}return n(t)}return this.subscribers.push(e),this.onSubscription&&this.onSubscription(e),e}next(t){this._value=t,this.emit()}emit(){const t=this._value,e=[...this.subscribers],n=e.length;for(let r=0;r<n;++r){const n=e[r];n.callback(t,n)}}toPromise(){return new Promise((t=>{this.subscribe(((e,n)=>{n.unsubscribe(),t(e)}))}))}toCallback(t){const e=this.subscribe(((n,r)=>{e.unsubscribe(),t(n)}));return this}pipe(...t){const e=new f(this._value);return e.setMethods(t),e.subscribeWith=t=>this.subscribe(t),e.next=t=>this.next(t),e}setMethods(t){this.methods=t}static all(t){return i(t.map((t=>{if(c(t))return t;return new f(t,(e=>(e.next(t),e)))})))}static globalSubCount$=new f(0)}function g(t){Object.defineProperty(t,"value",{set(e){t._value=e,t.emit()},get:()=>t._value}),Object.defineProperty(t,"set",{set:e=>t.next(e),get:()=>e=>t.next(e)})}class d extends f{value;constructor(t){super(t),this.value=t,g(this)}subscribe(t){const e=super.subscribe(t);return t(this._value,e),e}}function b(t){return(e,n)=>{n.setHandler((()=>{})),t(e,n.next)}}function h(t){return(e,n)=>{n.setHandler((()=>{}));t(e).then((t=>n.next(t)))}}const m=t=>(e,n)=>{n.setHandler((()=>{}));const r=t(e).subscribe((t=>{r.unsubscribe(),n.next(t)}))};function y(){return v.memory.stateConfig.support}function v(t){const e={beforeRender:t.beforeRender||(()=>{}),beforeRedraw:t.beforeRedraw||(()=>{}),afterRender:t.afterRender||(()=>{}),beforeDestroy:t.beforeDestroy||(()=>{})};v.tagUse.push(e)}v.tagUse=[],v.memory={};class w extends Error{details;constructor(t,e,n={}){super(t),this.name=w.name,this.details={...n,errorCode:e}}}class j extends w{constructor(t,e){super(t,"array-no-key-error",e),this.name=j.name}}class C extends w{constructor(t,e){super(t,"state-mismatch-error",e),this.name=C.name}}class S extends w{constructor(t,e){super(t,"sync-callback-error",e),this.name=S.name}}v.memory.stateConfig={array:[]};const k=t=>function(t){const e=t.state,n=v.memory.stateConfig;n.rearray=[];const r=e?.length;if(r){for(let t=0;t<r;++t)A(e[t]);n.rearray.push(...e)}n.support=t}(t);function A(t){const e=t.callback;if(!e)return t.defaultValue;const[n,r]=function(t){const e=t(T),[n]=e,[r]=t(n);return[n,r]}(e);if(r!==T){const o='letState function incorrectly used. Second item in array is not setting expected value.\n\nFor "let" state use `let name = state(default)(x => [name, name = x])`\n\nFor "const" state use `const name = state(default)()`\n\nProblem state:\n'+(e?e.toString():JSON.stringify(t))+"\n";throw console.error(o,{state:t,callback:e,value:n,checkValue:r}),new Error(o)}return n}v({beforeRender:k,beforeRedraw:k,afterRender:t=>{const e=t.state,n=v.memory.stateConfig,r=n.rearray;if(r.length&&r.length!==n.array.length){const e=`States lengths have changed ${r.length} !== ${n.array.length}. State tracking requires the same amount of function calls every render. Typically this errors is thrown when a state like function call occurs only for certain conditions or when a function is intended to be wrapped with a tag() call`,o=t.templater?.wrapper,s={oldStates:n.array,newStates:n.rearray,tagFunction:o.parentWrap.original},a=new C(e,s);throw console.warn(e,s),a}delete n.rearray,delete n.support,e.length=0,e.push(...n.array);for(let t=e.length-1;t>=0;--t){const n=e[t];n.lastValue=A(n)}n.array=[]}});class T{}function x(t,e){for(let n=t.length-1;n>=0;--n){const r=t[n].get(),o=e[n].callback;o&&o(r),e[n].lastValue=r}}function R(t){const e=v.memory.stateConfig;let n;const r=e.rearray[e.array.length];if(r){let t=A(r);n=e=>[t,t=e];const o={get:()=>A(o),callback:n,lastValue:t,defaultValue:r.defaultValue};return e.array.push(o),t}let o=(t instanceof Function?t:()=>t)();if(o instanceof Function){const t=e.array,n=e.support,r=o;o=(...e)=>{const o=n.subject.global.newest.state;x(o,t);const s=r(...e);return x(t,o),s},o.original=r}n=t=>[o,o=t];const s={get:()=>A(s),callback:n,lastValue:o,defaultValue:o};return e.array.push(s),o}const E=(t,e)=>P(t,e),V=t=>t;const P=(t,e,{init:n,before:r=(()=>!0),final:o=V}={})=>{let s=R({pastResult:void 0,values:void 0});const a=s.values;if(void 0===a){if(!r(t))return s.values=t,s.pastResult;const l=(n||e)(t,a);return s.pastResult=o(l),s.values=t,s.pastResult}if(t.every(((t,e)=>t===a[e])))return s.pastResult;if(!r(t))return s.values=t,s.pastResult;const l=e(t,a);return s.pastResult=o(l),a.length=0,a.push(...t),s.pastResult};function F(t,e){return Object.defineProperty(e,"noInit",{get(){const e=t();return e.setup.init=()=>{},e}}),Object.defineProperty(e,"asSubject",{get(){const e=t(),n=R((()=>y())),r=R((()=>new d(void 0))),o=(t,o)=>(P(t,((t,e)=>{const s=y(),a=o(t,e);if(s!==n){x(v.memory.stateConfig.array,n.state)}r.next(a)}),e.setup),r);return o.setup=e.setup,F((()=>o),o),o}}),Object.defineProperty(e,"truthy",{get(){const e=t();return e.setup.before=t=>t.every((t=>t)),e}}),e}function O(t,e){const n=R((()=>v.memory.stateConfig.array)),r=y();return R((()=>new f(t,e).pipe((t=>(x(r.state,n),t)))))}function B(t){const e=v.memory.stateConfig;let n;const r=e.rearray[e.array.length];if(r){let t=A(r);n=e=>[t,t=e];const o={get:()=>A(o),callback:n,lastValue:t,defaultValue:r.defaultValue};return e.array.push(o),_(t,o)}let o=(t instanceof Function?t:()=>t)();n=t=>[o,o=t];const s={get:()=>A(s),callback:n,lastValue:o,defaultValue:o};return e.array.push(s),_(o,s)}function _(t,e){return n=>(e.callback=n||(e=>[t,t=e]),t)}function N(t){return e=>{let n=B(t)(e);return E([t],(()=>e(n=t))),e(n),n}}function $(t){return W(t,new WeakMap)}function W(t,e){if(null===t||"object"!=typeof t)return t;if(e.has(t))return e.get(t);if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));if(e.set(t,n),Array.isArray(t))for(let r=0;r<t.length;r++)n[r]=W(t[r],e);else for(const r in t)t.hasOwnProperty(r)&&(n[r]=W(t[r],e));return n}function D(t,e){return J(t,e,new WeakMap)}function J(t,e,n){return!!(t===e||(r=t,o=e,r instanceof Function&&o instanceof Function&&r.toString()===o.toString()))||(!!n.has(t)||"object"==typeof t&&"object"==typeof e&&(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():(n.set(t,0),Array.isArray(t)&&Array.isArray(e)?function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!J(t[r],e[r],n))return!1;return!0}(t,e,n):!Array.isArray(t)&&!Array.isArray(e)&&function(t,e,n){const r=Object.keys(t),o=Object.keys(e);if(0===r.length&&0===o.length)return!0;if(r.length!==o.length)return!1;for(const s of r){if(!o.includes(s)||!J(t[s],e[s],n))return!1}return!0}(t,e,n))));var r,o}F((()=>function(t){const e=(e,n)=>P(e,n,t);return e.setup=t,F((()=>e),e),e}({})),E),O._value=t=>{const e=R((()=>v.memory.stateConfig.array)),n=y();return R((()=>new d(t).pipe((t=>(x(n.state,e),t)))))},O.all=function(t){const e=R((()=>v.memory.stateConfig.array)),n=y();return f.all(t).pipe((t=>(x(n.state,e),t)))};const M={create:t=>{const e=R((()=>({stateDiff:0,provider:void 0})));if(e.stateDiff){for(let t=e.stateDiff;t>0;--t)R(void 0);return R(void 0)}const n=R((()=>{const n=v.memory.stateConfig,r=n.array.length,o="prototype"in t?new t:t(),s=n.support,a=n.array.length-r,l={constructMethod:t,instance:o,clone:$(o),stateDiff:a,owner:s,children:[]};return e.provider=l,s.subject.global.providers.push(l),e.stateDiff=a,o})),r=t,o=r.compareTo=r.toString();return e.provider.constructMethod.compareTo=o,n},inject:t=>R((()=>{const e=v.memory,n=t,r=n.compareTo=n.compareTo||t.toString(),o=e.stateConfig.support,s=[];let a={ownerSupport:o.ownerSupport};for(;a.ownerSupport;){const t=a.ownerSupport.subject.global.providers.find((t=>{s.push(t);if(t.constructMethod.compareTo===r)return!0}));if(t){t.clone=$(t.instance);const n=e.stateConfig.support;return n.subject.global.providers.push(t),t.children.push(n),t.instance}a=a.ownerSupport}const l=`Could not inject provider: ${t.name} ${t}`;throw console.warn(`${l}. Available providers`,s),new Error(l)}))};function U(t,e){const n=t.templater,r=e.templater,o=n?.tag||t,s=r.tag,a=o.strings,l=s.strings||e.strings;if(a.length!==l.length)return!1;if(!a.every(((t,e)=>l[e].length===t.length)))return!1;return I(t.values||o.values,e.values||s.values)}function I(t,e){if(!(t.length===e.length))return!1;return!!e.every(((e,n)=>{const r=t[n];if(e instanceof Function&&r instanceof Function){return!!(e.toString()===r.toString())}return!0}))}function z(t,e){const n=v.tagUse,r=n.length;for(let o=0;o<r;++o)n[o].beforeRender(t,e)}function L(t,e){const n=v.tagUse,r=n.length;for(let o=0;o<r;++o)n[o].afterRender(t,e);v.memory.tagClosed$.next(e)}function H(t,e){const n=v.tagUse,r=n.length;for(let o=0;o<r;++o)n[o].beforeDestroy(t,e);if(t.subject.global.deleted=!0,t.hasLiveElements=!1,e){e.subject.global.childTags=e.subject.global.childTags.filter((e=>e!==t.subject.global.oldest));const n=t.subject.global;n.providers.forEach((t=>t.children.forEach(((e,r)=>{e.subject.global===n&&t.children.splice(r,1)}))))}}function K(t,e,n,r){const o=n.global.renderCount;!function(t,e,n){const r=n?.ownerSupport,o=r||e;if(n){if(n!==t){const e=n.state;t.subject.global=n.subject.global,t.state.length=0,t.state.push(...e)}return function(t,e){const n=v.tagUse,r=n.length;for(let o=0;o<r;++o)n[o].beforeRedraw(t,e)}(t,n)}z(t,o)}(t,r,e);let s=(0,t.templater.wrapper)(t,n);return L(t,r),n.global.newest=s,!e&&r&&r.subject.global.childTags.push(s),n.global.renderCount>o+1?n.global.newest:s}v.memory.tagClosed$=new f(void 0,(t=>{y()||t.next()}));const G="__tagvar",Y="--"+G+"--",Z=new RegExp(Y,"g");class q{strings;values;tagJsType=t.tag;memory={};templater;constructor(t,e){this.strings=t,this.values=e}key(t){return this.memory.arrayValue=t,this}children;html(t,...e){return this.children={strings:t,values:e},this}}function Q(t){t.subject.global.oldest.destroy(),t.subject.global.context={}}function X(t){return["string","number","boolean"].includes(t)}function tt(t,e){t.destroy({stagger:e.removed++})}function et(e){if(null==e)return t.undefined;const n=typeof e;if(e instanceof Function)return t.function;if("object"===n){if(e instanceof Date)return t.date;if(X(n))return n;const r=e.tagJsType;if(r){if([t.tagComponent,t.templater,t.tag].includes(r))return r}if(u(e))return t.tagArray;if(c(e))return t.subject}return t.unknown}function nt(e){return e.map((e=>{const n=e;switch(et(e)){case t.tagComponent:return $(e.props);case t.tag:case t.templater:return nt(n.values);case t.tagArray:return nt(n)}return $(e)}))}function rt(t,e=[]){for(let n=t.length-1;n>=0;--n){const r=t[n];e.push(r),t.splice(n,1),rt(r.subject.global.childTags,e)}return e}class ot{props;tagJsType="templater";tagged;wrapper;madeChildIntoSubject;tag;children=new d([]);arrayValue;constructor(t){this.props=t}key(t){return this.arrayValue=t,this}html(t,...e){const n=function(t,e){if(c(t))return t;if(u(t))return e.madeChildIntoSubject=!0,new d(t);const n=t;return n?(e.madeChildIntoSubject=!0,n.memory.arrayValue=0,new d([n])):(e.madeChildIntoSubject=!0,new d([]))}(new q(t,e),this);return this.children=n,this}}class st extends d{tagJsType=t.tagJsSubject;global=at();lastRun}function at(){return{destroy$:new f,context:{},providers:[],renderCount:0,subscriptions:[],oldest:void 0,blocked:[],childTags:[],clones:[]}}function lt(t,e){const n=t;let r=n.templater;r||(r=new ot([]),r.tag=n,n.templater=r);const o=new st(r);return o.support=new ce(r,e,o),o.global.oldest=o.support,e.subject.global.childTags.push(o.support),o}function ct(t,e,n){const r=t.split(".");if("style"===r[0]&&(n.style[r[1]]=e),"class"===r[0])if(r.shift(),e)for(let t=0;t<r.length;++t)n.classList.add(r[t]);else for(let t=0;t<r.length;++t)n.classList.remove(r[t])}function ut(t,e){let n=t,r=e;if("object"==typeof t){if(!e)return 3;n=[...t],r=[...e||[]];if(!n.every(((t,e)=>{let o=r[e];if(t&&"object"==typeof t){const e={...t},n={...o||{}},r=Object.entries(e).every((([t,r])=>it(r,n[t],(()=>{delete e[t],delete n[t]}))));return r}return it(t,o,(()=>{n.splice(e,1),r.splice(e,1)}))})))return 6}return!1}function it(t,e,n){if(!(t instanceof Function))return!!D(t,e)&&4;if(!(e instanceof Function))return!1;const r=e?.original;r&&(e=r);t.original&&(t=t.original);return t.toString()===e.toString()?(n(),3):(n(),5)}function pt(t,e,n,{counts:r}){const o=e,s=o.support,a=s?.subject.global.oldest||void 0;if(a&&a)return function(t,e,n){if(e instanceof Function){const t=e(n);return n.updateBy(t),e.support=t,t}return n.updateBy(t),e.support=t,t}(t,o,a);const l=t.buildBeforeElement({counts:r}),c=e.global.placeholder;return c.parentNode.insertBefore(l,c),t}function ft(t,e,n){let r=n.support;r||(r=bt(t,e,n)),n.support=r,r.ownerSupport=e;const o=r.buildBeforeElement({counts:{added:0,removed:0}}),s=n.global.placeholder;return s.parentNode.insertBefore(o,s),r}function gt(t){const e=dt();return e.tag=t,t.templater=e,e}function dt(){const t={children:new d([]),props:[],isTag:!0,tagJsType:"templater",tagged:!1,html:()=>t,key:()=>t};return t}function bt(t,e,n){const r=new ce(t,e,n);return ht(r,e,n),e.subject.global.childTags.push(r),r}function ht(t,e,n){t.subject=n,n.global.oldest=t,n.global.newest=t,t.ownerSupport=e}function mt(t,e,n,r,o){if(!0!==t.tagged){const e=t.wrapper.parentWrap.original;let n=e.name||e.constructor?.name;"Function"===n&&(n=void 0);const r=n||e.toString().substring(0,120);throw new Error(`Not a tag component. Wrap your function with tag(). Example tag(props => html\`\`) on component:\n\n${r}\n\n`)}const s=new ce(t,r,e);let a=e.support;ht(s,r,e);const l=s.subject.global=a?.subject.global||s.subject.global;l.oldest=s,l.insertBefore=n;if(!a){a=function(t,e,n){const r=n.subject.global,o=r.clones.map((t=>t)),s=(e=pe(e,t.support,t,n)).subject.global;if(r.clones.length>o.length){const t=r.clones.filter((t=>!o.find((e=>e===t))));s.clones.push(...t)}return e}(e,a||s,r)}const c=pt(a,e,0,o);return r.subject.global.childTags.push(c),a}function yt(t,e,n){return t.map((t=>function(t,e,n,r){if(o(t)||!t)return t;if(!e)return t;return vt(t,e,n,r)}(t,e.ownerSupport,n,e)))}function vt(t,e,n,r,o,s,a=[]){if(t instanceof Function)return function(t,e,n,r,o,s){const a=t.toCall;if(a)return t;const l=(...t)=>l.toCall(...t);return l.toCall=(...t)=>function(t,e,n){const r=n.subject.global.newest,o=void 0===y(),s=t(...e),a=()=>{if(!1===o){const t=r.state.every((t=>{const e=t.lastValue,n=t.get();return D($(e),n)}));if(t)return s}return de(r,!0),s};if(o)return a();return v.memory.tagClosed$.toCallback(a),s}(l.prop,t,e),l.original=t,l.prop=t,l.stateArray=n,Object.assign(l,t),l}(t,e,n);if(a.includes(t))return t;if(a.push(t),"object"!=typeof t||!t)return t;if(t instanceof Array){for(let o=t.length-1;o>=0;--o){const s=t[o];if(t[o]=vt(s,e,n,r,o,t,a),s instanceof Function){if(s.toCall)continue;wt(o,s,t,r)}}return t}for(const o in t){const s=t[o],l=vt(s,e,n,r,o,t,a),c=Object.getOwnPropertyDescriptor(t,o)?.set;if(!c&&(t[o]=l,l instanceof Function)){if(s.toCall)continue;wt(o,s,t,r)}}return t}function wt(t,e,n,r){e?.toCall||r.subject.global.destroy$.toCallback((()=>n[t]=e))}function jt(t,e,n,r,o=!1){let s=n.global.newest;const a=s.templater.wrapper,l=e.templater.wrapper;let c=!1;if(a&&l){c=a.parentWrap.original===l.parentWrap.original}const u=e.templater;if(!c){Q(n.global.oldest);return mt(u,n,r,t,{counts:{added:0,removed:0}})}{const n=function(t,e,n){const r=ut(n.props,t.propsConfig.latestCloned);if(r)return r;const o=ut(t.propsConfig.latestCloned,e.propsConfig.latestCloned);if(o)return o;const s=function(t,e){const n=t.propsConfig.lastClonedKidValues,r=e.propsConfig.lastClonedKidValues;return!n.every(((t,e)=>{const n=r[e];return t.every(((t,e)=>t===n[e]))}))&&9}(t,e);return s}(s,e,u);if(!n){const n=function(t,e,n,r){const o=e.subject.global.newest;if(!o){const e=n.state;r.length=0;const o=yt(r,t,e);return r.push(...o),t.propsConfig.castProps=o,r}e=o||e;const s=e.propsConfig,a=s.castProps,l=[];for(let e=r.length-1;e>=0;--e){const o=r[e],s=Ct(a[e],o,t,n);l.push(s)}return t.propsConfig.castProps=l,l}(e,s,t,u.props);return e.propsConfig.castProps=n,s.propsConfig.latestCloned=e.propsConfig.latestCloned,s.propsConfig.lastClonedKidValues=e.propsConfig.lastClonedKidValues,s}}const i=n.global.oldest;if(n.global.locked)return n.global.blocked.push(e),e;return function(t,e,n,r,o,s){let a=t.support;if(e&&n.children._value.length){e.templater.children.next(n.children._value)}const l=s&&U(r,o);if(l){const e=t.global.oldest;return t.support=o,e.updateBy(o),o}if(s&&a){r.subject.global.deleted||ie(r),t.global.context={}}return function(t,e){const n=t.buildBeforeElement({counts:{added:0,removed:0}}),r=e.global.placeholder;return r.parentNode.insertBefore(n,r),e.global.oldest=t,e.global.newest=t,e.global.oldest=t,e.global.newest=t,e.support=t,t.ownerSupport.subject.global.childTags.push(t),t}(o,t)}(n,i,u,n.global.newest,de(e,o),c)}function Ct(t,e,n,r,o=[]){if(t instanceof Function){if(e.toCall)return t.toCall=e.toCall,e;const n=r.subject.global.newest.state;return t.prop=e,t.stateArray=n,t}if(o.includes(e))return e;if(o.push(e),"object"!=typeof e||!e)return e;if(e instanceof Array){for(let s=e.length-1;s>=0;--s){const a=e[s];e[s]=Ct(t[s],a,n,r,o)}return e}if(void 0===t)return e;for(const s in e){const a=e[s],l=Ct(t[s],a,n,r,o),c=Object.getOwnPropertyDescriptor(e,s)?.set;c||(e[s]=l)}return e}const St=!0;function kt(t,e,n,r){const o=At(e),s=t.bind(n);o.subject.global.locked=St;return function(t,e){if(delete t.subject.global.locked,t.subject.global.blocked.length){let n;return t.subject.global.blocked.forEach((e=>{const r=e;n=jt(r.ownerSupport,r,r.subject,r.subject.global.insertBefore,!0),t.subject.global.newest=n,t.subject.global.blocked.splice(0,1)})),t.subject.global.blocked.length=0,Tt(e,n,n.subject.global)}const n=function(t,e,n){if(n.deleted)return"no-data-ever";return de(t,!0),Tt(e,t,n)}(t.subject.global.newest,e,t.subject.global);return n}(o,s(...r))}function At(e){if(e.templater.tagJsType===t.templater){return At(e.ownerSupport)}return e}function Tt(t,e,n){return t instanceof Promise?(e.subject.global.locked=St,t.then((()=>(delete e.subject.global.locked,n.deleted||(delete e.subject.global.locked,de(n.newest,!0)),"promise-no-data-ever")))):"no-data-ever"}const xt=/^\s*{__tagvar/,Rt=/}\s*$/;function Et(t){return t&&t.search(xt)>=0&&t.search(Rt)>=0}function Vt(t,e,n,r,o,s){if(Et(e))return function(t,e,n,r,o,s){const a=Pt(r,e);return Ft(t,a,n,o,s)}(t,e,n,r,o,s);if(Et(t)){let e;const a=Pt(r,t).subscribe((t=>{t!==e&&(!function(t,e,n,r,o){if(e&&e!=t)if("string"==typeof e)n.removeAttribute(e);else if(e instanceof Object)for(const t in e)n.removeAttribute(t);if("string"==typeof t){if(!t.length)return;return void Ft(t,"",n,r,o)}if(t instanceof Object)for(const e in t)Ft(e,t[e],n,r,o)}(t,e,n,o,s),e=t)}));return o.subject.global.subscriptions.push(a),void n.removeAttribute(t)}return Bt(t)?ct(t,e,n):void 0}function Pt(t,e){return t[e.replace("{","").split("").reverse().join("").replace("}","").split("").reverse().join("")]}function Ft(t,e,n,r,o){const s=Bt(t);if(e instanceof Function){const r=function(...t){return e(n,t)};n[t].action=r}if(c(e)){let a;n.removeAttribute(t);const l=e=>e instanceof Function?function(t,e,n,r,o,s){const a=t.templater.wrapper,l=a?.parentWrap,c=l?.oneRender;c||(e=function(t,e){if(t.isChildOverride)return t;v.memory.stateConfig;const n=(n,r)=>kt(t,e,n,r);return n.tagFunction=t,n}(e,t));return Ot(e,n,r,o,s)}(r,e,n,t,s,o):a===e?a:(a=e,Ot(e,n,t,s,o)),c=e.subscribe(l);r.subject.global.subscriptions.push(c)}else o(n,t,e)}function Ot(t,e,n,r,o){if(t instanceof Function){const r=function(...n){return t(e,n)};return r.tagFunction=t,"ondoubleclick"===n&&(n="ondblclick"),void(e[n]=r)}if(r)return void ct(n,t,e);if(t)return void o(e,n,t);[void 0,!1,null].includes(t)?e.removeAttribute(n):o(e,n,t)}function Bt(t){return t.search(/^(class|style)(\.)/)>=0}function _t(t,e,n){t.setAttribute(e,n)}function Nt(t,e,n){t[e]=n}function $t(t,e,n){const r=t.getAttributeNames();let o=_t;for(let s=0;s<r.length;++s){const a=r[s];"INPUT"===t.nodeName&&"value"===a&&(o=Nt);Vt(a,t.getAttribute(a),t,e,n,o),o=_t}}const Wt=/(?:<[^>]*?(?:(?:\s+\w+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^>\s]+)))*\s*)\/?>)|({__tagvar[^}]+})/g;const Dt=new RegExp('\\s*<template interpolate end id="__tagvar(\\d{1,4})"([^>]*)></template>(\\s*)');function Jt(t,e,n,r,o){const s=r.subject.global.clones;let a=t.lastArray=t.lastArray||{array:[]};t.global.placeholder||function(t,e){const n=e.global.placeholder=document.createTextNode(""),r=t.parentNode;r.insertBefore(n,t),r.removeChild(t)}(n,t);const c=t.global.placeholder;let u=0;a.array=a.array.filter(((t,n)=>{if(e.length-1<n-u)return It(a.array,n,o),++u,!1;const r=e[n-u],s=l(r);let c,i=r,p=r.templater;s?c=i.memory.arrayValue:(p=r,i=p.tag,c=p.arrayValue);const f=!function(t,e){if(t===e)return!0;if(t instanceof Array&&e instanceof Array&&t.length==e.length)return t.every(((t,n)=>t===e[n]));return!1}(c,t.support.templater.tag.memory.arrayValue);return!f||(It(a.array,n,o),++u,!1)}));const i=e.length;for(let t=0;t<i;++t){const n=e[t],s=a.array[t],u=s?.support,i=n,p=l(i),f=new st(void 0);let g,d=i.templater;if(p?(d||(d=gt(i)),g=new ce(d,r,f)):(d=i,g=Ut(d,r,f)),u){const t=u.subject,e=t.global;ht(g,r,t),g.subject.global=e,e.newest=g}else ht(g,r,f);if(!("arrayValue"in(d.tag||i).memory)){const t={template:g.getTemplate().string,array:e},n="Use html`...`.key(item) instead of html`...` to template an Array";console.error(n,t);throw new j(n,t)}if(a.array.length>t){s.support.subject.global.oldest.updateBy(g)}else Mt(c,g,t,o,a.array),a.lastRun=g.subject.lastRun,r.subject.global.childTags.push(g)}return s}function Mt(t,e,n,r,o){const s={support:e,index:n};o.push(s);const a={added:r.counts.added+n,removed:r.counts.removed};e.subject.global.placeholder=t;const l=e.buildBeforeElement({counts:a}),c=t;c.parentNode.insertBefore(l,c)}function Ut(t,e,n){const r=bt(t,e,n);return K(r,r,n,e),r}function It(t,e,n){const r=t[e];tt(r.support,n.counts),r.deleted=!0,++n.counts.removed}function zt(t,e){const n=e.parentNode,r=document.createTextNode(t);return n.insertBefore(r,e),n.removeChild(e),r}function Lt(t){return[void 0,!1,null].includes(t)?"":t}function Ht(t,e,n){e.global.insertBefore=n;const r=e.global.placeholder||n;if(e.lastValue===t&&"lastValue"in e)return;e.lastValue=t;const o=Lt(t),s=e.global.placeholder;if(s)return void(s.textContent=o);const a=zt(o,r);e.global.placeholder=a}function Kt(t,e,n){const r=new ot([]);r.tagJsType="oneRender";const o=bt(r,n,e);const s=()=>(r.tag=t(),o);return r.wrapper=s,s.parentWrap=s,s.oneRender=!0,s.parentWrap.original=t,o}function Gt(e,n,r,o,s){switch(et(e)){case t.templater:return void ft(e,o,n);case t.tag:const a=e;let l=a.templater;return l||(l=gt(a)),void ft(l,o,n);case t.tagArray:return Jt(n,e,r,o,s);case t.tagComponent:return mt(e,n,r,o,s);case t.function:const c=e;if(c.oneRender){const t=Kt(c,n,o);return K(t,t,n,o),void ft(t.templater,o,n)}}!function(t,e,n){e.lastValue=t;const r=zt(Lt(t),n);e.global.placeholder=r}(e,n,n.global.placeholder||r)}function Yt(t){const e=document.createTextNode(""),n=t.parentNode;return n.insertBefore(e,t),n.removeChild(t),e}function Zt(e,n,r,a){const c=et(n);if(function(e,n,r,s){const a=e,l="lastValue"in a,c=a.lastValue;if(l&&c!==n){const t=typeof n;return(!X(t)||typeof c!==t)&&!(n instanceof Function&&c instanceof Function)&&(function(t){delete t.lastValue}(a),"changed-simple-value")}const u=e,i=u.lastArray;if(i&&s!==t.tagArray){delete u.lastArray;for(let t=i.array.length-1;t>=0;--t){const{support:e}=i.array[t];tt(e,{added:0,removed:0})}return"array"}const p=e.support;if(p){const r=o(n);return o(e._value)&&r?!U(n,p)&&(Q(p),2):s!==t.tagComponent&&(!n||!n.oneRender)&&(Q(p),"different-tag")}}(e,n,0,c),c===t.tagComponent)return function(t,e,n,r){if(!e.support)return mt(t,e,n,r,{counts:{added:0,removed:0}}),e;const o=new ce(t,r,e),s=e.support,a=s.subject.global.newest;if(!a)return mt(t,e,n,r,{counts:{added:0,removed:0}}),e;{const t=a.state;o.state.length=0,o.state.push(...t)}return e.global=s.subject.global,e.support=o,jt(r,o,e,n),e}(n,e,a,r);if(e.support)return c===t.function||function(t,e,n){const r=t.support;let o=e;const a=l(e);if(a){const t=e;o=t.templater,o||(o=new ot([]),o.tag=t,t.templater=o)}const c=new ce(o,n,t),u=e&&U(r,c);s(e)&&ht(c,n,t);if(u)return void r.updateBy(c);if(u)return ft(o,n,t);Ht(e,t,t.global.insertBefore)}(e,n,r),e;switch(c){case t.tagArray:return Jt(e,n,a,r,{counts:{added:0,removed:0}}),e;case t.templater:return ft(n,r,e),e;case t.tag:const o=n;let s=o.templater;return s||(s=dt(),o.templater=s,s.tag=o),ft(s,r,e),e;case t.subject:return n;case t.function:return e.global.placeholder||(e.global.placeholder=Yt(a)),e}return Ht(n,e,a),e}function qt(t,e,n,r){let o=!1;e.global.placeholder||(e.global.placeholder=Yt(t));let s=s=>{if(o)return void Zt(e,s,n,t);Gt(s,e,t,n,{counts:{...r}}),o=!0};const a=e.subscribe((t=>s(t)));n.subject.global.subscriptions.push(a)}function Qt(t,e,n,r){if(!t.hasAttribute("end"))return;const o=e[t.getAttribute("id")];o.global.insertBefore=t,qt(t,o,n,r)}function Xt(t,e,n,r){if(!t.getAttribute)return;"TEXTAREA"===t.nodeName&&function(t,e,n){const r=t.value;if(r.search(Dt)>=0){const o=r.match(/__tagvar(\d{1,4})/),s="{"+(o?o[0]:"")+"}";t.value="",t.setAttribute("text-var-value",s);const a=(e,n,r)=>t.value=r;Vt("text-var-value",s,t,e,n,a)}}(t,n,r);let o=e.counts.added;o=function(t,e){const n=t.oninit;if(!n)return e.added;const r=n.tagFunction;if(!r)return e.added;const o=r.tagFunction;return o?(o({target:t,stagger:e.added}),++e.added):e.added}(t,e.counts)-o;t.focus&&(t.hasAttribute("autofocus")&&t.focus(),t.hasAttribute("autoselect")&&t.select());const s=t.children;if(s)for(let t=s.length-1;t>=0;--t){Xt(s[t],{...e,counts:e.counts},n,r)}}function te(t,e,n,r){const o=n.counts,s=[];for(let a=r.length-1;a>=0;--a){const l=r[a];if(Qt(l,t,e,o),l.children)for(let r=l.children.length-1;r>=0;--r){const a=l.children[r];ee(a)&&Qt(a,t,e,o);const c=te(t,e,n,a.children);s.push(...c)}}return s}function ee(t){return"TEMPLATE"===t.tagName&&void 0!==t.getAttribute("interpolate")&&void 0!==t.getAttribute("end")}function ne(t,e,n,r,o){const s=[],a=n.interpolation,l=t.content.children;if(a.keys.length){const t=te(e,r,o,l);s.push(...t)}return $t(t,e,r),re(l,e,r),s}function re(t,e,n){for(let r=t.length-1;r>=0;--r){const o=t[r];$t(o,e,n),o.children&&re(o.children,e,n)}}function oe(t){const e=function(t){const e=[];return{string:t.replace(Wt,((t,n)=>{if(t.startsWith("<"))return t;const r=n.substring(1,n.length-1);return e.push(r),`<template interpolate end id="${r}"></template>`})),keys:e}}(t);return e.string=e.string.replace(Z,G),e}function se(t,e,n,r,o){const s=function(t,e){const n=[];let r=e.content.firstChild;for(;r;){const e=r.nextSibling;t.appendChild(r),n.push(r),r=e}return n}(t,e);if(!s.length)return s;const a=n.subject.global;for(let t=s.length-1;t>=0;--t){Xt(s[t],o,r,n)}return a.clones.push(...s),s}const ae=new RegExp(G,"g");class le{templater;subject;isApp=!0;appElement;strings;values;propsConfig;state=[];hasLiveElements=!1;constructor(t,e,n){this.templater=t,this.subject=e;const r=t.props;this.propsConfig=this.clonePropsBy(r,n)}clonePropsBy(t,e){const n=this.templater.children.value,r=t.map((t=>$(t)));return this.propsConfig={latest:t,latestCloned:r,castProps:e,lastClonedKidValues:n.map((t=>nt(t.values)))}}buildBeforeElement(t={counts:{added:0,removed:0}}){const e=this.subject,n=this.subject.global;n.oldest=this,n.newest=this,e.support=this,this.hasLiveElements=!0;const r=this.update(),o=this.getTemplate(),s=document.createDocumentFragment(),a=document.createElement("template");a.innerHTML=o.string;const l=ne(a,r,o,this,{counts:t.counts});se(s,a,this,r,t);const c=l.length;for(let e=0;e<c;++e){const n=l[e];qt(n.insertBefore,n.subject,n.ownerSupport,t.counts),se(s,a,n.ownerSupport,r,t)}return s}getTemplate(){const t=this.templater.tag,e=this.strings||t.strings,n=this.values||t.values,r=this.subject.lastRun;if(r&&r.strings.length===e.length){const t=r.strings.every(((t,n)=>t===e[n]));if(t&&r.values.length===n.length)return r}const o=oe(e.map(((t,e)=>t.replace(ae,Y)+(n.length>e?`{${G}${e}}`:""))).join("")),s={interpolation:o,string:o.string,strings:e,values:n};return this.subject.lastRun=s,s}update(){return this.updateContext(this.subject.global.context)}updateContext(e){const n=this.templater.tag,r=this.strings||n.strings,o=this.values||n.values;return r.forEach(((n,r)=>{if(!(o.length>r))return;const s=G+r,a=o[r];if(s in e){if(this.subject.global.deleted){const t=a&&a.support;if(t)return t.destroy(),e}return function(t,e,n){const r=t[e];c(n)||r.next(n)}(e,s,a)}e[s]=function(e,n){switch(et(e)){case t.tagComponent:return new st(e);case t.templater:return lt(e.tag,n);case t.tag:return lt(e,n);case t.subject:return e.global=at(),e}return new st(e)}(a,this)})),e}updateBy(t){const e=t.templater.tag;this.updateConfig(e.strings,e.values)}updateConfig(t,e){this.strings=t,this.updateValues(e)}updateValues(t){return this.values=t,this.updateContext(this.subject.global.context)}destroy(t={stagger:0}){const e=this.subject.global,n=t.byParent?[]:rt(this.subject.global.childTags);a(this.templater)&&(e.destroy$.next(),H(this,this)),this.destroySubscriptions();for(let t=n.length-1;t>=0;--t){const e=n[t],r=e.subject.global;delete r.newest,r.deleted=!0,a(e.templater)&&H(e,e),e.destroySubscriptions(),ue(this)}let r;ue(this);const{stagger:o,promise:s}=this.destroyClones(t);return t.stagger=o,s&&(r=s),r?r.then((async()=>{const t=n.map((t=>t.destroyClones()));return Promise.all(t)})).then((()=>t.stagger)):(n.forEach((t=>t.destroyClones())),t.stagger)}destroyClones({stagger:t}={stagger:0}){const e=this.subject.global.clones.map((e=>this.checkCloneRemoval(e,t))).filter((t=>t));return this.subject.global.clones.length=0,e.length?{promise:Promise.all(e),stagger:t}:{stagger:t}}checkCloneRemoval(t,e){let n;const r=t;if(r.ondestroy&&(n=function(t,e){const n=t.ondestroy;if(!n)return;const r=n.tagFunction;if(!r)return;const o=r.tagFunction;if(!o)return;return o({target:t,stagger:e})}(r,e)),n instanceof Promise)return n.then((()=>{const e=t.parentNode;e&&e.removeChild(t)}));const o=t.parentNode;return o&&o.removeChild(t),n}destroySubscriptions(){const t=this.subject.global.subscriptions;for(let e=t.length-1;e>=0;--e)t[e].unsubscribe();t.length=0}}class ce extends le{templater;ownerSupport;subject;version;isApp=!1;constructor(t,e,n,r,o=0){super(t,n,r),this.templater=t,this.ownerSupport=e,this.subject=n,this.version=o}getAppSupport(){let t=this;for(;t.ownerSupport;)t=t.ownerSupport;return t}}function ue(t){const e=t.subject.global;e.context={},delete e.oldest,delete e.newest,t.subject.global.childTags.length=0;delete t.subject.support}function ie(t,e={byParent:!1,stagger:0}){const n=t.subject.global;n.deleted=!0,n.context={};const r=rt(n.childTags);t.destroySubscriptions(),r.forEach((t=>{const e=t.subject.global;delete e.newest,e.deleted=!0})),ue(t),t.destroyClones(),r.forEach((t=>ie(t,{byParent:!0,stagger:0})))}function pe(t,e,n,r){const o=e?.templater,s=o?.tag?.strings,a=K(t,e,n,r);if(!e||U(e,a)){if(e){const t=s?.length,n=a.templater.tag?.strings.length;t!==n&&ie(e)}}else!function(t,e,n){const r=e.subject.global;!function(t,e){const n=t.subject.global;n.providers.forEach((t=>{t.children.forEach(((r,o)=>{if(n.destroy$===r.subject.global.destroy$)return t.children.splice(o,1),void t.children.push(e)}))}))}(t,e),ie(t),delete r.deleted,r.oldest=e,r.newest=e,n.support=e}(e,a,n);const l=e?.ownerSupport;return a.ownerSupport=r||l,a}function fe(t,e){let n=!1;const r=function(t,e,n=[]){n.push({support:t,renderCount:t.subject.global.renderCount,provider:e});const r=e.children;for(let t=r.length-1;t>=0;--t)n.push({support:r[t],renderCount:r[t].subject.global.renderCount,provider:e});return n}(t,e);for(let t=r.length-1;t>=0;--t){const{support:e,renderCount:o,provider:s}=r[t];if(e.subject.global.deleted)continue;o===e.subject.global.renderCount&&(n=!0,s.clone=$(s.instance),de(e.subject.global.newest,!1))}return n}function ge(t,e,n,r){const o=r.support,s=o.subject.global;e.subject.global=s;const a=s.renderCount;!function(t){const e=t.subject.global.providers.filter((t=>!D(t.instance,t.clone)));let n=!1;for(let t=e.length-1;t>=0;--t){const r=e[t];fe(r.owner,r)&&(n=!0),r.clone=$(r.instance)}}(t);const l=s.newest;if(a!==s.renderCount)return t.subject.global.oldest.updateBy(l),l;const c=pe(e,l||o||s.oldest,r,n),u=s.oldest||t;return U(l,c)&&(r.support=c,u.updateBy(c)),c}function de(t,e){const n=t.subject.global,r=t.templater;if(!r.wrapper){const e=t.ownerSupport;return++n.renderCount,e.subject.global.deleted?t:de(e.subject.global.newest,!0)}if(t.subject.global.locked)return t.subject.global.blocked.push(t),t;const o=t.subject,s=t.subject.global.oldest;let a,l=!1;if(e&&t&&(a=t.ownerSupport,a)){l=!D(r.props,t.propsConfig.latestCloned)}const c=ge(s,t,a,o);if(a&&l){return de(a.subject.global.newest,!0),c}return c}function be(t,e,n,...r){const o=t.state;x(o,n);const s=e(...r);return x(n,o),de(t,!1),s instanceof Promise&&s.finally((()=>{x(n,o),de(t,!1)})),s}let he=t=>(t,e,n,r,o,s)=>{throw new S("Callback function was called immediately in sync and must instead be call async")};const me=()=>he,ye=he;function ve(t){const e=y();if(!e){throw new S("callback() was called outside of synchronous rendering. Use `callback = callbackMaker()` to create a callback that could be called out of sync with rendering")}const n=v.memory.stateConfig.array;return(...r)=>e.subject.global.callbackMaker?be(e,t,n,...r):t(...r)}function we(t){const e=v.memory.stateConfig.array;he=n=>(...r)=>t.subject.global.callbackMaker?be(t,n,e,...r):n(...r)}function je(t){R(t)}function Ce(t){R((()=>{const e=y();e?.subject.global.destroy$.toCallback(t)}))}function Se(t){v.memory.childrenCurrentSupport=t}function ke(){return v.memory.childrenCurrentSupport.templater.children}v({beforeRender:t=>we(t),beforeRedraw:t=>we(t),afterRender:t=>{t.subject.global.callbackMaker=!0,he=ye}}),v({beforeRender:t=>Se(t),beforeRedraw:t=>Se(t)});const Ae=[];function Te(t,...e){return new q(t,e)}function xe(e,n){const r=v.memory.stateConfig.array;return(o,s)=>function(e,n,r,o,s){const a=o.subject.global;++a.renderCount;const l=n.children,c=a.oldest?.templater.children.lastArray;c&&(l.lastArray=c);const u=r.original;let i=n.props;const p=o.propsConfig.castProps,f=p||yt(i,o,e);let g=u(...f);g instanceof Function&&(g=g());g&&g.tagJsType===t.tag||(g=Te`${g}`);g.templater=n,n.tag=g,g.memory.arrayValue=n.arrayValue;const d=new ce(n,o.ownerSupport,s,f,a.renderCount);d.subject.global=a,a.oldest=a.oldest||d;const b=v.memory.stateConfig.array;if(d.state.push(...b),n.madeChildIntoSubject){const t=l.value;for(let e=t.length-1;e>=0;--e){const n=t[e],r=n.values;for(let t=r.length-1;t>=0;--t){const e=r[t];if(!(e instanceof Function))continue;const o=n.values[t];o.isChildOverride||(n.values[t]=function(...t){return kt(e,d.ownerSupport,this,t)},o.isChildOverride=!0)}}}return d}(r,e,n,o,s)}let Re=0;function Ee(e){const n=function(...e){const r=new ot(e);r.tagJsType=t.tagComponent;const o=xe(r,n);return o.parentWrap||(o.parentWrap=n),r.tagged=!0,r.wrapper=o,r};n.original=e,n.compareTo=e.toString();const r=e;return n.isTag=!0,n.original=r,r.tags=Ae,r.setUse=v,r.tagIndex=Re++,Ae.push(n),n}Ee.oneRender=(...t)=>{throw new Error("Do not call function tag.oneRender but instead set it as: `(props) => tag.oneRender = (state) => html`` `")},Ee.route=t=>{throw new Error("Do not call function tag.route but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `")},Ee.app=t=>{throw new Error("Do not call function tag.route but instead set it as: `tag.route = (routeProps: RouteProps) => (state) => html`` `")},Object.defineProperty(Ee,"oneRender",{set(t){t.oneRender=!0}});const Ve=[];function Pe(t,e,n){const r=Ve.findIndex((t=>t.element===e));r>=0&&(Ve[r].support.destroy(),Ve.splice(r,1),console.warn("Found and destroyed app element already rendered to element",{element:e}));const o=t(n),s=document.createElement("template"),a=document.createTextNode(""),l=function(t,e,n){let r={};const o=new st(r);r=new le(t,o),o.global.insertBefore=e,o.global.placeholder=n,o.global.oldest=o.global.oldest||r,o.next(t),o.support=r,z(r,void 0);const s=t.wrapper,a=s(r,o);return L(r,a),a}(o,s,a),c=l.subject.global;l.appElement=e,l.isApp=!0,c.isApp=!0,e.destroy=()=>{l.destroy()},c.insertBefore=a,c.placeholder=a;const u=l.buildBeforeElement();return l.subject.global.oldest=l,l.subject.global.newest=l,e.setUse=t.original.setUse,Ve.push({element:e,support:l}),e.appendChild(u),{support:l,tags:t.original.tags}}const Fe={tagElement:Pe,renderWithSupport:pe,renderSupport:de,renderTagOnly:K};var Oe=n.W9,Be=n.jo,_e=n.Y2,Ne=n.ei,$e=n.B7,We=n.EF,De=n.XF,Je=n.vw,Me=n.PC,Ue=n.O9,Ie=n.Ot,ze=n.tD,Le=n.E2,He=n.OH,Ke=n.Y_,Ge=n.zV,Ye=n.WJ,Ze=n.AZ,qe=n.cF,Qe=n.qy,Xe=n.u2,tn=n.zl,en=n.O5,nn=n.Ze,rn=n._4,on=n.iO,sn=n.dk,an=n.mn,ln=n.NM,cn=n.z,un=n.bc,pn=n.sA,fn=n.MG,gn=n.PL,dn=n.r5,bn=n.uc,hn=n.pG,mn=n.QB,yn=n.Vz,vn=n.vJ,wn=n.AI,jn=n.wk,Cn=n.uz,Sn=n.Tc,kn=n.Hf,An=n._A,Tn=n.NU,xn=n.wB,Rn=n.id,En=n.MC,Vn=n.zC;export{Oe as ArrayNoKeyError,Be as BaseSupport,_e as RouteQuery,Ne as StateMismatchError,$e as Subject,We as Support,De as SyncCallbackError,Je as Tag,Me as TagError,Ue as TemplaterResult,Ie as ValueSubject,ze as ValueTypes,Le as callback,He as callbackMaker,Ke as children,Ge as combineLatest,Ye as defineValueOn,Ze as getValueType,qe as hmr,Qe as html,Xe as interpolateElement,tn as interpolateString,en as isLikeValueSets,nn as isStaticTag,rn as isSubjectInstance,on as isTagArray,sn as isTagClass,an as isTagComponent,ln as isTagTemplater,cn as letProp,un as letState,pn as onDestroy,fn as onInit,gn as oneRenderToSupport,dn as providers,bn as renderSupport,hn as renderTagOnly,mn as renderWithSupport,yn as resetSupport,vn as runBeforeRender,wn as setUse,jn as state,Cn as subject,Sn as tag,kn as tagElement,An as tags,Tn as variablePrefix,xn as watch,Rn as willCallback,En as willPromise,Vn as willSubscribe};
//# sourceMappingURL=bundle.js.map